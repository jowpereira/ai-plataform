function VA(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function xx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rp={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function FA(){if(Rw)return Vl;Rw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:e,type:a,key:u,ref:i!==void 0?i:null,props:l}}return Vl.Fragment=t,Vl.jsx=r,Vl.jsxs=r,Vl}var Mw;function qA(){return Mw||(Mw=1,Rp.exports=FA()),Rp.exports}var s=qA(),Mp={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function YA(){if(Tw)return Ze;Tw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(T,U,Z){this.props=T,this.context=U,this.refs=N,this.updater=Z||b}S.prototype.isReactComponent={},S.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function _(){}_.prototype=S.prototype;function C(T,U,Z){this.props=T,this.context=U,this.refs=N,this.updater=Z||b}var E=C.prototype=new _;E.constructor=C,j(E,S.prototype),E.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function D(T,U,Z,K,ne,fe){return Z=fe.ref,{$$typeof:e,type:T,key:U,ref:Z!==void 0?Z:null,props:fe}}function z(T,U){return D(T.type,U,void 0,void 0,void 0,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function H(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return U[Z]})}var X=/\/+/g;function G(T,U){return typeof T=="object"&&T!==null&&T.key!=null?H(""+T.key):U.toString(36)}function ee(){}function P(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ee,ee):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function F(T,U,Z,K,ne){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(fe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case e:case t:ue=!0;break;case p:return ue=T._init,F(ue(T._payload),U,Z,K,ne)}}if(ue)return ne=ne(T),ue=K===""?"."+G(T,0):K,k(ne)?(Z="",ue!=null&&(Z=ue.replace(X,"$&/")+"/"),F(ne,U,Z,"",function(de){return de})):ne!=null&&(B(ne)&&(ne=z(ne,Z+(ne.key==null||T&&T.key===ne.key?"":(""+ne.key).replace(X,"$&/")+"/")+ue)),U.push(ne)),1;ue=0;var q=K===""?".":K+":";if(k(T))for(var Q=0;Q<T.length;Q++)K=T[Q],fe=q+G(K,Q),ue+=F(K,U,Z,fe,ne);else if(Q=y(T),typeof Q=="function")for(T=Q.call(T),Q=0;!(K=T.next()).done;)K=K.value,fe=q+G(K,Q++),ue+=F(K,U,Z,fe,ne);else if(fe==="object"){if(typeof T.then=="function")return F(P(T),U,Z,K,ne);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ue}function A(T,U,Z){if(T==null)return T;var K=[],ne=0;return F(T,K,"","",function(fe){return U.call(Z,fe,ne++)}),K}function L(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var $=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function V(){}return Ze.Children={map:A,forEach:function(T,U,Z){A(T,function(){U.apply(this,arguments)},Z)},count:function(T){var U=0;return A(T,function(){U++}),U},toArray:function(T){return A(T,function(U){return U})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ze.Component=S,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=C,Ze.StrictMode=a,Ze.Suspense=m,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return M.H.useMemoCache(T)}},Ze.cache=function(T){return function(){return T.apply(null,arguments)}},Ze.cloneElement=function(T,U,Z){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var K=j({},T.props),ne=T.key,fe=void 0;if(U!=null)for(ue in U.ref!==void 0&&(fe=void 0),U.key!==void 0&&(ne=""+U.key),U)!O.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(K[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)K.children=Z;else if(1<ue){for(var q=Array(ue),Q=0;Q<ue;Q++)q[Q]=arguments[Q+2];K.children=q}return D(T.type,ne,void 0,void 0,fe,K)},Ze.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},Ze.createElement=function(T,U,Z){var K,ne={},fe=null;if(U!=null)for(K in U.key!==void 0&&(fe=""+U.key),U)O.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ne[K]=U[K]);var ue=arguments.length-2;if(ue===1)ne.children=Z;else if(1<ue){for(var q=Array(ue),Q=0;Q<ue;Q++)q[Q]=arguments[Q+2];ne.children=q}if(T&&T.defaultProps)for(K in ue=T.defaultProps,ue)ne[K]===void 0&&(ne[K]=ue[K]);return D(T,fe,void 0,void 0,null,ne)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(T){return{$$typeof:d,render:T}},Ze.isValidElement=B,Ze.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:L}},Ze.memo=function(T,U){return{$$typeof:h,type:T,compare:U===void 0?null:U}},Ze.startTransition=function(T){var U=M.T,Z={};M.T=Z;try{var K=T(),ne=M.S;ne!==null&&ne(Z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(V,$)}catch(fe){$(fe)}finally{M.T=U}},Ze.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ze.use=function(T){return M.H.use(T)},Ze.useActionState=function(T,U,Z){return M.H.useActionState(T,U,Z)},Ze.useCallback=function(T,U){return M.H.useCallback(T,U)},Ze.useContext=function(T){return M.H.useContext(T)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(T,U){return M.H.useDeferredValue(T,U)},Ze.useEffect=function(T,U,Z){var K=M.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(T,U)},Ze.useId=function(){return M.H.useId()},Ze.useImperativeHandle=function(T,U,Z){return M.H.useImperativeHandle(T,U,Z)},Ze.useInsertionEffect=function(T,U){return M.H.useInsertionEffect(T,U)},Ze.useLayoutEffect=function(T,U){return M.H.useLayoutEffect(T,U)},Ze.useMemo=function(T,U){return M.H.useMemo(T,U)},Ze.useOptimistic=function(T,U){return M.H.useOptimistic(T,U)},Ze.useReducer=function(T,U,Z){return M.H.useReducer(T,U,Z)},Ze.useRef=function(T){return M.H.useRef(T)},Ze.useState=function(T){return M.H.useState(T)},Ze.useSyncExternalStore=function(T,U,Z){return M.H.useSyncExternalStore(T,U,Z)},Ze.useTransition=function(){return M.H.useTransition()},Ze.version="19.1.1",Ze}var Dw;function kc(){return Dw||(Dw=1,Mp.exports=YA()),Mp.exports}var x=kc();const Et=xx(x),uj=VA({__proto__:null,default:Et},[x]);var Tp={exports:{}},Fl={},Dp={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function GA(){return Ow||(Ow=1,(function(e){function t(A,L){var $=A.length;A.push(L);e:for(;0<$;){var V=$-1>>>1,T=A[V];if(0<i(T,L))A[V]=L,A[$]=T,$=V;else break e}}function r(A){return A.length===0?null:A[0]}function a(A){if(A.length===0)return null;var L=A[0],$=A.pop();if($!==L){A[0]=$;e:for(var V=0,T=A.length,U=T>>>1;V<U;){var Z=2*(V+1)-1,K=A[Z],ne=Z+1,fe=A[ne];if(0>i(K,$))ne<T&&0>i(fe,K)?(A[V]=fe,A[ne]=$,V=ne):(A[V]=K,A[Z]=$,V=Z);else if(ne<T&&0>i(fe,$))A[V]=fe,A[ne]=$,V=ne;else break e}}return L}function i(A,L){var $=A.sortIndex-L.sortIndex;return $!==0?$:A.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var m=[],h=[],p=1,v=null,y=3,b=!1,j=!1,N=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(A){for(var L=r(h);L!==null;){if(L.callback===null)a(h);else if(L.startTime<=A)a(h),L.sortIndex=L.expirationTime,t(m,L);else break;L=r(h)}}function M(A){if(N=!1,k(A),!j)if(r(m)!==null)j=!0,O||(O=!0,G());else{var L=r(h);L!==null&&F(M,L.startTime-A)}}var O=!1,D=-1,z=5,B=-1;function H(){return S?!0:!(e.unstable_now()-B<z)}function X(){if(S=!1,O){var A=e.unstable_now();B=A;var L=!0;try{e:{j=!1,N&&(N=!1,C(D),D=-1),b=!0;var $=y;try{t:{for(k(A),v=r(m);v!==null&&!(v.expirationTime>A&&H());){var V=v.callback;if(typeof V=="function"){v.callback=null,y=v.priorityLevel;var T=V(v.expirationTime<=A);if(A=e.unstable_now(),typeof T=="function"){v.callback=T,k(A),L=!0;break t}v===r(m)&&a(m),k(A)}else a(m);v=r(m)}if(v!==null)L=!0;else{var U=r(h);U!==null&&F(M,U.startTime-A),L=!1}}break e}finally{v=null,y=$,b=!1}L=void 0}}finally{L?G():O=!1}}}var G;if(typeof E=="function")G=function(){E(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,P=ee.port2;ee.port1.onmessage=X,G=function(){P.postMessage(null)}}else G=function(){_(X,0)};function F(A,L){D=_(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var $=y;y=L;try{return A()}finally{y=$}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=y;y=A;try{return L()}finally{y=$}},e.unstable_scheduleCallback=function(A,L,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,A){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,A={id:p++,callback:L,priorityLevel:A,startTime:$,expirationTime:T,sortIndex:-1},$>V?(A.sortIndex=$,t(h,A),r(m)===null&&A===r(h)&&(N?(C(D),D=-1):N=!0,F(M,$-V))):(A.sortIndex=T,t(m,A),j||b||(j=!0,O||(O=!0,G()))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var L=y;return function(){var $=y;y=L;try{return A.apply(this,arguments)}finally{y=$}}}})(Op)),Op}var zw;function XA(){return zw||(zw=1,Dp.exports=GA()),Dp.exports}var zp={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function WA(){if(Iw)return _n;Iw=1;var e=kc();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(m,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:m,containerInfo:h,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(m,h,null,p)},_n.flushSync=function(m){var h=u.T,p=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=h,a.p=p,a.d.f()}},_n.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},_n.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},_n.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:b}):p==="script"&&a.d.X(m,{crossOrigin:v,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_n.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},_n.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin);a.d.L(m,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_n.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=d(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},_n.requestFormReset=function(m){a.d.r(m)},_n.unstable_batchedUpdates=function(m,h){return m(h)},_n.useFormState=function(m,h,p){return u.H.useFormState(m,h,p)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var Lw;function dj(){if(Lw)return zp.exports;Lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zp.exports=WA(),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function ZA(){if(Pw)return Fl;Pw=1;var e=XA(),t=kc(),r=dj();function a(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,c=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(c=o.return),n=o.return;while(n)}return o.tag===3?c:null}function u(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(a(188))}function m(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(a(188));return o!==n?null:n}for(var c=n,f=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return d(g),n;if(w===f)return d(g),o;w=w.sibling}throw Error(a(188))}if(c.return!==f.return)c=g,f=w;else{for(var R=!1,I=g.child;I;){if(I===c){R=!0,c=g,f=w;break}if(I===f){R=!0,f=g,c=w;break}I=I.sibling}if(!R){for(I=w.child;I;){if(I===c){R=!0,c=w,f=g;break}if(I===f){R=!0,f=w,c=g;break}I=I.sibling}if(!R)throw Error(a(189))}}if(c.alternate!==f)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?n:o}function h(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=h(n),o!==null)return o;n=n.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var ee=Symbol.for("react.client.reference");function P(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ee?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case B:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case E:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case k:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return o=n.displayName||null,o!==null?o:P(n.type)||"Memo";case z:o=n._payload,n=n._init;try{return P(n(o))}catch{}}return null}var F=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},V=[],T=-1;function U(n){return{current:n}}function Z(n){0>T||(n.current=V[T],V[T]=null,T--)}function K(n,o){T++,V[T]=n.current,n.current=o}var ne=U(null),fe=U(null),ue=U(null),q=U(null);function Q(n,o){switch(K(ue,o),K(fe,n),K(ne,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?sw(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=sw(o),n=aw(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ne),K(ne,n)}function de(){Z(ne),Z(fe),Z(ue)}function he(n){n.memoizedState!==null&&K(q,n);var o=ne.current,c=aw(o,n.type);o!==c&&(K(fe,n),K(ne,c))}function Ee(n){fe.current===n&&(Z(ne),Z(fe)),q.current===n&&(Z(q),Pl._currentValue=$)}var we=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,te=e.unstable_cancelCallback,Re=e.unstable_shouldYield,Ye=e.unstable_requestPaint,Fe=e.unstable_now,Bt=e.unstable_getCurrentPriorityLevel,an=e.unstable_ImmediatePriority,Ct=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,Ke=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,le=e.log,De=e.unstable_setDisableYieldValue,Se=null,Me=null;function ie(n){if(typeof le=="function"&&De(n),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Se,n)}catch{}}var ce=Math.clz32?Math.clz32:_e,ve=Math.log,be=Math.LN2;function _e(n){return n>>>=0,n===0?32:31-(ve(n)/be|0)|0}var Xe=256,Ne=4194304;function Le(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ce(n,o,c){var f=n.pendingLanes;if(f===0)return 0;var g=0,w=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var I=f&134217727;return I!==0?(f=I&~w,f!==0?g=Le(f):(R&=I,R!==0?g=Le(R):c||(c=I&~n,c!==0&&(g=Le(c))))):(I=f&~w,I!==0?g=Le(I):R!==0?g=Le(R):c||(c=f&~n,c!==0&&(g=Le(c)))),g===0?0:o!==0&&o!==g&&(o&w)===0&&(w=g&-g,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:g}function We(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function pt(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var n=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),n}function tr(){var n=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),n}function Da(n){for(var o=[],c=0;31>c;c++)o.push(n);return o}function Mt(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xn(n,o,c,f,g,w){var R=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var I=n.entanglements,Y=n.expirationTimes,se=n.hiddenUpdates;for(c=R&~c;0<c;){var me=31-ce(c),ye=1<<me;I[me]=0,Y[me]=-1;var ae=se[me];if(ae!==null)for(se[me]=null,me=0;me<ae.length;me++){var oe=ae[me];oe!==null&&(oe.lane&=-536870913)}c&=~ye}f!==0&&ln(n,f,0),w!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=w&~(R&~o))}function ln(n,o,c){n.pendingLanes|=o,n.suspendedLanes&=~o;var f=31-ce(o);n.entangledLanes|=o,n.entanglements[f]=n.entanglements[f]|1073741824|c&4194090}function Rn(n,o){var c=n.entangledLanes|=o;for(n=n.entanglements;c;){var f=31-ce(c),g=1<<f;g&o|n[f]&o&&(n[f]|=o),c&=~g}}function cn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Xt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cn(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:Sw(n.type))}function zr(n,o){var c=L.p;try{return L.p=n,o()}finally{L.p=c}}var yt=Math.random().toString(36).slice(2),jt="__reactFiber$"+yt,St="__reactProps$"+yt,un="__reactContainer$"+yt,gr="__reactEvents$"+yt,os="__reactListeners$"+yt,nr="__reactHandles$"+yt,Ir="__reactResources$"+yt,xr="__reactMarker$"+yt;function Fi(n){delete n[jt],delete n[St],delete n[gr],delete n[os],delete n[nr]}function Us(n){var o=n[jt];if(o)return o;for(var c=n.parentNode;c;){if(o=c[un]||c[jt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(n=cw(n);n!==null;){if(c=n[jt])return c;n=cw(n)}return o}n=c,c=n.parentNode}return null}function is(n){if(n=n[jt]||n[un]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function Vs(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(a(33))}function ls(n){var o=n[Ir];return o||(o=n[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ut(n){n[xr]=!0}var Zc=new Set,Kc={};function cs(n,o){Fs(n,o),Fs(n+"Capture",o)}function Fs(n,o){for(Kc[n]=o,n=0;n<o.length;n++)Zc.add(o[n])}var Sm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},Qc={};function _m(n){return we.call(Qc,n)?!0:we.call(qi,n)?!1:Sm.test(n)?Qc[n]=!0:(qi[n]=!0,!1)}function yo(n,o,c){if(_m(o))if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+c)}}function bo(n,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+c)}}function vr(n,o,c,f){if(f===null)n.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(o,c,""+f)}}var Yi,Jc;function us(n){if(Yi===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Yi=o&&o[1]||"",Jc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+n+Jc}var Gi=!1;function Xi(n,o){if(!n||Gi)return"";Gi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(oe){var ae=oe}Reflect.construct(n,[],ye)}else{try{ye.call()}catch(oe){ae=oe}n.call(ye.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(ye=n())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),R=w[0],I=w[1];if(R&&I){var Y=R.split(`
`),se=I.split(`
`);for(g=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(f===Y.length||g===se.length)for(f=Y.length-1,g=se.length-1;1<=f&&0<=g&&Y[f]!==se[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Y[f]!==se[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Y[f]!==se[g]){var me=`
`+Y[f].replace(" at new "," at ");return n.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",n.displayName)),me}while(1<=f&&0<=g);break}}}finally{Gi=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?us(c):""}function Em(n){switch(n.tag){case 26:case 27:case 5:return us(n.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return Xi(n.type,!1);case 11:return Xi(n.type.render,!1);case 1:return Xi(n.type,!0);case 31:return us("Activity");default:return""}}function eu(n){try{var o="";do o+=Em(n),n=n.return;while(n);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tu(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Cm(n){var o=tu(n)?"checked":"value",c=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,w.call(this,R)}}),Object.defineProperty(n,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function wo(n){n._valueTracker||(n._valueTracker=Cm(n))}function Wi(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return n&&(f=tu(n)?n.checked?"true":"false":n.value),n=f,n!==c?(o.setValue(n),!0):!1}function No(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var km=/[\n"\\]/g;function Tn(n){return n.replace(km,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Oa(n,o,c,f,g,w,R,I){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),o!=null?R==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Mn(o)):n.value!==""+Mn(o)&&(n.value=""+Mn(o)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),o!=null?Zi(n,R,Mn(o)):c!=null?Zi(n,R,Mn(c)):f!=null&&n.removeAttribute("value"),g==null&&w!=null&&(n.defaultChecked=!!w),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Mn(I):n.removeAttribute("name")}function nu(n,o,c,f,g,w,R,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+Mn(c):"",o=o!=null?""+Mn(o):c,I||o===n.value||(n.value=o),n.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=I?n.checked:!!f,n.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R)}function Zi(n,o,c){o==="number"&&No(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function ds(n,o,c,f){if(n=n.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<n.length;c++)g=o.hasOwnProperty("$"+n[c].value),n[c].selected!==g&&(n[c].selected=g),g&&f&&(n[c].defaultSelected=!0)}else{for(c=""+Mn(c),o=null,g=0;g<n.length;g++){if(n[g].value===c){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}o!==null||n[g].disabled||(o=n[g])}o!==null&&(o.selected=!0)}}function nv(n,o,c){if(o!=null&&(o=""+Mn(o),o!==n.value&&(n.value=o),c==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=c!=null?""+Mn(c):""}function rv(n,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(a(92));if(F(f)){if(1<f.length)throw Error(a(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Mn(o),n.defaultValue=c,f=n.textContent,f===c&&f!==""&&f!==null&&(n.value=f)}function jo(n,o){if(o){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=o;return}}n.textContent=o}var Hk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sv(n,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":f?n.setProperty(o,c):typeof c!="number"||c===0||Hk.has(o)?o==="float"?n.cssFloat=c:n[o]=(""+c).trim():n[o]=c+"px"}function av(n,o,c){if(o!=null&&typeof o!="object")throw Error(a(62));if(n=n.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&c[g]!==f&&sv(n,g,f)}else for(var w in o)o.hasOwnProperty(w)&&sv(n,w,o[w])}function Am(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(n){return Uk.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Rm=null;function Mm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var So=null,_o=null;function ov(n){var o=is(n);if(o&&(n=o.stateNode)){var c=n[St]||null;e:switch(n=o.stateNode,o.type){case"input":if(Oa(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Tn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==n&&f.form===n.form){var g=f[St]||null;if(!g)throw Error(a(90));Oa(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===n.form&&Wi(f)}break e;case"textarea":nv(n,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ds(n,!!c.multiple,o,!1)}}}var Tm=!1;function iv(n,o,c){if(Tm)return n(o,c);Tm=!0;try{var f=n(o);return f}finally{if(Tm=!1,(So!==null||_o!==null)&&(Uu(),So&&(o=So,n=_o,_o=So=null,ov(o),n)))for(o=0;o<n.length;o++)ov(n[o])}}function Ki(n,o){var c=n.stateNode;if(c===null)return null;var f=c[St]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(a(231,o,typeof c));return c}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dm=!1;if(fs)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Dm=!1}var qs=null,Om=null,su=null;function lv(){if(su)return su;var n,o=Om,c=o.length,f,g="value"in qs?qs.value:qs.textContent,w=g.length;for(n=0;n<c&&o[n]===g[n];n++);var R=c-n;for(f=1;f<=R&&o[c-f]===g[w-f];f++);return su=g.slice(n,1<f?1-f:void 0)}function au(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function ou(){return!0}function cv(){return!1}function Dn(n){function o(c,f,g,w,R){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(c=n[I],this[I]=c?c(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ou:cv,this.isPropagationStopped=cv,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),o}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Dn(za),Ji=p({},za,{view:0,detail:0}),Vk=Dn(Ji),zm,Im,el,lu=p({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==el&&(el&&n.type==="mousemove"?(zm=n.screenX-el.screenX,Im=n.screenY-el.screenY):Im=zm=0,el=n),zm)},movementY:function(n){return"movementY"in n?n.movementY:Im}}),uv=Dn(lu),Fk=p({},lu,{dataTransfer:0}),qk=Dn(Fk),Yk=p({},Ji,{relatedTarget:0}),Lm=Dn(Yk),Gk=p({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),Xk=Dn(Gk),Wk=p({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zk=Dn(Wk),Kk=p({},za,{data:0}),dv=Dn(Kk),Qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t4(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=e4[n])?!!o[n]:!1}function Pm(){return t4}var n4=p({},Ji,{key:function(n){if(n.key){var o=Qk[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=au(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(n){return n.type==="keypress"?au(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?au(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),r4=Dn(n4),s4=p({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=Dn(s4),a4=p({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),o4=Dn(a4),i4=p({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),l4=Dn(i4),c4=p({},lu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u4=Dn(c4),d4=p({},za,{newState:0,oldState:0}),f4=Dn(d4),m4=[9,13,27,32],$m=fs&&"CompositionEvent"in window,tl=null;fs&&"documentMode"in document&&(tl=document.documentMode);var h4=fs&&"TextEvent"in window&&!tl,mv=fs&&(!$m||tl&&8<tl&&11>=tl),hv=" ",pv=!1;function gv(n,o){switch(n){case"keyup":return m4.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Eo=!1;function p4(n,o){switch(n){case"compositionend":return xv(o);case"keypress":return o.which!==32?null:(pv=!0,hv);case"textInput":return n=o.data,n===hv&&pv?null:n;default:return null}}function g4(n,o){if(Eo)return n==="compositionend"||!$m&&gv(n,o)?(n=lv(),su=Om=qs=null,Eo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mv&&o.locale!=="ko"?null:o.data;default:return null}}var x4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!x4[n.type]:o==="textarea"}function yv(n,o,c,f){So?_o?_o.push(f):_o=[f]:So=f,o=Xu(o,"onChange"),0<o.length&&(c=new iu("onChange","change",null,c,f),n.push({event:c,listeners:o}))}var nl=null,rl=null;function v4(n){Jb(n,0)}function cu(n){var o=Vs(n);if(Wi(o))return n}function bv(n,o){if(n==="change")return o}var wv=!1;if(fs){var Hm;if(fs){var Bm="oninput"in document;if(!Bm){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),Bm=typeof Nv.oninput=="function"}Hm=Bm}else Hm=!1;wv=Hm&&(!document.documentMode||9<document.documentMode)}function jv(){nl&&(nl.detachEvent("onpropertychange",Sv),rl=nl=null)}function Sv(n){if(n.propertyName==="value"&&cu(rl)){var o=[];yv(o,rl,n,Mm(n)),iv(v4,o)}}function y4(n,o,c){n==="focusin"?(jv(),nl=o,rl=c,nl.attachEvent("onpropertychange",Sv)):n==="focusout"&&jv()}function b4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cu(rl)}function w4(n,o){if(n==="click")return cu(o)}function N4(n,o){if(n==="input"||n==="change")return cu(o)}function j4(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Hn=typeof Object.is=="function"?Object.is:j4;function sl(n,o){if(Hn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var c=Object.keys(n),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!we.call(o,g)||!Hn(n[g],o[g]))return!1}return!0}function _v(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ev(n,o){var c=_v(n);n=0;for(var f;c;){if(c.nodeType===3){if(f=n+c.textContent.length,n<=o&&f>=o)return{node:c,offset:o-n};n=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_v(c)}}function Cv(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Cv(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function kv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=No(n.document);o instanceof n.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)n=o.contentWindow;else break;o=No(n.document)}return o}function Um(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var S4=fs&&"documentMode"in document&&11>=document.documentMode,Co=null,Vm=null,al=null,Fm=!1;function Av(n,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fm||Co==null||Co!==No(f)||(f=Co,"selectionStart"in f&&Um(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&sl(al,f)||(al=f,f=Xu(Vm,"onSelect"),0<f.length&&(o=new iu("onSelect","select",null,o,c),n.push({event:o,listeners:f}),o.target=Co)))}function Ia(n,o){var c={};return c[n.toLowerCase()]=o.toLowerCase(),c["Webkit"+n]="webkit"+o,c["Moz"+n]="moz"+o,c}var ko={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},qm={},Rv={};fs&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function La(n){if(qm[n])return qm[n];if(!ko[n])return n;var o=ko[n],c;for(c in o)if(o.hasOwnProperty(c)&&c in Rv)return qm[n]=o[c];return n}var Mv=La("animationend"),Tv=La("animationiteration"),Dv=La("animationstart"),_4=La("transitionrun"),E4=La("transitionstart"),C4=La("transitioncancel"),Ov=La("transitionend"),zv=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function yr(n,o){zv.set(n,o),cs(o,[n])}var Iv=new WeakMap;function rr(n,o){if(typeof n=="object"&&n!==null){var c=Iv.get(n);return c!==void 0?c:(o={value:n,source:o,stack:eu(o)},Iv.set(n,o),o)}return{value:n,source:o,stack:eu(o)}}var sr=[],Ao=0,Gm=0;function uu(){for(var n=Ao,o=Gm=Ao=0;o<n;){var c=sr[o];sr[o++]=null;var f=sr[o];sr[o++]=null;var g=sr[o];sr[o++]=null;var w=sr[o];if(sr[o++]=null,f!==null&&g!==null){var R=f.pending;R===null?g.next=g:(g.next=R.next,R.next=g),f.pending=g}w!==0&&Lv(c,g,w)}}function du(n,o,c,f){sr[Ao++]=n,sr[Ao++]=o,sr[Ao++]=c,sr[Ao++]=f,Gm|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Xm(n,o,c,f){return du(n,o,c,f),fu(n)}function Ro(n,o){return du(n,null,null,o),fu(n)}function Lv(n,o,c){n.lanes|=c;var f=n.alternate;f!==null&&(f.lanes|=c);for(var g=!1,w=n.return;w!==null;)w.childLanes|=c,f=w.alternate,f!==null&&(f.childLanes|=c),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(g=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,g&&o!==null&&(g=31-ce(c),n=w.hiddenUpdates,f=n[g],f===null?n[g]=[o]:f.push(o),o.lane=c|536870912),w):null}function fu(n){if(50<Rl)throw Rl=0,ep=null,Error(a(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Mo={};function k4(n,o,c,f){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,o,c,f){return new k4(n,o,c,f)}function Wm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ms(n,o){var c=n.alternate;return c===null?(c=Bn(n.tag,o,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=o,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,o=n.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function Pv(n,o){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,o=c.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function mu(n,o,c,f,g,w){var R=0;if(f=n,typeof n=="function")Wm(n)&&(R=1);else if(typeof n=="string")R=RA(n,c,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case B:return n=Bn(31,c,o,g),n.elementType=B,n.lanes=w,n;case j:return Pa(c.children,g,w,o);case N:R=8,g|=24;break;case S:return n=Bn(12,c,o,g|2),n.elementType=S,n.lanes=w,n;case M:return n=Bn(13,c,o,g),n.elementType=M,n.lanes=w,n;case O:return n=Bn(19,c,o,g),n.elementType=O,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:case E:R=10;break e;case C:R=9;break e;case k:R=11;break e;case D:R=14;break e;case z:R=16,f=null;break e}R=29,c=Error(a(130,n===null?"null":typeof n,"")),f=null}return o=Bn(R,c,o,g),o.elementType=n,o.type=f,o.lanes=w,o}function Pa(n,o,c,f){return n=Bn(7,n,f,o),n.lanes=c,n}function Zm(n,o,c){return n=Bn(6,n,null,o),n.lanes=c,n}function Km(n,o,c){return o=Bn(4,n.children!==null?n.children:[],n.key,o),o.lanes=c,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var To=[],Do=0,hu=null,pu=0,ar=[],or=0,$a=null,hs=1,ps="";function Ha(n,o){To[Do++]=pu,To[Do++]=hu,hu=n,pu=o}function $v(n,o,c){ar[or++]=hs,ar[or++]=ps,ar[or++]=$a,$a=n;var f=hs;n=ps;var g=32-ce(f)-1;f&=~(1<<g),c+=1;var w=32-ce(o)+g;if(30<w){var R=g-g%5;w=(f&(1<<R)-1).toString(32),f>>=R,g-=R,hs=1<<32-ce(o)+g|c<<g|f,ps=w+n}else hs=1<<w|c<<g|f,ps=n}function Qm(n){n.return!==null&&(Ha(n,1),$v(n,1,0))}function Jm(n){for(;n===hu;)hu=To[--Do],To[Do]=null,pu=To[--Do],To[Do]=null;for(;n===$a;)$a=ar[--or],ar[or]=null,ps=ar[--or],ar[or]=null,hs=ar[--or],ar[or]=null}var kn=null,Lt=null,ht=!1,Ba=null,Lr=!1,eh=Error(a(519));function Ua(n){var o=Error(a(418,""));throw ll(rr(o,n)),eh}function Hv(n){var o=n.stateNode,c=n.type,f=n.memoizedProps;switch(o[jt]=n,o[St]=f,c){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(c=0;c<Tl.length;c++)st(Tl[c],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),nu(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),wo(o);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),rv(o,f.value,f.defaultValue,f.children),wo(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||rw(o.textContent,c)?(f.popover!=null&&(st("beforetoggle",o),st("toggle",o)),f.onScroll!=null&&st("scroll",o),f.onScrollEnd!=null&&st("scrollend",o),f.onClick!=null&&(o.onclick=Wu),o=!0):o=!1,o||Ua(n)}function Bv(n){for(kn=n.return;kn;)switch(kn.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:kn=kn.return}}function ol(n){if(n!==kn)return!1;if(!ht)return Bv(n),ht=!0,!1;var o=n.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||gp(n.type,n.memoizedProps)),c=!c),c&&Lt&&Ua(n),Bv(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(c=n.data,c==="/$"){if(o===0){Lt=wr(n.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;n=n.nextSibling}Lt=null}}else o===27?(o=Lt,ia(n.type)?(n=bp,bp=null,Lt=n):Lt=o):Lt=kn?wr(n.stateNode.nextSibling):null;return!0}function il(){Lt=kn=null,ht=!1}function Uv(){var n=Ba;return n!==null&&(In===null?In=n:In.push.apply(In,n),Ba=null),n}function ll(n){Ba===null?Ba=[n]:Ba.push(n)}var th=U(null),Va=null,gs=null;function Ys(n,o,c){K(th,o._currentValue),o._currentValue=c}function xs(n){n._currentValue=th.current,Z(th)}function nh(n,o,c){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===c)break;n=n.return}}function rh(n,o,c,f){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var w=g.dependencies;if(w!==null){var R=g.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=g;for(var Y=0;Y<o.length;Y++)if(I.context===o[Y]){w.lanes|=c,I=w.alternate,I!==null&&(I.lanes|=c),nh(w.return,c,n),f||(R=null);break e}w=I.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(a(341));R.lanes|=c,w=R.alternate,w!==null&&(w.lanes|=c),nh(R,c,n),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===n){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function cl(n,o,c,f){n=null;for(var g=o,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var I=g.type;Hn(g.pendingProps.value,R.value)||(n!==null?n.push(I):n=[I])}}else if(g===q.current){if(R=g.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}g=g.return}n!==null&&rh(o,n,c,f),o.flags|=262144}function gu(n){for(n=n.firstContext;n!==null;){if(!Hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fa(n){Va=n,gs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Sn(n){return Vv(Va,n)}function xu(n,o){return Va===null&&Fa(n),Vv(n,o)}function Vv(n,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(n===null)throw Error(a(308));gs=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else gs=gs.next=o;return c}var A4=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(c,f){n.push(f)}};this.abort=function(){o.aborted=!0,n.forEach(function(c){return c()})}},R4=e.unstable_scheduleCallback,M4=e.unstable_NormalPriority,Wt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new A4,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&R4(M4,function(){n.controller.abort()})}var dl=null,ah=0,Oo=0,zo=null;function T4(n,o){if(dl===null){var c=dl=[];ah=0,Oo=ip(),zo={status:"pending",value:void 0,then:function(f){c.push(f)}}}return ah++,o.then(Fv,Fv),o}function Fv(){if(--ah===0&&dl!==null){zo!==null&&(zo.status="fulfilled");var n=dl;dl=null,Oo=0,zo=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function D4(n,o){var c=[],f={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return n.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),f}var qv=A.S;A.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&T4(n,o),qv!==null&&qv(n,o)};var qa=U(null);function oh(){var n=qa.current;return n!==null?n:kt.pooledCache}function vu(n,o){o===null?K(qa,qa.current):K(qa,o.pool)}function Yv(){var n=oh();return n===null?null:{parent:Wt._currentValue,pool:n}}var fl=Error(a(460)),Gv=Error(a(474)),yu=Error(a(542)),ih={then:function(){}};function Xv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bu(){}function Wv(n,o,c){switch(c=n[c],c===void 0?n.push(o):c!==o&&(o.then(bu,bu),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Kv(n),n;default:if(typeof o.status=="string")o.then(bu,bu);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=o,n.status="pending",n.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Kv(n),n}throw ml=o,fl}}var ml=null;function Zv(){if(ml===null)throw Error(a(459));var n=ml;return ml=null,n}function Kv(n){if(n===fl||n===yu)throw Error(a(483))}var Gs=!1;function lh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ws(n,o,c){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(xt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=fu(n),Lv(n,null,c),o}return du(n,f,o,c),fu(n)}function hl(n,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=n.pendingLanes,c|=f,o.lanes=c,Rn(n,c)}}function uh(n,o){var c=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?g=w=R:w=w.next=R,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=o:n.next=o,c.lastBaseUpdate=o}var dh=!1;function pl(){if(dh){var n=zo;if(n!==null)throw n}}function gl(n,o,c,f){dh=!1;var g=n.updateQueue;Gs=!1;var w=g.firstBaseUpdate,R=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var Y=I,se=Y.next;Y.next=null,R===null?w=se:R.next=se,R=Y;var me=n.alternate;me!==null&&(me=me.updateQueue,I=me.lastBaseUpdate,I!==R&&(I===null?me.firstBaseUpdate=se:I.next=se,me.lastBaseUpdate=Y))}if(w!==null){var ye=g.baseState;R=0,me=se=Y=null,I=w;do{var ae=I.lane&-536870913,oe=ae!==I.lane;if(oe?(lt&ae)===ae:(f&ae)===ae){ae!==0&&ae===Oo&&(dh=!0),me!==null&&(me=me.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var qe=n,Be=I;ae=o;var Nt=c;switch(Be.tag){case 1:if(qe=Be.payload,typeof qe=="function"){ye=qe.call(Nt,ye,ae);break e}ye=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Be.payload,ae=typeof qe=="function"?qe.call(Nt,ye,ae):qe,ae==null)break e;ye=p({},ye,ae);break e;case 2:Gs=!0}}ae=I.callback,ae!==null&&(n.flags|=64,oe&&(n.flags|=8192),oe=g.callbacks,oe===null?g.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},me===null?(se=me=oe,Y=ye):me=me.next=oe,R|=ae;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);me===null&&(Y=ye),g.baseState=Y,g.firstBaseUpdate=se,g.lastBaseUpdate=me,w===null&&(g.shared.lanes=0),ra|=R,n.lanes=R,n.memoizedState=ye}}function Qv(n,o){if(typeof n!="function")throw Error(a(191,n));n.call(o)}function Jv(n,o){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Qv(c[n],o)}var Io=U(null),wu=U(0);function ey(n,o){n=Ss,K(wu,n),K(Io,o),Ss=n|o.baseLanes}function fh(){K(wu,Ss),K(Io,Io.current)}function mh(){Ss=wu.current,Z(Io),Z(wu)}var Zs=0,Qe=null,bt=null,Vt=null,Nu=!1,Lo=!1,Ya=!1,ju=0,xl=0,Po=null,O4=0;function $t(){throw Error(a(321))}function hh(n,o){if(o===null)return!1;for(var c=0;c<o.length&&c<n.length;c++)if(!Hn(n[c],o[c]))return!1;return!0}function ph(n,o,c,f,g,w){return Zs=w,Qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,A.H=n===null||n.memoizedState===null?Ly:Py,Ya=!1,w=c(f,g),Ya=!1,Lo&&(w=ny(o,c,f,g)),ty(n),w}function ty(n){A.H=Au;var o=bt!==null&&bt.next!==null;if(Zs=0,Vt=bt=Qe=null,Nu=!1,xl=0,Po=null,o)throw Error(a(300));n===null||dn||(n=n.dependencies,n!==null&&gu(n)&&(dn=!0))}function ny(n,o,c,f){Qe=n;var g=0;do{if(Lo&&(Po=null),xl=0,Lo=!1,25<=g)throw Error(a(301));if(g+=1,Vt=bt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}A.H=B4,w=o(c,f)}while(Lo);return w}function z4(){var n=A.H,o=n.useState()[0];return o=typeof o.then=="function"?vl(o):o,n=n.useState()[0],(bt!==null?bt.memoizedState:null)!==n&&(Qe.flags|=1024),o}function gh(){var n=ju!==0;return ju=0,n}function xh(n,o,c){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~c}function vh(n){if(Nu){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Nu=!1}Zs=0,Vt=bt=Qe=null,Lo=!1,xl=ju=0,Po=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Qe.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Ft(){if(bt===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var o=Vt===null?Qe.memoizedState:Vt.next;if(o!==null)Vt=o,bt=n;else{if(n===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Vt===null?Qe.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(n){var o=xl;return xl+=1,Po===null&&(Po=[]),n=Wv(Po,n,o),o=Qe,(Vt===null?o.memoizedState:Vt.next)===null&&(o=o.alternate,A.H=o===null||o.memoizedState===null?Ly:Py),n}function Su(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===E)return Sn(n)}throw Error(a(438,String(n)))}function bh(n){var o=null,c=Qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=yh(),Qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(n),f=0;f<n;f++)c[f]=H;return o.index++,c}function vs(n,o){return typeof o=="function"?o(n):o}function _u(n){var o=Ft();return wh(o,bt,n)}function wh(n,o,c){var f=n.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=c;var g=n.baseQueue,w=f.pending;if(w!==null){if(g!==null){var R=g.next;g.next=w.next,w.next=R}o.baseQueue=g=w,f.pending=null}if(w=n.baseState,g===null)n.memoizedState=w;else{o=g.next;var I=R=null,Y=null,se=o,me=!1;do{var ye=se.lane&-536870913;if(ye!==se.lane?(lt&ye)===ye:(Zs&ye)===ye){var ae=se.revertLane;if(ae===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ye===Oo&&(me=!0);else if((Zs&ae)===ae){se=se.next,ae===Oo&&(me=!0);continue}else ye={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(I=Y=ye,R=w):Y=Y.next=ye,Qe.lanes|=ae,ra|=ae;ye=se.action,Ya&&c(w,ye),w=se.hasEagerState?se.eagerState:c(w,ye)}else ae={lane:ye,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(I=Y=ae,R=w):Y=Y.next=ae,Qe.lanes|=ye,ra|=ye;se=se.next}while(se!==null&&se!==o);if(Y===null?R=w:Y.next=I,!Hn(w,n.memoizedState)&&(dn=!0,me&&(c=zo,c!==null)))throw c;n.memoizedState=w,n.baseState=R,n.baseQueue=Y,f.lastRenderedState=w}return g===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Nh(n){var o=Ft(),c=o.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=n;var f=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do w=n(w,R.action),R=R.next;while(R!==g);Hn(w,o.memoizedState)||(dn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function ry(n,o,c){var f=Qe,g=Ft(),w=ht;if(w){if(c===void 0)throw Error(a(407));c=c()}else c=o();var R=!Hn((bt||g).memoizedState,c);R&&(g.memoizedState=c,dn=!0),g=g.queue;var I=oy.bind(null,f,g,n);if(yl(2048,8,I,[n]),g.getSnapshot!==o||R||Vt!==null&&Vt.memoizedState.tag&1){if(f.flags|=2048,$o(9,Eu(),ay.bind(null,f,g,c,o),null),kt===null)throw Error(a(349));w||(Zs&124)!==0||sy(f,o,c)}return c}function sy(n,o,c){n.flags|=16384,n={getSnapshot:o,value:c},o=Qe.updateQueue,o===null?(o=yh(),Qe.updateQueue=o,o.stores=[n]):(c=o.stores,c===null?o.stores=[n]:c.push(n))}function ay(n,o,c,f){o.value=c,o.getSnapshot=f,iy(o)&&ly(n)}function oy(n,o,c){return c(function(){iy(o)&&ly(n)})}function iy(n){var o=n.getSnapshot;n=n.value;try{var c=o();return!Hn(n,c)}catch{return!0}}function ly(n){var o=Ro(n,2);o!==null&&Yn(o,n,2)}function jh(n){var o=On();if(typeof n=="function"){var c=n;if(n=c(),Ya){ie(!0);try{c()}finally{ie(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},o}function cy(n,o,c,f){return n.baseState=c,wh(n,bt,typeof f=="function"?f:vs)}function I4(n,o,c,f,g){if(ku(n))throw Error(a(485));if(n=o.action,n!==null){var w={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};A.T!==null?c(!0):w.isTransition=!1,f(w),c=o.pending,c===null?(w.next=o.pending=w,uy(o,w)):(w.next=c.next,o.pending=c.next=w)}}function uy(n,o){var c=o.action,f=o.payload,g=n.state;if(o.isTransition){var w=A.T,R={};A.T=R;try{var I=c(g,f),Y=A.S;Y!==null&&Y(R,I),dy(n,o,I)}catch(se){Sh(n,o,se)}finally{A.T=w}}else try{w=c(g,f),dy(n,o,w)}catch(se){Sh(n,o,se)}}function dy(n,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){fy(n,o,f)},function(f){return Sh(n,o,f)}):fy(n,o,c)}function fy(n,o,c){o.status="fulfilled",o.value=c,my(o),n.state=c,o=n.pending,o!==null&&(c=o.next,c===o?n.pending=null:(c=c.next,o.next=c,uy(n,c)))}function Sh(n,o,c){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,my(o),o=o.next;while(o!==f)}n.action=null}function my(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function hy(n,o){return o}function py(n,o){if(ht){var c=kt.formState;if(c!==null){e:{var f=Qe;if(ht){if(Lt){t:{for(var g=Lt,w=Lr;g.nodeType!==8;){if(!w){g=null;break t}if(g=wr(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){Lt=wr(g.nextSibling),f=g.data==="F!";break e}}Ua(f)}f=!1}f&&(o=c[0])}}return c=On(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:o},c.queue=f,c=Oy.bind(null,Qe,f),f.dispatch=c,f=jh(!1),w=Ah.bind(null,Qe,!1,f.queue),f=On(),g={state:o,dispatch:null,action:n,pending:null},f.queue=g,c=I4.bind(null,Qe,g,w,c),g.dispatch=c,f.memoizedState=n,[o,c,!1]}function gy(n){var o=Ft();return xy(o,bt,n)}function xy(n,o,c){if(o=wh(n,o,hy)[0],n=_u(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=vl(o)}catch(R){throw R===fl?yu:R}else f=o;o=Ft();var g=o.queue,w=g.dispatch;return c!==o.memoizedState&&(Qe.flags|=2048,$o(9,Eu(),L4.bind(null,g,c),null)),[f,w,n]}function L4(n,o){n.action=o}function vy(n){var o=Ft(),c=bt;if(c!==null)return xy(o,c,n);Ft(),o=o.memoizedState,c=Ft();var f=c.queue.dispatch;return c.memoizedState=n,[o,f,!1]}function $o(n,o,c,f){return n={tag:n,create:c,deps:f,inst:o,next:null},o=Qe.updateQueue,o===null&&(o=yh(),Qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=n.next=n:(f=c.next,c.next=n,n.next=f,o.lastEffect=n),n}function Eu(){return{destroy:void 0,resource:void 0}}function yy(){return Ft().memoizedState}function Cu(n,o,c,f){var g=On();f=f===void 0?null:f,Qe.flags|=n,g.memoizedState=$o(1|o,Eu(),c,f)}function yl(n,o,c,f){var g=Ft();f=f===void 0?null:f;var w=g.memoizedState.inst;bt!==null&&f!==null&&hh(f,bt.memoizedState.deps)?g.memoizedState=$o(o,w,c,f):(Qe.flags|=n,g.memoizedState=$o(1|o,w,c,f))}function by(n,o){Cu(8390656,8,n,o)}function wy(n,o){yl(2048,8,n,o)}function Ny(n,o){return yl(4,2,n,o)}function jy(n,o){return yl(4,4,n,o)}function Sy(n,o){if(typeof o=="function"){n=n();var c=o(n);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function _y(n,o,c){c=c!=null?c.concat([n]):null,yl(4,4,Sy.bind(null,o,n),c)}function _h(){}function Ey(n,o){var c=Ft();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&hh(o,f[1])?f[0]:(c.memoizedState=[n,o],n)}function Cy(n,o){var c=Ft();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&hh(o,f[1]))return f[0];if(f=n(),Ya){ie(!0);try{n()}finally{ie(!1)}}return c.memoizedState=[f,o],f}function Eh(n,o,c){return c===void 0||(Zs&1073741824)!==0?n.memoizedState=o:(n.memoizedState=c,n=Rb(),Qe.lanes|=n,ra|=n,c)}function ky(n,o,c,f){return Hn(c,o)?c:Io.current!==null?(n=Eh(n,c,f),Hn(n,o)||(dn=!0),n):(Zs&42)===0?(dn=!0,n.memoizedState=c):(n=Rb(),Qe.lanes|=n,ra|=n,o)}function Ay(n,o,c,f,g){var w=L.p;L.p=w!==0&&8>w?w:8;var R=A.T,I={};A.T=I,Ah(n,!1,o,c);try{var Y=g(),se=A.S;if(se!==null&&se(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var me=D4(Y,f);bl(n,o,me,qn(n))}else bl(n,o,f,qn(n))}catch(ye){bl(n,o,{then:function(){},status:"rejected",reason:ye},qn())}finally{L.p=w,A.T=R}}function P4(){}function Ch(n,o,c,f){if(n.tag!==5)throw Error(a(476));var g=Ry(n).queue;Ay(n,g,o,$,c===null?P4:function(){return My(n),c(f)})}function Ry(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:$},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:c},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function My(n){var o=Ry(n).next.queue;bl(n,o,{},qn())}function kh(){return Sn(Pl)}function Ty(){return Ft().memoizedState}function Dy(){return Ft().memoizedState}function $4(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var c=qn();n=Xs(c);var f=Ws(o,n,c);f!==null&&(Yn(f,o,c),hl(f,o,c)),o={cache:sh()},n.payload=o;return}o=o.return}}function H4(n,o,c){var f=qn();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ku(n)?zy(o,c):(c=Xm(n,o,c,f),c!==null&&(Yn(c,n,f),Iy(c,o,f)))}function Oy(n,o,c){var f=qn();bl(n,o,c,f)}function bl(n,o,c,f){var g={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ku(n))zy(o,g);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var R=o.lastRenderedState,I=w(R,c);if(g.hasEagerState=!0,g.eagerState=I,Hn(I,R))return du(n,o,g,0),kt===null&&uu(),!1}catch{}finally{}if(c=Xm(n,o,g,f),c!==null)return Yn(c,n,f),Iy(c,o,f),!0}return!1}function Ah(n,o,c,f){if(f={lane:2,revertLane:ip(),action:f,hasEagerState:!1,eagerState:null,next:null},ku(n)){if(o)throw Error(a(479))}else o=Xm(n,c,f,2),o!==null&&Yn(o,n,2)}function ku(n){var o=n.alternate;return n===Qe||o!==null&&o===Qe}function zy(n,o){Lo=Nu=!0;var c=n.pending;c===null?o.next=o:(o.next=c.next,c.next=o),n.pending=o}function Iy(n,o,c){if((c&4194048)!==0){var f=o.lanes;f&=n.pendingLanes,c|=f,o.lanes=c,Rn(n,c)}}var Au={readContext:Sn,use:Su,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},Ly={readContext:Sn,use:Su,useCallback:function(n,o){return On().memoizedState=[n,o===void 0?null:o],n},useContext:Sn,useEffect:by,useImperativeHandle:function(n,o,c){c=c!=null?c.concat([n]):null,Cu(4194308,4,Sy.bind(null,o,n),c)},useLayoutEffect:function(n,o){return Cu(4194308,4,n,o)},useInsertionEffect:function(n,o){Cu(4,2,n,o)},useMemo:function(n,o){var c=On();o=o===void 0?null:o;var f=n();if(Ya){ie(!0);try{n()}finally{ie(!1)}}return c.memoizedState=[f,o],f},useReducer:function(n,o,c){var f=On();if(c!==void 0){var g=c(o);if(Ya){ie(!0);try{c(o)}finally{ie(!1)}}}else g=o;return f.memoizedState=f.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},f.queue=n,n=n.dispatch=H4.bind(null,Qe,n),[f.memoizedState,n]},useRef:function(n){var o=On();return n={current:n},o.memoizedState=n},useState:function(n){n=jh(n);var o=n.queue,c=Oy.bind(null,Qe,o);return o.dispatch=c,[n.memoizedState,c]},useDebugValue:_h,useDeferredValue:function(n,o){var c=On();return Eh(c,n,o)},useTransition:function(){var n=jh(!1);return n=Ay.bind(null,Qe,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,c){var f=Qe,g=On();if(ht){if(c===void 0)throw Error(a(407));c=c()}else{if(c=o(),kt===null)throw Error(a(349));(lt&124)!==0||sy(f,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,by(oy.bind(null,f,w,n),[n]),f.flags|=2048,$o(9,Eu(),ay.bind(null,f,w,c,o),null),c},useId:function(){var n=On(),o=kt.identifierPrefix;if(ht){var c=ps,f=hs;c=(f&~(1<<32-ce(f)-1)).toString(32)+c,o=""+o+"R"+c,c=ju++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=O4++,o=""+o+"r"+c.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:kh,useFormState:py,useActionState:py,useOptimistic:function(n){var o=On();o.memoizedState=o.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ah.bind(null,Qe,!0,c),c.dispatch=o,[n,o]},useMemoCache:bh,useCacheRefresh:function(){return On().memoizedState=$4.bind(null,Qe)}},Py={readContext:Sn,use:Su,useCallback:Ey,useContext:Sn,useEffect:wy,useImperativeHandle:_y,useInsertionEffect:Ny,useLayoutEffect:jy,useMemo:Cy,useReducer:_u,useRef:yy,useState:function(){return _u(vs)},useDebugValue:_h,useDeferredValue:function(n,o){var c=Ft();return ky(c,bt.memoizedState,n,o)},useTransition:function(){var n=_u(vs)[0],o=Ft().memoizedState;return[typeof n=="boolean"?n:vl(n),o]},useSyncExternalStore:ry,useId:Ty,useHostTransitionStatus:kh,useFormState:gy,useActionState:gy,useOptimistic:function(n,o){var c=Ft();return cy(c,bt,n,o)},useMemoCache:bh,useCacheRefresh:Dy},B4={readContext:Sn,use:Su,useCallback:Ey,useContext:Sn,useEffect:wy,useImperativeHandle:_y,useInsertionEffect:Ny,useLayoutEffect:jy,useMemo:Cy,useReducer:Nh,useRef:yy,useState:function(){return Nh(vs)},useDebugValue:_h,useDeferredValue:function(n,o){var c=Ft();return bt===null?Eh(c,n,o):ky(c,bt.memoizedState,n,o)},useTransition:function(){var n=Nh(vs)[0],o=Ft().memoizedState;return[typeof n=="boolean"?n:vl(n),o]},useSyncExternalStore:ry,useId:Ty,useHostTransitionStatus:kh,useFormState:vy,useActionState:vy,useOptimistic:function(n,o){var c=Ft();return bt!==null?cy(c,bt,n,o):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:bh,useCacheRefresh:Dy},Ho=null,wl=0;function Ru(n){var o=wl;return wl+=1,Ho===null&&(Ho=[]),Wv(Ho,n,o)}function Nl(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Mu(n,o){throw o.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(o),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function $y(n){var o=n._init;return o(n._payload)}function Hy(n){function o(J,W){if(n){var re=J.deletions;re===null?(J.deletions=[W],J.flags|=16):re.push(W)}}function c(J,W){if(!n)return null;for(;W!==null;)o(J,W),W=W.sibling;return null}function f(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function g(J,W){return J=ms(J,W),J.index=0,J.sibling=null,J}function w(J,W,re){return J.index=re,n?(re=J.alternate,re!==null?(re=re.index,re<W?(J.flags|=67108866,W):re):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function R(J){return n&&J.alternate===null&&(J.flags|=67108866),J}function I(J,W,re,pe){return W===null||W.tag!==6?(W=Zm(re,J.mode,pe),W.return=J,W):(W=g(W,re),W.return=J,W)}function Y(J,W,re,pe){var Oe=re.type;return Oe===j?me(J,W,re.props.children,pe,re.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&$y(Oe)===W.type)?(W=g(W,re.props),Nl(W,re),W.return=J,W):(W=mu(re.type,re.key,re.props,null,J.mode,pe),Nl(W,re),W.return=J,W)}function se(J,W,re,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=Km(re,J.mode,pe),W.return=J,W):(W=g(W,re.children||[]),W.return=J,W)}function me(J,W,re,pe,Oe){return W===null||W.tag!==7?(W=Pa(re,J.mode,pe,Oe),W.return=J,W):(W=g(W,re),W.return=J,W)}function ye(J,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Zm(""+W,J.mode,re),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return re=mu(W.type,W.key,W.props,null,J.mode,re),Nl(re,W),re.return=J,re;case b:return W=Km(W,J.mode,re),W.return=J,W;case z:var pe=W._init;return W=pe(W._payload),ye(J,W,re)}if(F(W)||G(W))return W=Pa(W,J.mode,re,null),W.return=J,W;if(typeof W.then=="function")return ye(J,Ru(W),re);if(W.$$typeof===E)return ye(J,xu(J,W),re);Mu(J,W)}return null}function ae(J,W,re,pe){var Oe=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Oe!==null?null:I(J,W,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return re.key===Oe?Y(J,W,re,pe):null;case b:return re.key===Oe?se(J,W,re,pe):null;case z:return Oe=re._init,re=Oe(re._payload),ae(J,W,re,pe)}if(F(re)||G(re))return Oe!==null?null:me(J,W,re,pe,null);if(typeof re.then=="function")return ae(J,W,Ru(re),pe);if(re.$$typeof===E)return ae(J,W,xu(J,re),pe);Mu(J,re)}return null}function oe(J,W,re,pe,Oe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return J=J.get(re)||null,I(W,J,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return J=J.get(pe.key===null?re:pe.key)||null,Y(W,J,pe,Oe);case b:return J=J.get(pe.key===null?re:pe.key)||null,se(W,J,pe,Oe);case z:var nt=pe._init;return pe=nt(pe._payload),oe(J,W,re,pe,Oe)}if(F(pe)||G(pe))return J=J.get(re)||null,me(W,J,pe,Oe,null);if(typeof pe.then=="function")return oe(J,W,re,Ru(pe),Oe);if(pe.$$typeof===E)return oe(J,W,re,xu(W,pe),Oe);Mu(W,pe)}return null}function qe(J,W,re,pe){for(var Oe=null,nt=null,$e=W,Ue=W=0,mn=null;$e!==null&&Ue<re.length;Ue++){$e.index>Ue?(mn=$e,$e=null):mn=$e.sibling;var mt=ae(J,$e,re[Ue],pe);if(mt===null){$e===null&&($e=mn);break}n&&$e&&mt.alternate===null&&o(J,$e),W=w(mt,W,Ue),nt===null?Oe=mt:nt.sibling=mt,nt=mt,$e=mn}if(Ue===re.length)return c(J,$e),ht&&Ha(J,Ue),Oe;if($e===null){for(;Ue<re.length;Ue++)$e=ye(J,re[Ue],pe),$e!==null&&(W=w($e,W,Ue),nt===null?Oe=$e:nt.sibling=$e,nt=$e);return ht&&Ha(J,Ue),Oe}for($e=f($e);Ue<re.length;Ue++)mn=oe($e,J,Ue,re[Ue],pe),mn!==null&&(n&&mn.alternate!==null&&$e.delete(mn.key===null?Ue:mn.key),W=w(mn,W,Ue),nt===null?Oe=mn:nt.sibling=mn,nt=mn);return n&&$e.forEach(function(fa){return o(J,fa)}),ht&&Ha(J,Ue),Oe}function Be(J,W,re,pe){if(re==null)throw Error(a(151));for(var Oe=null,nt=null,$e=W,Ue=W=0,mn=null,mt=re.next();$e!==null&&!mt.done;Ue++,mt=re.next()){$e.index>Ue?(mn=$e,$e=null):mn=$e.sibling;var fa=ae(J,$e,mt.value,pe);if(fa===null){$e===null&&($e=mn);break}n&&$e&&fa.alternate===null&&o(J,$e),W=w(fa,W,Ue),nt===null?Oe=fa:nt.sibling=fa,nt=fa,$e=mn}if(mt.done)return c(J,$e),ht&&Ha(J,Ue),Oe;if($e===null){for(;!mt.done;Ue++,mt=re.next())mt=ye(J,mt.value,pe),mt!==null&&(W=w(mt,W,Ue),nt===null?Oe=mt:nt.sibling=mt,nt=mt);return ht&&Ha(J,Ue),Oe}for($e=f($e);!mt.done;Ue++,mt=re.next())mt=oe($e,J,Ue,mt.value,pe),mt!==null&&(n&&mt.alternate!==null&&$e.delete(mt.key===null?Ue:mt.key),W=w(mt,W,Ue),nt===null?Oe=mt:nt.sibling=mt,nt=mt);return n&&$e.forEach(function(UA){return o(J,UA)}),ht&&Ha(J,Ue),Oe}function Nt(J,W,re,pe){if(typeof re=="object"&&re!==null&&re.type===j&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case y:e:{for(var Oe=re.key;W!==null;){if(W.key===Oe){if(Oe=re.type,Oe===j){if(W.tag===7){c(J,W.sibling),pe=g(W,re.props.children),pe.return=J,J=pe;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&$y(Oe)===W.type){c(J,W.sibling),pe=g(W,re.props),Nl(pe,re),pe.return=J,J=pe;break e}c(J,W);break}else o(J,W);W=W.sibling}re.type===j?(pe=Pa(re.props.children,J.mode,pe,re.key),pe.return=J,J=pe):(pe=mu(re.type,re.key,re.props,null,J.mode,pe),Nl(pe,re),pe.return=J,J=pe)}return R(J);case b:e:{for(Oe=re.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){c(J,W.sibling),pe=g(W,re.children||[]),pe.return=J,J=pe;break e}else{c(J,W);break}else o(J,W);W=W.sibling}pe=Km(re,J.mode,pe),pe.return=J,J=pe}return R(J);case z:return Oe=re._init,re=Oe(re._payload),Nt(J,W,re,pe)}if(F(re))return qe(J,W,re,pe);if(G(re)){if(Oe=G(re),typeof Oe!="function")throw Error(a(150));return re=Oe.call(re),Be(J,W,re,pe)}if(typeof re.then=="function")return Nt(J,W,Ru(re),pe);if(re.$$typeof===E)return Nt(J,W,xu(J,re),pe);Mu(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(c(J,W.sibling),pe=g(W,re),pe.return=J,J=pe):(c(J,W),pe=Zm(re,J.mode,pe),pe.return=J,J=pe),R(J)):c(J,W)}return function(J,W,re,pe){try{wl=0;var Oe=Nt(J,W,re,pe);return Ho=null,Oe}catch($e){if($e===fl||$e===yu)throw $e;var nt=Bn(29,$e,null,J.mode);return nt.lanes=pe,nt.return=J,nt}finally{}}}var Bo=Hy(!0),By=Hy(!1),ir=U(null),Pr=null;function Ks(n){var o=n.alternate;K(Zt,Zt.current&1),K(ir,n),Pr===null&&(o===null||Io.current!==null||o.memoizedState!==null)&&(Pr=n)}function Uy(n){if(n.tag===22){if(K(Zt,Zt.current),K(ir,n),Pr===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(Pr=n)}}else Qs()}function Qs(){K(Zt,Zt.current),K(ir,ir.current)}function ys(n){Z(ir),Pr===n&&(Pr=null),Z(Zt)}var Zt=U(0);function Tu(n){for(var o=n;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||yp(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Rh(n,o,c,f){o=n.memoizedState,c=c(f,o),c=c==null?o:p({},o,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Mh={enqueueSetState:function(n,o,c){n=n._reactInternals;var f=qn(),g=Xs(f);g.payload=o,c!=null&&(g.callback=c),o=Ws(n,g,f),o!==null&&(Yn(o,n,f),hl(o,n,f))},enqueueReplaceState:function(n,o,c){n=n._reactInternals;var f=qn(),g=Xs(f);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Ws(n,g,f),o!==null&&(Yn(o,n,f),hl(o,n,f))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var c=qn(),f=Xs(c);f.tag=2,o!=null&&(f.callback=o),o=Ws(n,f,c),o!==null&&(Yn(o,n,c),hl(o,n,c))}};function Vy(n,o,c,f,g,w,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,w,R):o.prototype&&o.prototype.isPureReactComponent?!sl(c,f)||!sl(g,w):!0}function Fy(n,o,c,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==n&&Mh.enqueueReplaceState(o,o.state,null)}function Ga(n,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(n=n.defaultProps){c===o&&(c=p({},c));for(var g in n)c[g]===void 0&&(c[g]=n[g])}return c}var Du=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function qy(n){Du(n)}function Yy(n){console.error(n)}function Gy(n){Du(n)}function Ou(n,o){try{var c=n.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Xy(n,o,c){try{var f=n.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Th(n,o,c){return c=Xs(c),c.tag=3,c.payload={element:null},c.callback=function(){Ou(n,o)},c}function Wy(n){return n=Xs(n),n.tag=3,n}function Zy(n,o,c,f){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var w=f.value;n.payload=function(){return g(w)},n.callback=function(){Xy(o,c,f)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){Xy(o,c,f),typeof g!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function U4(n,o,c,f,g){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&cl(o,c,g,!0),c=ir.current,c!==null){switch(c.tag){case 13:return Pr===null?np():c.alternate===null&&Pt===0&&(Pt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,f===ih?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),sp(n,f,g)),!1;case 22:return c.flags|=65536,f===ih?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),sp(n,f,g)),!1}throw Error(a(435,c.tag))}return sp(n,f,g),np(),!1}if(ht)return o=ir.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==eh&&(n=Error(a(422),{cause:f}),ll(rr(n,c)))):(f!==eh&&(o=Error(a(423),{cause:f}),ll(rr(o,c))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,f=rr(f,c),g=Th(n.stateNode,f,g),uh(n,g),Pt!==4&&(Pt=2)),!1;var w=Error(a(520),{cause:f});if(w=rr(w,c),Al===null?Al=[w]:Al.push(w),Pt!==4&&(Pt=2),o===null)return!0;f=rr(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,n=g&-g,c.lanes|=n,n=Th(c.stateNode,f,n),uh(c,n),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(sa===null||!sa.has(w))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Wy(g),Zy(g,n,c,f),uh(c,g),!1}c=c.return}while(c!==null);return!1}var Ky=Error(a(461)),dn=!1;function vn(n,o,c,f){o.child=n===null?By(o,null,c,f):Bo(o,n.child,c,f)}function Qy(n,o,c,f,g){c=c.render;var w=o.ref;if("ref"in f){var R={};for(var I in f)I!=="ref"&&(R[I]=f[I])}else R=f;return Fa(o),f=ph(n,o,c,R,w,g),I=gh(),n!==null&&!dn?(xh(n,o,g),bs(n,o,g)):(ht&&I&&Qm(o),o.flags|=1,vn(n,o,f,g),o.child)}function Jy(n,o,c,f,g){if(n===null){var w=c.type;return typeof w=="function"&&!Wm(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,eb(n,o,w,f,g)):(n=mu(c.type,null,f,o,o.mode,g),n.ref=o.ref,n.return=o,o.child=n)}if(w=n.child,!Hh(n,g)){var R=w.memoizedProps;if(c=c.compare,c=c!==null?c:sl,c(R,f)&&n.ref===o.ref)return bs(n,o,g)}return o.flags|=1,n=ms(w,f),n.ref=o.ref,n.return=o,o.child=n}function eb(n,o,c,f,g){if(n!==null){var w=n.memoizedProps;if(sl(w,f)&&n.ref===o.ref)if(dn=!1,o.pendingProps=f=w,Hh(n,g))(n.flags&131072)!==0&&(dn=!0);else return o.lanes=n.lanes,bs(n,o,g)}return Dh(n,o,c,f,g)}function tb(n,o,c){var f=o.pendingProps,g=f.children,w=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|c:c,n!==null){for(g=o.child=n.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return nb(n,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&vu(o,w!==null?w.cachePool:null),w!==null?ey(o,w):fh(),Uy(o);else return o.lanes=o.childLanes=536870912,nb(n,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(vu(o,w.cachePool),ey(o,w),Qs(),o.memoizedState=null):(n!==null&&vu(o,null),fh(),Qs());return vn(n,o,g,c),o.child}function nb(n,o,c,f){var g=oh();return g=g===null?null:{parent:Wt._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},n!==null&&vu(o,null),fh(),Uy(o),n!==null&&cl(n,o,f,!0),null}function zu(n,o){var c=o.ref;if(c===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(n===null||n.ref!==c)&&(o.flags|=4194816)}}function Dh(n,o,c,f,g){return Fa(o),c=ph(n,o,c,f,void 0,g),f=gh(),n!==null&&!dn?(xh(n,o,g),bs(n,o,g)):(ht&&f&&Qm(o),o.flags|=1,vn(n,o,c,g),o.child)}function rb(n,o,c,f,g,w){return Fa(o),o.updateQueue=null,c=ny(o,f,c,g),ty(n),f=gh(),n!==null&&!dn?(xh(n,o,w),bs(n,o,w)):(ht&&f&&Qm(o),o.flags|=1,vn(n,o,c,w),o.child)}function sb(n,o,c,f,g){if(Fa(o),o.stateNode===null){var w=Mo,R=c.contextType;typeof R=="object"&&R!==null&&(w=Sn(R)),w=new c(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Mh,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},lh(o),R=c.contextType,w.context=typeof R=="object"&&R!==null?Sn(R):Mo,w.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(Rh(o,c,R,f),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&Mh.enqueueReplaceState(w,w.state,null),gl(o,f,w,g),pl(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(n===null){w=o.stateNode;var I=o.memoizedProps,Y=Ga(c,I);w.props=Y;var se=w.context,me=c.contextType;R=Mo,typeof me=="object"&&me!==null&&(R=Sn(me));var ye=c.getDerivedStateFromProps;me=typeof ye=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,me||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||se!==R)&&Fy(o,w,f,R),Gs=!1;var ae=o.memoizedState;w.state=ae,gl(o,f,w,g),pl(),se=o.memoizedState,I||ae!==se||Gs?(typeof ye=="function"&&(Rh(o,c,ye,f),se=o.memoizedState),(Y=Gs||Vy(o,c,Y,f,ae,se,R))?(me||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=se),w.props=f,w.state=se,w.context=R,f=Y):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,ch(n,o),R=o.memoizedProps,me=Ga(c,R),w.props=me,ye=o.pendingProps,ae=w.context,se=c.contextType,Y=Mo,typeof se=="object"&&se!==null&&(Y=Sn(se)),I=c.getDerivedStateFromProps,(se=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ye||ae!==Y)&&Fy(o,w,f,Y),Gs=!1,ae=o.memoizedState,w.state=ae,gl(o,f,w,g),pl();var oe=o.memoizedState;R!==ye||ae!==oe||Gs||n!==null&&n.dependencies!==null&&gu(n.dependencies)?(typeof I=="function"&&(Rh(o,c,I,f),oe=o.memoizedState),(me=Gs||Vy(o,c,me,f,ae,oe,Y)||n!==null&&n.dependencies!==null&&gu(n.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,oe,Y),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,oe,Y)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=oe),w.props=f,w.state=oe,w.context=Y,f=me):(typeof w.componentDidUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ae===n.memoizedState||(o.flags|=1024),f=!1)}return w=f,zu(n,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,n!==null&&f?(o.child=Bo(o,n.child,null,g),o.child=Bo(o,null,c,g)):vn(n,o,c,g),o.memoizedState=w.state,n=o.child):n=bs(n,o,g),n}function ab(n,o,c,f){return il(),o.flags|=256,vn(n,o,c,f),o.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(n){return{baseLanes:n,cachePool:Yv()}}function Ih(n,o,c){return n=n!==null?n.childLanes&~c:0,o&&(n|=lr),n}function ob(n,o,c){var f=o.pendingProps,g=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=n!==null&&n.memoizedState===null?!1:(Zt.current&2)!==0),R&&(g=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,n===null){if(ht){if(g?Ks(o):Qs(),ht){var I=Lt,Y;if(Y=I){e:{for(Y=I,I=Lr;Y.nodeType!==8;){if(!I){I=null;break e}if(Y=wr(Y.nextSibling),Y===null){I=null;break e}}I=Y}I!==null?(o.memoizedState={dehydrated:I,treeContext:$a!==null?{id:hs,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},Y=Bn(18,null,null,0),Y.stateNode=I,Y.return=o,o.child=Y,kn=o,Lt=null,Y=!0):Y=!1}Y||Ua(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return yp(I)?o.lanes=32:o.lanes=536870912,null;ys(o)}return I=f.children,f=f.fallback,g?(Qs(),g=o.mode,I=Iu({mode:"hidden",children:I},g),f=Pa(f,g,c,null),I.return=o,f.return=o,I.sibling=f,o.child=I,g=o.child,g.memoizedState=zh(c),g.childLanes=Ih(n,R,c),o.memoizedState=Oh,f):(Ks(o),Lh(o,I))}if(Y=n.memoizedState,Y!==null&&(I=Y.dehydrated,I!==null)){if(w)o.flags&256?(Ks(o),o.flags&=-257,o=Ph(n,o,c)):o.memoizedState!==null?(Qs(),o.child=n.child,o.flags|=128,o=null):(Qs(),g=f.fallback,I=o.mode,f=Iu({mode:"visible",children:f.children},I),g=Pa(g,I,c,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,Bo(o,n.child,null,c),f=o.child,f.memoizedState=zh(c),f.childLanes=Ih(n,R,c),o.memoizedState=Oh,o=g);else if(Ks(o),yp(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var se=R.dgst;R=se,f=Error(a(419)),f.stack="",f.digest=R,ll({value:f,source:null,stack:null}),o=Ph(n,o,c)}else if(dn||cl(n,o,c,!1),R=(c&n.childLanes)!==0,dn||R){if(R=kt,R!==null&&(f=c&-c,f=(f&42)!==0?1:cn(f),f=(f&(R.suspendedLanes|c))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,Ro(n,f),Yn(R,n,f),Ky;I.data==="$?"||np(),o=Ph(n,o,c)}else I.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=Y.treeContext,Lt=wr(I.nextSibling),kn=o,ht=!0,Ba=null,Lr=!1,n!==null&&(ar[or++]=hs,ar[or++]=ps,ar[or++]=$a,hs=n.id,ps=n.overflow,$a=o),o=Lh(o,f.children),o.flags|=4096);return o}return g?(Qs(),g=f.fallback,I=o.mode,Y=n.child,se=Y.sibling,f=ms(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,se!==null?g=ms(se,g):(g=Pa(g,I,c,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,I=n.child.memoizedState,I===null?I=zh(c):(Y=I.cachePool,Y!==null?(se=Wt._currentValue,Y=Y.parent!==se?{parent:se,pool:se}:Y):Y=Yv(),I={baseLanes:I.baseLanes|c,cachePool:Y}),g.memoizedState=I,g.childLanes=Ih(n,R,c),o.memoizedState=Oh,f):(Ks(o),c=n.child,n=c.sibling,c=ms(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,n!==null&&(R=o.deletions,R===null?(o.deletions=[n],o.flags|=16):R.push(n)),o.child=c,o.memoizedState=null,c)}function Lh(n,o){return o=Iu({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Iu(n,o){return n=Bn(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ph(n,o,c){return Bo(o,n.child,null,c),n=Lh(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function ib(n,o,c){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),nh(n.return,o,c)}function $h(n,o,c,f,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function lb(n,o,c){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(vn(n,o,f.children,c),f=Zt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ib(n,c,o);else if(n.tag===19)ib(n,c,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(K(Zt,f),g){case"forwards":for(c=o.child,g=null;c!==null;)n=c.alternate,n!==null&&Tu(n)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),$h(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(n=g.alternate,n!==null&&Tu(n)===null){o.child=g;break}n=g.sibling,g.sibling=c,c=g,g=n}$h(o,!0,c,null,w);break;case"together":$h(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bs(n,o,c){if(n!==null&&(o.dependencies=n.dependencies),ra|=o.lanes,(c&o.childLanes)===0)if(n!==null){if(cl(n,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(a(153));if(o.child!==null){for(n=o.child,c=ms(n,n.pendingProps),o.child=c,c.return=o;n.sibling!==null;)n=n.sibling,c=c.sibling=ms(n,n.pendingProps),c.return=o;c.sibling=null}return o.child}function Hh(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&gu(n)))}function V4(n,o,c){switch(o.tag){case 3:Q(o,o.stateNode.containerInfo),Ys(o,Wt,n.memoizedState.cache),il();break;case 27:case 5:he(o);break;case 4:Q(o,o.stateNode.containerInfo);break;case 10:Ys(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ks(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ob(n,o,c):(Ks(o),n=bs(n,o,c),n!==null?n.sibling:null);Ks(o);break;case 19:var g=(n.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(cl(n,o,c,!1),f=(c&o.childLanes)!==0),g){if(f)return lb(n,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(Zt,Zt.current),f)break;return null;case 22:case 23:return o.lanes=0,tb(n,o,c);case 24:Ys(o,Wt,n.memoizedState.cache)}return bs(n,o,c)}function cb(n,o,c){if(n!==null)if(n.memoizedProps!==o.pendingProps)dn=!0;else{if(!Hh(n,c)&&(o.flags&128)===0)return dn=!1,V4(n,o,c);dn=(n.flags&131072)!==0}else dn=!1,ht&&(o.flags&1048576)!==0&&$v(o,pu,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Wm(f)?(n=Ga(f,n),o.tag=1,o=sb(null,o,f,n,c)):(o.tag=0,o=Dh(null,o,f,n,c));else{if(f!=null){if(g=f.$$typeof,g===k){o.tag=11,o=Qy(null,o,f,n,c);break e}else if(g===D){o.tag=14,o=Jy(null,o,f,n,c);break e}}throw o=P(f)||f,Error(a(306,o,""))}}return o;case 0:return Dh(n,o,o.type,o.pendingProps,c);case 1:return f=o.type,g=Ga(f,o.pendingProps),sb(n,o,f,g,c);case 3:e:{if(Q(o,o.stateNode.containerInfo),n===null)throw Error(a(387));f=o.pendingProps;var w=o.memoizedState;g=w.element,ch(n,o),gl(o,f,null,c);var R=o.memoizedState;if(f=R.cache,Ys(o,Wt,f),f!==w.cache&&rh(o,[Wt],c,!0),pl(),f=R.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=ab(n,o,f,c);break e}else if(f!==g){g=rr(Error(a(424)),o),ll(g),o=ab(n,o,f,c);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Lt=wr(n.firstChild),kn=o,ht=!0,Ba=null,Lr=!0,c=By(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(il(),f===g){o=bs(n,o,c);break e}vn(n,o,f,c)}o=o.child}return o;case 26:return zu(n,o),n===null?(c=mw(o.type,null,o.pendingProps,null))?o.memoizedState=c:ht||(c=o.type,n=o.pendingProps,f=Zu(ue.current).createElement(c),f[jt]=o,f[St]=n,bn(f,c,n),Ut(f),o.stateNode=f):o.memoizedState=mw(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return he(o),n===null&&ht&&(f=o.stateNode=uw(o.type,o.pendingProps,ue.current),kn=o,Lr=!0,g=Lt,ia(o.type)?(bp=g,Lt=wr(f.firstChild)):Lt=g),vn(n,o,o.pendingProps.children,c),zu(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&ht&&((g=f=Lt)&&(f=xA(f,o.type,o.pendingProps,Lr),f!==null?(o.stateNode=f,kn=o,Lt=wr(f.firstChild),Lr=!1,g=!0):g=!1),g||Ua(o)),he(o),g=o.type,w=o.pendingProps,R=n!==null?n.memoizedProps:null,f=w.children,gp(g,w)?f=null:R!==null&&gp(g,R)&&(o.flags|=32),o.memoizedState!==null&&(g=ph(n,o,z4,null,null,c),Pl._currentValue=g),zu(n,o),vn(n,o,f,c),o.child;case 6:return n===null&&ht&&((n=c=Lt)&&(c=vA(c,o.pendingProps,Lr),c!==null?(o.stateNode=c,kn=o,Lt=null,n=!0):n=!1),n||Ua(o)),null;case 13:return ob(n,o,c);case 4:return Q(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=Bo(o,null,f,c):vn(n,o,f,c),o.child;case 11:return Qy(n,o,o.type,o.pendingProps,c);case 7:return vn(n,o,o.pendingProps,c),o.child;case 8:return vn(n,o,o.pendingProps.children,c),o.child;case 12:return vn(n,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Ys(o,o.type,f.value),vn(n,o,f.children,c),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,Fa(o),g=Sn(g),f=f(g),o.flags|=1,vn(n,o,f,c),o.child;case 14:return Jy(n,o,o.type,o.pendingProps,c);case 15:return eb(n,o,o.type,o.pendingProps,c);case 19:return lb(n,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},n===null?(c=Iu(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=ms(n.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return tb(n,o,c);case 24:return Fa(o),f=Sn(Wt),n===null?(g=oh(),g===null&&(g=kt,w=sh(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=c),g=w),o.memoizedState={parent:f,cache:g},lh(o),Ys(o,Wt,g)):((n.lanes&c)!==0&&(ch(n,o),gl(o,null,null,c),pl()),g=n.memoizedState,w=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ys(o,Wt,f)):(f=w.cache,Ys(o,Wt,f),f!==g.cache&&rh(o,[Wt],c,!0))),vn(n,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function ws(n){n.flags|=4}function ub(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!vw(o)){if(o=ir.current,o!==null&&((lt&4194048)===lt?Pr!==null:(lt&62914560)!==lt&&(lt&536870912)===0||o!==Pr))throw ml=ih,Gv;n.flags|=8192}}function Lu(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?tr():536870912,n.lanes|=o,qo|=o)}function jl(n,o){if(!ht)switch(n.tailMode){case"hidden":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function zt(n){var o=n.alternate!==null&&n.alternate.child===n.child,c=0,f=0;if(o)for(var g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=c,o}function F4(n,o,c){var f=o.pendingProps;switch(Jm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return c=o.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),xs(Wt),de(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ol(o)?ws(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Uv())),zt(o),null;case 26:return c=o.memoizedState,n===null?(ws(o),c!==null?(zt(o),ub(o,c)):(zt(o),o.flags&=-16777217)):c?c!==n.memoizedState?(ws(o),zt(o),ub(o,c)):(zt(o),o.flags&=-16777217):(n.memoizedProps!==f&&ws(o),zt(o),o.flags&=-16777217),null;case 27:Ee(o),c=ue.current;var g=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==f&&ws(o);else{if(!f){if(o.stateNode===null)throw Error(a(166));return zt(o),null}n=ne.current,ol(o)?Hv(o):(n=uw(g,f,c),o.stateNode=n,ws(o))}return zt(o),null;case 5:if(Ee(o),c=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&ws(o);else{if(!f){if(o.stateNode===null)throw Error(a(166));return zt(o),null}if(n=ne.current,ol(o))Hv(o);else{switch(g=Zu(ue.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?g.createElement(c,{is:f.is}):g.createElement(c)}}n[jt]=o,n[St]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=n;e:switch(bn(n,c,f),c){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ws(o)}}return zt(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==f&&ws(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(a(166));if(n=ue.current,ol(o)){if(n=o.stateNode,c=o.memoizedProps,f=null,g=kn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}n[jt]=o,n=!!(n.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||rw(n.nodeValue,c)),n||Ua(o)}else n=Zu(n).createTextNode(f),n[jt]=o,o.stateNode=n}return zt(o),null;case 13:if(f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ol(o),f!==null&&f.dehydrated!==null){if(n===null){if(!g)throw Error(a(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[jt]=o}else il(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),g=!1}else g=Uv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(ys(o),o):(ys(o),null)}if(ys(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,n=n!==null&&n.memoizedState!==null,c){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048)}return c!==n&&c&&(o.child.flags|=8192),Lu(o,o.updateQueue),zt(o),null;case 4:return de(),n===null&&dp(o.stateNode.containerInfo),zt(o),null;case 10:return xs(o.type),zt(o),null;case 19:if(Z(Zt),g=o.memoizedState,g===null)return zt(o),null;if(f=(o.flags&128)!==0,w=g.rendering,w===null)if(f)jl(g,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(w=Tu(n),w!==null){for(o.flags|=128,jl(g,!1),n=w.updateQueue,o.updateQueue=n,Lu(o,n),o.subtreeFlags=0,n=c,c=o.child;c!==null;)Pv(c,n),c=c.sibling;return K(Zt,Zt.current&1|2),o.child}n=n.sibling}g.tail!==null&&Fe()>Hu&&(o.flags|=128,f=!0,jl(g,!1),o.lanes=4194304)}else{if(!f)if(n=Tu(w),n!==null){if(o.flags|=128,f=!0,n=n.updateQueue,o.updateQueue=n,Lu(o,n),jl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!ht)return zt(o),null}else 2*Fe()-g.renderingStartTime>Hu&&c!==536870912&&(o.flags|=128,f=!0,jl(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(n=g.last,n!==null?n.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Fe(),o.sibling=null,n=Zt.current,K(Zt,f?n&1|2:n&1),o):(zt(o),null);case 22:case 23:return ys(o),mh(),f=o.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),c=o.updateQueue,c!==null&&Lu(o,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),n!==null&&Z(qa),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),xs(Wt),zt(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function q4(n,o){switch(Jm(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return xs(Wt),de(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Ee(o),null;case 13:if(ys(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(a(340));il()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Z(Zt),null;case 4:return de(),null;case 10:return xs(o.type),null;case 22:case 23:return ys(o),mh(),n!==null&&Z(qa),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return xs(Wt),null;case 25:return null;default:return null}}function db(n,o){switch(Jm(o),o.tag){case 3:xs(Wt),de();break;case 26:case 27:case 5:Ee(o);break;case 4:de();break;case 13:ys(o);break;case 19:Z(Zt);break;case 10:xs(o.type);break;case 22:case 23:ys(o),mh(),n!==null&&Z(qa);break;case 24:xs(Wt)}}function Sl(n,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&n)===n){f=void 0;var w=c.create,R=c.inst;f=w(),R.destroy=f}c=c.next}while(c!==g)}}catch(I){_t(o,o.return,I)}}function Js(n,o,c){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&n)===n){var R=f.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,g=o;var Y=c,se=I;try{se()}catch(me){_t(g,Y,me)}}}f=f.next}while(f!==w)}}catch(me){_t(o,o.return,me)}}function fb(n){var o=n.updateQueue;if(o!==null){var c=n.stateNode;try{Jv(o,c)}catch(f){_t(n,n.return,f)}}}function mb(n,o,c){c.props=Ga(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(f){_t(n,o,f)}}function _l(n,o){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof c=="function"?n.refCleanup=c(f):c.current=f}}catch(g){_t(n,o,g)}}function $r(n,o){var c=n.ref,f=n.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(g){_t(n,o,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){_t(n,o,g)}else c.current=null}function hb(n){var o=n.type,c=n.memoizedProps,f=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(g){_t(n,n.return,g)}}function Bh(n,o,c){try{var f=n.stateNode;fA(f,n.type,c,o),f[St]=o}catch(g){_t(n,n.return,g)}}function pb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ia(n.type)||n.tag===4}function Uh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ia(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vh(n,o,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(n),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Wu));else if(f!==4&&(f===27&&ia(n.type)&&(c=n.stateNode,o=null),n=n.child,n!==null))for(Vh(n,o,c),n=n.sibling;n!==null;)Vh(n,o,c),n=n.sibling}function Pu(n,o,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?c.insertBefore(n,o):c.appendChild(n);else if(f!==4&&(f===27&&ia(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(Pu(n,o,c),n=n.sibling;n!==null;)Pu(n,o,c),n=n.sibling}function gb(n){var o=n.stateNode,c=n.memoizedProps;try{for(var f=n.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);bn(o,f,c),o[jt]=n,o[St]=c}catch(w){_t(n,n.return,w)}}var Ns=!1,Ht=!1,Fh=!1,xb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function Y4(n,o){if(n=n.containerInfo,hp=nd,n=kv(n),Um(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var R=0,I=-1,Y=-1,se=0,me=0,ye=n,ae=null;t:for(;;){for(var oe;ye!==c||g!==0&&ye.nodeType!==3||(I=R+g),ye!==w||f!==0&&ye.nodeType!==3||(Y=R+f),ye.nodeType===3&&(R+=ye.nodeValue.length),(oe=ye.firstChild)!==null;)ae=ye,ye=oe;for(;;){if(ye===n)break t;if(ae===c&&++se===g&&(I=R),ae===w&&++me===f&&(Y=R),(oe=ye.nextSibling)!==null)break;ye=ae,ae=ye.parentNode}ye=oe}c=I===-1||Y===-1?null:{start:I,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(pp={focusedElem:n,selectionRange:c},nd=!1,fn=o;fn!==null;)if(o=fn,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,fn=n;else for(;fn!==null;){switch(o=fn,w=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,c=o,g=w.memoizedProps,w=w.memoizedState,f=c.stateNode;try{var qe=Ga(c.type,g,c.elementType===c.type);n=f.getSnapshotBeforeUpdate(qe,w),f.__reactInternalSnapshotBeforeUpdate=n}catch(Be){_t(c,c.return,Be)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,c=n.nodeType,c===9)vp(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=o.sibling,n!==null){n.return=o.return,fn=n;break}fn=o.return}}function vb(n,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:ea(n,c),f&4&&Sl(5,c);break;case 1:if(ea(n,c),f&4)if(n=c.stateNode,o===null)try{n.componentDidMount()}catch(R){_t(c,c.return,R)}else{var g=Ga(c.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(g,o,n.__reactInternalSnapshotBeforeUpdate)}catch(R){_t(c,c.return,R)}}f&64&&fb(c),f&512&&_l(c,c.return);break;case 3:if(ea(n,c),f&64&&(n=c.updateQueue,n!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Jv(n,o)}catch(R){_t(c,c.return,R)}}break;case 27:o===null&&f&4&&gb(c);case 26:case 5:ea(n,c),o===null&&f&4&&hb(c),f&512&&_l(c,c.return);break;case 12:ea(n,c);break;case 13:ea(n,c),f&4&&wb(n,c),f&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=tA.bind(null,c),yA(n,c))));break;case 22:if(f=c.memoizedState!==null||Ns,!f){o=o!==null&&o.memoizedState!==null||Ht,g=Ns;var w=Ht;Ns=f,(Ht=o)&&!w?ta(n,c,(c.subtreeFlags&8772)!==0):ea(n,c),Ns=g,Ht=w}break;case 30:break;default:ea(n,c)}}function yb(n){var o=n.alternate;o!==null&&(n.alternate=null,yb(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Fi(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,zn=!1;function js(n,o,c){for(c=c.child;c!==null;)bb(n,o,c),c=c.sibling}function bb(n,o,c){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Se,c)}catch{}switch(c.tag){case 26:Ht||$r(c,o),js(n,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ht||$r(c,o);var f=Tt,g=zn;ia(c.type)&&(Tt=c.stateNode,zn=!1),js(n,o,c),Ol(c.stateNode),Tt=f,zn=g;break;case 5:Ht||$r(c,o);case 6:if(f=Tt,g=zn,Tt=null,js(n,o,c),Tt=f,zn=g,Tt!==null)if(zn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(c.stateNode)}catch(w){_t(c,o,w)}else try{Tt.removeChild(c.stateNode)}catch(w){_t(c,o,w)}break;case 18:Tt!==null&&(zn?(n=Tt,lw(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),Ul(n)):lw(Tt,c.stateNode));break;case 4:f=Tt,g=zn,Tt=c.stateNode.containerInfo,zn=!0,js(n,o,c),Tt=f,zn=g;break;case 0:case 11:case 14:case 15:Ht||Js(2,c,o),Ht||Js(4,c,o),js(n,o,c);break;case 1:Ht||($r(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&mb(c,o,f)),js(n,o,c);break;case 21:js(n,o,c);break;case 22:Ht=(f=Ht)||c.memoizedState!==null,js(n,o,c),Ht=f;break;default:js(n,o,c)}}function wb(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(c){_t(o,o.return,c)}}function G4(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new xb),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new xb),o;default:throw Error(a(435,n.tag))}}function qh(n,o){var c=G4(n);o.forEach(function(f){var g=nA.bind(null,n,f);c.has(f)||(c.add(f),f.then(g,g))})}function Un(n,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f],w=n,R=o,I=R;e:for(;I!==null;){switch(I.tag){case 27:if(ia(I.type)){Tt=I.stateNode,zn=!1;break e}break;case 5:Tt=I.stateNode,zn=!1;break e;case 3:case 4:Tt=I.stateNode.containerInfo,zn=!0;break e}I=I.return}if(Tt===null)throw Error(a(160));bb(w,R,g),Tt=null,zn=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Nb(o,n),o=o.sibling}var br=null;function Nb(n,o){var c=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(o,n),Vn(n),f&4&&(Js(3,n,n.return),Sl(3,n),Js(5,n,n.return));break;case 1:Un(o,n),Vn(n),f&512&&(Ht||c===null||$r(c,c.return)),f&64&&Ns&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var g=br;if(Un(o,n),Vn(n),f&512&&(Ht||c===null||$r(c,c.return)),f&4){var w=c!==null?c.memoizedState:null;if(f=n.memoizedState,c===null)if(f===null)if(n.stateNode===null){e:{f=n.type,c=n.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":w=g.getElementsByTagName("title")[0],(!w||w[xr]||w[jt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(f),g.head.insertBefore(w,g.querySelector("head > title"))),bn(w,f,c),w[jt]=n,Ut(w),f=w;break e;case"link":var R=gw("link","href",g).get(f+(c.href||""));if(R){for(var I=0;I<R.length;I++)if(w=R[I],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(I,1);break t}}w=g.createElement(f),bn(w,f,c),g.head.appendChild(w);break;case"meta":if(R=gw("meta","content",g).get(f+(c.content||""))){for(I=0;I<R.length;I++)if(w=R[I],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(I,1);break t}}w=g.createElement(f),bn(w,f,c),g.head.appendChild(w);break;default:throw Error(a(468,f))}w[jt]=n,Ut(w),f=w}n.stateNode=f}else xw(g,n.type,n.stateNode);else n.stateNode=pw(g,f,n.memoizedProps);else w!==f?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,f===null?xw(g,n.type,n.stateNode):pw(g,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Bh(n,n.memoizedProps,c.memoizedProps)}break;case 27:Un(o,n),Vn(n),f&512&&(Ht||c===null||$r(c,c.return)),c!==null&&f&4&&Bh(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Un(o,n),Vn(n),f&512&&(Ht||c===null||$r(c,c.return)),n.flags&32){g=n.stateNode;try{jo(g,"")}catch(oe){_t(n,n.return,oe)}}f&4&&n.stateNode!=null&&(g=n.memoizedProps,Bh(n,g,c!==null?c.memoizedProps:g)),f&1024&&(Fh=!0);break;case 6:if(Un(o,n),Vn(n),f&4){if(n.stateNode===null)throw Error(a(162));f=n.memoizedProps,c=n.stateNode;try{c.nodeValue=f}catch(oe){_t(n,n.return,oe)}}break;case 3:if(Ju=null,g=br,br=Ku(o.containerInfo),Un(o,n),br=g,Vn(n),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ul(o.containerInfo)}catch(oe){_t(n,n.return,oe)}Fh&&(Fh=!1,jb(n));break;case 4:f=br,br=Ku(n.stateNode.containerInfo),Un(o,n),Vn(n),br=f;break;case 12:Un(o,n),Vn(n);break;case 13:Un(o,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Kh=Fe()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,qh(n,f)));break;case 22:g=n.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,se=Ns,me=Ht;if(Ns=se||g,Ht=me||Y,Un(o,n),Ht=me,Ns=se,Vn(n),f&8192)e:for(o=n.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||Y||Ns||Ht||Xa(n)),c=null,o=n;;){if(o.tag===5||o.tag===26){if(c===null){Y=c=o;try{if(w=Y.stateNode,g)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=Y.stateNode;var ye=Y.memoizedProps.style,ae=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;I.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(oe){_t(Y,Y.return,oe)}}}else if(o.tag===6){if(c===null){Y=o;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(oe){_t(Y,Y.return,oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=n.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,qh(n,c))));break;case 19:Un(o,n),Vn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,qh(n,f)));break;case 30:break;case 21:break;default:Un(o,n),Vn(n)}}function Vn(n){var o=n.flags;if(o&2){try{for(var c,f=n.return;f!==null;){if(pb(f)){c=f;break}f=f.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var g=c.stateNode,w=Uh(n);Pu(n,w,g);break;case 5:var R=c.stateNode;c.flags&32&&(jo(R,""),c.flags&=-33);var I=Uh(n);Pu(n,I,R);break;case 3:case 4:var Y=c.stateNode.containerInfo,se=Uh(n);Vh(n,se,Y);break;default:throw Error(a(161))}}catch(me){_t(n,n.return,me)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function jb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;jb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function ea(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)vb(n,o.alternate,o),o=o.sibling}function Xa(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:Js(4,o,o.return),Xa(o);break;case 1:$r(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&mb(o,o.return,c),Xa(o);break;case 27:Ol(o.stateNode);case 26:case 5:$r(o,o.return),Xa(o);break;case 22:o.memoizedState===null&&Xa(o);break;case 30:Xa(o);break;default:Xa(o)}n=n.sibling}}function ta(n,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=n,w=o,R=w.flags;switch(w.tag){case 0:case 11:case 15:ta(g,w,c),Sl(4,w);break;case 1:if(ta(g,w,c),f=w,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){_t(f,f.return,se)}if(f=w,g=f.updateQueue,g!==null){var I=f.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)Qv(Y[g],I)}catch(se){_t(f,f.return,se)}}c&&R&64&&fb(w),_l(w,w.return);break;case 27:gb(w);case 26:case 5:ta(g,w,c),c&&f===null&&R&4&&hb(w),_l(w,w.return);break;case 12:ta(g,w,c);break;case 13:ta(g,w,c),c&&R&4&&wb(g,w);break;case 22:w.memoizedState===null&&ta(g,w,c),_l(w,w.return);break;case 30:break;default:ta(g,w,c)}o=o.sibling}}function Yh(n,o){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&ul(c))}function Gh(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ul(n))}function Hr(n,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Sb(n,o,c,f),o=o.sibling}function Sb(n,o,c,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(n,o,c,f),g&2048&&Sl(9,o);break;case 1:Hr(n,o,c,f);break;case 3:Hr(n,o,c,f),g&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ul(n)));break;case 12:if(g&2048){Hr(n,o,c,f),n=o.stateNode;try{var w=o.memoizedProps,R=w.id,I=w.onPostCommit;typeof I=="function"&&I(R,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){_t(o,o.return,Y)}}else Hr(n,o,c,f);break;case 13:Hr(n,o,c,f);break;case 23:break;case 22:w=o.stateNode,R=o.alternate,o.memoizedState!==null?w._visibility&2?Hr(n,o,c,f):El(n,o):w._visibility&2?Hr(n,o,c,f):(w._visibility|=2,Uo(n,o,c,f,(o.subtreeFlags&10256)!==0)),g&2048&&Yh(R,o);break;case 24:Hr(n,o,c,f),g&2048&&Gh(o.alternate,o);break;default:Hr(n,o,c,f)}}function Uo(n,o,c,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=n,R=o,I=c,Y=f,se=R.flags;switch(R.tag){case 0:case 11:case 15:Uo(w,R,I,Y,g),Sl(8,R);break;case 23:break;case 22:var me=R.stateNode;R.memoizedState!==null?me._visibility&2?Uo(w,R,I,Y,g):El(w,R):(me._visibility|=2,Uo(w,R,I,Y,g)),g&&se&2048&&Yh(R.alternate,R);break;case 24:Uo(w,R,I,Y,g),g&&se&2048&&Gh(R.alternate,R);break;default:Uo(w,R,I,Y,g)}o=o.sibling}}function El(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=n,f=o,g=f.flags;switch(f.tag){case 22:El(c,f),g&2048&&Yh(f.alternate,f);break;case 24:El(c,f),g&2048&&Gh(f.alternate,f);break;default:El(c,f)}o=o.sibling}}var Cl=8192;function Vo(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)_b(n),n=n.sibling}function _b(n){switch(n.tag){case 26:Vo(n),n.flags&Cl&&n.memoizedState!==null&&TA(br,n.memoizedState,n.memoizedProps);break;case 5:Vo(n);break;case 3:case 4:var o=br;br=Ku(n.stateNode.containerInfo),Vo(n),br=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=Cl,Cl=16777216,Vo(n),Cl=o):Vo(n));break;default:Vo(n)}}function Eb(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function kl(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];fn=f,kb(f,n)}Eb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cb(n),n=n.sibling}function Cb(n){switch(n.tag){case 0:case 11:case 15:kl(n),n.flags&2048&&Js(9,n,n.return);break;case 3:kl(n);break;case 12:kl(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,$u(n)):kl(n);break;default:kl(n)}}function $u(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];fn=f,kb(f,n)}Eb(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:Js(8,o,o.return),$u(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,$u(o));break;default:$u(o)}n=n.sibling}}function kb(n,o){for(;fn!==null;){var c=fn;switch(c.tag){case 0:case 11:case 15:Js(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ul(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,fn=f;else e:for(c=n;fn!==null;){f=fn;var g=f.sibling,w=f.return;if(yb(f),f===c){fn=null;break e}if(g!==null){g.return=w,fn=g;break e}fn=w}}}var X4={getCacheForType:function(n){var o=Sn(Wt),c=o.data.get(n);return c===void 0&&(c=n(),o.data.set(n,c)),c}},W4=typeof WeakMap=="function"?WeakMap:Map,xt=0,kt=null,rt=null,lt=0,vt=0,Fn=null,na=!1,Fo=!1,Xh=!1,Ss=0,Pt=0,ra=0,Wa=0,Wh=0,lr=0,qo=0,Al=null,In=null,Zh=!1,Kh=0,Hu=1/0,Bu=null,sa=null,yn=0,aa=null,Yo=null,Go=0,Qh=0,Jh=null,Ab=null,Rl=0,ep=null;function qn(){if((xt&2)!==0&&lt!==0)return lt&-lt;if(A.T!==null){var n=Oo;return n!==0?n:ip()}return Cn()}function Rb(){lr===0&&(lr=(lt&536870912)===0||ht?on():536870912);var n=ir.current;return n!==null&&(n.flags|=32),lr}function Yn(n,o,c){(n===kt&&(vt===2||vt===9)||n.cancelPendingCommit!==null)&&(Xo(n,0),oa(n,lt,lr,!1)),Mt(n,c),((xt&2)===0||n!==kt)&&(n===kt&&((xt&2)===0&&(Wa|=c),Pt===4&&oa(n,lt,lr,!1)),Br(n))}function Mb(n,o,c){if((xt&6)!==0)throw Error(a(327));var f=!c&&(o&124)===0&&(o&n.expiredLanes)===0||We(n,o),g=f?Q4(n,o):rp(n,o,!0),w=f;do{if(g===0){Fo&&!f&&oa(n,o,0,!1);break}else{if(c=n.current.alternate,w&&!Z4(c)){g=rp(n,o,!1),w=!1;continue}if(g===2){if(w=o,n.errorRecoveryDisabledLanes&w)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var I=n;g=Al;var Y=I.current.memoizedState.isDehydrated;if(Y&&(Xo(I,R).flags|=256),R=rp(I,R,!1),R!==2){if(Xh&&!Y){I.errorRecoveryDisabledLanes|=w,Wa|=w,g=4;break e}w=In,In=g,w!==null&&(In===null?In=w:In.push.apply(In,w))}g=R}if(w=!1,g!==2)continue}}if(g===1){Xo(n,0),oa(n,o,0,!0);break}e:{switch(f=n,w=g,w){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:oa(f,o,lr,!na);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(g=Kh+300-Fe(),10<g)){if(oa(f,o,lr,!na),Ce(f,0,!0)!==0)break e;f.timeoutHandle=ow(Tb.bind(null,f,c,In,Bu,Zh,o,lr,Wa,qo,na,w,2,-0,0),g);break e}Tb(f,c,In,Bu,Zh,o,lr,Wa,qo,na,w,0,-0,0)}}break}while(!0);Br(n)}function Tb(n,o,c,f,g,w,R,I,Y,se,me,ye,ae,oe){if(n.timeoutHandle=-1,ye=o.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:MA},_b(o),ye=DA(),ye!==null)){n.cancelPendingCommit=ye($b.bind(null,n,o,w,c,f,g,R,I,Y,me,1,ae,oe)),oa(n,w,R,!se);return}$b(n,o,w,c,f,g,R,I,Y)}function Z4(n){for(var o=n;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!Hn(w(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function oa(n,o,c,f){o&=~Wh,o&=~Wa,n.suspendedLanes|=o,n.pingedLanes&=~o,f&&(n.warmLanes|=o),f=n.expirationTimes;for(var g=o;0<g;){var w=31-ce(g),R=1<<w;f[w]=-1,g&=~R}c!==0&&ln(n,c,o)}function Uu(){return(xt&6)===0?(Ml(0),!1):!0}function tp(){if(rt!==null){if(vt===0)var n=rt.return;else n=rt,gs=Va=null,vh(n),Ho=null,wl=0,n=rt;for(;n!==null;)db(n.alternate,n),n=n.return;rt=null}}function Xo(n,o){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,hA(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),tp(),kt=n,rt=c=ms(n.current,null),lt=o,vt=0,Fn=null,na=!1,Fo=We(n,o),Xh=!1,qo=lr=Wh=Wa=ra=Pt=0,In=Al=null,Zh=!1,(o&8)!==0&&(o|=o&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=o;0<f;){var g=31-ce(f),w=1<<g;o|=n[g],f&=~w}return Ss=o,uu(),c}function Db(n,o){Qe=null,A.H=Au,o===fl||o===yu?(o=Zv(),vt=3):o===Gv?(o=Zv(),vt=4):vt=o===Ky?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Fn=o,rt===null&&(Pt=1,Ou(n,rr(o,n.current)))}function Ob(){var n=A.H;return A.H=Au,n===null?Au:n}function zb(){var n=A.A;return A.A=X4,n}function np(){Pt=4,na||(lt&4194048)!==lt&&ir.current!==null||(Fo=!0),(ra&134217727)===0&&(Wa&134217727)===0||kt===null||oa(kt,lt,lr,!1)}function rp(n,o,c){var f=xt;xt|=2;var g=Ob(),w=zb();(kt!==n||lt!==o)&&(Bu=null,Xo(n,o)),o=!1;var R=Pt;e:do try{if(vt!==0&&rt!==null){var I=rt,Y=Fn;switch(vt){case 8:tp(),R=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(o=!0);var se=vt;if(vt=0,Fn=null,Wo(n,I,Y,se),c&&Fo){R=0;break e}break;default:se=vt,vt=0,Fn=null,Wo(n,I,Y,se)}}K4(),R=Pt;break}catch(me){Db(n,me)}while(!0);return o&&n.shellSuspendCounter++,gs=Va=null,xt=f,A.H=g,A.A=w,rt===null&&(kt=null,lt=0,uu()),R}function K4(){for(;rt!==null;)Ib(rt)}function Q4(n,o){var c=xt;xt|=2;var f=Ob(),g=zb();kt!==n||lt!==o?(Bu=null,Hu=Fe()+500,Xo(n,o)):Fo=We(n,o);e:do try{if(vt!==0&&rt!==null){o=rt;var w=Fn;t:switch(vt){case 1:vt=0,Fn=null,Wo(n,o,w,1);break;case 2:case 9:if(Xv(w)){vt=0,Fn=null,Lb(o);break}o=function(){vt!==2&&vt!==9||kt!==n||(vt=7),Br(n)},w.then(o,o);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Xv(w)?(vt=0,Fn=null,Lb(o)):(vt=0,Fn=null,Wo(n,o,w,7));break;case 5:var R=null;switch(rt.tag){case 26:R=rt.memoizedState;case 5:case 27:var I=rt;if(!R||vw(R)){vt=0,Fn=null;var Y=I.sibling;if(Y!==null)rt=Y;else{var se=I.return;se!==null?(rt=se,Vu(se)):rt=null}break t}}vt=0,Fn=null,Wo(n,o,w,5);break;case 6:vt=0,Fn=null,Wo(n,o,w,6);break;case 8:tp(),Pt=6;break e;default:throw Error(a(462))}}J4();break}catch(me){Db(n,me)}while(!0);return gs=Va=null,A.H=f,A.A=g,xt=c,rt!==null?0:(kt=null,lt=0,uu(),Pt)}function J4(){for(;rt!==null&&!Re();)Ib(rt)}function Ib(n){var o=cb(n.alternate,n,Ss);n.memoizedProps=n.pendingProps,o===null?Vu(n):rt=o}function Lb(n){var o=n,c=o.alternate;switch(o.tag){case 15:case 0:o=rb(c,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=rb(c,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:vh(o);default:db(c,o),o=rt=Pv(o,Ss),o=cb(c,o,Ss)}n.memoizedProps=n.pendingProps,o===null?Vu(n):rt=o}function Wo(n,o,c,f){gs=Va=null,vh(o),Ho=null,wl=0;var g=o.return;try{if(U4(n,g,o,c,lt)){Pt=1,Ou(n,rr(c,n.current)),rt=null;return}}catch(w){if(g!==null)throw rt=g,w;Pt=1,Ou(n,rr(c,n.current)),rt=null;return}o.flags&32768?(ht||f===1?n=!0:Fo||(lt&536870912)!==0?n=!1:(na=n=!0,(f===2||f===9||f===3||f===6)&&(f=ir.current,f!==null&&f.tag===13&&(f.flags|=16384))),Pb(o,n)):Vu(o)}function Vu(n){var o=n;do{if((o.flags&32768)!==0){Pb(o,na);return}n=o.return;var c=F4(o.alternate,o,Ss);if(c!==null){rt=c;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=n}while(o!==null);Pt===0&&(Pt=5)}function Pb(n,o){do{var c=q4(n.alternate,n);if(c!==null){c.flags&=32767,rt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(n=n.sibling,n!==null)){rt=n;return}rt=n=c}while(n!==null);Pt=6,rt=null}function $b(n,o,c,f,g,w,R,I,Y){n.cancelPendingCommit=null;do Fu();while(yn!==0);if((xt&6)!==0)throw Error(a(327));if(o!==null){if(o===n.current)throw Error(a(177));if(w=o.lanes|o.childLanes,w|=Gm,xn(n,c,w,R,I,Y),n===kt&&(rt=kt=null,lt=0),Yo=o,aa=n,Go=c,Qh=w,Jh=g,Ab=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rA(tt,function(){return Fb(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=A.T,A.T=null,g=L.p,L.p=2,R=xt,xt|=4;try{Y4(n,o,c)}finally{xt=R,L.p=g,A.T=f}}yn=1,Hb(),Bb(),Ub()}}function Hb(){if(yn===1){yn=0;var n=aa,o=Yo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=A.T,A.T=null;var f=L.p;L.p=2;var g=xt;xt|=4;try{Nb(o,n);var w=pp,R=kv(n.containerInfo),I=w.focusedElem,Y=w.selectionRange;if(R!==I&&I&&I.ownerDocument&&Cv(I.ownerDocument.documentElement,I)){if(Y!==null&&Um(I)){var se=Y.start,me=Y.end;if(me===void 0&&(me=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(me,I.value.length);else{var ye=I.ownerDocument||document,ae=ye&&ye.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),qe=I.textContent.length,Be=Math.min(Y.start,qe),Nt=Y.end===void 0?Be:Math.min(Y.end,qe);!oe.extend&&Be>Nt&&(R=Nt,Nt=Be,Be=R);var J=Ev(I,Be),W=Ev(I,Nt);if(J&&W&&(oe.rangeCount!==1||oe.anchorNode!==J.node||oe.anchorOffset!==J.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var re=ye.createRange();re.setStart(J.node,J.offset),oe.removeAllRanges(),Be>Nt?(oe.addRange(re),oe.extend(W.node,W.offset)):(re.setEnd(W.node,W.offset),oe.addRange(re))}}}}for(ye=[],oe=I;oe=oe.parentNode;)oe.nodeType===1&&ye.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ye.length;I++){var pe=ye[I];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}nd=!!hp,pp=hp=null}finally{xt=g,L.p=f,A.T=c}}n.current=o,yn=2}}function Bb(){if(yn===2){yn=0;var n=aa,o=Yo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=A.T,A.T=null;var f=L.p;L.p=2;var g=xt;xt|=4;try{vb(n,o.alternate,o)}finally{xt=g,L.p=f,A.T=c}}yn=3}}function Ub(){if(yn===4||yn===3){yn=0,Ye();var n=aa,o=Yo,c=Go,f=Ab;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Yo=aa=null,Vb(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(sa=null),Xt(c),o=o.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Se,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=A.T,g=L.p,L.p=2,A.T=null;try{for(var w=n.onRecoverableError,R=0;R<f.length;R++){var I=f[R];w(I.value,{componentStack:I.stack})}}finally{A.T=o,L.p=g}}(Go&3)!==0&&Fu(),Br(n),g=n.pendingLanes,(c&4194090)!==0&&(g&42)!==0?n===ep?Rl++:(Rl=0,ep=n):Rl=0,Ml(0)}}function Vb(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,ul(o)))}function Fu(n){return Hb(),Bb(),Ub(),Fb()}function Fb(){if(yn!==5)return!1;var n=aa,o=Qh;Qh=0;var c=Xt(Go),f=A.T,g=L.p;try{L.p=32>c?32:c,A.T=null,c=Jh,Jh=null;var w=aa,R=Go;if(yn=0,Yo=aa=null,Go=0,(xt&6)!==0)throw Error(a(331));var I=xt;if(xt|=4,Cb(w.current),Sb(w,w.current,R,c),xt=I,Ml(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Se,w)}catch{}return!0}finally{L.p=g,A.T=f,Vb(n,o)}}function qb(n,o,c){o=rr(c,o),o=Th(n.stateNode,o,2),n=Ws(n,o,2),n!==null&&(Mt(n,2),Br(n))}function _t(n,o,c){if(n.tag===3)qb(n,n,c);else for(;o!==null;){if(o.tag===3){qb(o,n,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(sa===null||!sa.has(f))){n=rr(c,n),c=Wy(2),f=Ws(o,c,2),f!==null&&(Zy(c,f,o,n),Mt(f,2),Br(f));break}}o=o.return}}function sp(n,o,c){var f=n.pingCache;if(f===null){f=n.pingCache=new W4;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(Xh=!0,g.add(c),n=eA.bind(null,n,o,c),o.then(n,n))}function eA(n,o,c){var f=n.pingCache;f!==null&&f.delete(o),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,kt===n&&(lt&c)===c&&(Pt===4||Pt===3&&(lt&62914560)===lt&&300>Fe()-Kh?(xt&2)===0&&Xo(n,0):Wh|=c,qo===lt&&(qo=0)),Br(n)}function Yb(n,o){o===0&&(o=tr()),n=Ro(n,o),n!==null&&(Mt(n,o),Br(n))}function tA(n){var o=n.memoizedState,c=0;o!==null&&(c=o.retryLane),Yb(n,c)}function nA(n,o){var c=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(a(314))}f!==null&&f.delete(o),Yb(n,c)}function rA(n,o){return ke(n,o)}var qu=null,Zo=null,ap=!1,Yu=!1,op=!1,Za=0;function Br(n){n!==Zo&&n.next===null&&(Zo===null?qu=Zo=n:Zo=Zo.next=n),Yu=!0,ap||(ap=!0,aA())}function Ml(n,o){if(!op&&Yu){op=!0;do for(var c=!1,f=qu;f!==null;){if(n!==0){var g=f.pendingLanes;if(g===0)var w=0;else{var R=f.suspendedLanes,I=f.pingedLanes;w=(1<<31-ce(42|n)+1)-1,w&=g&~(R&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Zb(f,w))}else w=lt,w=Ce(f,f===kt?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||We(f,w)||(c=!0,Zb(f,w));f=f.next}while(c);op=!1}}function sA(){Gb()}function Gb(){Yu=ap=!1;var n=0;Za!==0&&(mA()&&(n=Za),Za=0);for(var o=Fe(),c=null,f=qu;f!==null;){var g=f.next,w=Xb(f,o);w===0?(f.next=null,c===null?qu=g:c.next=g,g===null&&(Zo=c)):(c=f,(n!==0||(w&3)!==0)&&(Yu=!0)),f=g}Ml(n)}function Xb(n,o){for(var c=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var R=31-ce(w),I=1<<R,Y=g[R];Y===-1?((I&c)===0||(I&f)!==0)&&(g[R]=pt(I,o)):Y<=o&&(n.expiredLanes|=I),w&=~I}if(o=kt,c=lt,c=Ce(n,n===o?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,c===0||n===o&&(vt===2||vt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&te(f),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||We(n,c)){if(o=c&-c,o===n.callbackPriority)return o;switch(f!==null&&te(f),Xt(c)){case 2:case 8:c=Ct;break;case 32:c=tt;break;case 268435456:c=Gt;break;default:c=tt}return f=Wb.bind(null,n),c=ke(c,f),n.callbackPriority=o,n.callbackNode=c,o}return f!==null&&f!==null&&te(f),n.callbackPriority=2,n.callbackNode=null,2}function Wb(n,o){if(yn!==0&&yn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Fu()&&n.callbackNode!==c)return null;var f=lt;return f=Ce(n,n===kt?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Mb(n,f,o),Xb(n,Fe()),n.callbackNode!=null&&n.callbackNode===c?Wb.bind(null,n):null)}function Zb(n,o){if(Fu())return null;Mb(n,o,!0)}function aA(){pA(function(){(xt&6)!==0?ke(an,sA):Gb()})}function ip(){return Za===0&&(Za=on()),Za}function Kb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ru(""+n)}function Qb(n,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,n.id&&c.setAttribute("form",n.id),o.parentNode.insertBefore(c,o),n=new FormData(n),c.parentNode.removeChild(c),n}function oA(n,o,c,f,g){if(o==="submit"&&c&&c.stateNode===g){var w=Kb((g[St]||null).action),R=f.submitter;R&&(o=(o=R[St]||null)?Kb(o.formAction):R.getAttribute("formAction"),o!==null&&(w=o,R=null));var I=new iu("action","action",null,f,g);n.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Za!==0){var Y=R?Qb(g,R):new FormData(g);Ch(c,{pending:!0,data:Y,method:g.method,action:w},null,Y)}}else typeof w=="function"&&(I.preventDefault(),Y=R?Qb(g,R):new FormData(g),Ch(c,{pending:!0,data:Y,method:g.method,action:w},w,Y))},currentTarget:g}]})}}for(var lp=0;lp<Ym.length;lp++){var cp=Ym[lp],iA=cp.toLowerCase(),lA=cp[0].toUpperCase()+cp.slice(1);yr(iA,"on"+lA)}yr(Mv,"onAnimationEnd"),yr(Tv,"onAnimationIteration"),yr(Dv,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(_4,"onTransitionRun"),yr(E4,"onTransitionStart"),yr(C4,"onTransitionCancel"),yr(Ov,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Jb(n,o){o=(o&4)!==0;for(var c=0;c<n.length;c++){var f=n[c],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var R=f.length-1;0<=R;R--){var I=f[R],Y=I.instance,se=I.currentTarget;if(I=I.listener,Y!==w&&g.isPropagationStopped())break e;w=I,g.currentTarget=se;try{w(g)}catch(me){Du(me)}g.currentTarget=null,w=Y}else for(R=0;R<f.length;R++){if(I=f[R],Y=I.instance,se=I.currentTarget,I=I.listener,Y!==w&&g.isPropagationStopped())break e;w=I,g.currentTarget=se;try{w(g)}catch(me){Du(me)}g.currentTarget=null,w=Y}}}}function st(n,o){var c=o[gr];c===void 0&&(c=o[gr]=new Set);var f=n+"__bubble";c.has(f)||(ew(o,n,2,!1),c.add(f))}function up(n,o,c){var f=0;o&&(f|=4),ew(c,n,f,o)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function dp(n){if(!n[Gu]){n[Gu]=!0,Zc.forEach(function(c){c!=="selectionchange"&&(cA.has(c)||up(c,!1,n),up(c,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Gu]||(o[Gu]=!0,up("selectionchange",!1,o))}}function ew(n,o,c,f){switch(Sw(o)){case 2:var g=IA;break;case 8:g=LA;break;default:g=_p}c=g.bind(null,o,c,n),g=void 0,!Dm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(o,c,{capture:!0,passive:g}):n.addEventListener(o,c,!0):g!==void 0?n.addEventListener(o,c,{passive:g}):n.addEventListener(o,c,!1)}function fp(n,o,c,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var I=f.stateNode.containerInfo;if(I===g)break;if(R===4)for(R=f.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;I!==null;){if(R=Us(I),R===null)return;if(Y=R.tag,Y===5||Y===6||Y===26||Y===27){f=w=R;continue e}I=I.parentNode}}f=f.return}iv(function(){var se=w,me=Mm(c),ye=[];e:{var ae=zv.get(n);if(ae!==void 0){var oe=iu,qe=n;switch(n){case"keypress":if(au(c)===0)break e;case"keydown":case"keyup":oe=r4;break;case"focusin":qe="focus",oe=Lm;break;case"focusout":qe="blur",oe=Lm;break;case"beforeblur":case"afterblur":oe=Lm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=o4;break;case Mv:case Tv:case Dv:oe=Xk;break;case Ov:oe=l4;break;case"scroll":case"scrollend":oe=Vk;break;case"wheel":oe=u4;break;case"copy":case"cut":case"paste":oe=Zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=fv;break;case"toggle":case"beforetoggle":oe=f4}var Be=(o&4)!==0,Nt=!Be&&(n==="scroll"||n==="scrollend"),J=Be?ae!==null?ae+"Capture":null:ae;Be=[];for(var W=se,re;W!==null;){var pe=W;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||J===null||(pe=Ki(W,J),pe!=null&&Be.push(Dl(W,pe,re))),Nt)break;W=W.return}0<Be.length&&(ae=new oe(ae,qe,null,c,me),ye.push({event:ae,listeners:Be}))}}if((o&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",ae&&c!==Rm&&(qe=c.relatedTarget||c.fromElement)&&(Us(qe)||qe[un]))break e;if((oe||ae)&&(ae=me.window===me?me:(ae=me.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(qe=c.relatedTarget||c.toElement,oe=se,qe=qe?Us(qe):null,qe!==null&&(Nt=l(qe),Be=qe.tag,qe!==Nt||Be!==5&&Be!==27&&Be!==6)&&(qe=null)):(oe=null,qe=se),oe!==qe)){if(Be=uv,pe="onMouseLeave",J="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(Be=fv,pe="onPointerLeave",J="onPointerEnter",W="pointer"),Nt=oe==null?ae:Vs(oe),re=qe==null?ae:Vs(qe),ae=new Be(pe,W+"leave",oe,c,me),ae.target=Nt,ae.relatedTarget=re,pe=null,Us(me)===se&&(Be=new Be(J,W+"enter",qe,c,me),Be.target=re,Be.relatedTarget=Nt,pe=Be),Nt=pe,oe&&qe)t:{for(Be=oe,J=qe,W=0,re=Be;re;re=Ko(re))W++;for(re=0,pe=J;pe;pe=Ko(pe))re++;for(;0<W-re;)Be=Ko(Be),W--;for(;0<re-W;)J=Ko(J),re--;for(;W--;){if(Be===J||J!==null&&Be===J.alternate)break t;Be=Ko(Be),J=Ko(J)}Be=null}else Be=null;oe!==null&&tw(ye,ae,oe,Be,!1),qe!==null&&Nt!==null&&tw(ye,Nt,qe,Be,!0)}}e:{if(ae=se?Vs(se):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var Oe=bv;else if(vv(ae))if(wv)Oe=N4;else{Oe=b4;var nt=y4}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&Am(se.elementType)&&(Oe=bv):Oe=w4;if(Oe&&(Oe=Oe(n,se))){yv(ye,Oe,c,me);break e}nt&&nt(n,ae,se),n==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&Zi(ae,"number",ae.value)}switch(nt=se?Vs(se):window,n){case"focusin":(vv(nt)||nt.contentEditable==="true")&&(Co=nt,Vm=se,al=null);break;case"focusout":al=Vm=Co=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,Av(ye,c,me);break;case"selectionchange":if(S4)break;case"keydown":case"keyup":Av(ye,c,me)}var $e;if($m)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Eo?gv(n,c)&&(Ue="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(mv&&c.locale!=="ko"&&(Eo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Eo&&($e=lv()):(qs=me,Om="value"in qs?qs.value:qs.textContent,Eo=!0)),nt=Xu(se,Ue),0<nt.length&&(Ue=new dv(Ue,n,null,c,me),ye.push({event:Ue,listeners:nt}),$e?Ue.data=$e:($e=xv(c),$e!==null&&(Ue.data=$e)))),($e=h4?p4(n,c):g4(n,c))&&(Ue=Xu(se,"onBeforeInput"),0<Ue.length&&(nt=new dv("onBeforeInput","beforeinput",null,c,me),ye.push({event:nt,listeners:Ue}),nt.data=$e)),oA(ye,n,se,c,me)}Jb(ye,o)})}function Dl(n,o,c){return{instance:n,listener:o,currentTarget:c}}function Xu(n,o){for(var c=o+"Capture",f=[];n!==null;){var g=n,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=Ki(n,c),g!=null&&f.unshift(Dl(n,g,w)),g=Ki(n,o),g!=null&&f.push(Dl(n,g,w))),n.tag===3)return f;n=n.return}return[]}function Ko(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tw(n,o,c,f,g){for(var w=o._reactName,R=[];c!==null&&c!==f;){var I=c,Y=I.alternate,se=I.stateNode;if(I=I.tag,Y!==null&&Y===f)break;I!==5&&I!==26&&I!==27||se===null||(Y=se,g?(se=Ki(c,w),se!=null&&R.unshift(Dl(c,se,Y))):g||(se=Ki(c,w),se!=null&&R.push(Dl(c,se,Y)))),c=c.return}R.length!==0&&n.push({event:o,listeners:R})}var uA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function nw(n){return(typeof n=="string"?n:""+n).replace(uA,`
`).replace(dA,"")}function rw(n,o){return o=nw(o),nw(n)===o}function Wu(){}function wt(n,o,c,f,g,w){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||jo(n,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&jo(n,""+f);break;case"className":bo(n,"class",f);break;case"tabIndex":bo(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bo(n,c,f);break;case"style":av(n,f,w);break;case"data":if(o!=="object"){bo(n,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){n.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(c);break}f=ru(""+f),n.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&wt(n,o,"name",g.name,g,null),wt(n,o,"formEncType",g.formEncType,g,null),wt(n,o,"formMethod",g.formMethod,g,null),wt(n,o,"formTarget",g.formTarget,g,null)):(wt(n,o,"encType",g.encType,g,null),wt(n,o,"method",g.method,g,null),wt(n,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(c);break}f=ru(""+f),n.setAttribute(c,f);break;case"onClick":f!=null&&(n.onclick=Wu);break;case"onScroll":f!=null&&st("scroll",n);break;case"onScrollEnd":f!=null&&st("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=c}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}c=ru(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,""+f):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":f===!0?n.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,f):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(c,f):n.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(c):n.setAttribute(c,f);break;case"popover":st("beforetoggle",n),st("toggle",n),yo(n,"popover",f);break;case"xlinkActuate":vr(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vr(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vr(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vr(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vr(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vr(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vr(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":yo(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Bk.get(c)||c,yo(n,c,f))}}function mp(n,o,c,f,g,w){switch(c){case"style":av(n,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(c=f.__html,c!=null){if(g.children!=null)throw Error(a(60));n.innerHTML=c}}break;case"children":typeof f=="string"?jo(n,f):(typeof f=="number"||typeof f=="bigint")&&jo(n,""+f);break;case"onScroll":f!=null&&st("scroll",n);break;case"onScrollEnd":f!=null&&st("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),w=n[St]||null,w=w!=null?w[c]:null,typeof w=="function"&&n.removeEventListener(o,w,g),typeof f=="function")){typeof w!="function"&&w!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(o,f,g);break e}c in n?n[c]=f:f===!0?n.setAttribute(c,""):yo(n,c,f)}}}function bn(n,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",n),st("load",n);var f=!1,g=!1,w;for(w in c)if(c.hasOwnProperty(w)){var R=c[w];if(R!=null)switch(w){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:wt(n,o,w,R,c,null)}}g&&wt(n,o,"srcSet",c.srcSet,c,null),f&&wt(n,o,"src",c.src,c,null);return;case"input":st("invalid",n);var I=w=R=g=null,Y=null,se=null;for(f in c)if(c.hasOwnProperty(f)){var me=c[f];if(me!=null)switch(f){case"name":g=me;break;case"type":R=me;break;case"checked":Y=me;break;case"defaultChecked":se=me;break;case"value":w=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,o));break;default:wt(n,o,f,me,c,null)}}nu(n,w,I,Y,se,R,g,!1),wo(n);return;case"select":st("invalid",n),f=R=w=null;for(g in c)if(c.hasOwnProperty(g)&&(I=c[g],I!=null))switch(g){case"value":w=I;break;case"defaultValue":R=I;break;case"multiple":f=I;default:wt(n,o,g,I,c,null)}o=w,c=R,n.multiple=!!f,o!=null?ds(n,!!f,o,!1):c!=null&&ds(n,!!f,c,!0);return;case"textarea":st("invalid",n),w=g=f=null;for(R in c)if(c.hasOwnProperty(R)&&(I=c[R],I!=null))switch(R){case"value":f=I;break;case"defaultValue":g=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:wt(n,o,R,I,c,null)}rv(n,f,g,w),wo(n);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(f=c[Y],f!=null))switch(Y){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(n,o,Y,f,c,null)}return;case"dialog":st("beforetoggle",n),st("toggle",n),st("cancel",n),st("close",n);break;case"iframe":case"object":st("load",n);break;case"video":case"audio":for(f=0;f<Tl.length;f++)st(Tl[f],n);break;case"image":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"embed":case"source":case"link":st("error",n),st("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(f=c[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:wt(n,o,se,f,c,null)}return;default:if(Am(o)){for(me in c)c.hasOwnProperty(me)&&(f=c[me],f!==void 0&&mp(n,o,me,f,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(f=c[I],f!=null&&wt(n,o,I,f,c,null))}function fA(n,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,R=null,I=null,Y=null,se=null,me=null;for(oe in c){var ye=c[oe];if(c.hasOwnProperty(oe)&&ye!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":Y=ye;default:f.hasOwnProperty(oe)||wt(n,o,oe,null,f,ye)}}for(var ae in f){var oe=f[ae];if(ye=c[ae],f.hasOwnProperty(ae)&&(oe!=null||ye!=null))switch(ae){case"type":w=oe;break;case"name":g=oe;break;case"checked":se=oe;break;case"defaultChecked":me=oe;break;case"value":R=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,o));break;default:oe!==ye&&wt(n,o,ae,oe,f,ye)}}Oa(n,R,I,Y,se,me,w,g);return;case"select":oe=R=I=ae=null;for(w in c)if(Y=c[w],c.hasOwnProperty(w)&&Y!=null)switch(w){case"value":break;case"multiple":oe=Y;default:f.hasOwnProperty(w)||wt(n,o,w,null,f,Y)}for(g in f)if(w=f[g],Y=c[g],f.hasOwnProperty(g)&&(w!=null||Y!=null))switch(g){case"value":ae=w;break;case"defaultValue":I=w;break;case"multiple":R=w;default:w!==Y&&wt(n,o,g,w,f,Y)}o=I,c=R,f=oe,ae!=null?ds(n,!!c,ae,!1):!!f!=!!c&&(o!=null?ds(n,!!c,o,!0):ds(n,!!c,c?[]:"",!1));return;case"textarea":oe=ae=null;for(I in c)if(g=c[I],c.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:wt(n,o,I,null,f,g)}for(R in f)if(g=f[R],w=c[R],f.hasOwnProperty(R)&&(g!=null||w!=null))switch(R){case"value":ae=g;break;case"defaultValue":oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==w&&wt(n,o,R,g,f,w)}nv(n,ae,oe);return;case"option":for(var qe in c)if(ae=c[qe],c.hasOwnProperty(qe)&&ae!=null&&!f.hasOwnProperty(qe))switch(qe){case"selected":n.selected=!1;break;default:wt(n,o,qe,null,f,ae)}for(Y in f)if(ae=f[Y],oe=c[Y],f.hasOwnProperty(Y)&&ae!==oe&&(ae!=null||oe!=null))switch(Y){case"selected":n.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:wt(n,o,Y,ae,f,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in c)ae=c[Be],c.hasOwnProperty(Be)&&ae!=null&&!f.hasOwnProperty(Be)&&wt(n,o,Be,null,f,ae);for(se in f)if(ae=f[se],oe=c[se],f.hasOwnProperty(se)&&ae!==oe&&(ae!=null||oe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,o));break;default:wt(n,o,se,ae,f,oe)}return;default:if(Am(o)){for(var Nt in c)ae=c[Nt],c.hasOwnProperty(Nt)&&ae!==void 0&&!f.hasOwnProperty(Nt)&&mp(n,o,Nt,void 0,f,ae);for(me in f)ae=f[me],oe=c[me],!f.hasOwnProperty(me)||ae===oe||ae===void 0&&oe===void 0||mp(n,o,me,ae,f,oe);return}}for(var J in c)ae=c[J],c.hasOwnProperty(J)&&ae!=null&&!f.hasOwnProperty(J)&&wt(n,o,J,null,f,ae);for(ye in f)ae=f[ye],oe=c[ye],!f.hasOwnProperty(ye)||ae===oe||ae==null&&oe==null||wt(n,o,ye,ae,f,oe)}var hp=null,pp=null;function Zu(n){return n.nodeType===9?n:n.ownerDocument}function sw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aw(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function gp(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xp=null;function mA(){var n=window.event;return n&&n.type==="popstate"?n===xp?!1:(xp=n,!0):(xp=null,!1)}var ow=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(n){return iw.resolve(null).then(n).catch(gA)}:ow;function gA(n){setTimeout(function(){throw n})}function ia(n){return n==="head"}function lw(n,o){var c=o,f=0,g=0;do{var w=c.nextSibling;if(n.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<f&&8>f){c=f;var R=n.ownerDocument;if(c&1&&Ol(R.documentElement),c&2&&Ol(R.body),c&4)for(c=R.head,Ol(c),R=c.firstChild;R;){var I=R.nextSibling,Y=R.nodeName;R[xr]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=I}}if(g===0){n.removeChild(w),Ul(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:f=c.charCodeAt(0)-48;else f=0;c=w}while(c);Ul(o)}function vp(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":vp(c),Fi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function xA(n,o,c,f){for(;n.nodeType===1;){var g=c;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[xr])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=wr(n.nextSibling),n===null)break}return null}function vA(n,o,c){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=wr(n.nextSibling),n===null))return null;return n}function yp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function yA(n,o){var c=n.ownerDocument;if(n.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function wr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var bp=null;function cw(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return n;o--}else c==="/$"&&o++}n=n.previousSibling}return null}function uw(n,o,c){switch(o=Zu(c),n){case"html":if(n=o.documentElement,!n)throw Error(a(452));return n;case"head":if(n=o.head,!n)throw Error(a(453));return n;case"body":if(n=o.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ol(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Fi(n)}var cr=new Map,dw=new Set;function Ku(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _s=L.d;L.d={f:bA,r:wA,D:NA,C:jA,L:SA,m:_A,X:CA,S:EA,M:kA};function bA(){var n=_s.f(),o=Uu();return n||o}function wA(n){var o=is(n);o!==null&&o.tag===5&&o.type==="form"?My(o):_s.r(n)}var Qo=typeof document>"u"?null:document;function fw(n,o,c){var f=Qo;if(f&&typeof o=="string"&&o){var g=Tn(o);g='link[rel="'+n+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),dw.has(g)||(dw.add(g),n={rel:n,crossOrigin:c,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),bn(o,"link",n),Ut(o),f.head.appendChild(o)))}}function NA(n){_s.D(n),fw("dns-prefetch",n,null)}function jA(n,o){_s.C(n,o),fw("preconnect",n,o)}function SA(n,o,c){_s.L(n,o,c);var f=Qo;if(f&&n&&o){var g='link[rel="preload"][as="'+Tn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Tn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Tn(c.imageSizes)+'"]')):g+='[href="'+Tn(n)+'"]';var w=g;switch(o){case"style":w=Jo(n);break;case"script":w=ei(n)}cr.has(w)||(n=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:n,as:o},c),cr.set(w,n),f.querySelector(g)!==null||o==="style"&&f.querySelector(zl(w))||o==="script"&&f.querySelector(Il(w))||(o=f.createElement("link"),bn(o,"link",n),Ut(o),f.head.appendChild(o)))}}function _A(n,o){_s.m(n,o);var c=Qo;if(c&&n){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Tn(f)+'"][href="'+Tn(n)+'"]',w=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ei(n)}if(!cr.has(w)&&(n=p({rel:"modulepreload",href:n},o),cr.set(w,n),c.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Il(w)))return}f=c.createElement("link"),bn(f,"link",n),Ut(f),c.head.appendChild(f)}}}function EA(n,o,c){_s.S(n,o,c);var f=Qo;if(f&&n){var g=ls(f).hoistableStyles,w=Jo(n);o=o||"default";var R=g.get(w);if(!R){var I={loading:0,preload:null};if(R=f.querySelector(zl(w)))I.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":o},c),(c=cr.get(w))&&wp(n,c);var Y=R=f.createElement("link");Ut(Y),bn(Y,"link",n),Y._p=new Promise(function(se,me){Y.onload=se,Y.onerror=me}),Y.addEventListener("load",function(){I.loading|=1}),Y.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Qu(R,o,f)}R={type:"stylesheet",instance:R,count:1,state:I},g.set(w,R)}}}function CA(n,o){_s.X(n,o);var c=Qo;if(c&&n){var f=ls(c).hoistableScripts,g=ei(n),w=f.get(g);w||(w=c.querySelector(Il(g)),w||(n=p({src:n,async:!0},o),(o=cr.get(g))&&Np(n,o),w=c.createElement("script"),Ut(w),bn(w,"link",n),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function kA(n,o){_s.M(n,o);var c=Qo;if(c&&n){var f=ls(c).hoistableScripts,g=ei(n),w=f.get(g);w||(w=c.querySelector(Il(g)),w||(n=p({src:n,async:!0,type:"module"},o),(o=cr.get(g))&&Np(n,o),w=c.createElement("script"),Ut(w),bn(w,"link",n),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function mw(n,o,c,f){var g=(g=ue.current)?Ku(g):null;if(!g)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Jo(c.href),c=ls(g).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=Jo(c.href);var w=ls(g).hoistableStyles,R=w.get(n);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,R),(w=g.querySelector(zl(n)))&&!w._p&&(R.instance=w,R.state.loading=5),cr.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},cr.set(n,c),w||AA(g,n,c,R.state))),o&&f===null)throw Error(a(528,""));return R}if(o&&f!==null)throw Error(a(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ei(c),c=ls(g).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Jo(n){return'href="'+Tn(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function hw(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function AA(n,o,c,f){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=n.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),bn(o,"link",c),Ut(o),n.head.appendChild(o))}function ei(n){return'[src="'+Tn(n)+'"]'}function Il(n){return"script[async]"+n}function pw(n,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=n.querySelector('style[data-href~="'+Tn(c.href)+'"]');if(f)return o.instance=f,Ut(f),f;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Ut(f),bn(f,"style",g),Qu(f,c.precedence,n),o.instance=f;case"stylesheet":g=Jo(c.href);var w=n.querySelector(zl(g));if(w)return o.state.loading|=4,o.instance=w,Ut(w),w;f=hw(c),(g=cr.get(g))&&wp(f,g),w=(n.ownerDocument||n).createElement("link"),Ut(w);var R=w;return R._p=new Promise(function(I,Y){R.onload=I,R.onerror=Y}),bn(w,"link",f),o.state.loading|=4,Qu(w,c.precedence,n),o.instance=w;case"script":return w=ei(c.src),(g=n.querySelector(Il(w)))?(o.instance=g,Ut(g),g):(f=c,(g=cr.get(w))&&(f=p({},c),Np(f,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ut(g),bn(g,"link",f),n.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Qu(f,c.precedence,n));return o.instance}function Qu(n,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,w=g,R=0;R<f.length;R++){var I=f[R];if(I.dataset.precedence===o)w=I;else if(w!==g)break}w?w.parentNode.insertBefore(n,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(n,o.firstChild))}function wp(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Np(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Ju=null;function gw(n,o,c){if(Ju===null){var f=new Map,g=Ju=new Map;g.set(c,f)}else g=Ju,f=g.get(c),f||(f=new Map,g.set(c,f));if(f.has(n))return f;for(f.set(n,null),c=c.getElementsByTagName(n),g=0;g<c.length;g++){var w=c[g];if(!(w[xr]||w[jt]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(o)||"";R=n+R;var I=f.get(R);I?I.push(w):f.set(R,[w])}}return f}function xw(n,o,c){n=n.ownerDocument||n,n.head.insertBefore(c,o==="title"?n.querySelector("head > title"):null)}function RA(n,o,c){if(c===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function vw(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ll=null;function MA(){}function TA(n,o,c){if(Ll===null)throw Error(a(475));var f=Ll;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Jo(c.href),w=n.querySelector(zl(g));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=ed.bind(f),n.then(f,f)),o.state.loading|=4,o.instance=w,Ut(w);return}w=n.ownerDocument||n,c=hw(c),(g=cr.get(g))&&wp(c,g),w=w.createElement("link"),Ut(w);var R=w;R._p=new Promise(function(I,Y){R.onload=I,R.onerror=Y}),bn(w,"link",c),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=ed.bind(f),n.addEventListener("load",o),n.addEventListener("error",o))}}function DA(){if(Ll===null)throw Error(a(475));var n=Ll;return n.stylesheets&&n.count===0&&jp(n,n.stylesheets),0<n.count?function(o){var c=setTimeout(function(){if(n.stylesheets&&jp(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c)}}:null}function ed(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var td=null;function jp(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,td=new Map,o.forEach(OA,n),td=null,ed.call(n))}function OA(n,o){if(!(o.state.loading&4)){var c=td.get(n);if(c)var f=c.get(null);else{c=new Map,td.set(n,c);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var R=g[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),f=R)}f&&c.set(null,f)}g=o.instance,R=g.getAttribute("data-precedence"),w=c.get(R)||f,w===f&&c.set(null,g),c.set(R,g),this.count++,f=ed.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),w?w.parentNode.insertBefore(g,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),o.state.loading|=4}}var Pl={$$typeof:E,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function zA(n,o,c,f,g,w,R,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function yw(n,o,c,f,g,w,R,I,Y,se,me,ye){return n=new zA(n,o,c,R,I,Y,se,ye),o=1,w===!0&&(o|=24),w=Bn(3,null,null,o),n.current=w,w.stateNode=n,o=sh(),o.refCount++,n.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:c,cache:o},lh(w),n}function bw(n){return n?(n=Mo,n):Mo}function ww(n,o,c,f,g,w){g=bw(g),f.context===null?f.context=g:f.pendingContext=g,f=Xs(o),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=Ws(n,f,o),c!==null&&(Yn(c,n,o),hl(c,n,o))}function Nw(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<o?c:o}}function Sp(n,o){Nw(n,o),(n=n.alternate)&&Nw(n,o)}function jw(n){if(n.tag===13){var o=Ro(n,67108864);o!==null&&Yn(o,n,67108864),Sp(n,67108864)}}var nd=!0;function IA(n,o,c,f){var g=A.T;A.T=null;var w=L.p;try{L.p=2,_p(n,o,c,f)}finally{L.p=w,A.T=g}}function LA(n,o,c,f){var g=A.T;A.T=null;var w=L.p;try{L.p=8,_p(n,o,c,f)}finally{L.p=w,A.T=g}}function _p(n,o,c,f){if(nd){var g=Ep(f);if(g===null)fp(n,o,f,rd,c),_w(n,f);else if($A(g,n,o,c,f))f.stopPropagation();else if(_w(n,f),o&4&&-1<PA.indexOf(n)){for(;g!==null;){var w=is(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=Le(w.pendingLanes);if(R!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var Y=1<<31-ce(R);I.entanglements[1]|=Y,R&=~Y}Br(w),(xt&6)===0&&(Hu=Fe()+500,Ml(0))}}break;case 13:I=Ro(w,2),I!==null&&Yn(I,w,2),Uu(),Sp(w,2)}if(w=Ep(f),w===null&&fp(n,o,f,rd,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else fp(n,o,f,null,c)}}function Ep(n){return n=Mm(n),Cp(n)}var rd=null;function Cp(n){if(rd=null,n=Us(n),n!==null){var o=l(n);if(o===null)n=null;else{var c=o.tag;if(c===13){if(n=u(o),n!==null)return n;n=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return rd=n,null}function Sw(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case an:return 2;case Ct:return 8;case tt:case Ke:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var kp=!1,la=null,ca=null,ua=null,$l=new Map,Hl=new Map,da=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(n,o){switch(n){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":$l.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(o.pointerId)}}function Bl(n,o,c,f,g,w){return n===null||n.nativeEvent!==w?(n={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=is(o),o!==null&&jw(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),n)}function $A(n,o,c,f,g){switch(o){case"focusin":return la=Bl(la,n,o,c,f,g),!0;case"dragenter":return ca=Bl(ca,n,o,c,f,g),!0;case"mouseover":return ua=Bl(ua,n,o,c,f,g),!0;case"pointerover":var w=g.pointerId;return $l.set(w,Bl($l.get(w)||null,n,o,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Hl.set(w,Bl(Hl.get(w)||null,n,o,c,f,g)),!0}return!1}function Ew(n){var o=Us(n.target);if(o!==null){var c=l(o);if(c!==null){if(o=c.tag,o===13){if(o=u(c),o!==null){n.blockedOn=o,zr(n.priority,function(){if(c.tag===13){var f=qn();f=cn(f);var g=Ro(c,f);g!==null&&Yn(g,c,f),Sp(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sd(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var c=Ep(n.nativeEvent);if(c===null){c=n.nativeEvent;var f=new c.constructor(c.type,c);Rm=f,c.target.dispatchEvent(f),Rm=null}else return o=is(c),o!==null&&jw(o),n.blockedOn=c,!1;o.shift()}return!0}function Cw(n,o,c){sd(n)&&c.delete(o)}function HA(){kp=!1,la!==null&&sd(la)&&(la=null),ca!==null&&sd(ca)&&(ca=null),ua!==null&&sd(ua)&&(ua=null),$l.forEach(Cw),Hl.forEach(Cw)}function ad(n,o){n.blockedOn===o&&(n.blockedOn=null,kp||(kp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HA)))}var od=null;function kw(n){od!==n&&(od=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){od===n&&(od=null);for(var o=0;o<n.length;o+=3){var c=n[o],f=n[o+1],g=n[o+2];if(typeof f!="function"){if(Cp(f||c)===null)continue;break}var w=is(c);w!==null&&(n.splice(o,3),o-=3,Ch(w,{pending:!0,data:g,method:c.method,action:f},f,g))}}))}function Ul(n){function o(Y){return ad(Y,n)}la!==null&&ad(la,n),ca!==null&&ad(ca,n),ua!==null&&ad(ua,n),$l.forEach(o),Hl.forEach(o);for(var c=0;c<da.length;c++){var f=da[c];f.blockedOn===n&&(f.blockedOn=null)}for(;0<da.length&&(c=da[0],c.blockedOn===null);)Ew(c),c.blockedOn===null&&da.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var g=c[f],w=c[f+1],R=g[St]||null;if(typeof w=="function")R||kw(c);else if(R){var I=null;if(w&&w.hasAttribute("formAction")){if(g=w,R=w[St]||null)I=R.formAction;else if(Cp(g)!==null)continue}else I=R.action;typeof I=="function"?c[f+1]=I:(c.splice(f,3),f-=3),kw(c)}}}function Ap(n){this._internalRoot=n}id.prototype.render=Ap.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(a(409));var c=o.current,f=qn();ww(c,f,n,o,null,null)},id.prototype.unmount=Ap.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;ww(n.current,2,null,n,null,null),Uu(),o[un]=null}};function id(n){this._internalRoot=n}id.prototype.unstable_scheduleHydration=function(n){if(n){var o=Cn();n={blockedOn:null,target:n,priority:o};for(var c=0;c<da.length&&o!==0&&o<da[c].priority;c++);da.splice(c,0,n),c===0&&Ew(n)}};var Aw=t.version;if(Aw!=="19.1.1")throw Error(a(527,Aw,"19.1.1"));L.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(o),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var BA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{Se=ld.inject(BA),Me=ld}catch{}}return Fl.createRoot=function(n,o){if(!i(n))throw Error(a(299));var c=!1,f="",g=qy,w=Yy,R=Gy,I=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=yw(n,1,!1,null,null,c,f,g,w,R,I,null),n[un]=o.current,dp(n),new Ap(o)},Fl.hydrateRoot=function(n,o,c){if(!i(n))throw Error(a(299));var f=!1,g="",w=qy,R=Yy,I=Gy,Y=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Y=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),o=yw(n,1,!0,o,c??null,f,g,w,R,I,Y,se),o.context=bw(null),c=o.current,f=qn(),f=cn(f),g=Xs(f),g.callback=null,Ws(c,g,f),c=f,o.current.lanes=c,Mt(o,c),Br(o),n[un]=o.current,dp(n),new id(o)},Fl.version="19.1.1",Fl}var $w;function KA(){if($w)return Tp.exports;$w=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tp.exports=ZA(),Tp.exports}var QA=KA();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hw="popstate";function JA(e={}){function t(a,i){let{pathname:l,search:u,hash:d}=a.location;return Ng("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:lc(i)}return t3(t,r,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e3(){return Math.random().toString(36).substring(2,10)}function Bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Ng(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ki(t):t,state:r,key:t&&t.key||a||e3()}}function lc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ki(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function t3(e,t,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d="POP",m=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function v(){d="POP";let S=p(),_=S==null?null:S-h;h=S,m&&m({action:d,location:N.location,delta:_})}function y(S,_){d="PUSH";let C=Ng(N.location,S,_);h=p()+1;let E=Bw(C,h),k=N.createHref(C);try{u.pushState(E,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}l&&m&&m({action:d,location:N.location,delta:1})}function b(S,_){d="REPLACE";let C=Ng(N.location,S,_);h=p();let E=Bw(C,h),k=N.createHref(C);u.replaceState(E,"",k),l&&m&&m({action:d,location:N.location,delta:0})}function j(S){return n3(S)}let N={get action(){return d},get location(){return e(i,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Hw,v),m=S,()=>{i.removeEventListener(Hw,v),m=null}},createHref(S){return t(i,S)},createURL:j,encodeLocation(S){let _=j(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:b,go(S){return u.go(S)}};return N}function n3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:lc(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function fj(e,t,r="/"){return r3(e,t,r,!1)}function r3(e,t,r,a){let i=typeof t=="string"?ki(t):t,l=Ts(i.pathname||"/",r);if(l==null)return null;let u=mj(e);s3(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let h=p3(l);d=m3(u[m],h,a)}return d}function mj(e,t=[],r=[],a="",i=!1){let l=(u,d,m=i,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(a)&&m)return;Dt(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length)}let v=Rs([a,p.relativePath]),y=r.concat(p);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mj(u.children,t,y,v,m)),!(u.path==null&&!u.index)&&t.push({path:v,score:d3(v,u.index),routesMeta:y})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let m of hj(u.path))l(u,d,!0,m)}),t}function hj(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=hj(a.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),i&&d.push(...u),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function s3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f3(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var a3=/^:[\w-]+$/,o3=3,i3=2,l3=1,c3=10,u3=-2,Uw=e=>e==="*";function d3(e,t){let r=e.split("/"),a=r.length;return r.some(Uw)&&(a+=u3),t&&(a+=i3),r.filter(i=>!Uw(i)).reduce((i,l)=>i+(a3.test(l)?o3:l===""?l3:c3),a)}function f3(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function m3(e,t,r=!1){let{routesMeta:a}=e,i={},l="/",u=[];for(let d=0;d<a.length;++d){let m=a[d],h=d===a.length-1,p=l==="/"?t:t.slice(l.length)||"/",v=Xd({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),y=m.route;if(!v&&h&&r&&!a[a.length-1].route.index&&(v=Xd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Rs([l,v.pathname]),pathnameBase:b3(Rs([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Rs([l,v.pathnameBase]))}return u}function Xd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=h3(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((h,{paramName:p,isOptional:v},y)=>{if(p==="*"){let j=d[y]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[y];return v&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:e}}function h3(e,t=!1,r=!0){Qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function p3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x3=e=>g3.test(e);function v3(e,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?ki(e):e,l;if(r)if(x3(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?l=Vw(r.substring(1),"/"):l=Vw(r,t)}else l=t;return{pathname:l,search:w3(a),hash:N3(i)}}function Vw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ip(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vx(e){let t=y3(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function yx(e,t,r,a=!1){let i;typeof e=="string"?i=ki(e):(i={...e},Dt(!i.pathname||!i.pathname.includes("?"),Ip("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Ip("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Ip("#","search","hash",i)));let l=e===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=r;else{let v=t.length-1;if(!a&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}d=v>=0?t[v]:"/"}let m=v3(i,d),h=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Rs=e=>e.join("/").replace(/\/\/+/g,"/"),b3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pj=["POST","PUT","PATCH","DELETE"];new Set(pj);var S3=["GET",...pj];new Set(S3);var Ai=x.createContext(null);Ai.displayName="DataRouter";var kf=x.createContext(null);kf.displayName="DataRouterState";x.createContext(!1);var gj=x.createContext({isTransitioning:!1});gj.displayName="ViewTransition";var _3=x.createContext(new Map);_3.displayName="Fetchers";var E3=x.createContext(null);E3.displayName="Await";var Mr=x.createContext(null);Mr.displayName="Navigation";var Ac=x.createContext(null);Ac.displayName="Location";var Tr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var bx=x.createContext(null);bx.displayName="RouteError";function C3(e,{relative:t}={}){Dt(Ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=x.useContext(Mr),{hash:i,pathname:l,search:u}=Mc(e,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:Rs([r,l])),a.createHref({pathname:d,search:u,hash:i})}function Ri(){return x.useContext(Ac)!=null}function ns(){return Dt(Ri(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ac).location}var xj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vj(e){x.useContext(Mr).static||x.useLayoutEffect(e)}function Rc(){let{isDataRoute:e}=x.useContext(Tr);return e?U3():k3()}function k3(){Dt(Ri(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ai),{basename:t,navigator:r}=x.useContext(Mr),{matches:a}=x.useContext(Tr),{pathname:i}=ns(),l=JSON.stringify(vx(a)),u=x.useRef(!1);return vj(()=>{u.current=!0}),x.useCallback((m,h={})=>{if(Qn(u.current,xj),!u.current)return;if(typeof m=="number"){r.go(m);return}let p=yx(m,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Rs([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,i,e])}var A3=x.createContext(null);function R3(e){let t=x.useContext(Tr).outlet;return x.useMemo(()=>t&&x.createElement(A3.Provider,{value:e},t),[t,e])}function Mc(e,{relative:t}={}){let{matches:r}=x.useContext(Tr),{pathname:a}=ns(),i=JSON.stringify(vx(r));return x.useMemo(()=>yx(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function M3(e,t){return yj(e,t)}function yj(e,t,r,a,i){Dt(Ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Mr),{matches:u}=x.useContext(Tr),d=u[u.length-1],m=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",v=d&&d.route;{let C=v&&v.path||"";bj(h,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=ns(),b;if(t){let C=typeof t=="string"?ki(t):t;Dt(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=y;let j=b.pathname||"/",N=j;if(p!=="/"){let C=p.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=fj(e,{pathname:N});Qn(v||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=I3(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Rs([p,l.encodeLocation?l.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Rs([p,l.encodeLocation?l.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),u,r,a,i);return t&&_?x.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function T3(){let e=B3(),t=j3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,u)}var D3=x.createElement(T3,null),O3=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Tr.Provider,{value:this.props.routeContext},x.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z3({routeContext:e,match:t,children:r}){let a=x.useContext(Ai);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Tr.Provider,{value:e},r)}function I3(e,t=[],r=null,a=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=r?.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(r)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=p),v.route.id){let{loaderData:y,errors:b}=r,j=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||j){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let h=r&&a?(p,v)=>{a(p,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((p,v,y)=>{let b,j=!1,N=null,S=null;r&&(b=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||D3,d&&(m<0&&y===0?(bj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,S=null):m===y&&(j=!0,S=v.route.hydrateFallbackElement||null)));let _=t.concat(l.slice(0,y+1)),C=()=>{let E;return b?E=N:j?E=S:v.route.Component?E=x.createElement(v.route.Component,null):v.route.element?E=v.route.element:E=p,x.createElement(z3,{match:v,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:E})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?x.createElement(O3,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):C()},null)}function wx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L3(e){let t=x.useContext(Ai);return Dt(t,wx(e)),t}function P3(e){let t=x.useContext(kf);return Dt(t,wx(e)),t}function $3(e){let t=x.useContext(Tr);return Dt(t,wx(e)),t}function Nx(e){let t=$3(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function H3(){return Nx("useRouteId")}function B3(){let e=x.useContext(bx),t=P3("useRouteError"),r=Nx("useRouteError");return e!==void 0?e:t.errors?.[r]}function U3(){let{router:e}=L3("useNavigate"),t=Nx("useNavigate"),r=x.useRef(!1);return vj(()=>{r.current=!0}),x.useCallback(async(i,l={})=>{Qn(r.current,xj),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var Fw={};function bj(e,t,r){!t&&!Fw[e]&&(Fw[e]=!0,Qn(!1,r))}x.memo(V3);function V3({routes:e,future:t,state:r,unstable_onError:a}){return yj(e,void 0,r,a,t)}function qw({to:e,replace:t,state:r,relative:a}){Dt(Ri(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Mr);Qn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(Tr),{pathname:u}=ns(),d=Rc(),m=yx(e,vx(l),u,a==="path"),h=JSON.stringify(m);return x.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:a})},[d,h,a,t,r]),null}function F3(e){return R3(e.context)}function Xn(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q3({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:l=!1}){Dt(!Ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof r=="string"&&(r=ki(r));let{pathname:m="/",search:h="",hash:p="",state:v=null,key:y="default"}=r,b=x.useMemo(()=>{let j=Ts(m,u);return j==null?null:{location:{pathname:j,search:h,hash:p,state:v,key:y},navigationType:a}},[u,m,h,p,v,y,a]);return Qn(b!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Mr.Provider,{value:d},x.createElement(Ac.Provider,{children:t,value:b}))}function Y3({children:e,location:t}){return M3(jg(e),t)}function jg(e,t=[]){let r=[];return x.Children.forEach(e,(a,i)=>{if(!x.isValidElement(a))return;let l=[...t,i];if(a.type===x.Fragment){r.push.apply(r,jg(a.props.children,l));return}Dt(a.type===Xn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=jg(a.props.children,l)),r.push(u)}),r}var Td="get",Dd="application/x-www-form-urlencoded";function Af(e){return e!=null&&typeof e.tagName=="string"}function G3(e){return Af(e)&&e.tagName.toLowerCase()==="button"}function X3(e){return Af(e)&&e.tagName.toLowerCase()==="form"}function W3(e){return Af(e)&&e.tagName.toLowerCase()==="input"}function Z3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K3(e,t){return e.button===0&&(!t||t==="_self")&&!Z3(e)}function Sg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(i=>[r,i]):[[r,a]])},[]))}function Q3(e,t){let r=Sg(e);return t&&t.forEach((a,i)=>{r.has(i)||t.getAll(i).forEach(l=>{r.append(i,l)})}),r}var cd=null;function J3(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var eR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!eR.has(e)?(Qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):e}function tR(e,t){let r,a,i,l,u;if(X3(e)){let d=e.getAttribute("action");a=d?Ts(d,t):null,r=e.getAttribute("method")||Td,i=Lp(e.getAttribute("enctype"))||Dd,l=new FormData(e)}else if(G3(e)||W3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(a=m?Ts(m,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Td,i=Lp(e.getAttribute("formenctype"))||Lp(d.getAttribute("enctype"))||Dd,l=new FormData(d,e),!J3()){let{name:h,type:p,value:v}=e;if(p==="image"){let y=h?`${h}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else h&&l.append(h,v)}}else{if(Af(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Td,a=null,i=Dd,u=e}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nR(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Ts(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function rR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function aR(e,t,r){let a=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let u=await rR(l,r);return u.links?u.links():[]}return[]}));return cR(a.flat(1).filter(sR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yw(e,t,r,a,i,l){let u=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,d=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,h)=>u(m,h)||d(m,h)):l==="data"?t.filter((m,h)=>{let p=a.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(u(m,h)||d(m,h))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oR(e,t,{includeHydrateFallback:r}={}){return iR(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function iR(e){return[...new Set(e)]}function lR(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function cR(e,t){let r=new Set;return new Set(t),e.reduce((a,i)=>{let l=JSON.stringify(lR(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function wj(){let e=x.useContext(Ai);return jx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function uR(){let e=x.useContext(kf);return jx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sx=x.createContext(void 0);Sx.displayName="FrameworkContext";function Nj(){let e=x.useContext(Sx);return jx(e,"You must render this element inside a <HydratedRouter> element"),e}function dR(e,t){let r=x.useContext(Sx),[a,i]=x.useState(!1),[l,u]=x.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=_=>{_.forEach(C=>{u(C.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let b=()=>{i(!0)},j=()=>{i(!1),u(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:ql(d,b),onBlur:ql(m,j),onMouseEnter:ql(h,b),onMouseLeave:ql(p,j),onTouchStart:ql(v,b)}]:[!1,y,{}]}function ql(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function fR({page:e,...t}){let{router:r}=wj(),a=x.useMemo(()=>fj(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?x.createElement(hR,{page:e,matches:a,...t}):null}function mR(e){let{manifest:t,routeModules:r}=Nj(),[a,i]=x.useState([]);return x.useEffect(()=>{let l=!1;return aR(e,t,r).then(u=>{l||i(u)}),()=>{l=!0}},[e,t,r]),a}function hR({page:e,matches:t,...r}){let a=ns(),{manifest:i,routeModules:l}=Nj(),{basename:u}=wj(),{loaderData:d,matches:m}=uR(),h=x.useMemo(()=>Yw(e,t,m,i,a,"data"),[e,t,m,i,a]),p=x.useMemo(()=>Yw(e,t,m,i,a,"assets"),[e,t,m,i,a]),v=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,N=!1;if(t.forEach(_=>{let C=i.routes[_.route.id];!C||!C.hasLoader||(!h.some(E=>E.route.id===_.route.id)&&_.route.id in d&&l[_.route.id]?.shouldRevalidate||C.hasClientLoader?N=!0:j.add(_.route.id))}),j.size===0)return[];let S=nR(e,u,"data");return N&&j.size>0&&S.searchParams.set("_routes",t.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[u,d,a,i,h,t,e,l]),y=x.useMemo(()=>oR(p,i),[p,i]),b=mR(p);return x.createElement(x.Fragment,null,v.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),y.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:N})=>x.createElement("link",{key:j,nonce:r.nonce,...N})))}function pR(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jj&&(window.__reactRouterVersion="7.9.6")}catch{}function gR({basename:e,children:t,window:r}){let a=x.useRef();a.current==null&&(a.current=JA({window:r,v5Compat:!0}));let i=a.current,[l,u]=x.useState({action:i.action,location:i.location}),d=x.useCallback(m=>{x.startTransition(()=>u(m))},[u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(q3,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var Sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=x.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:d,target:m,to:h,preventScrollReset:p,viewTransition:v,...y},b){let{basename:j}=x.useContext(Mr),N=typeof h=="string"&&Sj.test(h),S,_=!1;if(typeof h=="string"&&N&&(S=h,jj))try{let B=new URL(window.location.href),H=h.startsWith("//")?new URL(B.protocol+h):new URL(h),X=Ts(H.pathname,j);H.origin===B.origin&&X!=null?h=X+H.search+H.hash:_=!0}catch{Qn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=C3(h,{relative:i}),[E,k,M]=dR(a,y),O=bR(h,{replace:u,state:d,target:m,preventScrollReset:p,relative:i,viewTransition:v});function D(B){t&&t(B),B.defaultPrevented||O(B)}let z=x.createElement("a",{...y,...M,href:S||C,onClick:_||l?t:D,ref:pR(b,k),target:m,"data-discover":!N&&r==="render"?"true":void 0});return E&&!N?x.createElement(x.Fragment,null,z,x.createElement(fR,{page:C})):z});ur.displayName="Link";var xR=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:d,children:m,...h},p){let v=Mc(u,{relative:h.relative}),y=ns(),b=x.useContext(kf),{navigator:j,basename:N}=x.useContext(Mr),S=b!=null&&ER(v)&&d===!0,_=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,C=y.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(C=C.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&N&&(E=Ts(E,N)||E);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=C===_||!i&&C.startsWith(_)&&C.charAt(k)==="/",O=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),D={isActive:M,isPending:O,isTransitioning:S},z=M?t:void 0,B;typeof a=="function"?B=a(D):B=[a,M?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(D):l;return x.createElement(ur,{...h,"aria-current":z,className:B,ref:p,style:H,to:u,viewTransition:d},typeof m=="function"?m(D):m)});xR.displayName="NavLink";var vR=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:l,method:u=Td,action:d,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:v,...y},b)=>{let j=SR(),N=_R(d,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Sj.test(d),C=E=>{if(m&&m(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,M=k?.getAttribute("formmethod")||u;j(k||E.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:i,state:l,relative:h,preventScrollReset:p,viewTransition:v})};return x.createElement("form",{ref:b,method:S,action:N,onSubmit:a?m:C,...y,"data-discover":!_&&e==="render"?"true":void 0})});vR.displayName="Form";function yR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _j(e){let t=x.useContext(Ai);return Dt(t,yR(e)),t}function bR(e,{target:t,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:u}={}){let d=Rc(),m=ns(),h=Mc(e,{relative:l});return x.useCallback(p=>{if(K3(p,t)){p.preventDefault();let v=r!==void 0?r:lc(m)===lc(h);d(e,{replace:v,state:a,preventScrollReset:i,relative:l,viewTransition:u})}},[m,d,h,r,a,t,e,i,l,u])}function wR(e){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Sg(e)),r=x.useRef(!1),a=ns(),i=x.useMemo(()=>Q3(a.search,r.current?null:t.current),[a.search]),l=Rc(),u=x.useCallback((d,m)=>{const h=Sg(typeof d=="function"?d(new URLSearchParams(i)):d);r.current=!0,l("?"+h,m)},[l,i]);return[i,u]}var NR=0,jR=()=>`__${String(++NR)}__`;function SR(){let{router:e}=_j("useSubmit"),{basename:t}=x.useContext(Mr),r=H3();return x.useCallback(async(a,i={})=>{let{action:l,method:u,encType:d,formData:m,body:h}=tR(a,t);if(i.navigate===!1){let p=i.fetcherKey||jR();await e.fetch(p,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function _R(e,{relative:t}={}){let{basename:r}=x.useContext(Mr),a=x.useContext(Tr);Dt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Mc(e||".",{relative:t})},u=ns();if(e==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(p=>p==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Rs([r,l.pathname])),lc(l)}function ER(e,{relative:t}={}){let r=x.useContext(gj);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=_j("useViewTransitionState"),i=Mc(e,{relative:t});if(!r.isTransitioning)return!1;let l=Ts(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=Ts(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Xd(i.pathname,u)!=null||Xd(i.pathname,l)!=null}var qr=dj();const CR=xx(qr);function Gw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rf(...e){return t=>{let r=!1;const a=e.map(i=>{const l=Gw(i,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():Gw(e[i],null)}}}}function et(...e){return x.useCallback(Rf(...e),e)}function ro(e){const t=AR(e),r=x.forwardRef((a,i)=>{const{children:l,...u}=a,d=x.Children.toArray(l),m=d.find(MR);if(m){const h=m.props.children,p=d.map(v=>v===m?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:v);return s.jsx(t,{...u,ref:i,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return s.jsx(t,{...u,ref:i,children:l})});return r.displayName=`${e}.Slot`,r}var kR=ro("Slot");function AR(e){const t=x.forwardRef((r,a)=>{const{children:i,...l}=r;if(x.isValidElement(i)){const u=DR(i),d=TR(l,i.props);return i.type!==x.Fragment&&(d.ref=a?Rf(a,u):u),x.cloneElement(i,d)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ej=Symbol("radix.slottable");function RR(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Ej,t}function MR(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ej}function TR(e,t){const r={...t};for(const a in t){const i=e[a],l=t[a];/^on[A-Z]/.test(a)?i&&l?r[a]=(...d)=>{const m=l(...d);return i(...d),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...l}:a==="className"&&(r[a]=[i,l].filter(Boolean).join(" "))}return{...e,...r}}function DR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Cj(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Cj(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function kj(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Cj(e))&&(a&&(a+=" "),a+=t);return a}const Xw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ww=kj,Aj=(e,t)=>r=>{var a;if(t?.variants==null)return Ww(e,r?.class,r?.className);const{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(h=>{const p=r?.[h],v=l?.[h];if(p===null)return null;const y=Xw(p)||Xw(v);return i[h][y]}),d=r&&Object.entries(r).reduce((h,p)=>{let[v,y]=p;return y===void 0||(h[v]=y),h},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((h,p)=>{let{class:v,className:y,...b}=p;return Object.entries(b).every(j=>{let[N,S]=j;return Array.isArray(S)?S.includes({...l,...d}[N]):{...l,...d}[N]===S})?[...h,v,y]:h},[]);return Ww(e,u,m,r?.class,r?.className)},_x="-",OR=e=>{const t=IR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const d=u.split(_x);return d[0]===""&&d.length!==1&&d.shift(),Rj(d,t)||zR(u)},getConflictingClassGroupIds:(u,d)=>{const m=r[u]||[];return d&&a[u]?[...m,...a[u]]:m}}},Rj=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?Rj(e.slice(1),a):void 0;if(i)return i;if(t.validators.length===0)return;const l=e.join(_x);return t.validators.find(({validator:u})=>u(l))?.classGroupId},Zw=/^\[(.+)\]$/,zR=e=>{if(Zw.test(e)){const t=Zw.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},IR=e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const i in r)_g(r[i],a,i,t);return a},_g=(e,t,r,a)=>{e.forEach(i=>{if(typeof i=="string"){const l=i===""?t:Kw(t,i);l.classGroupId=r;return}if(typeof i=="function"){if(LR(i)){_g(i(a),t,r,a);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([l,u])=>{_g(u,Kw(t,l),r,a)})})},Kw=(e,t)=>{let r=e;return t.split(_x).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},LR=e=>e.isThemeGetter,PR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const i=(l,u)=>{r.set(l,u),t++,t>e&&(t=0,a=r,r=new Map)};return{get(l){let u=r.get(l);if(u!==void 0)return u;if((u=a.get(l))!==void 0)return i(l,u),u},set(l,u){r.has(l)?r.set(l,u):i(l,u)}}},Eg="!",Cg=":",$R=Cg.length,HR=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=i=>{const l=[];let u=0,d=0,m=0,h;for(let j=0;j<i.length;j++){let N=i[j];if(u===0&&d===0){if(N===Cg){l.push(i.slice(m,j)),m=j+$R;continue}if(N==="/"){h=j;continue}}N==="["?u++:N==="]"?u--:N==="("?d++:N===")"&&d--}const p=l.length===0?i:i.substring(m),v=BR(p),y=v!==p,b=h&&h>m?h-m:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:b}};if(t){const i=t+Cg,l=a;a=u=>u.startsWith(i)?l(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const i=a;a=l=>r({className:l,parseClassName:i})}return a},BR=e=>e.endsWith(Eg)?e.substring(0,e.length-1):e.startsWith(Eg)?e.substring(1):e,UR=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let l=[];return a.forEach(u=>{u[0]==="["||t[u]?(i.push(...l.sort(),u),l=[]):l.push(u)}),i.push(...l.sort()),i}},VR=e=>({cache:PR(e.cacheSize),parseClassName:HR(e),sortModifiers:UR(e),...OR(e)}),FR=/\s+/,qR=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:l}=t,u=[],d=e.trim().split(FR);let m="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:v,modifiers:y,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:N}=r(p);if(v){m=p+(m.length>0?" "+m:m);continue}let S=!!N,_=a(S?j.substring(0,N):j);if(!_){if(!S){m=p+(m.length>0?" "+m:m);continue}if(_=a(j),!_){m=p+(m.length>0?" "+m:m);continue}S=!1}const C=l(y).join(":"),E=b?C+Eg:C,k=E+_;if(u.includes(k))continue;u.push(k);const M=i(_,S);for(let O=0;O<M.length;++O){const D=M[O];u.push(E+D)}m=p+(m.length>0?" "+m:m)}return m};function YR(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Mj(t))&&(a&&(a+=" "),a+=r);return a}const Mj=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=Mj(e[a]))&&(r&&(r+=" "),r+=t);return r};function GR(e,...t){let r,a,i,l=u;function u(m){const h=t.reduce((p,v)=>v(p),e());return r=VR(h),a=r.cache.get,i=r.cache.set,l=d,d(m)}function d(m){const h=a(m);if(h)return h;const p=qR(m,r);return i(m,p),p}return function(){return l(YR.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Tj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Dj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XR=/^\d+\/\d+$/,WR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=e=>XR.test(e),Je=e=>!!e&&!Number.isNaN(Number(e)),ma=e=>!!e&&Number.isInteger(Number(e)),Pp=e=>e.endsWith("%")&&Je(e.slice(0,-1)),Es=e=>WR.test(e),eM=()=>!0,tM=e=>ZR.test(e)&&!KR.test(e),Oj=()=>!1,nM=e=>QR.test(e),rM=e=>JR.test(e),sM=e=>!ze(e)&&!Ie(e),aM=e=>Mi(e,Lj,Oj),ze=e=>Tj.test(e),Ka=e=>Mi(e,Pj,tM),$p=e=>Mi(e,uM,Je),Qw=e=>Mi(e,zj,Oj),oM=e=>Mi(e,Ij,rM),ud=e=>Mi(e,$j,nM),Ie=e=>Dj.test(e),Yl=e=>Ti(e,Pj),iM=e=>Ti(e,dM),Jw=e=>Ti(e,zj),lM=e=>Ti(e,Lj),cM=e=>Ti(e,Ij),dd=e=>Ti(e,$j,!0),Mi=(e,t,r)=>{const a=Tj.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},Ti=(e,t,r=!1)=>{const a=Dj.exec(e);return a?a[1]?t(a[1]):r:!1},zj=e=>e==="position"||e==="percentage",Ij=e=>e==="image"||e==="url",Lj=e=>e==="length"||e==="size"||e==="bg-size",Pj=e=>e==="length",uM=e=>e==="number",dM=e=>e==="family-name",$j=e=>e==="shadow",fM=()=>{const e=Kt("color"),t=Kt("font"),r=Kt("text"),a=Kt("font-weight"),i=Kt("tracking"),l=Kt("leading"),u=Kt("breakpoint"),d=Kt("container"),m=Kt("spacing"),h=Kt("radius"),p=Kt("shadow"),v=Kt("inset-shadow"),y=Kt("text-shadow"),b=Kt("drop-shadow"),j=Kt("blur"),N=Kt("perspective"),S=Kt("aspect"),_=Kt("ease"),C=Kt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...k(),Ie,ze],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],z=()=>[Ie,ze,m],B=()=>[ti,"full","auto",...z()],H=()=>[ma,"none","subgrid",Ie,ze],X=()=>["auto",{span:["full",ma,Ie,ze]},ma,Ie,ze],G=()=>[ma,"auto",Ie,ze],ee=()=>["auto","min","max","fr",Ie,ze],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...z()],L=()=>[ti,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],$=()=>[e,Ie,ze],V=()=>[...k(),Jw,Qw,{position:[Ie,ze]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",lM,aM,{size:[Ie,ze]}],Z=()=>[Pp,Yl,Ka],K=()=>["","none","full",h,Ie,ze],ne=()=>["",Je,Yl,Ka],fe=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[Je,Pp,Jw,Qw],Q=()=>["","none",j,Ie,ze],de=()=>["none",Je,Ie,ze],he=()=>["none",Je,Ie,ze],Ee=()=>[Je,Ie,ze],we=()=>[ti,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Es],breakpoint:[Es],color:[eM],container:[Es],"drop-shadow":[Es],ease:["in","out","in-out"],font:[sM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Es],shadow:[Es],spacing:["px",Je],text:[Es],"text-shadow":[Es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ti,ze,Ie,S]}],container:["container"],columns:[{columns:[Je,ze,Ie,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[ma,"auto",Ie,ze]}],basis:[{basis:[ti,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,ti,"auto","initial","none",ze]}],grow:[{grow:["",Je,Ie,ze]}],shrink:[{shrink:["",Je,Ie,ze]}],order:[{order:[ma,"first","last","none",Ie,ze]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[d,"screen",...L()]}],"min-w":[{"min-w":[d,"screen","none",...L()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,Yl,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ie,$p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pp,ze]}],"font-family":[{font:[iM,ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,ze]}],"line-clamp":[{"line-clamp":[Je,"none",Ie,$p]}],leading:[{leading:[l,...z()]}],"list-image":[{"list-image":["none",Ie,ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ie,Ka]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Je,"auto",Ie,ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ma,Ie,ze],radial:["",Ie,ze],conic:[ma,Ie,ze]},cM,oM]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ie,ze]}],"outline-w":[{outline:["",Je,Yl,Ka]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",p,dd,ud]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",v,dd,ud]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Je,Ka]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",y,dd,ud]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Je,Ie,ze]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,ze]}],filter:[{filter:["","none",Ie,ze]}],blur:[{blur:Q()}],brightness:[{brightness:[Je,Ie,ze]}],contrast:[{contrast:[Je,Ie,ze]}],"drop-shadow":[{"drop-shadow":["","none",b,dd,ud]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Je,Ie,ze]}],"hue-rotate":[{"hue-rotate":[Je,Ie,ze]}],invert:[{invert:["",Je,Ie,ze]}],saturate:[{saturate:[Je,Ie,ze]}],sepia:[{sepia:["",Je,Ie,ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,ze]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ie,ze]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ie,ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ie,ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ie,ze]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ie,ze]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ie,ze]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ie,ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ie,ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ie,ze]}],ease:[{ease:["linear","initial",_,Ie,ze]}],delay:[{delay:[Je,Ie,ze]}],animate:[{animate:["none",C,Ie,ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ie,ze]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[Ie,ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,ze]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Je,Yl,Ka,$p]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mM=GR(fM);function He(...e){return mM(kj(e))}const Ex=Aj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ge({className:e,variant:t,size:r,asChild:a=!1,...i}){const l=a?kR:"button";return s.jsx(l,{"data-slot":"button",className:He(Ex({variant:t,size:r,className:e})),...i})}function hM(){return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("header",{className:"border-b p-4 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"AI Platform"}),s.jsx("nav",{className:"flex gap-4",children:s.jsx(ur,{to:"/login",children:s.jsx(ge,{variant:"outline",children:"Login"})})})]}),s.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Build and Deploy AI Agents"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"The complete platform for orchestrating generative AI workflows."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(ur,{to:"/platform/dashboard",children:s.jsx(ge,{size:"lg",children:"Get Started"})}),s.jsx(ur,{to:"/platform/debug",children:s.jsx(ge,{variant:"secondary",size:"lg",children:"Debug Mode"})})]})]})]})}function at({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:He("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function ct({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:He("bg-card text-card-foreground flex flex-col gap-6 rounded border py-6 shadow-sm",e),...t})}function gn({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:He("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Jt({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:He("leading-none font-semibold",e),...t})}function Jl({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:He("text-muted-foreground text-sm",e),...t})}function ut({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:He("px-6",e),...t})}function pM({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:He("flex items-center px-6 [.border-t]:pt-6",e),...t})}function gM(){const e=Rc(),t=r=>{r.preventDefault(),e("/platform/dashboard")};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/50",children:s.jsxs(ct,{className:"w-[350px]",children:[s.jsx(gn,{children:s.jsx(Jt,{children:"Login to AI Platform"})}),s.jsx(ut,{children:s.jsxs("form",{onSubmit:t,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",children:"Email"}),s.jsx(at,{id:"email",type:"email",placeholder:"user@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsx(at,{id:"password",type:"password"})]}),s.jsx(ge,{type:"submit",className:"w-full",children:"Sign In"})]})})]})})}const xM=1,vM=1e6;let Hp=0;function yM(){return Hp=(Hp+1)%Number.MAX_SAFE_INTEGER,Hp.toString()}const Bp=new Map,e1=e=>{if(Bp.has(e))return;const t=setTimeout(()=>{Bp.delete(e),ec({type:"REMOVE_TOAST",toastId:e})},vM);Bp.set(e,t)},bM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?e1(r):e.toasts.forEach(a=>{e1(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Od=[];let zd={toasts:[]};function ec(e){zd=bM(zd,e),Od.forEach(t=>{t(zd)})}function wM({...e}){const t=yM(),r=i=>ec({type:"UPDATE_TOAST",toast:{...i,id:t}}),a=()=>ec({type:"DISMISS_TOAST",toastId:t});return ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||a()}}}),{id:t,dismiss:a,update:r}}function Mf(){const[e,t]=x.useState(zd);return x.useEffect(()=>(Od.push(t),()=>{const r=Od.indexOf(t);r>-1&&Od.splice(r,1)}),[e]),{...e,toast:wM,dismiss:r=>ec({type:"DISMISS_TOAST",toastId:r})}}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),t1=e=>{const t=jM(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hj=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),SM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...d},m)=>x.createElement("svg",{ref:m,..._M,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:Hj("lucide",i),...!l&&!SM(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,p])=>x.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const r=x.forwardRef(({className:a,...i},l)=>x.createElement(EM,{ref:l,iconNode:t,className:Hj(`lucide-${NM(t1(e))}`,`lucide-${e}`,a),...i}));return r.displayName=t1(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cx=je("activity",CM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],AM=je("arrow-down",kM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],MM=je("arrow-left-right",RM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],DM=je("arrow-left",TM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Wd=je("arrow-right-left",OM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],so=je("arrow-right",zM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kx=je("book-open",IM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ft=je("bot",LM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],$M=je("boxes",PM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],BM=je("bug",HM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],VM=je("check-check",UM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Di=je("check",FM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],En=je("chevron-down",qM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bj=je("chevron-left",YM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cr=je("chevron-right",GM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zd=je("chevron-up",XM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Er=je("circle-alert",WM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tf=je("circle-check-big",ZM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wn=je("circle-check",KM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JM=je("circle-play",QM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tc=je("circle-x",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nT=je("clock",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sT=je("cloud",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Df=je("code",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],iT=je("container",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wa=je("copy",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],n1=je("crown",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kg=je("database",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ao=je("download",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ax=je("ellipsis-vertical",fT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],hT=je("ellipsis",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kd=je("external-link",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xT=je("eye",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Uj=je("file-json",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ea=je("file-text",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Vj=je("folder-open",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],NT=je("funnel",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Qd=je("git-branch",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],li=je("git-fork",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fj=je("globe",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],CT=je("grid-3x3",ET);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AT=je("grip-vertical",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],MT=je("house",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DT=je("image",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xi=je("info",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],IT=je("key",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PT=je("layout-dashboard",LT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],HT=je("layers",$T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],UT=je("lightbulb",BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wr=je("loader-circle",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qT=je("lock",FT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GT=je("log-out",YT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],WT=je("map",XT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],KT=je("maximize",ZT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],JT=je("message-circle",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Rx=je("message-square",eD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nD=je("moon",tD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],qj=je("music",rD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ag=je("package",sD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],oD=je("panel-right-open",aD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],lD=je("paperclip",iD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mx=je("pencil",cD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Tx=je("play",uD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rt=je("plus",dD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dc=je("refresh-cw",fD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rg=je("rocket",mD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Dx=je("rotate-ccw",hD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mg=je("save",pD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oo=je("search",gD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],vD=je("send-horizontal",xD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tc=je("send",yD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5",key:"bt2siv"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z",key:"1hjrv1"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1",key:"1iynyr"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z",key:"161ggg"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wD=je("server-off",bD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jd=je("settings",ND);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],r1=je("shield",jD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],_D=je("shuffle",SD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],CD=je("split",ED);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],AD=je("sun",kD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],s1=je("target",RD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mr=je("trash-2",MD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DD=je("triangle-alert",TD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yj=je("upload",OD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ox=je("user",zD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ef=je("users",ID);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Yr=je("workflow",LD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Oc=je("wrench",PD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vi=je("x",$D);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zx=je("zap",HD);function Ix({message:e,type:t="info",duration:r=4e3,onClose:a}){const[i,l]=x.useState(!0);x.useEffect(()=>{const m=setTimeout(()=>{l(!1),setTimeout(a,300)},r);return()=>clearTimeout(m)},[r,a]);const u={info:"bg-primary/10 border-primary/20",success:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",warning:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",error:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}[t],d={info:"text-primary",success:"text-green-800 dark:text-green-200",warning:"text-orange-800 dark:text-orange-200",error:"text-red-800 dark:text-red-200"}[t];return s.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-md transition-all duration-300 ${i?"opacity-100 translate-x-0":"opacity-0 translate-x-4"} ${u}`,children:[s.jsx("p",{className:`text-sm flex-1 ${d}`,children:e}),s.jsx("button",{onClick:()=>{l(!1),setTimeout(a,300)},className:`flex-shrink-0 hover:opacity-70 transition-opacity ${d}`,children:s.jsx(vi,{className:"h-4 w-4"})})]})}function BD({toasts:e,onRemove:t}){return s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(r=>s.jsx(Ix,{message:r.message,type:r.type,duration:r.duration,onClose:()=>t(r.id)},r.id))})}function UD(){const{toasts:e,dismiss:t}=Mf();return s.jsx(s.Fragment,{children:e.map(function({id:r,title:a,description:i,variant:l,...u}){const d=i?`${a} - ${i}`:a,m=l==="destructive"?"error":"info";return s.jsx(Ix,{message:d,type:m,onClose:()=>t(r),...u},r)})})}function VD(){const e=ns(),t=r=>e.pathname.startsWith(r);return s.jsxs("div",{className:"flex h-screen bg-background",children:[s.jsxs("aside",{className:"w-64 border-r bg-muted/30 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(ft,{className:"h-6 w-6"}),"AI Platform"]})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[s.jsx(ur,{to:"/platform/dashboard",children:s.jsxs(ge,{variant:t("/platform/dashboard")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx(PT,{className:"h-4 w-4"}),"Dashboard"]})}),s.jsx(ur,{to:"/platform/agents",children:s.jsxs(ge,{variant:t("/platform/agents")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx($M,{className:"h-4 w-4"}),"Agentes"]})}),s.jsx(ur,{to:"/platform/workflows",children:s.jsxs(ge,{variant:t("/platform/workflows")||t("/platform/studio")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),"Workflows"]})}),s.jsx(ur,{to:"/platform/chat",children:s.jsxs(ge,{variant:t("/platform/chat")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx(Rx,{className:"h-4 w-4"}),"Chat"]})}),s.jsxs("div",{className:"pt-4 mt-4 border-t",children:[s.jsx("p",{className:"px-4 text-xs font-medium text-muted-foreground mb-2",children:"Admin"}),s.jsx(ur,{to:"/platform/users",children:s.jsxs(ge,{variant:t("/platform/users")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx(ef,{className:"h-4 w-4"}),"Users"]})})]}),s.jsxs("div",{className:"pt-4 mt-4 border-t",children:[s.jsx("p",{className:"px-4 text-xs font-medium text-muted-foreground mb-2",children:"Developer"}),s.jsx(ur,{to:"/platform/debug",children:s.jsxs(ge,{variant:t("/platform/debug")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[s.jsx(BM,{className:"h-4 w-4"}),"Debug Console"]})})]})]}),s.jsxs("div",{className:"p-4 border-t space-y-2",children:[s.jsxs(ge,{variant:"ghost",className:"w-full justify-start gap-2",children:[s.jsx(Jd,{className:"h-4 w-4"}),"Settings"]}),s.jsx(ur,{to:"/",children:s.jsxs(ge,{variant:"ghost",className:"w-full justify-start gap-2 text-red-500 hover:text-red-600 hover:bg-red-50",children:[s.jsx(GT,{className:"h-4 w-4"}),"Logout"]})})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(F3,{})}),s.jsx(UD,{})]})}function FD(){return s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ct,{children:[s.jsx(gn,{children:s.jsx(Jt,{children:"My Agents"})}),s.jsxs(ut,{children:[s.jsx("p",{className:"text-2xl font-bold",children:"3"}),s.jsx("p",{className:"text-muted-foreground",children:"Active agents"})]})]}),s.jsxs(ct,{children:[s.jsx(gn,{children:s.jsx(Jt,{children:"Total Executions"})}),s.jsxs(ut,{children:[s.jsx("p",{className:"text-2xl font-bold",children:"1,234"}),s.jsx("p",{className:"text-muted-foreground",children:"This month"})]})]}),s.jsxs(ct,{children:[s.jsx(gn,{children:s.jsx(Jt,{children:"System Status"})}),s.jsx(ut,{children:s.jsx("p",{className:"text-green-500 font-bold",children:"Operational"})})]})]})]})}function Ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function qD(e,t){const r=x.createContext(t),a=l=>{const{children:u,...d}=l,m=x.useMemo(()=>d,Object.values(d));return s.jsx(r.Provider,{value:m,children:u})};a.displayName=e+"Provider";function i(l){const u=x.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[a,i]}function hr(e,t=[]){let r=[];function a(l,u){const d=x.createContext(u),m=r.length;r=[...r,u];const h=v=>{const{scope:y,children:b,...j}=v,N=y?.[e]?.[m]||d,S=x.useMemo(()=>j,Object.values(j));return s.jsx(N.Provider,{value:S,children:b})};h.displayName=l+"Provider";function p(v,y){const b=y?.[e]?.[m]||d,j=x.useContext(b);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[h,p]}const i=()=>{const l=r.map(u=>x.createContext(u));return function(d){const m=d?.[e]||l;return x.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return i.scopeName=e,[a,YD(i,...t)]}function YD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const u=a.reduce((d,{useScope:m,scopeName:h})=>{const v=m(l)[`__scope${h}`];return{...d,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function Lx(e){const t=e+"CollectionProvider",[r,a]=hr(t),[i,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:S,children:_}=N,C=Et.useRef(null),E=Et.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:E,collectionRef:C,children:_})};u.displayName=t;const d=e+"CollectionSlot",m=ro(d),h=Et.forwardRef((N,S)=>{const{scope:_,children:C}=N,E=l(d,_),k=et(S,E.collectionRef);return s.jsx(m,{ref:k,children:C})});h.displayName=d;const p=e+"CollectionItemSlot",v="data-radix-collection-item",y=ro(p),b=Et.forwardRef((N,S)=>{const{scope:_,children:C,...E}=N,k=Et.useRef(null),M=et(S,k),O=l(p,_);return Et.useEffect(()=>(O.itemMap.set(k,{ref:k,...E}),()=>void O.itemMap.delete(k))),s.jsx(y,{[v]:"",ref:M,children:C})});b.displayName=p;function j(N){const S=l(e+"CollectionConsumer",N);return Et.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((O,D)=>E.indexOf(O.ref.current)-E.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:h,ItemSlot:b},j,a]}var jn=globalThis?.document?x.useLayoutEffect:()=>{},GD=uj[" useId ".trim().toString()]||(()=>{}),XD=0;function Zr(e){const[t,r]=x.useState(GD());return jn(()=>{r(a=>a??String(XD++))},[e]),t?`radix-${t}`:""}var WD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=WD.reduce((e,t)=>{const r=ro(`Primitive.${t}`),a=x.forwardRef((i,l)=>{const{asChild:u,...d}=i,m=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(m,{...d,ref:l})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function Gj(e,t){e&&qr.flushSync(()=>e.dispatchEvent(t))}function Nn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}var ZD=uj[" useInsertionEffect ".trim().toString()]||jn;function Ca({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[i,l,u]=KD({defaultProp:t,onChange:r}),d=e!==void 0,m=d?e:i;{const p=x.useRef(e!==void 0);x.useEffect(()=>{const v=p.current;v!==d&&console.warn(`${a} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,a])}const h=x.useCallback(p=>{if(d){const v=QD(p)?p(e):p;v!==e&&u.current?.(v)}else l(p)},[d,e,l,u]);return[m,h]}function KD({defaultProp:e,onChange:t}){const[r,a]=x.useState(e),i=x.useRef(r),l=x.useRef(t);return ZD(()=>{l.current=t},[t]),x.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,a,l]}function QD(e){return typeof e=="function"}var JD=x.createContext(void 0);function zc(e){const t=x.useContext(JD);return e||t||"ltr"}var Up="rovingFocusGroup.onEntryFocus",e5={bubbles:!1,cancelable:!0},Ic="RovingFocusGroup",[Tg,Xj,t5]=Lx(Ic),[n5,Of]=hr(Ic,[t5]),[r5,s5]=n5(Ic),Wj=x.forwardRef((e,t)=>s.jsx(Tg.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Tg.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(a5,{...e,ref:t})})}));Wj.displayName=Ic;var a5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=e,y=x.useRef(null),b=et(t,y),j=zc(l),[N,S]=Ca({prop:u,defaultProp:d??null,onChange:m,caller:Ic}),[_,C]=x.useState(!1),E=Nn(h),k=Xj(r),M=x.useRef(!1),[O,D]=x.useState(0);return x.useEffect(()=>{const z=y.current;if(z)return z.addEventListener(Up,E),()=>z.removeEventListener(Up,E)},[E]),s.jsx(r5,{scope:r,orientation:a,dir:j,loop:i,currentTabStopId:N,onItemFocus:x.useCallback(z=>S(z),[S]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>D(z=>z+1),[]),onFocusableItemRemove:x.useCallback(()=>D(z=>z-1),[]),children:s.jsx(Ve.div,{tabIndex:_||O===0?-1:0,"data-orientation":a,...v,ref:b,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{M.current=!0}),onFocus:Ae(e.onFocus,z=>{const B=!M.current;if(z.target===z.currentTarget&&B&&!_){const H=new CustomEvent(Up,e5);if(z.currentTarget.dispatchEvent(H),!H.defaultPrevented){const X=k().filter(A=>A.focusable),G=X.find(A=>A.active),ee=X.find(A=>A.id===N),F=[G,ee,...X].filter(Boolean).map(A=>A.ref.current);Qj(F,p)}}M.current=!1}),onBlur:Ae(e.onBlur,()=>C(!1))})})}),Zj="RovingFocusGroupItem",Kj=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:l,children:u,...d}=e,m=Zr(),h=l||m,p=s5(Zj,r),v=p.currentTabStopId===h,y=Xj(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:N}=p;return x.useEffect(()=>{if(a)return b(),()=>j()},[a,b,j]),s.jsx(Tg.ItemSlot,{scope:r,id:h,focusable:a,active:i,children:s.jsx(Ve.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...d,ref:t,onMouseDown:Ae(e.onMouseDown,S=>{a?p.onItemFocus(h):S.preventDefault()}),onFocus:Ae(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ae(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=l5(S,p.orientation,p.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=y().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const k=E.indexOf(S.currentTarget);E=p.loop?c5(E,k+1):E.slice(k+1)}setTimeout(()=>Qj(E))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:N!=null}):u})})});Kj.displayName=Zj;var o5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l5(e,t,r){const a=i5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return o5[a]}function Qj(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function c5(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Jj=Wj,e2=Kj;function u5(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var Pn=e=>{const{present:t,children:r}=e,a=d5(t),i=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),l=et(a.ref,f5(i));return typeof r=="function"||a.isPresent?x.cloneElement(i,{ref:l}):null};Pn.displayName="Presence";function d5(e){const[t,r]=x.useState(),a=x.useRef(null),i=x.useRef(e),l=x.useRef("none"),u=e?"mounted":"unmounted",[d,m]=u5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=fd(a.current);l.current=d==="mounted"?h:"none"},[d]),jn(()=>{const h=a.current,p=i.current;if(p!==e){const y=l.current,b=fd(h);e?m("MOUNT"):b==="none"||h?.display==="none"?m("UNMOUNT"):m(p&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),jn(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,v=b=>{const N=fd(a.current).includes(CSS.escape(b.animationName));if(b.target===t&&N&&(m("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=b=>{b.target===t&&(l.current=fd(a.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function fd(e){return e?.animationName||"none"}function f5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zf="Tabs",[m5,nY]=hr(zf,[Of]),t2=Of(),[h5,Px]=m5(zf),n2=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:d,activationMode:m="automatic",...h}=e,p=zc(d),[v,y]=Ca({prop:a,onChange:i,defaultProp:l??"",caller:zf});return s.jsx(h5,{scope:r,baseId:Zr(),value:v,onValueChange:y,orientation:u,dir:p,activationMode:m,children:s.jsx(Ve.div,{dir:p,"data-orientation":u,...h,ref:t})})});n2.displayName=zf;var r2="TabsList",s2=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...i}=e,l=Px(r2,r),u=t2(r);return s.jsx(Jj,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:a,children:s.jsx(Ve.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});s2.displayName=r2;var a2="TabsTrigger",o2=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:i=!1,...l}=e,u=Px(a2,r),d=t2(r),m=c2(u.baseId,a),h=u2(u.baseId,a),p=a===u.value;return s.jsx(e2,{asChild:!0,...d,focusable:!i,active:p,children:s.jsx(Ve.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:t,onMouseDown:Ae(e.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?u.onValueChange(a):v.preventDefault()}),onKeyDown:Ae(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(a)}),onFocus:Ae(e.onFocus,()=>{const v=u.activationMode!=="manual";!p&&!i&&v&&u.onValueChange(a)})})})});o2.displayName=a2;var i2="TabsContent",l2=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:i,children:l,...u}=e,d=Px(i2,r),m=c2(d.baseId,a),h=u2(d.baseId,a),p=a===d.value,v=x.useRef(p);return x.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(Pn,{present:i||p,children:({present:y})=>s.jsx(Ve.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!y,id:h,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:y&&l})})});l2.displayName=i2;function c2(e,t){return`${e}-trigger-${t}`}function u2(e,t){return`${e}-content-${t}`}var p5=n2,d2=s2,f2=o2,m2=l2;const $x=p5,If=x.forwardRef(({className:e,...t},r)=>s.jsx(d2,{ref:r,className:He("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));If.displayName=d2.displayName;const Na=x.forwardRef(({className:e,...t},r)=>s.jsx(f2,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Na.displayName=f2.displayName;const ja=x.forwardRef(({className:e,...t},r)=>s.jsx(m2,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ja.displayName=m2.displayName;const g5=Aj("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:e,variant:t,...r}){return s.jsx("div",{className:He(g5({variant:t}),e),...r})}function Dg(e,[t,r]){return Math.min(r,Math.max(t,e))}function x5(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var Hx="ScrollArea",[h2,rY]=hr(Hx),[v5,pr]=h2(Hx),p2=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:i,scrollHideDelay:l=600,...u}=e,[d,m]=x.useState(null),[h,p]=x.useState(null),[v,y]=x.useState(null),[b,j]=x.useState(null),[N,S]=x.useState(null),[_,C]=x.useState(0),[E,k]=x.useState(0),[M,O]=x.useState(!1),[D,z]=x.useState(!1),B=et(t,X=>m(X)),H=zc(i);return s.jsx(v5,{scope:r,type:a,dir:H,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:p,content:v,onContentChange:y,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:N,onScrollbarYChange:S,scrollbarYEnabled:D,onScrollbarYEnabledChange:z,onCornerWidthChange:C,onCornerHeightChange:k,children:s.jsx(Ve.div,{dir:H,...u,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});p2.displayName=Hx;var g2="ScrollAreaViewport",x2=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:i,...l}=e,u=pr(g2,r),d=x.useRef(null),m=et(t,d,u.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...l,ref:m,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});x2.displayName=g2;var rs="ScrollAreaScrollbar",Bx=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=pr(rs,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=i,d=e.orientation==="horizontal";return x.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),i.type==="hover"?s.jsx(y5,{...a,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(b5,{...a,ref:t,forceMount:r}):i.type==="auto"?s.jsx(v2,{...a,ref:t,forceMount:r}):i.type==="always"?s.jsx(Ux,{...a,ref:t}):null});Bx.displayName=rs;var y5=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=pr(rs,e.__scopeScrollArea),[l,u]=x.useState(!1);return x.useEffect(()=>{const d=i.scrollArea;let m=0;if(d){const h=()=>{window.clearTimeout(m),u(!0)},p=()=>{m=window.setTimeout(()=>u(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(m),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Pn,{present:r||l,children:s.jsx(v2,{"data-state":l?"visible":"hidden",...a,ref:t})})}),b5=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=pr(rs,e.__scopeScrollArea),l=e.orientation==="horizontal",u=Pf(()=>m("SCROLL_END"),100),[d,m]=x5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,i.scrollHideDelay,m]),x.useEffect(()=>{const h=i.viewport,p=l?"scrollLeft":"scrollTop";if(h){let v=h[p];const y=()=>{const b=h[p];v!==b&&(m("SCROLL"),u()),v=b};return h.addEventListener("scroll",y),()=>h.removeEventListener("scroll",y)}},[i.viewport,l,m,u]),s.jsx(Pn,{present:r||d!=="hidden",children:s.jsx(Ux,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:Ae(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),v2=x.forwardRef((e,t)=>{const r=pr(rs,e.__scopeScrollArea),{forceMount:a,...i}=e,[l,u]=x.useState(!1),d=e.orientation==="horizontal",m=Pf(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?h:p)}},10);return yi(r.viewport,m),yi(r.content,m),s.jsx(Pn,{present:a||l,children:s.jsx(Ux,{"data-state":l?"visible":"hidden",...i,ref:t})})}),Ux=x.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,i=pr(rs,e.__scopeScrollArea),l=x.useRef(null),u=x.useRef(0),[d,m]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=j2(d.viewport,d.content),p={...a,sizes:d,onSizesChange:m,hasThumb:h>0&&h<1,onThumbChange:y=>l.current=y,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:y=>u.current=y};function v(y,b){return E5(y,u.current,d,b)}return r==="horizontal"?s.jsx(w5,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollLeft,b=a1(y,d,i.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=v(y,i.dir))}}):r==="vertical"?s.jsx(N5,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&l.current){const y=i.viewport.scrollTop,b=a1(y,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=v(y))}}):null}),w5=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...i}=e,l=pr(rs,e.__scopeScrollArea),[u,d]=x.useState(),m=x.useRef(null),h=et(t,m,l.onScrollbarXChange);return x.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),s.jsx(b2,{"data-orientation":"horizontal",...i,ref:h,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lf(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,v)=>{if(l.viewport){const y=l.viewport.scrollLeft+p.deltaX;e.onWheelScroll(y),_2(y,v)&&p.preventDefault()}},onResize:()=>{m.current&&l.viewport&&u&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:nf(u.paddingLeft),paddingEnd:nf(u.paddingRight)}})}})}),N5=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...i}=e,l=pr(rs,e.__scopeScrollArea),[u,d]=x.useState(),m=x.useRef(null),h=et(t,m,l.onScrollbarYChange);return x.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),s.jsx(b2,{"data-orientation":"vertical",...i,ref:h,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lf(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,v)=>{if(l.viewport){const y=l.viewport.scrollTop+p.deltaY;e.onWheelScroll(y),_2(y,v)&&p.preventDefault()}},onResize:()=>{m.current&&l.viewport&&u&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:nf(u.paddingTop),paddingEnd:nf(u.paddingBottom)}})}})}),[j5,y2]=h2(rs),b2=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:i,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:m,onDragScroll:h,onWheelScroll:p,onResize:v,...y}=e,b=pr(rs,r),[j,N]=x.useState(null),S=et(t,B=>N(B)),_=x.useRef(null),C=x.useRef(""),E=b.viewport,k=a.content-a.viewport,M=Nn(p),O=Nn(m),D=Pf(v,10);function z(B){if(_.current){const H=B.clientX-_.current.left,X=B.clientY-_.current.top;h({x:H,y:X})}}return x.useEffect(()=>{const B=H=>{const X=H.target;j?.contains(X)&&M(H,k)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[E,j,k,M]),x.useEffect(O,[a,O]),yi(j,D),yi(b.content,D),s.jsx(j5,{scope:r,scrollbar:j,hasThumb:i,onThumbChange:Nn(l),onThumbPointerUp:Nn(u),onThumbPositionChange:O,onThumbPointerDown:Nn(d),children:s.jsx(Ve.div,{...y,ref:S,style:{position:"absolute",...y.style},onPointerDown:Ae(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),_.current=j.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),z(B))}),onPointerMove:Ae(e.onPointerMove,z),onPointerUp:Ae(e.onPointerUp,B=>{const H=B.target;H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),_.current=null})})})}),tf="ScrollAreaThumb",w2=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=y2(tf,e.__scopeScrollArea);return s.jsx(Pn,{present:r||i.hasThumb,children:s.jsx(S5,{ref:t,...a})})}),S5=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...i}=e,l=pr(tf,r),u=y2(tf,r),{onThumbPositionChange:d}=u,m=et(t,v=>u.onThumbChange(v)),h=x.useRef(void 0),p=Pf(()=>{h.current&&(h.current(),h.current=void 0)},100);return x.useEffect(()=>{const v=l.viewport;if(v){const y=()=>{if(p(),!h.current){const b=C5(v,d);h.current=b,d()}};return d(),v.addEventListener("scroll",y),()=>v.removeEventListener("scroll",y)}},[l.viewport,p,d]),s.jsx(Ve.div,{"data-state":u.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ae(e.onPointerDownCapture,v=>{const b=v.target.getBoundingClientRect(),j=v.clientX-b.left,N=v.clientY-b.top;u.onThumbPointerDown({x:j,y:N})}),onPointerUp:Ae(e.onPointerUp,u.onThumbPointerUp)})});w2.displayName=tf;var Vx="ScrollAreaCorner",N2=x.forwardRef((e,t)=>{const r=pr(Vx,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?s.jsx(_5,{...e,ref:t}):null});N2.displayName=Vx;var _5=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,i=pr(Vx,r),[l,u]=x.useState(0),[d,m]=x.useState(0),h=!!(l&&d);return yi(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),m(p)}),yi(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),u(p)}),h?s.jsx(Ve.div,{...a,ref:t,style:{width:l,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nf(e){return e?parseInt(e,10):0}function j2(e,t){const r=e/t;return isNaN(r)?0:r}function Lf(e){const t=j2(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function E5(e,t,r,a="ltr"){const i=Lf(r),l=i/2,u=t||l,d=i-u,m=r.scrollbar.paddingStart+u,h=r.scrollbar.size-r.scrollbar.paddingEnd-d,p=r.content-r.viewport,v=a==="ltr"?[0,p]:[p*-1,0];return S2([m,h],v)(e)}function a1(e,t,r="ltr"){const a=Lf(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-i,u=t.content-t.viewport,d=l-a,m=r==="ltr"?[0,u]:[u*-1,0],h=Dg(e,m);return S2([0,u],[0,d])(h)}function S2(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function _2(e,t){return e>0&&e<t}var C5=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function i(){const l={left:e.scrollLeft,top:e.scrollTop},u=r.left!==l.left,d=r.top!==l.top;(u||d)&&t(),r=l,a=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(a)};function Pf(e,t){const r=Nn(e),a=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),x.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function yi(e,t){const r=Nn(t);jn(()=>{let a=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(a),i.unobserve(e)}}},[e,r])}var E2=p2,k5=x2,A5=N2;const Jn=x.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(E2,{ref:a,className:He("relative overflow-hidden",e),...r,children:[s.jsx(k5,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(C2,{}),s.jsx(A5,{})]}));Jn.displayName=E2.displayName;const C2=x.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(Bx,{ref:a,orientation:t,className:He("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(w2,{className:"relative flex-1 rounded-full bg-border"})}));C2.displayName=Bx.displayName;const R5="modulepreload",M5=function(e,t){return new URL(e,t).href},o1={},Og=function(t,r,a){let i=Promise.resolve();if(r&&r.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");i=h(r.map(p=>{if(p=M5(p,a),p in o1)return;o1[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(a)for(let j=u.length-1;j>=0;j--){const N=u[j];if(N.href===p&&(!v||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":R5,v||(b.as="script"),b.crossOrigin="",b.href=p,m&&b.setAttribute("nonce",m),document.head.appendChild(b),v)return new Promise((j,N)=>{b.addEventListener("load",j),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},k2="devui_streaming_state_",A2=1440*60*1e3;function rf(e){return`${k2}${e}`}function T5(e){let t="";for(const r of e)r.type==="response.output_text.delta"&&"delta"in r&&(t+=r.delta);return t}function R2(e){try{const t=rf(e.conversationId),r=JSON.stringify(e);localStorage.setItem(t,r)}catch(t){console.error("Failed to save streaming state:",t);try{M2();const r=rf(e.conversationId),a=JSON.stringify(e);localStorage.setItem(r,a)}catch{console.error("Failed to save streaming state even after cleanup")}}}function ci(e){try{const t=rf(e),r=localStorage.getItem(t);if(!r)return null;const a=JSON.parse(r);return Date.now()-a.timestamp>A2?(Id(e),null):a.completed?null:a}catch(t){return console.error("Failed to load streaming state:",t),null}}function Vp(e,t,r,a){try{const i=ci(e),l="sequence_number"in t?t.sequence_number:void 0,u=i?[...i.events,t]:[t],d={conversationId:e,responseId:r,lastMessageId:a,lastSequenceNumber:l??i?.lastSequenceNumber??-1,events:u,timestamp:Date.now(),completed:t.type==="response.completed"||t.type==="response.failed",accumulatedText:T5(u)};R2(d)}catch(i){console.error("Failed to update streaming state:",i)}}function i1(e){try{const t=ci(e);t&&(t.completed=!0,t.timestamp=Date.now(),R2(t))}catch(t){console.error("Failed to mark streaming as completed:",t)}}function Id(e){try{const t=rf(e);localStorage.removeItem(t)}catch(t){console.error("Failed to clear streaming state:",t)}}function M2(){try{const e=Object.keys(localStorage),t=Date.now();for(const r of e)if(r.startsWith(k2))try{const a=localStorage.getItem(r);if(a){const i=JSON.parse(a);(t-i.timestamp>A2||i.completed)&&localStorage.removeItem(r)}}catch{localStorage.removeItem(r)}}catch(e){console.error("Failed to clear expired streaming states:",e)}}function D5(){M2()}const O5="",z5=1e3,Fp=10;function I5(){const e=localStorage.getItem("devui_backend_url");return e||O5}function L5(e){return new Promise(t=>setTimeout(t,e))}class Fx{baseUrl;authToken=null;constructor(t){this.baseUrl=t||I5(),this.authToken=localStorage.getItem("devui_auth_token")}setBaseUrl(t){this.baseUrl=t}getBaseUrl(){return this.baseUrl}setAuthToken(t){this.authToken=t,t?localStorage.setItem("devui_auth_token",t):localStorage.removeItem("devui_auth_token")}getAuthToken(){return this.authToken}clearAuthToken(){this.setAuthToken(null)}async request(t,r={}){const a=`${this.baseUrl}${t}`,i={"Content-Type":"application/json",...r.headers};this.authToken&&(i.Authorization=`Bearer ${this.authToken}`);const l=await fetch(a,{...r,headers:i});if(!l.ok){if(l.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");let u=`API request failed: ${l.status} ${l.statusText}`;try{const d=await l.json();d.detail?typeof d.detail=="string"?u=d.detail:typeof d.detail=="object"&&d.detail.error?.message&&(u=d.detail.error.message):d.error?.message&&(u=d.error.message)}catch{}throw new Error(u)}return l.json()}async getHealth(){return this.request("/health")}async getMeta(){return this.request("/meta")}async getEntities(){const r=(await this.request("/v1/entities")).entities.map(l=>{if(l.type==="agent")return{id:l.id,name:l.name,description:l.description,type:"agent",source:l.source||"directory",tools:(l.tools||[]).map(u=>typeof u=="string"?u:JSON.stringify(u)),has_env:!!(l.required_env_vars&&l.required_env_vars.length>0),module_path:typeof l.metadata?.module_path=="string"?l.metadata.module_path:void 0,required_env_vars:l.required_env_vars,metadata:l.metadata,deployment_supported:l.deployment_supported,deployment_reason:l.deployment_reason,instructions:l.instructions,model_id:l.model_id,chat_client_type:l.chat_client_type,context_providers:l.context_providers,middleware:l.middleware};{const u=l.executors||l.tools||[];let d=l.start_executor_id||"";if(!d&&u.length>0){const m=u[0];typeof m=="string"&&(d=m)}return{id:l.id,name:l.name,description:l.description,type:"workflow",source:l.source||"directory",executors:u.map(m=>typeof m=="string"?m:JSON.stringify(m)),has_env:!!(l.required_env_vars&&l.required_env_vars.length>0),module_path:typeof l.metadata?.module_path=="string"?l.metadata.module_path:void 0,required_env_vars:l.required_env_vars,metadata:l.metadata,deployment_supported:l.deployment_supported,deployment_reason:l.deployment_reason,input_schema:l.input_schema||{type:"string"},input_type_name:l.input_type_name||"Input",start_executor_id:d,tools:[]}}}),a=r.filter(l=>l.type==="agent"),i=r.filter(l=>l.type==="workflow");return{entities:r,agents:a,workflows:i}}async getAgents(){const{agents:t}=await this.getEntities();return t}async getWorkflows(){const{workflows:t}=await this.getEntities();return t}async getSavedWorkflows(){return(await this.request("/v1/workflows")).data||[]}async deleteSavedWorkflow(t){await this.request(`/v1/workflows/${encodeURIComponent(t)}`,{method:"DELETE"})}async getAgentInfo(t){return this.request(`/v1/entities/${t}/info?type=agent`)}async getWorkflowInfo(t){return this.request(`/v1/entities/${t}/info?type=workflow`)}async deleteEntity(t){await this.request(`/v1/entities/${t}`,{method:"DELETE"})}async reloadEntity(t){return this.request(`/v1/entities/${t}/reload`,{method:"POST"})}async createConversation(t){const{oaiMode:r}=await Og(()=>Promise.resolve().then(()=>fx),[],import.meta.url).then(l=>({oaiMode:l.useDevUIStore.getState().oaiMode})),a={};r.enabled&&(a["X-Proxy-Backend"]="openai");const i=await this.request("/v1/conversations",{method:"POST",headers:a,body:JSON.stringify({metadata:t})});return{id:i.id,object:"conversation",created_at:i.created_at,metadata:i.metadata}}async listConversations(t){const r=t?`/v1/conversations?agent_id=${encodeURIComponent(t)}`:"/v1/conversations",a=await this.request(r);return{data:a.data.map(i=>({id:i.id,object:"conversation",created_at:i.created_at,metadata:i.metadata})),has_more:a.has_more}}async getConversation(t){const r=await this.request(`/v1/conversations/${t}`);return{id:r.id,object:"conversation",created_at:r.created_at,metadata:r.metadata}}async deleteConversation(t){try{return await this.request(`/v1/conversations/${t}`,{method:"DELETE"}),Id(t),!0}catch{return!1}}async listConversationItems(t,r){const a=new URLSearchParams;r?.limit&&a.set("limit",r.limit.toString()),r?.after&&a.set("after",r.after),r?.order&&a.set("order",r.order);const i=a.toString(),l=`/v1/conversations/${t}/items${i?`?${i}`:""}`;return this.request(l)}async deleteConversationItem(t,r){const a=await fetch(`${this.baseUrl}/v1/conversations/${t}/items/${r}`,{method:"DELETE"});if(!a.ok)throw new Error(`Failed to delete item: ${a.statusText}`)}async*streamOpenAIResponse(t,r,a){const{oaiMode:i}=await Og(()=>Promise.resolve().then(()=>fx),void 0,import.meta.url).then(p=>({oaiMode:p.useDevUIStore.getState().oaiMode}));i.enabled&&(t.model=i.model,i.temperature!==void 0&&(t.temperature=i.temperature),i.max_output_tokens!==void 0&&(t.max_output_tokens=i.max_output_tokens),i.top_p!==void 0&&(t.top_p=i.top_p),i.instructions!==void 0&&(t.instructions=i.instructions),i.reasoning_effort!==void 0&&(t.reasoning={effort:i.reasoning_effort}));let l=-1,u=0,d=!1,m=a,h;if(r){const p=ci(r);if(p)if(a||(m=p.responseId),l=p.lastSequenceNumber,h=p.lastMessageId,a)d=p.events.length>0;else for(const v of p.events)d=!0,yield v}for(;u<=Fp;)try{let p;if(m){const j=new URLSearchParams;j.set("stream","true"),l>=0&&j.set("starting_after",l.toString());const N=`${this.baseUrl}/v1/responses/${m}?${j.toString()}`,S={Accept:"text/event-stream"};this.authToken&&(S.Authorization=`Bearer ${this.authToken}`),p=await fetch(N,{method:"GET",headers:S})}else{const j=`${this.baseUrl}/v1/responses`,N={"Content-Type":"application/json",Accept:"text/event-stream"};i.enabled&&(N["X-Proxy-Backend"]="openai"),this.authToken&&(N.Authorization=`Bearer ${this.authToken}`),p=await fetch(j,{method:"POST",headers:N,body:JSON.stringify(t)})}if(!p.ok){if(p.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");if(p.status>=400&&p.status<500){let N=`Client error ${p.status}`;try{const S=await p.json();S.error&&S.error.message?N=S.error.message:S.detail&&(N=S.detail)}catch{}throw new Error(`CLIENT_ERROR: ${N}`)}let j=`Request failed with status ${p.status}`;try{const N=await p.json();N.error&&N.error.message?j=N.error.message:N.detail&&(j=N.detail)}catch{}throw new Error(j)}const v=p.body?.getReader();if(!v)throw new Error("Response body is not readable");const y=new TextDecoder;let b="";try{for(;;){const{done:j,value:N}=await v.read();if(j){r&&i1(r);return}b+=y.decode(N,{stream:!0});const S=b.split(`

`);b=S.pop()||"";for(const _ of S){const C=_.split(`
`);for(const E of C)if(E.startsWith("data: ")){const k=E.slice(6);if(k==="[DONE]"){r&&i1(r);return}try{const M=JSON.parse(k);if("response"in M&&M.response&&typeof M.response=="object"&&"id"in M.response){const D=M.response.id;(!m||m!==D)&&(m=D)}else if("id"in M&&typeof M.id=="string"&&M.id.startsWith("resp_")){const D=M.id;(!m||m!==D)&&(m=D)}"item_id"in M&&M.item_id&&(h=M.item_id);const O="sequence_number"in M?M.sequence_number:void 0;if(O!==void 0)if(d&&O<=1&&l>1)r&&Id(r),yield{type:"error",message:"Connection lost - previous response failed. Starting new response."},l=O,d=!0,r&&m&&Vp(r,M,m,h),yield M;else{if(O<=l)continue;l=O,d=!0,r&&m&&Vp(r,M,m,h),yield M}else d=!0,r&&m&&Vp(r,M,m,h),yield M}catch(M){console.error("Failed to parse OpenAI SSE event:",M)}}}}}finally{v.releaseLock()}}catch(p){const v=p instanceof Error?p.message:String(p);if(v==="UNAUTHORIZED"||v.startsWith("CLIENT_ERROR:"))throw p;if(u++,u>Fp)throw new Error(`Connection failed after ${Fp} retry attempts: ${v}`);const y=Math.min(z5*Math.pow(2,u-1),3e4);await L5(y)}}async*streamAgentExecutionOpenAI(t,r,a){const i={metadata:{entity_id:t},input:r.input,stream:!0,conversation:r.conversation_id};return yield*this.streamAgentExecutionOpenAIDirect(t,i,r.conversation_id,a)}async*streamAgentExecutionOpenAIDirect(t,r,a,i){yield*this.streamOpenAIResponse(r,a,i)}async*streamWorkflowExecutionOpenAI(t,r){const a={metadata:{entity_id:t},input:JSON.stringify(r.input_data||{}),stream:!0,conversation:r.conversation_id,extra_body:{...r.checkpoint_id?{checkpoint_id:r.checkpoint_id}:{},...r.workflow_config?{workflow_config:r.workflow_config}:{},entity_id:t}};yield*this.streamOpenAIResponse(a,r.conversation_id)}async runAgent(t,r){return this.request(`/agents/${t}/run`,{method:"POST",body:JSON.stringify(r)})}async runWorkflow(t,r){return this.request(`/workflows/${t}/run`,{method:"POST",body:JSON.stringify(r)})}clearStreamingState(t){Id(t)}async*streamDeployment(t){const r=await fetch(`${this.baseUrl}/v1/deployments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,stream:!0})});if(!r.ok)throw new Error(`Deployment failed: ${r.statusText}`);const a=r.body?.getReader();if(!a)throw new Error("No response body");const i=new TextDecoder;let l="";try{for(;;){const{done:u,value:d}=await a.read();if(u)break;l+=i.decode(d,{stream:!0});const m=l.split(`
`);l=m.pop()||"";for(const h of m)if(h.startsWith("data: ")){const p=h.slice(6);if(p==="[DONE]")return;try{yield JSON.parse(p)}catch(v){yield{type:"deploy.error",message:`Failed to parse deployment event: ${v instanceof Error?v.message:"Unknown error"}`}}}}}catch(u){throw yield{type:"deploy.failed",message:`Stream interrupted: ${u instanceof Error?u.message:"Unknown error"}`},u}finally{a.releaseLock()}}async listWorkflowSessions(t){const r=`/v1/conversations?entity_id=${encodeURIComponent(t)}&type=workflow_session`;return{data:(await this.request(r)).data.map(l=>({conversation_id:l.id,entity_id:l.metadata?.entity_id||t,created_at:l.created_at,metadata:{name:l.metadata?.name||`Session ${new Date(l.created_at*1e3).toLocaleString()}`,description:l.metadata?.description,type:"workflow_session"}}))}}async createWorkflowSession(t,r){const a={entity_id:t,type:"workflow_session",name:r?.name||`Session ${new Date().toLocaleString()}`,...r?.description&&{description:r.description}},i=await this.createConversation(a);return{conversation_id:i.id,entity_id:t,created_at:i.created_at,metadata:{name:a.name,description:a.description,type:"workflow_session"}}}async deleteWorkflowSession(t,r){if(!await this.deleteConversation(r))throw new Error("Failed to delete workflow session")}async listTools(){return(await this.request("/v1/tools")).data}}const ot=new Fx;function Yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=Yt(e[r]))!==""&&(t+=(t&&" ")+a);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var P5={value:()=>{}};function $f(){for(var e=0,t=arguments.length,r={},a;e<t;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Ld(r)}function Ld(e){this._=e}function $5(e,t){return e.trim().split(/^|\s+/).map(function(r){var a="",i=r.indexOf(".");if(i>=0&&(a=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Ld.prototype=$f.prototype={constructor:Ld,on:function(e,t){var r=this._,a=$5(e+"",r),i,l=-1,u=a.length;if(arguments.length<2){for(;++l<u;)if((i=(e=a[l]).type)&&(i=H5(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<u;)if(i=(e=a[l]).type)r[i]=l1(r[i],e.name,t);else if(t==null)for(i in r)r[i]=l1(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ld(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),a=0,i,l;a<i;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],a=0,i=l.length;a<i;++a)l[a].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],i=0,l=a.length;i<l;++i)a[i].value.apply(t,r)}};function H5(e,t){for(var r=0,a=e.length,i;r<a;++r)if((i=e[r]).name===t)return i.value}function l1(e,t,r){for(var a=0,i=e.length;a<i;++a)if(e[a].name===t){e[a]=P5,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:t,value:r}),e}var zg="http://www.w3.org/1999/xhtml";const c1={svg:"http://www.w3.org/2000/svg",xhtml:zg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hf(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),c1.hasOwnProperty(t)?{space:c1[t],local:e}:e}function B5(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===zg&&t.documentElement.namespaceURI===zg?t.createElement(e):t.createElementNS(r,e)}}function U5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function T2(e){var t=Hf(e);return(t.local?U5:B5)(t)}function V5(){}function qx(e){return e==null?V5:function(){return this.querySelector(e)}}function F5(e){typeof e!="function"&&(e=qx(e));for(var t=this._groups,r=t.length,a=new Array(r),i=0;i<r;++i)for(var l=t[i],u=l.length,d=a[i]=new Array(u),m,h,p=0;p<u;++p)(m=l[p])&&(h=e.call(m,m.__data__,p,l))&&("__data__"in m&&(h.__data__=m.__data__),d[p]=h);return new er(a,this._parents)}function q5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y5(){return[]}function D2(e){return e==null?Y5:function(){return this.querySelectorAll(e)}}function G5(e){return function(){return q5(e.apply(this,arguments))}}function X5(e){typeof e=="function"?e=G5(e):e=D2(e);for(var t=this._groups,r=t.length,a=[],i=[],l=0;l<r;++l)for(var u=t[l],d=u.length,m,h=0;h<d;++h)(m=u[h])&&(a.push(e.call(m,m.__data__,h,u)),i.push(m));return new er(a,i)}function O2(e){return function(){return this.matches(e)}}function z2(e){return function(t){return t.matches(e)}}var W5=Array.prototype.find;function Z5(e){return function(){return W5.call(this.children,e)}}function K5(){return this.firstElementChild}function Q5(e){return this.select(e==null?K5:Z5(typeof e=="function"?e:z2(e)))}var J5=Array.prototype.filter;function e6(){return Array.from(this.children)}function t6(e){return function(){return J5.call(this.children,e)}}function n6(e){return this.selectAll(e==null?e6:t6(typeof e=="function"?e:z2(e)))}function r6(e){typeof e!="function"&&(e=O2(e));for(var t=this._groups,r=t.length,a=new Array(r),i=0;i<r;++i)for(var l=t[i],u=l.length,d=a[i]=[],m,h=0;h<u;++h)(m=l[h])&&e.call(m,m.__data__,h,l)&&d.push(m);return new er(a,this._parents)}function I2(e){return new Array(e.length)}function s6(){return new er(this._enter||this._groups.map(I2),this._parents)}function sf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}sf.prototype={constructor:sf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function a6(e){return function(){return e}}function o6(e,t,r,a,i,l){for(var u=0,d,m=t.length,h=l.length;u<h;++u)(d=t[u])?(d.__data__=l[u],a[u]=d):r[u]=new sf(e,l[u]);for(;u<m;++u)(d=t[u])&&(i[u]=d)}function i6(e,t,r,a,i,l,u){var d,m,h=new Map,p=t.length,v=l.length,y=new Array(p),b;for(d=0;d<p;++d)(m=t[d])&&(y[d]=b=u.call(m,m.__data__,d,t)+"",h.has(b)?i[d]=m:h.set(b,m));for(d=0;d<v;++d)b=u.call(e,l[d],d,l)+"",(m=h.get(b))?(a[d]=m,m.__data__=l[d],h.delete(b)):r[d]=new sf(e,l[d]);for(d=0;d<p;++d)(m=t[d])&&h.get(y[d])===m&&(i[d]=m)}function l6(e){return e.__data__}function c6(e,t){if(!arguments.length)return Array.from(this,l6);var r=t?i6:o6,a=this._parents,i=this._groups;typeof e!="function"&&(e=a6(e));for(var l=i.length,u=new Array(l),d=new Array(l),m=new Array(l),h=0;h<l;++h){var p=a[h],v=i[h],y=v.length,b=u6(e.call(p,p&&p.__data__,h,a)),j=b.length,N=d[h]=new Array(j),S=u[h]=new Array(j),_=m[h]=new Array(y);r(p,v,N,S,_,b,t);for(var C=0,E=0,k,M;C<j;++C)if(k=N[C]){for(C>=E&&(E=C+1);!(M=S[E])&&++E<j;);k._next=M||null}}return u=new er(u,a),u._enter=d,u._exit=m,u}function u6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d6(){return new er(this._exit||this._groups.map(I2),this._parents)}function f6(e,t,r){var a=this.enter(),i=this,l=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?l.remove():r(l),a&&i?a.merge(i).order():i}function m6(e){for(var t=e.selection?e.selection():e,r=this._groups,a=t._groups,i=r.length,l=a.length,u=Math.min(i,l),d=new Array(i),m=0;m<u;++m)for(var h=r[m],p=a[m],v=h.length,y=d[m]=new Array(v),b,j=0;j<v;++j)(b=h[j]||p[j])&&(y[j]=b);for(;m<i;++m)d[m]=r[m];return new er(d,this._parents)}function h6(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a=e[t],i=a.length-1,l=a[i],u;--i>=0;)(u=a[i])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function p6(e){e||(e=g6);function t(v,y){return v&&y?e(v.__data__,y.__data__):!v-!y}for(var r=this._groups,a=r.length,i=new Array(a),l=0;l<a;++l){for(var u=r[l],d=u.length,m=i[l]=new Array(d),h,p=0;p<d;++p)(h=u[p])&&(m[p]=h);m.sort(t)}return new er(i,this._parents).order()}function g6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function x6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function v6(){return Array.from(this)}function y6(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],i=0,l=a.length;i<l;++i){var u=a[i];if(u)return u}return null}function b6(){let e=0;for(const t of this)++e;return e}function w6(){return!this.node()}function N6(e){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var i=t[r],l=0,u=i.length,d;l<u;++l)(d=i[l])&&e.call(d,d.__data__,l,i);return this}function j6(e){return function(){this.removeAttribute(e)}}function S6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _6(e,t){return function(){this.setAttribute(e,t)}}function E6(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function C6(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function k6(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function A6(e,t){var r=Hf(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((t==null?r.local?S6:j6:typeof t=="function"?r.local?k6:C6:r.local?E6:_6)(r,t))}function L2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R6(e){return function(){this.style.removeProperty(e)}}function M6(e,t,r){return function(){this.style.setProperty(e,t,r)}}function T6(e,t,r){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function D6(e,t,r){return arguments.length>1?this.each((t==null?R6:typeof t=="function"?T6:M6)(e,t,r??"")):bi(this.node(),e)}function bi(e,t){return e.style.getPropertyValue(t)||L2(e).getComputedStyle(e,null).getPropertyValue(t)}function O6(e){return function(){delete this[e]}}function z6(e,t){return function(){this[e]=t}}function I6(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function L6(e,t){return arguments.length>1?this.each((t==null?O6:typeof t=="function"?I6:z6)(e,t)):this.node()[e]}function P2(e){return e.trim().split(/^|\s+/)}function Yx(e){return e.classList||new $2(e)}function $2(e){this._node=e,this._names=P2(e.getAttribute("class")||"")}$2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H2(e,t){for(var r=Yx(e),a=-1,i=t.length;++a<i;)r.add(t[a])}function B2(e,t){for(var r=Yx(e),a=-1,i=t.length;++a<i;)r.remove(t[a])}function P6(e){return function(){H2(this,e)}}function $6(e){return function(){B2(this,e)}}function H6(e,t){return function(){(t.apply(this,arguments)?H2:B2)(this,e)}}function B6(e,t){var r=P2(e+"");if(arguments.length<2){for(var a=Yx(this.node()),i=-1,l=r.length;++i<l;)if(!a.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?H6:t?P6:$6)(r,t))}function U6(){this.textContent=""}function V6(e){return function(){this.textContent=e}}function F6(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function q6(e){return arguments.length?this.each(e==null?U6:(typeof e=="function"?F6:V6)(e)):this.node().textContent}function Y6(){this.innerHTML=""}function G6(e){return function(){this.innerHTML=e}}function X6(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function W6(e){return arguments.length?this.each(e==null?Y6:(typeof e=="function"?X6:G6)(e)):this.node().innerHTML}function Z6(){this.nextSibling&&this.parentNode.appendChild(this)}function K6(){return this.each(Z6)}function Q6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J6(){return this.each(Q6)}function eO(e){var t=typeof e=="function"?e:T2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tO(){return null}function nO(e,t){var r=typeof e=="function"?e:T2(e),a=t==null?tO:typeof t=="function"?t:qx(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function rO(){var e=this.parentNode;e&&e.removeChild(this)}function sO(){return this.each(rO)}function aO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iO(e){return this.select(e?oO:aO)}function lO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cO(e){return function(t){e.call(this,t,this.__data__)}}function uO(e){return e.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");return a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),{type:t,name:r}})}function dO(e){return function(){var t=this.__on;if(t){for(var r=0,a=-1,i=t.length,l;r<i;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++a]=l;++a?t.length=a:delete this.__on}}}function fO(e,t,r){return function(){var a=this.__on,i,l=cO(t);if(a){for(var u=0,d=a.length;u<d;++u)if((i=a[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=r),i.value=t;return}}this.addEventListener(e.type,l,r),i={type:e.type,name:e.name,value:t,listener:l,options:r},a?a.push(i):this.__on=[i]}}function mO(e,t,r){var a=uO(e+""),i,l=a.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,h=d.length,p;m<h;++m)for(i=0,p=d[m];i<l;++i)if((u=a[i]).type===p.type&&u.name===p.name)return p.value}return}for(d=t?fO:dO,i=0;i<l;++i)this.each(d(a[i],t,r));return this}function U2(e,t,r){var a=L2(e),i=a.CustomEvent;typeof i=="function"?i=new i(t,r):(i=a.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function hO(e,t){return function(){return U2(this,e,t)}}function pO(e,t){return function(){return U2(this,e,t.apply(this,arguments))}}function gO(e,t){return this.each((typeof t=="function"?pO:hO)(e,t))}function*xO(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],i=0,l=a.length,u;i<l;++i)(u=a[i])&&(yield u)}var V2=[null];function er(e,t){this._groups=e,this._parents=t}function Lc(){return new er([[document.documentElement]],V2)}function vO(){return this}er.prototype=Lc.prototype={constructor:er,select:F5,selectAll:X5,selectChild:Q5,selectChildren:n6,filter:r6,data:c6,enter:s6,exit:d6,join:f6,merge:m6,selection:vO,order:h6,sort:p6,call:x6,nodes:v6,node:y6,size:b6,empty:w6,each:N6,attr:A6,style:D6,property:L6,classed:B6,text:q6,html:W6,raise:K6,lower:J6,append:eO,insert:nO,remove:sO,clone:iO,datum:lO,on:mO,dispatch:gO,[Symbol.iterator]:xO};function Zn(e){return typeof e=="string"?new er([[document.querySelector(e)]],[document.documentElement]):new er([[e]],V2)}function yO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function jr(e,t){if(e=yO(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const bO={passive:!1},cc={capture:!0,passive:!1};function qp(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function F2(e){var t=e.document.documentElement,r=Zn(e).on("dragstart.drag",ui,cc);"onselectstart"in t?r.on("selectstart.drag",ui,cc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function q2(e,t){var r=e.document.documentElement,a=Zn(e).on("dragstart.drag",null);t&&(a.on("click.drag",ui,cc),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const md=e=>()=>e;function Ig(e,{sourceEvent:t,subject:r,target:a,identifier:i,active:l,x:u,y:d,dx:m,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}Ig.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function wO(e){return!e.ctrlKey&&!e.button}function NO(){return this.parentNode}function jO(e,t){return t??{x:e.x,y:e.y}}function SO(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y2(){var e=wO,t=NO,r=jO,a=SO,i={},l=$f("start","drag","end"),u=0,d,m,h,p,v=0;function y(k){k.on("mousedown.drag",b).filter(a).on("touchstart.drag",S).on("touchmove.drag",_,bO).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(k,M){if(!(p||!e.call(this,k,M))){var O=E(this,t.call(this,k,M),k,M,"mouse");O&&(Zn(k.view).on("mousemove.drag",j,cc).on("mouseup.drag",N,cc),F2(k.view),qp(k),h=!1,d=k.clientX,m=k.clientY,O("start",k))}}function j(k){if(ui(k),!h){var M=k.clientX-d,O=k.clientY-m;h=M*M+O*O>v}i.mouse("drag",k)}function N(k){Zn(k.view).on("mousemove.drag mouseup.drag",null),q2(k.view,h),ui(k),i.mouse("end",k)}function S(k,M){if(e.call(this,k,M)){var O=k.changedTouches,D=t.call(this,k,M),z=O.length,B,H;for(B=0;B<z;++B)(H=E(this,D,k,M,O[B].identifier,O[B]))&&(qp(k),H("start",k,O[B]))}}function _(k){var M=k.changedTouches,O=M.length,D,z;for(D=0;D<O;++D)(z=i[M[D].identifier])&&(ui(k),z("drag",k,M[D]))}function C(k){var M=k.changedTouches,O=M.length,D,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),D=0;D<O;++D)(z=i[M[D].identifier])&&(qp(k),z("end",k,M[D]))}function E(k,M,O,D,z,B){var H=l.copy(),X=jr(B||O,M),G,ee,P;if((P=r.call(k,new Ig("beforestart",{sourceEvent:O,target:y,identifier:z,active:u,x:X[0],y:X[1],dx:0,dy:0,dispatch:H}),D))!=null)return G=P.x-X[0]||0,ee=P.y-X[1]||0,function F(A,L,$){var V=X,T;switch(A){case"start":i[z]=F,T=u++;break;case"end":delete i[z],--u;case"drag":X=jr($||L,M),T=u;break}H.call(A,k,new Ig(A,{sourceEvent:L,subject:P,target:y,identifier:z,active:T,x:X[0]+G,y:X[1]+ee,dx:X[0]-V[0],dy:X[1]-V[1],dispatch:H}),D)}}return y.filter=function(k){return arguments.length?(e=typeof k=="function"?k:md(!!k),y):e},y.container=function(k){return arguments.length?(t=typeof k=="function"?k:md(k),y):t},y.subject=function(k){return arguments.length?(r=typeof k=="function"?k:md(k),y):r},y.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:md(!!k),y):a},y.on=function(){var k=l.on.apply(l,arguments);return k===l?y:k},y.clickDistance=function(k){return arguments.length?(v=(k=+k)*k,y):Math.sqrt(v)},y}function Gx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function G2(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Pc(){}var uc=.7,af=1/uc,di="\\s*([+-]?\\d+)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_O=/^#([0-9a-f]{3,8})$/,EO=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),CO=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),kO=new RegExp(`^rgba\\(${di},${di},${di},${dc}\\)$`),AO=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${dc}\\)$`),RO=new RegExp(`^hsl\\(${dc},${Kr},${Kr}\\)$`),MO=new RegExp(`^hsla\\(${dc},${Kr},${Kr},${dc}\\)$`),u1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gx(Pc,io,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:d1,formatHex:d1,formatHex8:TO,formatHsl:DO,formatRgb:f1,toString:f1});function d1(){return this.rgb().formatHex()}function TO(){return this.rgb().formatHex8()}function DO(){return X2(this).formatHsl()}function f1(){return this.rgb().formatRgb()}function io(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_O.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?m1(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=EO.exec(e))?new Ln(t[1],t[2],t[3],1):(t=CO.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kO.exec(e))?hd(t[1],t[2],t[3],t[4]):(t=AO.exec(e))?hd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RO.exec(e))?g1(t[1],t[2]/100,t[3]/100,1):(t=MO.exec(e))?g1(t[1],t[2]/100,t[3]/100,t[4]):u1.hasOwnProperty(e)?m1(u1[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function m1(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function hd(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ln(e,t,r,a)}function OO(e){return e instanceof Pc||(e=io(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function Lg(e,t,r,a){return arguments.length===1?OO(e):new Ln(e,t,r,a??1)}function Ln(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Gx(Ln,Lg,G2(Pc,{brighter(e){return e=e==null?af:Math.pow(af,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(to(this.r),to(this.g),to(this.b),of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h1,formatHex:h1,formatHex8:zO,formatRgb:p1,toString:p1}));function h1(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function zO(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function p1(){const e=of(this.opacity);return`${e===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${e===1?")":`, ${e})`}`}function of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function to(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=to(e),(e<16?"0":"")+e.toString(16)}function g1(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Sr(e,t,r,a)}function X2(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);if(e instanceof Pc||(e=io(e)),!e)return new Sr;if(e instanceof Sr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),l=Math.max(t,r,a),u=NaN,d=l-i,m=(l+i)/2;return d?(t===l?u=(r-a)/d+(r<a)*6:r===l?u=(a-t)/d+2:u=(t-r)/d+4,d/=m<.5?l+i:2-l-i,u*=60):d=m>0&&m<1?0:u,new Sr(u,d,m,e.opacity)}function IO(e,t,r,a){return arguments.length===1?X2(e):new Sr(e,t,r,a??1)}function Sr(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Gx(Sr,IO,G2(Pc,{brighter(e){return e=e==null?af:Math.pow(af,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new Ln(Yp(e>=240?e-240:e+120,i,a),Yp(e,i,a),Yp(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Sr(x1(this.h),pd(this.s),pd(this.l),of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=of(this.opacity);return`${e===1?"hsl(":"hsla("}${x1(this.h)}, ${pd(this.s)*100}%, ${pd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x1(e){return e=(e||0)%360,e<0?e+360:e}function pd(e){return Math.max(0,Math.min(1,e||0))}function Yp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xx=e=>()=>e;function LO(e,t){return function(r){return e+r*t}}function PO(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function $O(e){return(e=+e)==1?W2:function(t,r){return r-t?PO(t,r,e):Xx(isNaN(t)?r:t)}}function W2(e,t){var r=t-e;return r?LO(e,r):Xx(isNaN(e)?t:e)}const lf=(function e(t){var r=$O(t);function a(i,l){var u=r((i=Lg(i)).r,(l=Lg(l)).r),d=r(i.g,l.g),m=r(i.b,l.b),h=W2(i.opacity,l.opacity);return function(p){return i.r=u(p),i.g=d(p),i.b=m(p),i.opacity=h(p),i+""}}return a.gamma=e,a})(1);function HO(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(l){for(i=0;i<r;++i)a[i]=e[i]*(1-l)+t[i]*l;return a}}function BO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UO(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),l=new Array(r),u;for(u=0;u<a;++u)i[u]=nc(e[u],t[u]);for(;u<r;++u)l[u]=t[u];return function(d){for(u=0;u<a;++u)l[u]=i[u](d);return l}}function VO(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function Ur(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FO(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=nc(e[i],t[i]):a[i]=t[i];return function(l){for(i in r)a[i]=r[i](l);return a}}var Pg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gp=new RegExp(Pg.source,"g");function qO(e){return function(){return e}}function YO(e){return function(t){return e(t)+""}}function Z2(e,t){var r=Pg.lastIndex=Gp.lastIndex=0,a,i,l,u=-1,d=[],m=[];for(e=e+"",t=t+"";(a=Pg.exec(e))&&(i=Gp.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),d[u]?d[u]+=l:d[++u]=l),(a=a[0])===(i=i[0])?d[u]?d[u]+=i:d[++u]=i:(d[++u]=null,m.push({i:u,x:Ur(a,i)})),r=Gp.lastIndex;return r<t.length&&(l=t.slice(r),d[u]?d[u]+=l:d[++u]=l),d.length<2?m[0]?YO(m[0].x):qO(t):(t=m.length,function(h){for(var p=0,v;p<t;++p)d[(v=m[p]).i]=v.x(h);return d.join("")})}function nc(e,t){var r=typeof t,a;return t==null||r==="boolean"?Xx(t):(r==="number"?Ur:r==="string"?(a=io(t))?(t=a,lf):Z2:t instanceof io?lf:t instanceof Date?VO:BO(t)?HO:Array.isArray(t)?UO:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FO:Ur)(e,t)}var v1=180/Math.PI,$g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function K2(e,t,r,a,i,l){var u,d,m;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(m=e*r+t*a)&&(r-=e*m,a-=t*m),(d=Math.sqrt(r*r+a*a))&&(r/=d,a/=d,m/=d),e*a<t*r&&(e=-e,t=-t,m=-m,u=-u),{translateX:i,translateY:l,rotate:Math.atan2(t,e)*v1,skewX:Math.atan(m)*v1,scaleX:u,scaleY:d}}var gd;function GO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$g:K2(t.a,t.b,t.c,t.d,t.e,t.f)}function XO(e){return e==null||(gd||(gd=document.createElementNS("http://www.w3.org/2000/svg","g")),gd.setAttribute("transform",e),!(e=gd.transform.baseVal.consolidate()))?$g:(e=e.matrix,K2(e.a,e.b,e.c,e.d,e.e,e.f))}function Q2(e,t,r,a){function i(h){return h.length?h.pop()+" ":""}function l(h,p,v,y,b,j){if(h!==v||p!==y){var N=b.push("translate(",null,t,null,r);j.push({i:N-4,x:Ur(h,v)},{i:N-2,x:Ur(p,y)})}else(v||y)&&b.push("translate("+v+t+y+r)}function u(h,p,v,y){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),y.push({i:v.push(i(v)+"rotate(",null,a)-2,x:Ur(h,p)})):p&&v.push(i(v)+"rotate("+p+a)}function d(h,p,v,y){h!==p?y.push({i:v.push(i(v)+"skewX(",null,a)-2,x:Ur(h,p)}):p&&v.push(i(v)+"skewX("+p+a)}function m(h,p,v,y,b,j){if(h!==v||p!==y){var N=b.push(i(b)+"scale(",null,",",null,")");j.push({i:N-4,x:Ur(h,v)},{i:N-2,x:Ur(p,y)})}else(v!==1||y!==1)&&b.push(i(b)+"scale("+v+","+y+")")}return function(h,p){var v=[],y=[];return h=e(h),p=e(p),l(h.translateX,h.translateY,p.translateX,p.translateY,v,y),u(h.rotate,p.rotate,v,y),d(h.skewX,p.skewX,v,y),m(h.scaleX,h.scaleY,p.scaleX,p.scaleY,v,y),h=p=null,function(b){for(var j=-1,N=y.length,S;++j<N;)v[(S=y[j]).i]=S.x(b);return v.join("")}}}var WO=Q2(GO,"px, ","px)","deg)"),ZO=Q2(XO,", ",")",")"),KO=1e-12;function y1(e){return((e=Math.exp(e))+1/e)/2}function QO(e){return((e=Math.exp(e))-1/e)/2}function JO(e){return((e=Math.exp(2*e))-1)/(e+1)}const Pd=(function e(t,r,a){function i(l,u){var d=l[0],m=l[1],h=l[2],p=u[0],v=u[1],y=u[2],b=p-d,j=v-m,N=b*b+j*j,S,_;if(N<KO)_=Math.log(y/h)/t,S=function(D){return[d+D*b,m+D*j,h*Math.exp(t*D*_)]};else{var C=Math.sqrt(N),E=(y*y-h*h+a*N)/(2*h*r*C),k=(y*y-h*h-a*N)/(2*y*r*C),M=Math.log(Math.sqrt(E*E+1)-E),O=Math.log(Math.sqrt(k*k+1)-k);_=(O-M)/t,S=function(D){var z=D*_,B=y1(M),H=h/(r*C)*(B*JO(t*z+M)-QO(M));return[d+H*b,m+H*j,h*B/y1(t*z+M)]}}return S.duration=_*1e3*t/Math.SQRT2,S}return i.rho=function(l){var u=Math.max(.001,+l),d=u*u,m=d*d;return e(u,d,m)},i})(Math.SQRT2,2,4);var wi=0,Wl=0,Gl=0,J2=1e3,cf,Zl,uf=0,lo=0,Bf=0,fc=typeof performance=="object"&&performance.now?performance:Date,eS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wx(){return lo||(eS(e8),lo=fc.now()+Bf)}function e8(){lo=0}function df(){this._call=this._time=this._next=null}df.prototype=tS.prototype={constructor:df,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Wx():+r)+(t==null?0:+t),!this._next&&Zl!==this&&(Zl?Zl._next=this:cf=this,Zl=this),this._call=e,this._time=r,Hg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hg())}};function tS(e,t,r){var a=new df;return a.restart(e,t,r),a}function t8(){Wx(),++wi;for(var e=cf,t;e;)(t=lo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wi}function b1(){lo=(uf=fc.now())+Bf,wi=Wl=0;try{t8()}finally{wi=0,r8(),lo=0}}function n8(){var e=fc.now(),t=e-uf;t>J2&&(Bf-=t,uf=e)}function r8(){for(var e,t=cf,r,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:cf=r);Zl=e,Hg(a)}function Hg(e){if(!wi){Wl&&(Wl=clearTimeout(Wl));var t=e-lo;t>24?(e<1/0&&(Wl=setTimeout(b1,e-fc.now()-Bf)),Gl&&(Gl=clearInterval(Gl))):(Gl||(uf=fc.now(),Gl=setInterval(n8,J2)),wi=1,eS(b1))}}function w1(e,t,r){var a=new df;return t=t==null?0:+t,a.restart(i=>{a.stop(),e(i+t)},t,r),a}var s8=$f("start","end","cancel","interrupt"),a8=[],nS=0,N1=1,Bg=2,$d=3,j1=4,Ug=5,Hd=6;function Uf(e,t,r,a,i,l){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;o8(e,r,{name:t,index:a,group:i,on:s8,tween:a8,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:nS})}function Zx(e,t){var r=Dr(e,t);if(r.state>nS)throw new Error("too late; already scheduled");return r}function ss(e,t){var r=Dr(e,t);if(r.state>$d)throw new Error("too late; already running");return r}function Dr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function o8(e,t,r){var a=e.__transition,i;a[t]=r,r.timer=tS(l,0,r.time);function l(h){r.state=N1,r.timer.restart(u,r.delay,r.time),r.delay<=h&&u(h-r.delay)}function u(h){var p,v,y,b;if(r.state!==N1)return m();for(p in a)if(b=a[p],b.name===r.name){if(b.state===$d)return w1(u);b.state===j1?(b.state=Hd,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[p]):+p<t&&(b.state=Hd,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[p])}if(w1(function(){r.state===$d&&(r.state=j1,r.timer.restart(d,r.delay,r.time),d(h))}),r.state=Bg,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Bg){for(r.state=$d,i=new Array(y=r.tween.length),p=0,v=-1;p<y;++p)(b=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(i[++v]=b);i.length=v+1}}function d(h){for(var p=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(m),r.state=Ug,1),v=-1,y=i.length;++v<y;)i[v].call(e,p);r.state===Ug&&(r.on.call("end",e,e.__data__,r.index,r.group),m())}function m(){r.state=Hd,r.timer.stop(),delete a[t];for(var h in a)return;delete e.__transition}}function Bd(e,t){var r=e.__transition,a,i,l=!0,u;if(r){t=t==null?null:t+"";for(u in r){if((a=r[u]).name!==t){l=!1;continue}i=a.state>Bg&&a.state<Ug,a.state=Hd,a.timer.stop(),a.on.call(i?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[u]}l&&delete e.__transition}}function i8(e){return this.each(function(){Bd(this,e)})}function l8(e,t){var r,a;return function(){var i=ss(this,e),l=i.tween;if(l!==r){a=r=l;for(var u=0,d=a.length;u<d;++u)if(a[u].name===t){a=a.slice(),a.splice(u,1);break}}i.tween=a}}function c8(e,t,r){var a,i;if(typeof r!="function")throw new Error;return function(){var l=ss(this,e),u=l.tween;if(u!==a){i=(a=u).slice();for(var d={name:t,value:r},m=0,h=i.length;m<h;++m)if(i[m].name===t){i[m]=d;break}m===h&&i.push(d)}l.tween=i}}function u8(e,t){var r=this._id;if(e+="",arguments.length<2){for(var a=Dr(this.node(),r).tween,i=0,l=a.length,u;i<l;++i)if((u=a[i]).name===e)return u.value;return null}return this.each((t==null?l8:c8)(r,e,t))}function Kx(e,t,r){var a=e._id;return e.each(function(){var i=ss(this,a);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Dr(i,a).value[t]}}function rS(e,t){var r;return(typeof t=="number"?Ur:t instanceof io?lf:(r=io(t))?(t=r,lf):Z2)(e,t)}function d8(e){return function(){this.removeAttribute(e)}}function f8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m8(e,t,r){var a,i=r+"",l;return function(){var u=this.getAttribute(e);return u===i?null:u===a?l:l=t(a=u,r)}}function h8(e,t,r){var a,i=r+"",l;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===a?l:l=t(a=u,r)}}function p8(e,t,r){var a,i,l;return function(){var u,d=r(this),m;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),m=d+"",u===m?null:u===a&&m===i?l:(i=m,l=t(a=u,d)))}}function g8(e,t,r){var a,i,l;return function(){var u,d=r(this),m;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),m=d+"",u===m?null:u===a&&m===i?l:(i=m,l=t(a=u,d)))}}function x8(e,t){var r=Hf(e),a=r==="transform"?ZO:rS;return this.attrTween(e,typeof t=="function"?(r.local?g8:p8)(r,a,Kx(this,"attr."+e,t)):t==null?(r.local?f8:d8)(r):(r.local?h8:m8)(r,a,t))}function v8(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function y8(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function b8(e,t){var r,a;function i(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&y8(e,l)),r}return i._value=t,i}function w8(e,t){var r,a;function i(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&v8(e,l)),r}return i._value=t,i}function N8(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var a=Hf(e);return this.tween(r,(a.local?b8:w8)(a,t))}function j8(e,t){return function(){Zx(this,e).delay=+t.apply(this,arguments)}}function S8(e,t){return t=+t,function(){Zx(this,e).delay=t}}function _8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?j8:S8)(t,e)):Dr(this.node(),t).delay}function E8(e,t){return function(){ss(this,e).duration=+t.apply(this,arguments)}}function C8(e,t){return t=+t,function(){ss(this,e).duration=t}}function k8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?E8:C8)(t,e)):Dr(this.node(),t).duration}function A8(e,t){if(typeof t!="function")throw new Error;return function(){ss(this,e).ease=t}}function R8(e){var t=this._id;return arguments.length?this.each(A8(t,e)):Dr(this.node(),t).ease}function M8(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ss(this,e).ease=r}}function T8(e){if(typeof e!="function")throw new Error;return this.each(M8(this._id,e))}function D8(e){typeof e!="function"&&(e=O2(e));for(var t=this._groups,r=t.length,a=new Array(r),i=0;i<r;++i)for(var l=t[i],u=l.length,d=a[i]=[],m,h=0;h<u;++h)(m=l[h])&&e.call(m,m.__data__,h,l)&&d.push(m);return new Ds(a,this._parents,this._name,this._id)}function O8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,a=t.length,i=r.length,l=Math.min(a,i),u=new Array(a),d=0;d<l;++d)for(var m=t[d],h=r[d],p=m.length,v=u[d]=new Array(p),y,b=0;b<p;++b)(y=m[b]||h[b])&&(v[b]=y);for(;d<a;++d)u[d]=t[d];return new Ds(u,this._parents,this._name,this._id)}function z8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function I8(e,t,r){var a,i,l=z8(t)?Zx:ss;return function(){var u=l(this,e),d=u.on;d!==a&&(i=(a=d).copy()).on(t,r),u.on=i}}function L8(e,t){var r=this._id;return arguments.length<2?Dr(this.node(),r).on.on(e):this.each(I8(r,e,t))}function P8(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function $8(){return this.on("end.remove",P8(this._id))}function H8(e){var t=this._name,r=this._id;typeof e!="function"&&(e=qx(e));for(var a=this._groups,i=a.length,l=new Array(i),u=0;u<i;++u)for(var d=a[u],m=d.length,h=l[u]=new Array(m),p,v,y=0;y<m;++y)(p=d[y])&&(v=e.call(p,p.__data__,y,d))&&("__data__"in p&&(v.__data__=p.__data__),h[y]=v,Uf(h[y],t,r,y,h,Dr(p,r)));return new Ds(l,this._parents,t,r)}function B8(e){var t=this._name,r=this._id;typeof e!="function"&&(e=D2(e));for(var a=this._groups,i=a.length,l=[],u=[],d=0;d<i;++d)for(var m=a[d],h=m.length,p,v=0;v<h;++v)if(p=m[v]){for(var y=e.call(p,p.__data__,v,m),b,j=Dr(p,r),N=0,S=y.length;N<S;++N)(b=y[N])&&Uf(b,t,r,N,y,j);l.push(y),u.push(p)}return new Ds(l,u,t,r)}var U8=Lc.prototype.constructor;function V8(){return new U8(this._groups,this._parents)}function F8(e,t){var r,a,i;return function(){var l=bi(this,e),u=(this.style.removeProperty(e),bi(this,e));return l===u?null:l===r&&u===a?i:i=t(r=l,a=u)}}function sS(e){return function(){this.style.removeProperty(e)}}function q8(e,t,r){var a,i=r+"",l;return function(){var u=bi(this,e);return u===i?null:u===a?l:l=t(a=u,r)}}function Y8(e,t,r){var a,i,l;return function(){var u=bi(this,e),d=r(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(e),bi(this,e))),u===m?null:u===a&&m===i?l:(i=m,l=t(a=u,d))}}function G8(e,t){var r,a,i,l="style."+t,u="end."+l,d;return function(){var m=ss(this,e),h=m.on,p=m.value[l]==null?d||(d=sS(t)):void 0;(h!==r||i!==p)&&(a=(r=h).copy()).on(u,i=p),m.on=a}}function X8(e,t,r){var a=(e+="")=="transform"?WO:rS;return t==null?this.styleTween(e,F8(e,a)).on("end.style."+e,sS(e)):typeof t=="function"?this.styleTween(e,Y8(e,a,Kx(this,"style."+e,t))).each(G8(this._id,e)):this.styleTween(e,q8(e,a,t),r).on("end.style."+e,null)}function W8(e,t,r){return function(a){this.style.setProperty(e,t.call(this,a),r)}}function Z8(e,t,r){var a,i;function l(){var u=t.apply(this,arguments);return u!==i&&(a=(i=u)&&W8(e,u,r)),a}return l._value=t,l}function K8(e,t,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,Z8(e,t,r??""))}function Q8(e){return function(){this.textContent=e}}function J8(e){return function(){var t=e(this);this.textContent=t??""}}function ez(e){return this.tween("text",typeof e=="function"?J8(Kx(this,"text",e)):Q8(e==null?"":e+""))}function tz(e){return function(t){this.textContent=e.call(this,t)}}function nz(e){var t,r;function a(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&tz(i)),t}return a._value=e,a}function rz(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,nz(e))}function sz(){for(var e=this._name,t=this._id,r=aS(),a=this._groups,i=a.length,l=0;l<i;++l)for(var u=a[l],d=u.length,m,h=0;h<d;++h)if(m=u[h]){var p=Dr(m,t);Uf(m,e,r,h,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ds(a,this._parents,e,r)}function az(){var e,t,r=this,a=r._id,i=r.size();return new Promise(function(l,u){var d={value:u},m={value:function(){--i===0&&l()}};r.each(function(){var h=ss(this,a),p=h.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(m)),h.on=t}),i===0&&l()})}var oz=0;function Ds(e,t,r,a){this._groups=e,this._parents=t,this._name=r,this._id=a}function aS(){return++oz}var Cs=Lc.prototype;Ds.prototype={constructor:Ds,select:H8,selectAll:B8,selectChild:Cs.selectChild,selectChildren:Cs.selectChildren,filter:D8,merge:O8,selection:V8,transition:sz,call:Cs.call,nodes:Cs.nodes,node:Cs.node,size:Cs.size,empty:Cs.empty,each:Cs.each,on:L8,attr:x8,attrTween:N8,style:X8,styleTween:K8,text:ez,textTween:rz,remove:$8,tween:u8,delay:_8,duration:k8,ease:R8,easeVarying:T8,end:az,[Symbol.iterator]:Cs[Symbol.iterator]};function iz(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lz={time:null,delay:0,duration:250,ease:iz};function cz(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function uz(e){var t,r;e instanceof Ds?(t=e._id,e=e._name):(t=aS(),(r=lz).time=Wx(),e=e==null?null:e+"");for(var a=this._groups,i=a.length,l=0;l<i;++l)for(var u=a[l],d=u.length,m,h=0;h<d;++h)(m=u[h])&&Uf(m,e,t,h,u,r||cz(m,t));return new Ds(a,this._parents,e,t)}Lc.prototype.interrupt=i8;Lc.prototype.transition=uz;const xd=e=>()=>e;function dz(e,{sourceEvent:t,target:r,transform:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function ks(e,t,r){this.k=e,this.x=t,this.y=r}ks.prototype={constructor:ks,scale:function(e){return e===1?this:new ks(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ks(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vf=new ks(1,0,0);oS.prototype=ks.prototype;function oS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Vf;return e.__zoom}function Xp(e){e.stopImmediatePropagation()}function Xl(e){e.preventDefault(),e.stopImmediatePropagation()}function fz(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mz(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function S1(){return this.__zoom||Vf}function hz(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pz(){return navigator.maxTouchPoints||"ontouchstart"in this}function gz(e,t,r){var a=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],l=e.invertY(t[0][1])-r[0][1],u=e.invertY(t[1][1])-r[1][1];return e.translate(i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function iS(){var e=fz,t=mz,r=gz,a=hz,i=pz,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,m=Pd,h=$f("start","zoom","end"),p,v,y,b=500,j=150,N=0,S=10;function _(P){P.property("__zoom",S1).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",H).filter(i).on("touchstart.zoom",X).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(P,F,A,L){var $=P.selection?P.selection():P;$.property("__zoom",S1),P!==$?M(P,F,A,L):$.interrupt().each(function(){O(this,arguments).event(L).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},_.scaleBy=function(P,F,A,L){_.scaleTo(P,function(){var $=this.__zoom.k,V=typeof F=="function"?F.apply(this,arguments):F;return $*V},A,L)},_.scaleTo=function(P,F,A,L){_.transform(P,function(){var $=t.apply(this,arguments),V=this.__zoom,T=A==null?k($):typeof A=="function"?A.apply(this,arguments):A,U=V.invert(T),Z=typeof F=="function"?F.apply(this,arguments):F;return r(E(C(V,Z),T,U),$,u)},A,L)},_.translateBy=function(P,F,A,L){_.transform(P,function(){return r(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),u)},null,L)},_.translateTo=function(P,F,A,L,$){_.transform(P,function(){var V=t.apply(this,arguments),T=this.__zoom,U=L==null?k(V):typeof L=="function"?L.apply(this,arguments):L;return r(Vf.translate(U[0],U[1]).scale(T.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof A=="function"?-A.apply(this,arguments):-A),V,u)},L,$)};function C(P,F){return F=Math.max(l[0],Math.min(l[1],F)),F===P.k?P:new ks(F,P.x,P.y)}function E(P,F,A){var L=F[0]-A[0]*P.k,$=F[1]-A[1]*P.k;return L===P.x&&$===P.y?P:new ks(P.k,L,$)}function k(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function M(P,F,A,L){P.on("start.zoom",function(){O(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(L).end()}).tween("zoom",function(){var $=this,V=arguments,T=O($,V).event(L),U=t.apply($,V),Z=A==null?k(U):typeof A=="function"?A.apply($,V):A,K=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),ne=$.__zoom,fe=typeof F=="function"?F.apply($,V):F,ue=m(ne.invert(Z).concat(K/ne.k),fe.invert(Z).concat(K/fe.k));return function(q){if(q===1)q=fe;else{var Q=ue(q),de=K/Q[2];q=new ks(de,Z[0]-Q[0]*de,Z[1]-Q[1]*de)}T.zoom(null,q)}})}function O(P,F,A){return!A&&P.__zooming||new D(P,F)}function D(P,F){this.that=P,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,F),this.taps=0}D.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,F){return this.mouse&&P!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var F=Zn(this.that).datum();h.call(P,this.that,new dz(P,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),F)}};function z(P,...F){if(!e.apply(this,arguments))return;var A=O(this,F).event(P),L=this.__zoom,$=Math.max(l[0],Math.min(l[1],L.k*Math.pow(2,a.apply(this,arguments)))),V=jr(P);if(A.wheel)(A.mouse[0][0]!==V[0]||A.mouse[0][1]!==V[1])&&(A.mouse[1]=L.invert(A.mouse[0]=V)),clearTimeout(A.wheel);else{if(L.k===$)return;A.mouse=[V,L.invert(V)],Bd(this),A.start()}Xl(P),A.wheel=setTimeout(T,j),A.zoom("mouse",r(E(C(L,$),A.mouse[0],A.mouse[1]),A.extent,u));function T(){A.wheel=null,A.end()}}function B(P,...F){if(y||!e.apply(this,arguments))return;var A=P.currentTarget,L=O(this,F,!0).event(P),$=Zn(P.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",K,!0),V=jr(P,A),T=P.clientX,U=P.clientY;F2(P.view),Xp(P),L.mouse=[V,this.__zoom.invert(V)],Bd(this),L.start();function Z(ne){if(Xl(ne),!L.moved){var fe=ne.clientX-T,ue=ne.clientY-U;L.moved=fe*fe+ue*ue>N}L.event(ne).zoom("mouse",r(E(L.that.__zoom,L.mouse[0]=jr(ne,A),L.mouse[1]),L.extent,u))}function K(ne){$.on("mousemove.zoom mouseup.zoom",null),q2(ne.view,L.moved),Xl(ne),L.event(ne).end()}}function H(P,...F){if(e.apply(this,arguments)){var A=this.__zoom,L=jr(P.changedTouches?P.changedTouches[0]:P,this),$=A.invert(L),V=A.k*(P.shiftKey?.5:2),T=r(E(C(A,V),L,$),t.apply(this,F),u);Xl(P),d>0?Zn(this).transition().duration(d).call(M,T,L,P):Zn(this).call(_.transform,T,L,P)}}function X(P,...F){if(e.apply(this,arguments)){var A=P.touches,L=A.length,$=O(this,F,P.changedTouches.length===L).event(P),V,T,U,Z;for(Xp(P),T=0;T<L;++T)U=A[T],Z=jr(U,this),Z=[Z,this.__zoom.invert(Z),U.identifier],$.touch0?!$.touch1&&$.touch0[2]!==Z[2]&&($.touch1=Z,$.taps=0):($.touch0=Z,V=!0,$.taps=1+!!p);p&&(p=clearTimeout(p)),V&&($.taps<2&&(v=Z[0],p=setTimeout(function(){p=null},b)),Bd(this),$.start())}}function G(P,...F){if(this.__zooming){var A=O(this,F).event(P),L=P.changedTouches,$=L.length,V,T,U,Z;for(Xl(P),V=0;V<$;++V)T=L[V],U=jr(T,this),A.touch0&&A.touch0[2]===T.identifier?A.touch0[0]=U:A.touch1&&A.touch1[2]===T.identifier&&(A.touch1[0]=U);if(T=A.that.__zoom,A.touch1){var K=A.touch0[0],ne=A.touch0[1],fe=A.touch1[0],ue=A.touch1[1],q=(q=fe[0]-K[0])*q+(q=fe[1]-K[1])*q,Q=(Q=ue[0]-ne[0])*Q+(Q=ue[1]-ne[1])*Q;T=C(T,Math.sqrt(q/Q)),U=[(K[0]+fe[0])/2,(K[1]+fe[1])/2],Z=[(ne[0]+ue[0])/2,(ne[1]+ue[1])/2]}else if(A.touch0)U=A.touch0[0],Z=A.touch0[1];else return;A.zoom("touch",r(E(T,U,Z),A.extent,u))}}function ee(P,...F){if(this.__zooming){var A=O(this,F).event(P),L=P.changedTouches,$=L.length,V,T;for(Xp(P),y&&clearTimeout(y),y=setTimeout(function(){y=null},b),V=0;V<$;++V)T=L[V],A.touch0&&A.touch0[2]===T.identifier?delete A.touch0:A.touch1&&A.touch1[2]===T.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(T=jr(T,this),Math.hypot(v[0]-T[0],v[1]-T[1])<S)){var U=Zn(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return _.wheelDelta=function(P){return arguments.length?(a=typeof P=="function"?P:xd(+P),_):a},_.filter=function(P){return arguments.length?(e=typeof P=="function"?P:xd(!!P),_):e},_.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:xd(!!P),_):i},_.extent=function(P){return arguments.length?(t=typeof P=="function"?P:xd([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),_):t},_.scaleExtent=function(P){return arguments.length?(l[0]=+P[0],l[1]=+P[1],_):[l[0],l[1]]},_.translateExtent=function(P){return arguments.length?(u[0][0]=+P[0][0],u[1][0]=+P[1][0],u[0][1]=+P[0][1],u[1][1]=+P[1][1],_):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},_.constrain=function(P){return arguments.length?(r=P,_):r},_.duration=function(P){return arguments.length?(d=+P,_):d},_.interpolate=function(P){return arguments.length?(m=P,_):m},_.on=function(){var P=h.on.apply(h,arguments);return P===h?_:P},_.clickDistance=function(P){return arguments.length?(N=(P=+P)*P,_):Math.sqrt(N)},_.tapDistance=function(P){return arguments.length?(S=+P,_):S},_}const Jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},mc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lS=["Enter"," ","Escape"],cS={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ni;(function(e){e.Strict="strict",e.Loose="loose"})(Ni||(Ni={}));var no;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(no||(no={}));var hc;(function(e){e.Partial="partial",e.Full="full"})(hc||(hc={}));const uS={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ya;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ya||(ya={}));var ff;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ff||(ff={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));const _1={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top};function dS(e){return e===null?null:e?"valid":"invalid"}const fS=e=>"id"in e&&"source"in e&&"target"in e,xz=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Qx=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),$c=(e,t=[0,0])=>{const{width:r,height:a}=Is(e),i=e.origin??t,l=r*i[0],u=a*i[1];return{x:e.position.x-l,y:e.position.y-u}},vz=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,i)=>{const l=typeof i=="string";let u=!t.nodeLookup&&!l?i:void 0;t.nodeLookup&&(u=l?t.nodeLookup.get(i):Qx(i)?i:t.nodeLookup.get(i.id));const d=u?mf(u,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ff(a,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qf(r)},Hc=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(a=>{if(t.filter===void 0||t.filter(a)){const i=mf(a);r=Ff(r,i)}}),qf(r)},Jx=(e,t,[r,a,i]=[0,0,1],l=!1,u=!1)=>{const d={...Uc(t,[r,a,i]),width:t.width/i,height:t.height/i},m=[];for(const h of e.values()){const{measured:p,selectable:v=!0,hidden:y=!1}=h;if(u&&!v||y)continue;const b=p.width??h.width??h.initialWidth??null,j=p.height??h.height??h.initialHeight??null,N=pc(d,Si(h)),S=(b??0)*(j??0),_=l&&N>0;(!h.internals.handleBounds||_||N>=S||h.dragging)&&m.push(h)}return m},yz=(e,t)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),t.filter(a=>r.has(a.source)||r.has(a.target))};function bz(e,t){const r=new Map,a=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!a||a.has(i.id))&&r.set(i.id,i)}),r}async function wz({nodes:e,width:t,height:r,panZoom:a,minZoom:i,maxZoom:l},u){if(e.size===0)return Promise.resolve(!0);const d=bz(e,u),m=Hc(d),h=e0(m,t,r,u?.minZoom??i,u?.maxZoom??l,u?.padding??.1);return await a.setViewport(h,{duration:u?.duration,ease:u?.ease,interpolate:u?.interpolate}),Promise.resolve(!0)}function mS({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:i,onError:l}){const u=r.get(e),d=u.parentId?r.get(u.parentId):void 0,{x:m,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=u.origin??a;let v=u.extent||i;if(u.extent==="parent"&&!u.expandParent)if(!d)l?.("005",Jr.error005());else{const b=d.measured.width,j=d.measured.height;b&&j&&(v=[[m,h],[m+b,h+j]])}else d&&_i(u.extent)&&(v=[[u.extent[0][0]+m,u.extent[0][1]+h],[u.extent[1][0]+m,u.extent[1][1]+h]]);const y=_i(v)?co(t,v,u.measured):t;return(u.measured.width===void 0||u.measured.height===void 0)&&l?.("015",Jr.error015()),{position:{x:y.x-m+(u.measured.width??0)*p[0],y:y.y-h+(u.measured.height??0)*p[1]},positionAbsolute:y}}async function Nz({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:a,onBeforeDelete:i}){const l=new Set(e.map(y=>y.id)),u=[];for(const y of r){if(y.deletable===!1)continue;const b=l.has(y.id),j=!b&&y.parentId&&u.find(N=>N.id===y.parentId);(b||j)&&u.push(y)}const d=new Set(t.map(y=>y.id)),m=a.filter(y=>y.deletable!==!1),p=yz(u,m);for(const y of m)d.has(y.id)&&!p.find(j=>j.id===y.id)&&p.push(y);if(!i)return{edges:p,nodes:u};const v=await i({nodes:u,edges:p});return typeof v=="boolean"?v?{edges:p,nodes:u}:{edges:[],nodes:[]}:v}const ji=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),co=(e={x:0,y:0},t,r)=>({x:ji(e.x,t[0][0],t[1][0]-(r?.width??0)),y:ji(e.y,t[0][1],t[1][1]-(r?.height??0))});function hS(e,t,r){const{width:a,height:i}=Is(r),{x:l,y:u}=r.internals.positionAbsolute;return co(e,[[l,u],[l+a,u+i]],t)}const E1=(e,t,r)=>e<t?ji(Math.abs(e-t),1,t)/t:e>r?-ji(Math.abs(e-r),1,t)/t:0,pS=(e,t,r=15,a=40)=>{const i=E1(e.x,a,t.width-a)*r,l=E1(e.y,a,t.height-a)*r;return[i,l]},Ff=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Vg=({x:e,y:t,width:r,height:a})=>({x:e,y:t,x2:e+r,y2:t+a}),qf=({x:e,y:t,x2:r,y2:a})=>({x:e,y:t,width:r-e,height:a-t}),Si=(e,t=[0,0])=>{const{x:r,y:a}=Qx(e)?e.internals.positionAbsolute:$c(e,t);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},mf=(e,t=[0,0])=>{const{x:r,y:a}=Qx(e)?e.internals.positionAbsolute:$c(e,t);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},gS=(e,t)=>qf(Ff(Vg(e),Vg(t))),pc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*a)},C1=e=>_r(e.width)&&_r(e.height)&&_r(e.x)&&_r(e.y),_r=e=>!isNaN(e)&&isFinite(e),jz=(e,t)=>{},Bc=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Uc=({x:e,y:t},[r,a,i],l=!1,u=[1,1])=>{const d={x:(e-r)/i,y:(t-a)/i};return l?Bc(d,u):d},hf=({x:e,y:t},[r,a,i])=>({x:e*i+r,y:t*i+a});function ni(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Sz(e,t,r){if(typeof e=="string"||typeof e=="number"){const a=ni(e,r),i=ni(e,t);return{top:a,right:i,bottom:a,left:i,x:i*2,y:a*2}}if(typeof e=="object"){const a=ni(e.top??e.y??0,r),i=ni(e.bottom??e.y??0,r),l=ni(e.left??e.x??0,t),u=ni(e.right??e.x??0,t);return{top:a,right:u,bottom:i,left:l,x:l+u,y:a+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _z(e,t,r,a,i,l){const{x:u,y:d}=hf(e,[t,r,a]),{x:m,y:h}=hf({x:e.x+e.width,y:e.y+e.height},[t,r,a]),p=i-m,v=l-h;return{left:Math.floor(u),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(v)}}const e0=(e,t,r,a,i,l)=>{const u=Sz(l,t,r),d=(t-u.x)/e.width,m=(r-u.y)/e.height,h=Math.min(d,m),p=ji(h,a,i),v=e.x+e.width/2,y=e.y+e.height/2,b=t/2-v*p,j=r/2-y*p,N=_z(e,b,j,p,t,r),S={left:Math.min(N.left-u.left,0),top:Math.min(N.top-u.top,0),right:Math.min(N.right-u.right,0),bottom:Math.min(N.bottom-u.bottom,0)};return{x:b-S.left+S.right,y:j-S.top+S.bottom,zoom:p}},gc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function _i(e){return e!=null&&e!=="parent"}function Is(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function xS(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function vS(e,t={width:0,height:0},r,a,i){const l={...e},u=a.get(r);if(u){const d=u.origin||i;l.x+=u.internals.positionAbsolute.x-(t.width??0)*d[0],l.y+=u.internals.positionAbsolute.y-(t.height??0)*d[1]}return l}function k1(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Ez(){let e,t;return{promise:new Promise((a,i)=>{e=a,t=i}),resolve:e,reject:t}}function Cz(e){return{...cS,...e||{}}}function rc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:a,containerBounds:i}){const{x:l,y:u}=Gr(e),d=Uc({x:l-(i?.left??0),y:u-(i?.top??0)},a),{x:m,y:h}=r?Bc(d,t):d;return{xSnapped:m,ySnapped:h,...d}}const t0=e=>({width:e.offsetWidth,height:e.offsetHeight}),yS=e=>e?.getRootNode?.()||window?.document,kz=["INPUT","SELECT","TEXTAREA"];function bS(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:kz.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const wS=e=>"clientX"in e,Gr=(e,t)=>{const r=wS(e),a=r?e.clientX:e.touches?.[0].clientX,i=r?e.clientY:e.touches?.[0].clientY;return{x:a-(t?.left??0),y:i-(t?.top??0)}},A1=(e,t,r,a,i)=>{const l=t.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:e,nodeId:i,position:u.getAttribute("data-handlepos"),x:(d.left-r.left)/a,y:(d.top-r.top)/a,...t0(u)}})};function NS({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:u,targetControlY:d}){const m=e*.125+i*.375+u*.375+r*.125,h=t*.125+l*.375+d*.375+a*.125,p=Math.abs(m-e),v=Math.abs(h-t);return[m,h,p,v]}function vd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function R1({pos:e,x1:t,y1:r,x2:a,y2:i,c:l}){switch(e){case Pe.Left:return[t-vd(t-a,l),r];case Pe.Right:return[t+vd(a-t,l),r];case Pe.Top:return[t,r-vd(r-i,l)];case Pe.Bottom:return[t,r+vd(i-r,l)]}}function jS({sourceX:e,sourceY:t,sourcePosition:r=Pe.Bottom,targetX:a,targetY:i,targetPosition:l=Pe.Top,curvature:u=.25}){const[d,m]=R1({pos:r,x1:e,y1:t,x2:a,y2:i,c:u}),[h,p]=R1({pos:l,x1:a,y1:i,x2:e,y2:t,c:u}),[v,y,b,j]=NS({sourceX:e,sourceY:t,targetX:a,targetY:i,sourceControlX:d,sourceControlY:m,targetControlX:h,targetControlY:p});return[`M${e},${t} C${d},${m} ${h},${p} ${a},${i}`,v,y,b,j]}function SS({sourceX:e,sourceY:t,targetX:r,targetY:a}){const i=Math.abs(r-e)/2,l=r<e?r+i:r-i,u=Math.abs(a-t)/2,d=a<t?a+u:a-u;return[l,d,i,u]}function Az({sourceNode:e,targetNode:t,selected:r=!1,zIndex:a,elevateOnSelect:i=!1}){if(a!==void 0)return a;const l=i&&r?1e3:0,u=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return l+u}function Rz({sourceNode:e,targetNode:t,width:r,height:a,transform:i}){const l=Ff(mf(e),mf(t));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const u={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:a/i[2]};return pc(u,qf(l))>0}const Mz=({source:e,sourceHandle:t,target:r,targetHandle:a})=>`xy-edge__${e}${t||""}-${r}${a||""}`,Tz=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),_S=(e,t)=>{if(!e.source||!e.target)return t;let r;return fS(e)?r={...e}:r={...e,id:Mz(e)},Tz(r,t)?t:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,t.concat(r))};function ES({sourceX:e,sourceY:t,targetX:r,targetY:a}){const[i,l,u,d]=SS({sourceX:e,sourceY:t,targetX:r,targetY:a});return[`M ${e},${t}L ${r},${a}`,i,l,u,d]}const M1={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},Dz=({source:e,sourcePosition:t=Pe.Bottom,target:r})=>t===Pe.Left||t===Pe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},T1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Oz({source:e,sourcePosition:t=Pe.Bottom,target:r,targetPosition:a=Pe.Top,center:i,offset:l,stepPosition:u}){const d=M1[t],m=M1[a],h={x:e.x+d.x*l,y:e.y+d.y*l},p={x:r.x+m.x*l,y:r.y+m.y*l},v=Dz({source:h,sourcePosition:t,target:p}),y=v.x!==0?"x":"y",b=v[y];let j=[],N,S;const _={x:0,y:0},C={x:0,y:0},[,,E,k]=SS({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(d[y]*m[y]===-1){y==="x"?(N=i.x??h.x+(p.x-h.x)*u,S=i.y??(h.y+p.y)/2):(N=i.x??(h.x+p.x)/2,S=i.y??h.y+(p.y-h.y)*u);const O=[{x:N,y:h.y},{x:N,y:p.y}],D=[{x:h.x,y:S},{x:p.x,y:S}];d[y]===b?j=y==="x"?O:D:j=y==="x"?D:O}else{const O=[{x:h.x,y:p.y}],D=[{x:p.x,y:h.y}];if(y==="x"?j=d.x===b?D:O:j=d.y===b?O:D,t===a){const G=Math.abs(e[y]-r[y]);if(G<=l){const ee=Math.min(l-1,l-G);d[y]===b?_[y]=(h[y]>e[y]?-1:1)*ee:C[y]=(p[y]>r[y]?-1:1)*ee}}if(t!==a){const G=y==="x"?"y":"x",ee=d[y]===m[G],P=h[G]>p[G],F=h[G]<p[G];(d[y]===1&&(!ee&&P||ee&&F)||d[y]!==1&&(!ee&&F||ee&&P))&&(j=y==="x"?O:D)}const z={x:h.x+_.x,y:h.y+_.y},B={x:p.x+C.x,y:p.y+C.y},H=Math.max(Math.abs(z.x-j[0].x),Math.abs(B.x-j[0].x)),X=Math.max(Math.abs(z.y-j[0].y),Math.abs(B.y-j[0].y));H>=X?(N=(z.x+B.x)/2,S=j[0].y):(N=j[0].x,S=(z.y+B.y)/2)}return[[e,{x:h.x+_.x,y:h.y+_.y},...j,{x:p.x+C.x,y:p.y+C.y},r],N,S,E,k]}function zz(e,t,r,a){const i=Math.min(T1(e,t)/2,T1(t,r)/2,a),{x:l,y:u}=t;if(e.x===l&&l===r.x||e.y===u&&u===r.y)return`L${l} ${u}`;if(e.y===u){const h=e.x<r.x?-1:1,p=e.y<r.y?1:-1;return`L ${l+i*h},${u}Q ${l},${u} ${l},${u+i*p}`}const d=e.x<r.x?1:-1,m=e.y<r.y?-1:1;return`L ${l},${u+i*m}Q ${l},${u} ${l+i*d},${u}`}function Fg({sourceX:e,sourceY:t,sourcePosition:r=Pe.Bottom,targetX:a,targetY:i,targetPosition:l=Pe.Top,borderRadius:u=5,centerX:d,centerY:m,offset:h=20,stepPosition:p=.5}){const[v,y,b,j,N]=Oz({source:{x:e,y:t},sourcePosition:r,target:{x:a,y:i},targetPosition:l,center:{x:d,y:m},offset:h,stepPosition:p});return[v.reduce((_,C,E)=>{let k="";return E>0&&E<v.length-1?k=zz(v[E-1],C,v[E+1],u):k=`${E===0?"M":"L"}${C.x} ${C.y}`,_+=k,_},""),y,b,j,N]}function D1(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Iz(e){const{sourceNode:t,targetNode:r}=e;if(!D1(t)||!D1(r))return null;const a=t.internals.handleBounds||O1(t.handles),i=r.internals.handleBounds||O1(r.handles),l=z1(a?.source??[],e.sourceHandle),u=z1(e.connectionMode===Ni.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!l||!u)return e.onError?.("008",Jr.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=l?.position||Pe.Bottom,m=u?.position||Pe.Top,h=xc(t,l,d),p=xc(r,u,m);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:m}}function O1(e){if(!e)return null;const t=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?t.push(a):a.type==="target"&&r.push(a);return{source:t,target:r}}function xc(e,t,r=Pe.Left,a=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,l=(t?.y??0)+e.internals.positionAbsolute.y,{width:u,height:d}=t??Is(e);if(a)return{x:i+u/2,y:l+d/2};switch(t?.position??r){case Pe.Top:return{x:i+u/2,y:l};case Pe.Right:return{x:i+u,y:l+d/2};case Pe.Bottom:return{x:i+u/2,y:l+d};case Pe.Left:return{x:i,y:l+d/2}}}function z1(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function qg(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function Lz(e,{id:t,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:i}){const l=new Set;return e.reduce((u,d)=>([d.markerStart||a,d.markerEnd||i].forEach(m=>{if(m&&typeof m=="object"){const h=qg(m,t);l.has(h)||(u.push({id:h,color:m.color||r,...m}),l.add(h))}}),u),[]).sort((u,d)=>u.id.localeCompare(d.id))}const n0={nodeOrigin:[0,0],nodeExtent:mc,elevateNodesOnSelect:!0,defaults:{}},Pz={...n0,checkEquality:!0};function r0(e,t){const r={...e};for(const a in t)t[a]!==void 0&&(r[a]=t[a]);return r}function $z(e,t,r){const a=r0(n0,r);for(const i of e.values())if(i.parentId)s0(i,e,t,a);else{const l=$c(i,a.nodeOrigin),u=_i(i.extent)?i.extent:a.nodeExtent,d=co(l,u,Is(i));i.internals.positionAbsolute=d}}function Yg(e,t,r,a){const i=r0(Pz,a);let l=e.length>0;const u=new Map(t),d=i?.elevateNodesOnSelect?1e3:0;t.clear(),r.clear();for(const m of e){let h=u.get(m.id);if(i.checkEquality&&m===h?.internals.userNode)t.set(m.id,h);else{const p=$c(m,i.nodeOrigin),v=_i(m.extent)?m.extent:i.nodeExtent,y=co(p,v,Is(m));h={...i.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:y,handleBounds:m.measured?h?.internals.handleBounds:void 0,z:CS(m,d),userNode:m}},t.set(m.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(l=!1),m.parentId&&s0(h,t,r,a)}return l}function Hz(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function s0(e,t,r,a){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:u}=r0(n0,a),d=e.parentId,m=t.get(d);if(!m){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Hz(e,r);const h=i?1e3:0,{x:p,y:v,z:y}=Bz(e,m,l,u,h),{positionAbsolute:b}=e.internals,j=p!==b.x||v!==b.y;(j||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:p,y:v}:b,z:y}})}function CS(e,t){return(_r(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Bz(e,t,r,a,i){const{x:l,y:u}=t.internals.positionAbsolute,d=Is(e),m=$c(e,r),h=_i(e.extent)?co(m,e.extent,d):m;let p=co({x:l+h.x,y:u+h.y},a,d);e.extent==="parent"&&(p=hS(p,d,t));const v=CS(e,i),y=t.internals.z??0;return{x:p.x,y:p.y,z:y>=v?y+1:v}}function a0(e,t,r,a=[0,0]){const i=[],l=new Map;for(const u of e){const d=t.get(u.parentId);if(!d)continue;const m=l.get(u.parentId)?.expandedRect??Si(d),h=gS(m,u.rect);l.set(u.parentId,{expandedRect:h,parent:d})}return l.size>0&&l.forEach(({expandedRect:u,parent:d},m)=>{const h=d.internals.positionAbsolute,p=Is(d),v=d.origin??a,y=u.x<h.x?Math.round(Math.abs(h.x-u.x)):0,b=u.y<h.y?Math.round(Math.abs(h.y-u.y)):0,j=Math.max(p.width,Math.round(u.width)),N=Math.max(p.height,Math.round(u.height)),S=(j-p.width)*v[0],_=(N-p.height)*v[1];(y>0||b>0||S||_)&&(i.push({id:m,type:"position",position:{x:d.position.x-y+S,y:d.position.y-b+_}}),r.get(m)?.forEach(C=>{e.some(E=>E.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+y,y:C.position.y+b}})})),(p.width<u.width||p.height<u.height||y||b)&&i.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:j+(y?v[0]*y-S:0),height:N+(b?v[1]*b-_:0)}})}),i}function Uz(e,t,r,a,i,l){const u=a?.querySelector(".xyflow__viewport");let d=!1;if(!u)return{changes:[],updatedInternals:d};const m=[],h=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(h.transform),v=[];for(const y of e.values()){const b=t.get(y.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const j=t0(y.nodeElement),N=b.measured.width!==j.width||b.measured.height!==j.height;if(!!(j.width&&j.height&&(N||!b.internals.handleBounds||y.force))){const _=y.nodeElement.getBoundingClientRect(),C=_i(b.extent)?b.extent:l;let{positionAbsolute:E}=b.internals;b.parentId&&b.extent==="parent"?E=hS(E,j,t.get(b.parentId)):C&&(E=co(E,C,j));const k={...b,measured:j,internals:{...b.internals,positionAbsolute:E,handleBounds:{source:A1("source",y.nodeElement,_,p,b.id),target:A1("target",y.nodeElement,_,p,b.id)}}};t.set(b.id,k),b.parentId&&s0(k,t,r,{nodeOrigin:i}),d=!0,N&&(m.push({id:b.id,type:"dimensions",dimensions:j}),b.expandParent&&b.parentId&&v.push({id:b.id,parentId:b.parentId,rect:Si(k,i)}))}}if(v.length>0){const y=a0(v,t,r,i);m.push(...y)}return{changes:m,updatedInternals:d}}async function Vz({delta:e,panZoom:t,transform:r,translateExtent:a,width:i,height:l}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const u=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[i,l]],a),d=!!u&&(u.x!==r[0]||u.y!==r[1]||u.k!==r[2]);return Promise.resolve(d)}function I1(e,t,r,a,i,l){let u=i;const d=a.get(u)||new Map;a.set(u,d.set(r,t)),u=`${i}-${e}`;const m=a.get(u)||new Map;if(a.set(u,m.set(r,t)),l){u=`${i}-${e}-${l}`;const h=a.get(u)||new Map;a.set(u,h.set(r,t))}}function kS(e,t,r){e.clear(),t.clear();for(const a of r){const{source:i,target:l,sourceHandle:u=null,targetHandle:d=null}=a,m={edgeId:a.id,source:i,target:l,sourceHandle:u,targetHandle:d},h=`${i}-${u}--${l}-${d}`,p=`${l}-${d}--${i}-${u}`;I1("source",m,p,e,i,u),I1("target",m,h,e,l,d),t.set(a.id,a)}}function AS(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:AS(r,t):!1}function L1(e,t,r){let a=e;do{if(a?.matches?.(t))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function Fz(e,t,r,a){const i=new Map;for(const[l,u]of e)if((u.selected||u.id===a)&&(!u.parentId||!AS(u,e))&&(u.draggable||t&&typeof u.draggable>"u")){const d=e.get(l);d&&i.set(l,{id:l,position:d.position||{x:0,y:0},distance:{x:r.x-d.internals.positionAbsolute.x,y:r.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return i}function Wp({nodeId:e,dragItems:t,nodeLookup:r,dragging:a=!0}){const i=[];for(const[u,d]of t){const m=r.get(u)?.internals.userNode;m&&i.push({...m,position:d.position,dragging:a})}if(!e)return[i[0],i];const l=r.get(e)?.internals.userNode;return[l?{...l,position:t.get(e)?.position||l.position,dragging:a}:i[0],i]}function qz({dragItems:e,snapGrid:t,x:r,y:a}){const i=e.values().next().value;if(!i)return null;const l={x:r-i.distance.x,y:a-i.distance.y},u=Bc(l,t);return{x:u.x-l.x,y:u.y-l.y}}function Yz({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:a,onDragStop:i}){let l={x:null,y:null},u=0,d=new Map,m=!1,h={x:0,y:0},p=null,v=!1,y=null,b=!1,j=!1,N=null;function S({noDragClassName:C,handleSelector:E,domNode:k,isSelectable:M,nodeId:O,nodeClickDistance:D=0}){y=Zn(k);function z({x:G,y:ee}){const{nodeLookup:P,nodeExtent:F,snapGrid:A,snapToGrid:L,nodeOrigin:$,onNodeDrag:V,onSelectionDrag:T,onError:U,updateNodePositions:Z}=t();l={x:G,y:ee};let K=!1;const ne=d.size>1,fe=ne&&F?Vg(Hc(d)):null,ue=ne&&L?qz({dragItems:d,snapGrid:A,x:G,y:ee}):null;for(const[q,Q]of d){if(!P.has(q))continue;let de={x:G-Q.distance.x,y:ee-Q.distance.y};L&&(de=ue?{x:Math.round(de.x+ue.x),y:Math.round(de.y+ue.y)}:Bc(de,A));let he=null;if(ne&&F&&!Q.extent&&fe){const{positionAbsolute:ke}=Q.internals,te=ke.x-fe.x+F[0][0],Re=ke.x+Q.measured.width-fe.x2+F[1][0],Ye=ke.y-fe.y+F[0][1],Fe=ke.y+Q.measured.height-fe.y2+F[1][1];he=[[te,Ye],[Re,Fe]]}const{position:Ee,positionAbsolute:we}=mS({nodeId:q,nextPosition:de,nodeLookup:P,nodeExtent:he||F,nodeOrigin:$,onError:U});K=K||Q.position.x!==Ee.x||Q.position.y!==Ee.y,Q.position=Ee,Q.internals.positionAbsolute=we}if(j=j||K,!!K&&(Z(d,!0),N&&(a||V||!O&&T))){const[q,Q]=Wp({nodeId:O,dragItems:d,nodeLookup:P});a?.(N,d,q,Q),V?.(N,q,Q),O||T?.(N,Q)}}async function B(){if(!p)return;const{transform:G,panBy:ee,autoPanSpeed:P,autoPanOnNodeDrag:F}=t();if(!F){m=!1,cancelAnimationFrame(u);return}const[A,L]=pS(h,p,P);(A!==0||L!==0)&&(l.x=(l.x??0)-A/G[2],l.y=(l.y??0)-L/G[2],await ee({x:A,y:L})&&z(l)),u=requestAnimationFrame(B)}function H(G){const{nodeLookup:ee,multiSelectionActive:P,nodesDraggable:F,transform:A,snapGrid:L,snapToGrid:$,selectNodesOnDrag:V,onNodeDragStart:T,onSelectionDragStart:U,unselectNodesAndEdges:Z}=t();v=!0,(!V||!M)&&!P&&O&&(ee.get(O)?.selected||Z()),M&&V&&O&&e?.(O);const K=rc(G.sourceEvent,{transform:A,snapGrid:L,snapToGrid:$,containerBounds:p});if(l=K,d=Fz(ee,F,K,O),d.size>0&&(r||T||!O&&U)){const[ne,fe]=Wp({nodeId:O,dragItems:d,nodeLookup:ee});r?.(G.sourceEvent,d,ne,fe),T?.(G.sourceEvent,ne,fe),O||U?.(G.sourceEvent,fe)}}const X=Y2().clickDistance(D).on("start",G=>{const{domNode:ee,nodeDragThreshold:P,transform:F,snapGrid:A,snapToGrid:L}=t();p=ee?.getBoundingClientRect()||null,b=!1,j=!1,N=G.sourceEvent,P===0&&H(G),l=rc(G.sourceEvent,{transform:F,snapGrid:A,snapToGrid:L,containerBounds:p}),h=Gr(G.sourceEvent,p)}).on("drag",G=>{const{autoPanOnNodeDrag:ee,transform:P,snapGrid:F,snapToGrid:A,nodeDragThreshold:L,nodeLookup:$}=t(),V=rc(G.sourceEvent,{transform:P,snapGrid:F,snapToGrid:A,containerBounds:p});if(N=G.sourceEvent,(G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||O&&!$.has(O))&&(b=!0),!b){if(!m&&ee&&v&&(m=!0,B()),!v){const T=V.xSnapped-(l.x??0),U=V.ySnapped-(l.y??0);Math.sqrt(T*T+U*U)>L&&H(G)}(l.x!==V.xSnapped||l.y!==V.ySnapped)&&d&&v&&(h=Gr(G.sourceEvent,p),z(V))}}).on("end",G=>{if(!(!v||b)&&(m=!1,v=!1,cancelAnimationFrame(u),d.size>0)){const{nodeLookup:ee,updateNodePositions:P,onNodeDragStop:F,onSelectionDragStop:A}=t();if(j&&(P(d,!1),j=!1),i||F||!O&&A){const[L,$]=Wp({nodeId:O,dragItems:d,nodeLookup:ee,dragging:!1});i?.(G.sourceEvent,d,L,$),F?.(G.sourceEvent,L,$),O||A?.(G.sourceEvent,$)}}}).filter(G=>{const ee=G.target;return!G.button&&(!C||!L1(ee,`.${C}`,k))&&(!E||L1(ee,E,k))});y.call(X)}function _(){y?.on(".drag",null)}return{update:S,destroy:_}}function Gz(e,t,r){const a=[],i={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const l of t.values())pc(i,Si(l))>0&&a.push(l);return a}const Xz=250;function Wz(e,t,r,a){let i=[],l=1/0;const u=Gz(e,r,t+Xz);for(const d of u){const m=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:p,y:v}=xc(d,h,h.position,!0),y=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(v-e.y,2));y>t||(y<l?(i=[{...h,x:p,y:v}],l=y):y===l&&i.push({...h,x:p,y:v}))}}if(!i.length)return null;if(i.length>1){const d=a.type==="source"?"target":"source";return i.find(m=>m.type===d)??i[0]}return i[0]}function RS(e,t,r,a,i,l=!1){const u=a.get(e);if(!u)return null;const d=i==="strict"?u.internals.handleBounds?.[t]:[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]],m=(r?d?.find(h=>h.id===r):d?.[0])??null;return m&&l?{...m,...xc(u,m,m.position,!0)}:m}function MS(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Zz(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const TS=()=>!0;function Kz(e,{connectionMode:t,connectionRadius:r,handleId:a,nodeId:i,edgeUpdaterType:l,isTarget:u,domNode:d,nodeLookup:m,lib:h,autoPanOnConnect:p,flowId:v,panBy:y,cancelConnection:b,onConnectStart:j,onConnect:N,onConnectEnd:S,isValidConnection:_=TS,onReconnectEnd:C,updateConnection:E,getTransform:k,getFromHandle:M,autoPanSpeed:O,dragThreshold:D=1,handleDomNode:z}){const B=yS(e.target);let H=0,X;const{x:G,y:ee}=Gr(e),P=MS(l,z),F=d?.getBoundingClientRect();let A=!1;if(!F||!P)return;const L=RS(i,P,a,m,t);if(!L)return;let $=Gr(e,F),V=!1,T=null,U=!1,Z=null;function K(){if(!p||!F)return;const[Ee,we]=pS($,F,O);y({x:Ee,y:we}),H=requestAnimationFrame(K)}const ne={...L,nodeId:i,type:P,position:L.position},fe=m.get(i);let q={inProgress:!0,isValid:null,from:xc(fe,ne,Pe.Left,!0),fromHandle:ne,fromPosition:ne.position,fromNode:fe,to:$,toHandle:null,toPosition:_1[ne.position],toNode:null};function Q(){A=!0,E(q),j?.(e,{nodeId:i,handleId:a,handleType:P})}D===0&&Q();function de(Ee){if(!A){const{x:Re,y:Ye}=Gr(Ee),Fe=Re-G,Bt=Ye-ee;if(!(Fe*Fe+Bt*Bt>D*D))return;Q()}if(!M()||!ne){he(Ee);return}const we=k();$=Gr(Ee,F),X=Wz(Uc($,we,!1,[1,1]),r,m,ne),V||(K(),V=!0);const ke=DS(Ee,{handle:X,connectionMode:t,fromNodeId:i,fromHandleId:a,fromType:u?"target":"source",isValidConnection:_,doc:B,lib:h,flowId:v,nodeLookup:m});Z=ke.handleDomNode,T=ke.connection,U=Zz(!!X,ke.isValid);const te={...q,isValid:U,to:ke.toHandle&&U?hf({x:ke.toHandle.x,y:ke.toHandle.y},we):$,toHandle:ke.toHandle,toPosition:U&&ke.toHandle?ke.toHandle.position:_1[ne.position],toNode:ke.toHandle?m.get(ke.toHandle.nodeId):null};U&&X&&q.toHandle&&te.toHandle&&q.toHandle.type===te.toHandle.type&&q.toHandle.nodeId===te.toHandle.nodeId&&q.toHandle.id===te.toHandle.id&&q.to.x===te.to.x&&q.to.y===te.to.y||(E(te),q=te)}function he(Ee){if(A){(X||Z)&&T&&U&&N?.(T);const{inProgress:we,...ke}=q,te={...ke,toPosition:q.toHandle?q.toPosition:null};S?.(Ee,te),l&&C?.(Ee,te)}b(),cancelAnimationFrame(H),V=!1,U=!1,T=null,Z=null,B.removeEventListener("mousemove",de),B.removeEventListener("mouseup",he),B.removeEventListener("touchmove",de),B.removeEventListener("touchend",he)}B.addEventListener("mousemove",de),B.addEventListener("mouseup",he),B.addEventListener("touchmove",de),B.addEventListener("touchend",he)}function DS(e,{handle:t,connectionMode:r,fromNodeId:a,fromHandleId:i,fromType:l,doc:u,lib:d,flowId:m,isValidConnection:h=TS,nodeLookup:p}){const v=l==="target",y=t?u.querySelector(`.${d}-flow__handle[data-id="${m}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:b,y:j}=Gr(e),N=u.elementFromPoint(b,j),S=N?.classList.contains(`${d}-flow__handle`)?N:y,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const C=MS(void 0,S),E=S.getAttribute("data-nodeid"),k=S.getAttribute("data-handleid"),M=S.classList.contains("connectable"),O=S.classList.contains("connectableend");if(!E||!C)return _;const D={source:v?E:a,sourceHandle:v?k:i,target:v?a:E,targetHandle:v?i:k};_.connection=D;const B=M&&O&&(r===Ni.Strict?v&&C==="source"||!v&&C==="target":E!==a||k!==i);_.isValid=B&&h(D),_.toHandle=RS(E,C,k,p,r,!0)}return _}const Gg={onPointerDown:Kz,isValid:DS};function Qz({domNode:e,panZoom:t,getTransform:r,getViewScale:a}){const i=Zn(e);function l({translateExtent:d,width:m,height:h,zoomStep:p=1,pannable:v=!0,zoomable:y=!0,inversePan:b=!1}){const j=E=>{if(E.sourceEvent.type!=="wheel"||!t)return;const k=r(),M=E.sourceEvent.ctrlKey&&gc()?10:1,O=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*p,D=k[2]*Math.pow(2,O*M);t.scaleTo(D)};let N=[0,0];const S=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(N=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},_=E=>{const k=r();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!t)return;const M=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],O=[M[0]-N[0],M[1]-N[1]];N=M;const D=a()*Math.max(k[2],Math.log(k[2]))*(b?-1:1),z={x:k[0]-O[0]*D,y:k[1]-O[1]*D},B=[[0,0],[m,h]];t.setViewportConstrained({x:z.x,y:z.y,zoom:k[2]},B,d)},C=iS().on("start",S).on("zoom",v?_:null).on("zoom.wheel",y?j:null);i.call(C,{})}function u(){i.on("zoom",null)}return{update:l,destroy:u,pointer:jr}}const Jz=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Yf=e=>({x:e.x,y:e.y,zoom:e.k}),Zp=({x:e,y:t,zoom:r})=>Vf.translate(e,t).scale(r),oi=(e,t)=>e.target.closest(`.${t}`),OS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),eI=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Kp=(e,t=0,r=eI,a=()=>{})=>{const i=typeof t=="number"&&t>0;return i||a(),i?e.transition().duration(t).ease(r).on("end",a):e},zS=e=>{const t=e.ctrlKey&&gc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function tI({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:a,panOnScrollMode:i,panOnScrollSpeed:l,zoomOnPinch:u,onPanZoomStart:d,onPanZoom:m,onPanZoomEnd:h}){return p=>{if(oi(p,t))return!1;p.preventDefault(),p.stopImmediatePropagation();const v=r.property("__zoom").k||1;if(p.ctrlKey&&u){const S=jr(p),_=zS(p),C=v*Math.pow(2,_);a.scaleTo(r,C,S,p);return}const y=p.deltaMode===1?20:1;let b=i===no.Vertical?0:p.deltaX*y,j=i===no.Horizontal?0:p.deltaY*y;!gc()&&p.shiftKey&&i!==no.Vertical&&(b=p.deltaY*y,j=0),a.translateBy(r,-(b/v)*l,-(j/v)*l,{internal:!0});const N=Yf(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d?.(p,N)),e.isPanScrolling&&(m?.(p,N),e.panScrollTimeout=setTimeout(()=>{h?.(p,N),e.isPanScrolling=!1},150))}}function nI({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(a,i){const l=a.type==="wheel",u=!t&&l&&!a.ctrlKey,d=oi(a,e);if(a.ctrlKey&&l&&d&&a.preventDefault(),u||d)return null;a.preventDefault(),r.call(this,a,i)}}function rI({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const i=Yf(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,a.sourceEvent?.type==="mousedown"&&t(!0),r&&r?.(a.sourceEvent,i)}}function sI({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:a,onPanZoom:i}){return l=>{e.usedRightMouseButton=!!(r&&OS(t,e.mouseButton??0)),l.sourceEvent?.sync||a([l.transform.x,l.transform.y,l.transform.k]),i&&!l.sourceEvent?.internal&&i?.(l.sourceEvent,Yf(l.transform))}}function aI({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:i,onPaneContextMenu:l}){return u=>{if(!u.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,l&&OS(t,e.mouseButton??0)&&!e.usedRightMouseButton&&u.sourceEvent&&l(u.sourceEvent),e.usedRightMouseButton=!1,a(!1),i&&Jz(e.prevViewport,u.transform))){const d=Yf(u.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(u.sourceEvent,d)},r?150:0)}}}function oI({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:a,panOnScroll:i,zoomOnDoubleClick:l,userSelectionActive:u,noWheelClassName:d,noPanClassName:m,lib:h}){return p=>{const v=e||t,y=r&&p.ctrlKey;if(p.button===1&&p.type==="mousedown"&&(oi(p,`${h}-flow__node`)||oi(p,`${h}-flow__edge`)))return!0;if(!a&&!v&&!i&&!l&&!r||u||oi(p,d)&&p.type==="wheel"||oi(p,m)&&(p.type!=="wheel"||i&&p.type==="wheel"&&!e)||!r&&p.ctrlKey&&p.type==="wheel")return!1;if(!r&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!i&&!y&&p.type==="wheel"||!a&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(a)&&!a.includes(p.button)&&p.type==="mousedown")return!1;const b=Array.isArray(a)&&a.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||p.type==="wheel")&&b}}function iI({domNode:e,minZoom:t,maxZoom:r,paneClickDistance:a,translateExtent:i,viewport:l,onPanZoom:u,onPanZoomStart:d,onPanZoomEnd:m,onDraggingChange:h}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),y=iS().clickDistance(!_r(a)||a<0?0:a).scaleExtent([t,r]).translateExtent(i),b=Zn(e).call(y);E({x:l.x,y:l.y,zoom:ji(l.zoom,t,r)},[[0,0],[v.width,v.height]],i);const j=b.on("wheel.zoom"),N=b.on("dblclick.zoom");y.wheelDelta(zS);function S(G,ee){return b?new Promise(P=>{y?.interpolate(ee?.interpolate==="linear"?nc:Pd).transform(Kp(b,ee?.duration,ee?.ease,()=>P(!0)),G)}):Promise.resolve(!1)}function _({noWheelClassName:G,noPanClassName:ee,onPaneContextMenu:P,userSelectionActive:F,panOnScroll:A,panOnDrag:L,panOnScrollMode:$,panOnScrollSpeed:V,preventScrolling:T,zoomOnPinch:U,zoomOnScroll:Z,zoomOnDoubleClick:K,zoomActivationKeyPressed:ne,lib:fe,onTransformChange:ue}){F&&!p.isZoomingOrPanning&&C();const Q=A&&!ne&&!F?tI({zoomPanValues:p,noWheelClassName:G,d3Selection:b,d3Zoom:y,panOnScrollMode:$,panOnScrollSpeed:V,zoomOnPinch:U,onPanZoomStart:d,onPanZoom:u,onPanZoomEnd:m}):nI({noWheelClassName:G,preventScrolling:T,d3ZoomHandler:j});if(b.on("wheel.zoom",Q,{passive:!1}),!F){const he=rI({zoomPanValues:p,onDraggingChange:h,onPanZoomStart:d});y.on("start",he);const Ee=sI({zoomPanValues:p,panOnDrag:L,onPaneContextMenu:!!P,onPanZoom:u,onTransformChange:ue});y.on("zoom",Ee);const we=aI({zoomPanValues:p,panOnDrag:L,panOnScroll:A,onPaneContextMenu:P,onPanZoomEnd:m,onDraggingChange:h});y.on("end",we)}const de=oI({zoomActivationKeyPressed:ne,panOnDrag:L,zoomOnScroll:Z,panOnScroll:A,zoomOnDoubleClick:K,zoomOnPinch:U,userSelectionActive:F,noPanClassName:ee,noWheelClassName:G,lib:fe});y.filter(de),K?b.on("dblclick.zoom",N):b.on("dblclick.zoom",null)}function C(){y.on("zoom",null)}async function E(G,ee,P){const F=Zp(G),A=y?.constrain()(F,ee,P);return A&&await S(A),new Promise(L=>L(A))}async function k(G,ee){const P=Zp(G);return await S(P,ee),new Promise(F=>F(P))}function M(G){if(b){const ee=Zp(G),P=b.property("__zoom");(P.k!==G.zoom||P.x!==G.x||P.y!==G.y)&&y?.transform(b,ee,null,{sync:!0})}}function O(){const G=b?oS(b.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function D(G,ee){return b?new Promise(P=>{y?.interpolate(ee?.interpolate==="linear"?nc:Pd).scaleTo(Kp(b,ee?.duration,ee?.ease,()=>P(!0)),G)}):Promise.resolve(!1)}function z(G,ee){return b?new Promise(P=>{y?.interpolate(ee?.interpolate==="linear"?nc:Pd).scaleBy(Kp(b,ee?.duration,ee?.ease,()=>P(!0)),G)}):Promise.resolve(!1)}function B(G){y?.scaleExtent(G)}function H(G){y?.translateExtent(G)}function X(G){const ee=!_r(G)||G<0?0:G;y?.clickDistance(ee)}return{update:_,destroy:C,setViewport:k,setViewportConstrained:E,getViewport:O,scaleTo:D,scaleBy:z,setScaleExtent:B,setTranslateExtent:H,syncViewport:M,setClickDistance:X}}var Ei;(function(e){e.Line="line",e.Handle="handle"})(Ei||(Ei={}));function lI({width:e,prevWidth:t,height:r,prevHeight:a,affectsX:i,affectsY:l}){const u=e-t,d=r-a,m=[u>0?1:u<0?-1:0,d>0?1:d<0?-1:0];return u&&i&&(m[0]=m[0]*-1),d&&l&&(m[1]=m[1]*-1),m}function cI(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:a,affectsY:i}}function ha(e,t){return Math.max(0,t-e)}function pa(e,t){return Math.max(0,e-t)}function yd(e,t,r){return Math.max(0,t-e,e-r)}function P1(e,t){return e?!t:t}function uI(e,t,r,a,i,l,u,d){let{affectsX:m,affectsY:h}=t;const{isHorizontal:p,isVertical:v}=t,y=p&&v,{xSnapped:b,ySnapped:j}=r,{minWidth:N,maxWidth:S,minHeight:_,maxHeight:C}=a,{x:E,y:k,width:M,height:O,aspectRatio:D}=e;let z=Math.floor(p?b-e.pointerX:0),B=Math.floor(v?j-e.pointerY:0);const H=M+(m?-z:z),X=O+(h?-B:B),G=-l[0]*M,ee=-l[1]*O;let P=yd(H,N,S),F=yd(X,_,C);if(u){let $=0,V=0;m&&z<0?$=ha(E+z+G,u[0][0]):!m&&z>0&&($=pa(E+H+G,u[1][0])),h&&B<0?V=ha(k+B+ee,u[0][1]):!h&&B>0&&(V=pa(k+X+ee,u[1][1])),P=Math.max(P,$),F=Math.max(F,V)}if(d){let $=0,V=0;m&&z>0?$=pa(E+z,d[0][0]):!m&&z<0&&($=ha(E+H,d[1][0])),h&&B>0?V=pa(k+B,d[0][1]):!h&&B<0&&(V=ha(k+X,d[1][1])),P=Math.max(P,$),F=Math.max(F,V)}if(i){if(p){const $=yd(H/D,_,C)*D;if(P=Math.max(P,$),u){let V=0;!m&&!h||m&&!h&&y?V=pa(k+ee+H/D,u[1][1])*D:V=ha(k+ee+(m?z:-z)/D,u[0][1])*D,P=Math.max(P,V)}if(d){let V=0;!m&&!h||m&&!h&&y?V=ha(k+H/D,d[1][1])*D:V=pa(k+(m?z:-z)/D,d[0][1])*D,P=Math.max(P,V)}}if(v){const $=yd(X*D,N,S)/D;if(F=Math.max(F,$),u){let V=0;!m&&!h||h&&!m&&y?V=pa(E+X*D+G,u[1][0])/D:V=ha(E+(h?B:-B)*D+G,u[0][0])/D,F=Math.max(F,V)}if(d){let V=0;!m&&!h||h&&!m&&y?V=ha(E+X*D,d[1][0])/D:V=pa(E+(h?B:-B)*D,d[0][0])/D,F=Math.max(F,V)}}}B=B+(B<0?F:-F),z=z+(z<0?P:-P),i&&(y?H>X*D?B=(P1(m,h)?-z:z)/D:z=(P1(m,h)?-B:B)*D:p?(B=z/D,h=m):(z=B*D,m=h));const A=m?E+z:E,L=h?k+B:k;return{width:M+(m?-z:z),height:O+(h?-B:B),x:l[0]*z*(m?-1:1)+A,y:l[1]*B*(h?-1:1)+L}}const IS={width:0,height:0,x:0,y:0},dI={...IS,pointerX:0,pointerY:0,aspectRatio:1};function fI(e){return[[0,0],[e.measured.width,e.measured.height]]}function mI(e,t,r){const a=t.position.x+e.position.x,i=t.position.y+e.position.y,l=e.measured.width??0,u=e.measured.height??0,d=r[0]*l,m=r[1]*u;return[[a-d,i-m],[a+l-d,i+u-m]]}function hI({domNode:e,nodeId:t,getStoreItems:r,onChange:a,onEnd:i}){const l=Zn(e);function u({controlPosition:m,boundaries:h,keepAspectRatio:p,resizeDirection:v,onResizeStart:y,onResize:b,onResizeEnd:j,shouldResize:N}){let S={...IS},_={...dI};const C=cI(m);let E,k=null,M=[],O,D,z;const B=Y2().on("start",H=>{const{nodeLookup:X,transform:G,snapGrid:ee,snapToGrid:P,nodeOrigin:F,paneDomNode:A}=r();if(E=X.get(t),!E)return;k=A?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:$}=rc(H.sourceEvent,{transform:G,snapGrid:ee,snapToGrid:P,containerBounds:k});S={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},_={...S,pointerX:L,pointerY:$,aspectRatio:S.width/S.height},O=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(O=X.get(E.parentId),D=O&&E.extent==="parent"?fI(O):void 0),M=[],z=void 0;for(const[V,T]of X)if(T.parentId===t&&(M.push({id:V,position:{...T.position},extent:T.extent}),T.extent==="parent"||T.expandParent)){const U=mI(T,E,T.origin??F);z?z=[[Math.min(U[0][0],z[0][0]),Math.min(U[0][1],z[0][1])],[Math.max(U[1][0],z[1][0]),Math.max(U[1][1],z[1][1])]]:z=U}y?.(H,{...S})}).on("drag",H=>{const{transform:X,snapGrid:G,snapToGrid:ee,nodeOrigin:P}=r(),F=rc(H.sourceEvent,{transform:X,snapGrid:G,snapToGrid:ee,containerBounds:k}),A=[];if(!E)return;const{x:L,y:$,width:V,height:T}=S,U={},Z=E.origin??P,{width:K,height:ne,x:fe,y:ue}=uI(_,C,F,h,p,Z,D,z),q=K!==V,Q=ne!==T,de=fe!==L&&q,he=ue!==$&&Q;if(!de&&!he&&!q&&!Q)return;if((de||he||Z[0]===1||Z[1]===1)&&(U.x=de?fe:S.x,U.y=he?ue:S.y,S.x=U.x,S.y=U.y,M.length>0)){const te=fe-L,Re=ue-$;for(const Ye of M)Ye.position={x:Ye.position.x-te+Z[0]*(K-V),y:Ye.position.y-Re+Z[1]*(ne-T)},A.push(Ye)}if((q||Q)&&(U.width=q&&(!v||v==="horizontal")?K:S.width,U.height=Q&&(!v||v==="vertical")?ne:S.height,S.width=U.width,S.height=U.height),O&&E.expandParent){const te=Z[0]*(U.width??0);U.x&&U.x<te&&(S.x=te,_.x=_.x-(U.x-te));const Re=Z[1]*(U.height??0);U.y&&U.y<Re&&(S.y=Re,_.y=_.y-(U.y-Re))}const Ee=lI({width:S.width,prevWidth:V,height:S.height,prevHeight:T,affectsX:C.affectsX,affectsY:C.affectsY}),we={...S,direction:Ee};N?.(H,we)!==!1&&(b?.(H,we),a(U,A))}).on("end",H=>{j?.(H,{...S}),i?.({...S})});l.call(B)}function d(){l.on(".drag",null)}return{update:u,destroy:d}}var Qp={exports:{}},Jp={},eg={exports:{}},tg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function pI(){if($1)return tg;$1=1;var e=kc();function t(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,i=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(v,y){var b=y(),j=a({inst:{value:b,getSnapshot:y}}),N=j[0].inst,S=j[1];return l(function(){N.value=b,N.getSnapshot=y,m(N)&&S({inst:N})},[v,b,y]),i(function(){return m(N)&&S({inst:N}),v(function(){m(N)&&S({inst:N})})},[v]),u(b),b}function m(v){var y=v.getSnapshot;v=v.value;try{var b=y();return!r(v,b)}catch{return!0}}function h(v,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return tg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,tg}var H1;function gI(){return H1||(H1=1,eg.exports=pI()),eg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function xI(){if(B1)return Jp;B1=1;var e=kc(),t=gI();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,u=e.useEffect,d=e.useMemo,m=e.useDebugValue;return Jp.useSyncExternalStoreWithSelector=function(h,p,v,y,b){var j=l(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=d(function(){function _(O){if(!C){if(C=!0,E=O,O=y(O),b!==void 0&&N.hasValue){var D=N.value;if(b(D,O))return k=D}return k=O}if(D=k,a(E,O))return D;var z=y(O);return b!==void 0&&b(D,z)?(E=O,D):(E=O,k=z)}var C=!1,E,k,M=v===void 0?null:v;return[function(){return _(p())},M===null?void 0:function(){return _(M())}]},[p,v,y,b]);var S=i(h,j[0],j[1]);return u(function(){N.hasValue=!0,N.value=S},[S]),m(S),S},Jp}var U1;function vI(){return U1||(U1=1,Qp.exports=xI()),Qp.exports}var yI=vI();const bI=xx(yI),wI={},V1=e=>{let t;const r=new Set,a=(p,v)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const b=t;t=v??(typeof y!="object"||y===null)?y:Object.assign({},t,y),r.forEach(j=>j(t,b))}},i=()=>t,m={setState:a,getState:i,getInitialState:()=>h,subscribe:p=>(r.add(p),()=>r.delete(p)),destroy:()=>{(wI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=t=e(a,i,m);return m},NI=e=>e?V1(e):V1,{useDebugValue:jI}=Et,{useSyncExternalStoreWithSelector:SI}=bI,_I=e=>e;function LS(e,t=_I,r){const a=SI(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return jI(a),a}const F1=(e,t)=>{const r=NI(e),a=(i,l=t)=>LS(r,i,l);return Object.assign(a,r),a},EI=(e,t)=>e?F1(e,t):F1;function It(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,i]of e)if(!Object.is(i,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}const Gf=x.createContext(null),CI=Gf.Provider,PS=Jr.error001();function dt(e,t){const r=x.useContext(Gf);if(r===null)throw new Error(PS);return LS(r,e,t)}function Ot(){const e=x.useContext(Gf);if(e===null)throw new Error(PS);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const q1={display:"none"},kI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$S="react-flow__node-desc",HS="react-flow__edge-desc",AI="react-flow__aria-live",RI=e=>e.ariaLiveMessage,MI=e=>e.ariaLabelConfig;function TI({rfId:e}){const t=dt(RI);return s.jsx("div",{id:`${AI}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kI,children:t})}function DI({rfId:e,disableKeyboardA11y:t}){const r=dt(MI);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${$S}-${e}`,style:q1,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${HS}-${e}`,style:q1,children:r["edge.a11yDescription.default"]}),!t&&s.jsx(TI,{rfId:e})]})}const Xf=x.forwardRef(({position:e="top-left",children:t,className:r,style:a,...i},l)=>{const u=`${e}`.split("-");return s.jsx("div",{className:Yt(["react-flow__panel",r,...u]),style:a,ref:l,...i,children:t})});Xf.displayName="Panel";function OI({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:s.jsx(Xf,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const zI=e=>{const t=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&t.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:t,selectedEdges:r}},bd=e=>e.id;function II(e,t){return It(e.selectedNodes.map(bd),t.selectedNodes.map(bd))&&It(e.selectedEdges.map(bd),t.selectedEdges.map(bd))}function LI({onSelectionChange:e}){const t=Ot(),{selectedNodes:r,selectedEdges:a}=dt(zI,II);return x.useEffect(()=>{const i={nodes:r,edges:a};e?.(i),t.getState().onSelectionChangeHandlers.forEach(l=>l(i))},[r,a,e]),null}const PI=e=>!!e.onSelectionChangeHandlers;function $I({onSelectionChange:e}){const t=dt(PI);return e||t?s.jsx(LI,{onSelectionChange:e}):null}const BS=[0,0],HI={x:0,y:0,zoom:1},BI=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Y1=[...BI,"rfId"],UI=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),G1={translateExtent:mc,nodeOrigin:BS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function VI(e){const{setNodes:t,setEdges:r,setMinZoom:a,setMaxZoom:i,setTranslateExtent:l,setNodeExtent:u,reset:d,setDefaultNodesAndEdges:m,setPaneClickDistance:h}=dt(UI,It),p=Ot();x.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{v.current=G1,d()}),[]);const v=x.useRef(G1);return x.useEffect(()=>{for(const y of Y1){const b=e[y],j=v.current[y];b!==j&&(typeof e[y]>"u"||(y==="nodes"?t(b):y==="edges"?r(b):y==="minZoom"?a(b):y==="maxZoom"?i(b):y==="translateExtent"?l(b):y==="nodeExtent"?u(b):y==="paneClickDistance"?h(b):y==="ariaLabelConfig"?p.setState({ariaLabelConfig:Cz(b)}):y==="fitView"?p.setState({fitViewQueued:b}):y==="fitViewOptions"?p.setState({fitViewOptions:b}):p.setState({[y]:b})))}v.current=e},Y1.map(y=>e[y])),null}function X1(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function FI(e){const[t,r]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){r(e);return}const a=X1(),i=()=>r(a?.matches?"dark":"light");return i(),a?.addEventListener("change",i),()=>{a?.removeEventListener("change",i)}},[e]),t!==null?t:X1()?.matches?"dark":"light"}const W1=typeof document<"u"?document:null;function vc(e=null,t={target:W1,actInsideInputWithModifier:!0}){const[r,a]=x.useState(!1),i=x.useRef(!1),l=x.useRef(new Set([])),[u,d]=x.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((v,y)=>v.concat(...y),[]);return[h,p]}return[[],[]]},[e]);return x.useEffect(()=>{const m=t?.target??W1,h=t?.actInsideInputWithModifier??!0;if(e!==null){const p=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!i.current||i.current&&!h)&&bS(b))return!1;const N=K1(b.code,d);if(l.current.add(b[N]),Z1(u,l.current,!1)){const S=b.composedPath?.()?.[0]||b.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";t.preventDefault!==!1&&(i.current||!_)&&b.preventDefault(),a(!0)}},v=b=>{const j=K1(b.code,d);Z1(u,l.current,!0)?(a(!1),l.current.clear()):l.current.delete(b[j]),b.key==="Meta"&&l.current.clear(),i.current=!1},y=()=>{l.current.clear(),a(!1)};return m?.addEventListener("keydown",p),m?.addEventListener("keyup",v),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{m?.removeEventListener("keydown",p),m?.removeEventListener("keyup",v),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[e,a]),r}function Z1(e,t,r){return e.filter(a=>r||a.length===t.size).some(a=>a.every(i=>t.has(i)))}function K1(e,t){return t.includes(e)?"code":"key"}const qI=()=>{const e=Ot();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(t,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[a,i,l],panZoom:u}=e.getState();return u?(await u.setViewport({x:t.x??a,y:t.y??i,zoom:t.zoom??l},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,a]=e.getState().transform;return{x:t,y:r,zoom:a}},setCenter:async(t,r,a)=>e.getState().setCenter(t,r,a),fitBounds:async(t,r)=>{const{width:a,height:i,minZoom:l,maxZoom:u,panZoom:d}=e.getState(),m=e0(t,a,i,l,u,r?.padding??.1);return d?(await d.setViewport(m,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:a,snapGrid:i,snapToGrid:l,domNode:u}=e.getState();if(!u)return t;const{x:d,y:m}=u.getBoundingClientRect(),h={x:t.x-d,y:t.y-m},p=r.snapGrid??i,v=r.snapToGrid??l;return Uc(h,a,v,p)},flowToScreenPosition:t=>{const{transform:r,domNode:a}=e.getState();if(!a)return t;const{x:i,y:l}=a.getBoundingClientRect(),u=hf(t,r);return{x:u.x+i,y:u.y+l}}}),[])};function US(e,t){const r=[],a=new Map,i=[];for(const l of e)if(l.type==="add"){i.push(l);continue}else if(l.type==="remove"||l.type==="replace")a.set(l.id,[l]);else{const u=a.get(l.id);u?u.push(l):a.set(l.id,[l])}for(const l of t){const u=a.get(l.id);if(!u){r.push(l);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){r.push({...u[0].item});continue}const d={...l};for(const m of u)YI(m,d);r.push(d)}return i.length&&i.forEach(l=>{l.index!==void 0?r.splice(l.index,0,{...l.item}):r.push({...l.item})}),r}function YI(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function o0(e,t){return US(e,t)}function i0(e,t){return US(e,t)}function Ja(e,t){return{id:e,type:"select",selected:t}}function ii(e,t=new Set,r=!1){const a=[];for(const[i,l]of e){const u=t.has(i);!(l.selected===void 0&&!u)&&l.selected!==u&&(r&&(l.selected=u),a.push(Ja(l.id,u)))}return a}function Q1({items:e=[],lookup:t}){const r=[],a=new Map(e.map(i=>[i.id,i]));for(const[i,l]of e.entries()){const u=t.get(l.id),d=u?.internals?.userNode??u;d!==void 0&&d!==l&&r.push({id:l.id,item:l,type:"replace"}),d===void 0&&r.push({item:l,type:"add",index:i})}for(const[i]of t)a.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function J1(e){return{id:e.id,type:"remove"}}const eN=e=>xz(e),GI=e=>fS(e);function VS(e){return x.forwardRef(e)}const XI=typeof window<"u"?x.useLayoutEffect:x.useEffect;function tN(e){const[t,r]=x.useState(BigInt(0)),[a]=x.useState(()=>WI(()=>r(i=>i+BigInt(1))));return XI(()=>{const i=a.get();i.length&&(e(i),a.reset())},[t]),a}function WI(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const FS=x.createContext(null);function ZI({children:e}){const t=Ot(),r=x.useCallback(d=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:p,onNodesChange:v,nodeLookup:y,fitViewQueued:b}=t.getState();let j=m;for(const S of d)j=typeof S=="function"?S(j):S;const N=Q1({items:j,lookup:y});p&&h(j),N.length>0?v?.(N):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:_,setNodes:C}=t.getState();S&&C(_)})},[]),a=tN(r),i=x.useCallback(d=>{const{edges:m=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:v,edgeLookup:y}=t.getState();let b=m;for(const j of d)b=typeof j=="function"?j(b):j;p?h(b):v&&v(Q1({items:b,lookup:y}))},[]),l=tN(i),u=x.useMemo(()=>({nodeQueue:a,edgeQueue:l}),[]);return s.jsx(FS.Provider,{value:u,children:e})}function KI(){const e=x.useContext(FS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const QI=e=>!!e.panZoom;function Oi(){const e=qI(),t=Ot(),r=KI(),a=dt(QI),i=x.useMemo(()=>{const l=v=>t.getState().nodeLookup.get(v),u=v=>{r.nodeQueue.push(v)},d=v=>{r.edgeQueue.push(v)},m=v=>{const{nodeLookup:y,nodeOrigin:b}=t.getState(),j=eN(v)?v:y.get(v.id),N=j.parentId?vS(j.position,j.measured,j.parentId,y,b):j.position,S={...j,position:N,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return Si(S)},h=(v,y,b={replace:!1})=>{u(j=>j.map(N=>{if(N.id===v){const S=typeof y=="function"?y(N):y;return b.replace&&eN(S)?S:{...N,...S}}return N}))},p=(v,y,b={replace:!1})=>{d(j=>j.map(N=>{if(N.id===v){const S=typeof y=="function"?y(N):y;return b.replace&&GI(S)?S:{...N,...S}}return N}))};return{getNodes:()=>t.getState().nodes.map(v=>({...v})),getNode:v=>l(v)?.internals.userNode,getInternalNode:l,getEdges:()=>{const{edges:v=[]}=t.getState();return v.map(y=>({...y}))},getEdge:v=>t.getState().edgeLookup.get(v),setNodes:u,setEdges:d,addNodes:v=>{const y=Array.isArray(v)?v:[v];r.nodeQueue.push(b=>[...b,...y])},addEdges:v=>{const y=Array.isArray(v)?v:[v];r.edgeQueue.push(b=>[...b,...y])},toObject:()=>{const{nodes:v=[],edges:y=[],transform:b}=t.getState(),[j,N,S]=b;return{nodes:v.map(_=>({..._})),edges:y.map(_=>({..._})),viewport:{x:j,y:N,zoom:S}}},deleteElements:async({nodes:v=[],edges:y=[]})=>{const{nodes:b,edges:j,onNodesDelete:N,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:C,onDelete:E,onBeforeDelete:k}=t.getState(),{nodes:M,edges:O}=await Nz({nodesToRemove:v,edgesToRemove:y,nodes:b,edges:j,onBeforeDelete:k}),D=O.length>0,z=M.length>0;if(D){const B=O.map(J1);S?.(O),C(B)}if(z){const B=M.map(J1);N?.(M),_(B)}return(z||D)&&E?.({nodes:M,edges:O}),{deletedNodes:M,deletedEdges:O}},getIntersectingNodes:(v,y=!0,b)=>{const j=C1(v),N=j?v:m(v),S=b!==void 0;return N?(b||t.getState().nodes).filter(_=>{const C=t.getState().nodeLookup.get(_.id);if(C&&!j&&(_.id===v.id||!C.internals.positionAbsolute))return!1;const E=Si(S?_:C),k=pc(E,N);return y&&k>0||k>=E.width*E.height||k>=N.width*N.height}):[]},isNodeIntersecting:(v,y,b=!0)=>{const N=C1(v)?v:m(v);if(!N)return!1;const S=pc(N,y);return b&&S>0||S>=N.width*N.height},updateNode:h,updateNodeData:(v,y,b={replace:!1})=>{h(v,j=>{const N=typeof y=="function"?y(j):y;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},updateEdge:p,updateEdgeData:(v,y,b={replace:!1})=>{p(v,j=>{const N=typeof y=="function"?y(j):y;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},getNodesBounds:v=>{const{nodeLookup:y,nodeOrigin:b}=t.getState();return vz(v,{nodeLookup:y,nodeOrigin:b})},getHandleConnections:({type:v,id:y,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}-${v}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:v,handleId:y,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}${v?y?`-${v}-${y}`:`-${v}`:""}`)?.values()??[]),fitView:async v=>{const y=t.getState().fitViewResolver??Ez();return t.setState({fitViewQueued:!0,fitViewOptions:v,fitViewResolver:y}),r.nodeQueue.push(b=>[...b]),y.promise}}},[]);return x.useMemo(()=>({...i,...e,viewportInitialized:a}),[a])}const nN=e=>e.selected,JI=typeof window<"u"?window:void 0;function e9({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ot(),{deleteElements:a}=Oi(),i=vc(e,{actInsideInputWithModifier:!1}),l=vc(t,{target:JI});x.useEffect(()=>{if(i){const{edges:u,nodes:d}=r.getState();a({nodes:d.filter(nN),edges:u.filter(nN)}),r.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{r.setState({multiSelectionActive:l})},[l])}function t9(e){const t=Ot();x.useEffect(()=>{const r=()=>{if(!e.current)return!1;const a=t0(e.current);(a.height===0||a.width===0)&&t.getState().onError?.("004",Jr.error004()),t.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const Wf={position:"absolute",width:"100%",height:"100%",top:0,left:0},n9=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function r9({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:i=.5,panOnScrollMode:l=no.Free,zoomOnDoubleClick:u=!0,panOnDrag:d=!0,defaultViewport:m,translateExtent:h,minZoom:p,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:b=!0,children:j,noWheelClassName:N,noPanClassName:S,onViewportChange:_,isControlledViewport:C,paneClickDistance:E}){const k=Ot(),M=x.useRef(null),{userSelectionActive:O,lib:D}=dt(n9,It),z=vc(y),B=x.useRef();t9(M);const H=x.useCallback(X=>{_?.({x:X[0],y:X[1],zoom:X[2]}),C||k.setState({transform:X})},[_,C]);return x.useEffect(()=>{if(M.current){B.current=iI({domNode:M.current,minZoom:p,maxZoom:v,translateExtent:h,viewport:m,paneClickDistance:E,onDraggingChange:P=>k.setState({paneDragging:P}),onPanZoomStart:(P,F)=>{const{onViewportChangeStart:A,onMoveStart:L}=k.getState();L?.(P,F),A?.(F)},onPanZoom:(P,F)=>{const{onViewportChange:A,onMove:L}=k.getState();L?.(P,F),A?.(F)},onPanZoomEnd:(P,F)=>{const{onViewportChangeEnd:A,onMoveEnd:L}=k.getState();L?.(P,F),A?.(F)}});const{x:X,y:G,zoom:ee}=B.current.getViewport();return k.setState({panZoom:B.current,transform:[X,G,ee],domNode:M.current.closest(".react-flow")}),()=>{B.current?.destroy()}}},[]),x.useEffect(()=>{B.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:i,panOnScrollMode:l,zoomOnDoubleClick:u,panOnDrag:d,zoomActivationKeyPressed:z,preventScrolling:b,noPanClassName:S,userSelectionActive:O,noWheelClassName:N,lib:D,onTransformChange:H})},[e,t,r,a,i,l,u,d,z,b,S,O,N,D,H]),s.jsx("div",{className:"react-flow__renderer",ref:M,style:Wf,children:j})}const s9=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function a9(){const{userSelectionActive:e,userSelectionRect:t}=dt(s9,It);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ng=(e,t)=>r=>{r.target===t.current&&e?.(r)},o9=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function i9({isSelecting:e,selectionKeyPressed:t,selectionMode:r=hc.Full,panOnDrag:a,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:m,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:y,children:b}){const j=Ot(),{userSelectionActive:N,elementsSelectable:S,dragging:_,connectionInProgress:C}=dt(o9,It),E=S&&(e||N),k=x.useRef(null),M=x.useRef(),O=x.useRef(new Set),D=x.useRef(new Set),z=x.useRef(!1),B=x.useRef(!1),H=L=>{if(z.current||C){z.current=!1;return}d?.(L),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},X=L=>{if(Array.isArray(a)&&a?.includes(2)){L.preventDefault();return}m?.(L)},G=h?L=>h(L):void 0,ee=L=>{const{resetSelectedElements:$,domNode:V}=j.getState();if(M.current=V?.getBoundingClientRect(),!S||!e||L.button!==0||L.target!==k.current||!M.current)return;L.target?.setPointerCapture?.(L.pointerId),B.current=!0,z.current=!1;const{x:T,y:U}=Gr(L.nativeEvent,M.current);$(),j.setState({userSelectionRect:{width:0,height:0,startX:T,startY:U,x:T,y:U}}),l?.(L)},P=L=>{const{userSelectionRect:$,transform:V,nodeLookup:T,edgeLookup:U,connectionLookup:Z,triggerNodeChanges:K,triggerEdgeChanges:ne,defaultEdgeOptions:fe}=j.getState();if(!M.current||!$)return;z.current=!0;const{x:ue,y:q}=Gr(L.nativeEvent,M.current),{startX:Q,startY:de}=$,he={startX:Q,startY:de,x:ue<Q?ue:Q,y:q<de?q:de,width:Math.abs(ue-Q),height:Math.abs(q-de)},Ee=O.current,we=D.current;O.current=new Set(Jx(T,he,V,r===hc.Partial,!0).map(te=>te.id)),D.current=new Set;const ke=fe?.selectable??!0;for(const te of O.current){const Re=Z.get(te);if(Re)for(const{edgeId:Ye}of Re.values()){const Fe=U.get(Ye);Fe&&(Fe.selectable??ke)&&D.current.add(Ye)}}if(!k1(Ee,O.current)){const te=ii(T,O.current,!0);K(te)}if(!k1(we,D.current)){const te=ii(U,D.current);ne(te)}j.setState({userSelectionRect:he,userSelectionActive:!0,nodesSelectionActive:!1})},F=L=>{if(L.button!==0||!B.current)return;L.target?.releasePointerCapture?.(L.pointerId);const{userSelectionRect:$}=j.getState();!N&&$&&L.target===k.current&&H?.(L),j.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:O.current.size>0}),u?.(L),(t||i)&&(z.current=!1),B.current=!1},A=a===!0||Array.isArray(a)&&a.includes(0);return s.jsxs("div",{className:Yt(["react-flow__pane",{draggable:A,dragging:_,selection:e}]),onClick:E?void 0:ng(H,k),onContextMenu:ng(X,k),onWheel:ng(G,k),onPointerEnter:E?void 0:p,onPointerDown:E?ee:v,onPointerMove:E?P:v,onPointerUp:E?F:void 0,onPointerLeave:y,ref:k,style:Wf,children:[b,s.jsx(a9,{})]})}function Xg({id:e,store:t,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:i,unselectNodesAndEdges:l,multiSelectionActive:u,nodeLookup:d,onError:m}=t.getState(),h=d.get(e);if(!h){m?.("012",Jr.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&u)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):i([e])}function qS({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:a,nodeId:i,isSelectable:l,nodeClickDistance:u}){const d=Ot(),[m,h]=x.useState(!1),p=x.useRef();return x.useEffect(()=>{p.current=Yz({getStoreItems:()=>d.getState(),onNodeMouseDown:v=>{Xg({id:v,store:d,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),x.useEffect(()=>{if(t)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:l,nodeId:i,nodeClickDistance:u}),()=>{p.current?.destroy()}},[r,a,t,l,e,i]),m}const l9=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function YS(){const e=Ot();return x.useCallback(r=>{const{nodeExtent:a,snapToGrid:i,snapGrid:l,nodesDraggable:u,onError:d,updateNodePositions:m,nodeLookup:h,nodeOrigin:p}=e.getState(),v=new Map,y=l9(u),b=i?l[0]:5,j=i?l[1]:5,N=r.direction.x*b*r.factor,S=r.direction.y*j*r.factor;for(const[,_]of h){if(!y(_))continue;let C={x:_.internals.positionAbsolute.x+N,y:_.internals.positionAbsolute.y+S};i&&(C=Bc(C,l));const{position:E,positionAbsolute:k}=mS({nodeId:_.id,nextPosition:C,nodeLookup:h,nodeExtent:a,nodeOrigin:p,onError:d});_.position=E,_.internals.positionAbsolute=k,v.set(_.id,_)}m(v)},[])}const l0=x.createContext(null),c9=l0.Provider;l0.Consumer;const GS=()=>x.useContext(l0),u9=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),d9=(e,t,r)=>a=>{const{connectionClickStartHandle:i,connectionMode:l,connection:u}=a,{fromHandle:d,toHandle:m,isValid:h}=u,p=m?.nodeId===e&&m?.id===t&&m?.type===r;return{connectingFrom:d?.nodeId===e&&d?.id===t&&d?.type===r,connectingTo:p,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===r,isPossibleEndHandle:l===Ni.Strict?d?.type!==r:e!==d?.nodeId||t!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!i,valid:p&&h}};function f9({type:e="source",position:t=Pe.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:i=!0,isConnectableEnd:l=!0,id:u,onConnect:d,children:m,className:h,onMouseDown:p,onTouchStart:v,...y},b){const j=u||null,N=e==="target",S=Ot(),_=GS(),{connectOnClick:C,noPanClassName:E,rfId:k}=dt(u9,It),{connectingFrom:M,connectingTo:O,clickConnecting:D,isPossibleEndHandle:z,connectionInProcess:B,clickConnectionInProcess:H,valid:X}=dt(d9(_,j,e),It);_||S.getState().onError?.("010",Jr.error010());const G=F=>{const{defaultEdgeOptions:A,onConnect:L,hasDefaultEdges:$}=S.getState(),V={...A,...F};if($){const{edges:T,setEdges:U}=S.getState();U(_S(V,T))}L?.(V),d?.(V)},ee=F=>{if(!_)return;const A=wS(F.nativeEvent);if(i&&(A&&F.button===0||!A)){const L=S.getState();Gg.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:N,handleId:j,nodeId:_,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:G,isValidConnection:r||L.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}A?p?.(F):v?.(F)},P=F=>{const{onClickConnectStart:A,onClickConnectEnd:L,connectionClickStartHandle:$,connectionMode:V,isValidConnection:T,lib:U,rfId:Z,nodeLookup:K,connection:ne}=S.getState();if(!_||!$&&!i)return;if(!$){A?.(F.nativeEvent,{nodeId:_,handleId:j,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,id:j}});return}const fe=yS(F.target),ue=r||T,{connection:q,isValid:Q}=Gg.isValid(F.nativeEvent,{handle:{nodeId:_,id:j,type:e},connectionMode:V,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:ue,flowId:Z,doc:fe,lib:U,nodeLookup:K});Q&&q&&G(q);const de=structuredClone(ne);delete de.inProgress,de.toPosition=de.toHandle?de.toHandle.position:null,L?.(F,de),S.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":j,"data-nodeid":_,"data-handlepos":t,"data-id":`${k}-${_}-${j}-${e}`,className:Yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",E,h,{source:!N,target:N,connectable:a,connectablestart:i,connectableend:l,clickconnecting:D,connectingfrom:M,connectingto:O,valid:X,connectionindicator:a&&(!B||z)&&(B||H?l:i)}]),onMouseDown:ee,onTouchStart:ee,onClick:C?P:void 0,ref:b,...y,children:m})}const ka=x.memo(VS(f9));function m9({data:e,isConnectable:t,sourcePosition:r=Pe.Bottom}){return s.jsxs(s.Fragment,{children:[e?.label,s.jsx(ka,{type:"source",position:r,isConnectable:t})]})}function h9({data:e,isConnectable:t,targetPosition:r=Pe.Top,sourcePosition:a=Pe.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(ka,{type:"target",position:r,isConnectable:t}),e?.label,s.jsx(ka,{type:"source",position:a,isConnectable:t})]})}function p9(){return null}function g9({data:e,isConnectable:t,targetPosition:r=Pe.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(ka,{type:"target",position:r,isConnectable:t}),e?.label]})}const pf={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},rN={input:m9,default:h9,output:g9,group:p9};function x9(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const v9=e=>{const{width:t,height:r,x:a,y:i}=Hc(e.nodeLookup,{filter:l=>!!l.selected});return{width:_r(t)?t:null,height:_r(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${i}px)`}};function y9({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const a=Ot(),{width:i,height:l,transformString:u,userSelectionActive:d}=dt(v9,It),m=YS(),h=x.useRef(null);if(x.useEffect(()=>{r||h.current?.focus({preventScroll:!0})},[r]),qS({nodeRef:h}),d||!i||!l)return null;const p=e?y=>{const b=a.getState().nodes.filter(j=>j.selected);e(y,b)}:void 0,v=y=>{Object.prototype.hasOwnProperty.call(pf,y.key)&&(y.preventDefault(),m({direction:pf[y.key],factor:y.shiftKey?4:1}))};return s.jsx("div",{className:Yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u},children:s.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:v,style:{width:i,height:l}})})}const sN=typeof window<"u"?window:void 0,b9=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function XS({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:l,onPaneScroll:u,paneClickDistance:d,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:p,selectionMode:v,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:N,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:M,panOnScrollMode:O,zoomOnDoubleClick:D,panOnDrag:z,defaultViewport:B,translateExtent:H,minZoom:X,maxZoom:G,preventScrolling:ee,onSelectionContextMenu:P,noWheelClassName:F,noPanClassName:A,disableKeyboardA11y:L,onViewportChange:$,isControlledViewport:V}){const{nodesSelectionActive:T,userSelectionActive:U}=dt(b9),Z=vc(h,{target:sN}),K=vc(N,{target:sN}),ne=K||z,fe=K||k,ue=p&&ne!==!0,q=Z||U||ue;return e9({deleteKeyCode:m,multiSelectionKeyCode:j}),s.jsx(r9,{onPaneContextMenu:l,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:fe,panOnScrollSpeed:M,panOnScrollMode:O,zoomOnDoubleClick:D,panOnDrag:!Z&&ne,defaultViewport:B,translateExtent:H,minZoom:X,maxZoom:G,zoomActivationKeyCode:S,preventScrolling:ee,noWheelClassName:F,noPanClassName:A,onViewportChange:$,isControlledViewport:V,paneClickDistance:d,children:s.jsxs(i9,{onSelectionStart:y,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:l,onPaneScroll:u,panOnDrag:ne,isSelecting:!!q,selectionMode:v,selectionKeyPressed:Z,selectionOnDrag:ue,children:[e,T&&s.jsx(y9,{onSelectionContextMenu:P,noPanClassName:A,disableKeyboardA11y:L})]})})}XS.displayName="FlowRenderer";const w9=x.memo(XS),N9=e=>t=>e?Jx(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function j9(e){return dt(x.useCallback(N9(e),[e]),It)}const S9=e=>e.updateNodeInternals;function _9(){const e=dt(S9),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(i=>{const l=i.target.getAttribute("data-id");a.set(l,{id:l,nodeElement:i.target,force:!0})}),e(a)}));return x.useEffect(()=>()=>{t?.disconnect()},[t]),t}function E9({node:e,nodeType:t,hasDimensions:r,resizeObserver:a}){const i=Ot(),l=x.useRef(null),u=x.useRef(null),d=x.useRef(e.sourcePosition),m=x.useRef(e.targetPosition),h=x.useRef(t),p=r&&!!e.internals.handleBounds;return x.useEffect(()=>{l.current&&!e.hidden&&(!p||u.current!==l.current)&&(u.current&&a?.unobserve(u.current),a?.observe(l.current),u.current=l.current)},[p,e.hidden]),x.useEffect(()=>()=>{u.current&&(a?.unobserve(u.current),u.current=null)},[]),x.useEffect(()=>{if(l.current){const v=h.current!==t,y=d.current!==e.sourcePosition,b=m.current!==e.targetPosition;(v||y||b)&&(h.current=t,d.current=e.sourcePosition,m.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),l}function C9({id:e,onClick:t,onMouseEnter:r,onMouseMove:a,onMouseLeave:i,onContextMenu:l,onDoubleClick:u,nodesDraggable:d,elementsSelectable:m,nodesConnectable:h,nodesFocusable:p,resizeObserver:v,noDragClassName:y,noPanClassName:b,disableKeyboardA11y:j,rfId:N,nodeTypes:S,nodeClickDistance:_,onError:C}){const{node:E,internals:k,isParent:M}=dt(Q=>{const de=Q.nodeLookup.get(e),he=Q.parentLookup.has(e);return{node:de,internals:de.internals,isParent:he}},It);let O=E.type||"default",D=S?.[O]||rN[O];D===void 0&&(C?.("003",Jr.error003(O)),O="default",D=S?.default||rN.default);const z=!!(E.draggable||d&&typeof E.draggable>"u"),B=!!(E.selectable||m&&typeof E.selectable>"u"),H=!!(E.connectable||h&&typeof E.connectable>"u"),X=!!(E.focusable||p&&typeof E.focusable>"u"),G=Ot(),ee=xS(E),P=E9({node:E,nodeType:O,hasDimensions:ee,resizeObserver:v}),F=qS({nodeRef:P,disabled:E.hidden||!z,noDragClassName:y,handleSelector:E.dragHandle,nodeId:e,isSelectable:B,nodeClickDistance:_}),A=YS();if(E.hidden)return null;const L=Is(E),$=x9(E),V=B||z||t||r||a||i,T=r?Q=>r(Q,{...k.userNode}):void 0,U=a?Q=>a(Q,{...k.userNode}):void 0,Z=i?Q=>i(Q,{...k.userNode}):void 0,K=l?Q=>l(Q,{...k.userNode}):void 0,ne=u?Q=>u(Q,{...k.userNode}):void 0,fe=Q=>{const{selectNodesOnDrag:de,nodeDragThreshold:he}=G.getState();B&&(!de||!z||he>0)&&Xg({id:e,store:G,nodeRef:P}),t&&t(Q,{...k.userNode})},ue=Q=>{if(!(bS(Q.nativeEvent)||j)){if(lS.includes(Q.key)&&B){const de=Q.key==="Escape";Xg({id:e,store:G,unselect:de,nodeRef:P})}else if(z&&E.selected&&Object.prototype.hasOwnProperty.call(pf,Q.key)){Q.preventDefault();const{ariaLabelConfig:de}=G.getState();G.setState({ariaLiveMessage:de["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),A({direction:pf[Q.key],factor:Q.shiftKey?4:1})}}},q=()=>{if(j||!P.current?.matches(":focus-visible"))return;const{transform:Q,width:de,height:he,autoPanOnNodeFocus:Ee,setCenter:we}=G.getState();if(!Ee)return;Jx(new Map([[e,E]]),{x:0,y:0,width:de,height:he},Q,!0).length>0||we(E.position.x+L.width/2,E.position.y+L.height/2,{zoom:Q[2]})};return s.jsx("div",{className:Yt(["react-flow__node",`react-flow__node-${O}`,{[b]:z},E.className,{selected:E.selected,selectable:B,parent:M,draggable:z,dragging:F}]),ref:P,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:V?"all":"none",visibility:ee?"visible":"hidden",...E.style,...$},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:T,onMouseMove:U,onMouseLeave:Z,onContextMenu:K,onClick:fe,onDoubleClick:ne,onKeyDown:X?ue:void 0,tabIndex:X?0:void 0,onFocus:X?q:void 0,role:E.ariaRole??(X?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${$S}-${N}`,"aria-label":E.ariaLabel,...E.domAttributes,children:s.jsx(c9,{value:e,children:s.jsx(D,{id:e,data:E.data,type:O,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:E.selected??!1,selectable:B,draggable:z,deletable:E.deletable??!0,isConnectable:H,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:F,dragHandle:E.dragHandle,zIndex:k.z,parentId:E.parentId,...L})})})}const k9=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function WS(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:a,elementsSelectable:i,onError:l}=dt(k9,It),u=j9(e.onlyRenderVisibleElements),d=_9();return s.jsx("div",{className:"react-flow__nodes",style:Wf,children:u.map(m=>s.jsx(C9,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:r,nodesFocusable:a,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:l},m))})}WS.displayName="NodeRenderer";const A9=x.memo(WS);function R9(e){return dt(x.useCallback(r=>{if(!e)return r.edges.map(i=>i.id);const a=[];if(r.width&&r.height)for(const i of r.edges){const l=r.nodeLookup.get(i.source),u=r.nodeLookup.get(i.target);l&&u&&Rz({sourceNode:l,targetNode:u,width:r.width,height:r.height,transform:r.transform})&&a.push(i.id)}return a},[e]),It)}const M9=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return s.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},T9=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return s.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},aN={[ff.Arrow]:M9,[ff.ArrowClosed]:T9};function D9(e){const t=Ot();return x.useMemo(()=>Object.prototype.hasOwnProperty.call(aN,e)?aN[e]:(t.getState().onError?.("009",Jr.error009(e)),null),[e])}const O9=({id:e,type:t,color:r,width:a=12.5,height:i=12.5,markerUnits:l="strokeWidth",strokeWidth:u,orient:d="auto-start-reverse"})=>{const m=D9(t);return m?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0",children:s.jsx(m,{color:r,strokeWidth:u})}):null},ZS=({defaultColor:e,rfId:t})=>{const r=dt(l=>l.edges),a=dt(l=>l.defaultEdgeOptions),i=x.useMemo(()=>Lz(r,{id:t,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,t,e]);return i.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:i.map(l=>s.jsx(O9,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};ZS.displayName="MarkerDefinitions";var z9=x.memo(ZS);function KS({x:e,y:t,label:r,labelStyle:a,labelShowBg:i=!0,labelBgStyle:l,labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:m,className:h,...p}){const[v,y]=x.useState({x:1,y:0,width:0,height:0}),b=Yt(["react-flow__edge-textwrapper",h]),j=x.useRef(null);return x.useEffect(()=>{if(j.current){const N=j.current.getBBox();y({x:N.x,y:N.y,width:N.width,height:N.height})}},[r]),r?s.jsxs("g",{transform:`translate(${e-v.width/2} ${t-v.height/2})`,className:b,visibility:v.width?"visible":"hidden",...p,children:[i&&s.jsx("rect",{width:v.width+2*u[0],x:-u[0],y:-u[1],height:v.height+2*u[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),s.jsx("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:j,style:a,children:r}),m]}):null}KS.displayName="EdgeText";const I9=x.memo(KS);function Zf({path:e,labelX:t,labelY:r,label:a,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,interactionWidth:h=20,...p}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...p,d:e,fill:"none",className:Yt(["react-flow__edge-path",p.className])}),h?s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&_r(t)&&_r(r)?s.jsx(I9,{x:t,y:r,label:a,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m}):null]})}function oN({pos:e,x1:t,y1:r,x2:a,y2:i}){return e===Pe.Left||e===Pe.Right?[.5*(t+a),r]:[t,.5*(r+i)]}function QS({sourceX:e,sourceY:t,sourcePosition:r=Pe.Bottom,targetX:a,targetY:i,targetPosition:l=Pe.Top}){const[u,d]=oN({pos:r,x1:e,y1:t,x2:a,y2:i}),[m,h]=oN({pos:l,x1:a,y1:i,x2:e,y2:t}),[p,v,y,b]=NS({sourceX:e,sourceY:t,targetX:a,targetY:i,sourceControlX:u,sourceControlY:d,targetControlX:m,targetControlY:h});return[`M${e},${t} C${u},${d} ${m},${h} ${a},${i}`,p,v,y,b]}function JS(e){return x.memo(({id:t,sourceX:r,sourceY:a,targetX:i,targetY:l,sourcePosition:u,targetPosition:d,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})=>{const[C,E,k]=QS({sourceX:r,sourceY:a,sourcePosition:u,targetX:i,targetY:l,targetPosition:d}),M=e.isInternal?void 0:t;return s.jsx(Zf,{id:M,path:C,labelX:E,labelY:k,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})})}const L9=JS({isInternal:!1}),e_=JS({isInternal:!0});L9.displayName="SimpleBezierEdge";e_.displayName="SimpleBezierEdgeInternal";function t_(e){return x.memo(({id:t,sourceX:r,sourceY:a,targetX:i,targetY:l,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,sourcePosition:b=Pe.Bottom,targetPosition:j=Pe.Top,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:C})=>{const[E,k,M]=Fg({sourceX:r,sourceY:a,sourcePosition:b,targetX:i,targetY:l,targetPosition:j,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),O=e.isInternal?void 0:t;return s.jsx(Zf,{id:O,path:E,labelX:k,labelY:M,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:N,markerStart:S,interactionWidth:C})})}const n_=t_({isInternal:!1}),r_=t_({isInternal:!0});n_.displayName="SmoothStepEdge";r_.displayName="SmoothStepEdgeInternal";function s_(e){return x.memo(({id:t,...r})=>{const a=e.isInternal?void 0:t;return s.jsx(n_,{...r,id:a,pathOptions:x.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const P9=s_({isInternal:!1}),a_=s_({isInternal:!0});P9.displayName="StepEdge";a_.displayName="StepEdgeInternal";function o_(e){return x.memo(({id:t,sourceX:r,sourceY:a,targetX:i,targetY:l,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:j,interactionWidth:N})=>{const[S,_,C]=ES({sourceX:r,sourceY:a,targetX:i,targetY:l}),E=e.isInternal?void 0:t;return s.jsx(Zf,{id:E,path:S,labelX:_,labelY:C,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:j,interactionWidth:N})})}const $9=o_({isInternal:!1}),i_=o_({isInternal:!0});$9.displayName="StraightEdge";i_.displayName="StraightEdgeInternal";function l_(e){return x.memo(({id:t,sourceX:r,sourceY:a,targetX:i,targetY:l,sourcePosition:u=Pe.Bottom,targetPosition:d=Pe.Top,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:C})=>{const[E,k,M]=jS({sourceX:r,sourceY:a,sourcePosition:u,targetX:i,targetY:l,targetPosition:d,curvature:_?.curvature}),O=e.isInternal?void 0:t;return s.jsx(Zf,{id:O,path:E,labelX:k,labelY:M,label:m,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:C})})}const H9=l_({isInternal:!1}),c_=l_({isInternal:!0});H9.displayName="BezierEdge";c_.displayName="BezierEdgeInternal";const iN={default:c_,straight:i_,step:a_,smoothstep:r_,simplebezier:e_},lN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},B9=(e,t,r)=>r===Pe.Left?e-t:r===Pe.Right?e+t:e,U9=(e,t,r)=>r===Pe.Top?e-t:r===Pe.Bottom?e+t:e,cN="react-flow__edgeupdater";function uN({position:e,centerX:t,centerY:r,radius:a=10,onMouseDown:i,onMouseEnter:l,onMouseOut:u,type:d}){return s.jsx("circle",{onMouseDown:i,onMouseEnter:l,onMouseOut:u,className:Yt([cN,`${cN}-${d}`]),cx:B9(t,a,e),cy:U9(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function V9({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:a,sourceY:i,targetX:l,targetY:u,sourcePosition:d,targetPosition:m,onReconnect:h,onReconnectStart:p,onReconnectEnd:v,setReconnecting:y,setUpdateHover:b}){const j=Ot(),N=(k,M)=>{if(k.button!==0)return;const{autoPanOnConnect:O,domNode:D,isValidConnection:z,connectionMode:B,connectionRadius:H,lib:X,onConnectStart:G,onConnectEnd:ee,cancelConnection:P,nodeLookup:F,rfId:A,panBy:L,updateConnection:$}=j.getState(),V=M.type==="target",T=(K,ne)=>{y(!1),v?.(K,r,M.type,ne)},U=K=>h?.(r,K),Z=(K,ne)=>{y(!0),p?.(k,r,M.type),G?.(K,ne)};Gg.onPointerDown(k.nativeEvent,{autoPanOnConnect:O,connectionMode:B,connectionRadius:H,domNode:D,handleId:M.id,nodeId:M.nodeId,nodeLookup:F,isTarget:V,edgeUpdaterType:M.type,lib:X,flowId:A,cancelConnection:P,panBy:L,isValidConnection:z,onConnect:U,onConnectStart:Z,onConnectEnd:ee,onReconnectEnd:T,updateConnection:$,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},S=k=>N(k,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),_=k=>N(k,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),C=()=>b(!0),E=()=>b(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(uN,{position:d,centerX:a,centerY:i,radius:t,onMouseDown:S,onMouseEnter:C,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&s.jsx(uN,{position:m,centerX:l,centerY:u,radius:t,onMouseDown:_,onMouseEnter:C,onMouseOut:E,type:"target"})]})}function F9({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:a,onClick:i,onDoubleClick:l,onContextMenu:u,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,reconnectRadius:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:b,rfId:j,edgeTypes:N,noPanClassName:S,onError:_,disableKeyboardA11y:C}){let E=dt(we=>we.edgeLookup.get(e));const k=dt(we=>we.defaultEdgeOptions);E=k?{...k,...E}:E;let M=E.type||"default",O=N?.[M]||iN[M];O===void 0&&(_?.("011",Jr.error011(M)),M="default",O=N?.default||iN.default);const D=!!(E.focusable||t&&typeof E.focusable>"u"),z=typeof v<"u"&&(E.reconnectable||r&&typeof E.reconnectable>"u"),B=!!(E.selectable||a&&typeof E.selectable>"u"),H=x.useRef(null),[X,G]=x.useState(!1),[ee,P]=x.useState(!1),F=Ot(),{zIndex:A,sourceX:L,sourceY:$,targetX:V,targetY:T,sourcePosition:U,targetPosition:Z}=dt(x.useCallback(we=>{const ke=we.nodeLookup.get(E.source),te=we.nodeLookup.get(E.target);if(!ke||!te)return{zIndex:E.zIndex,...lN};const Re=Iz({id:e,sourceNode:ke,targetNode:te,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:we.connectionMode,onError:_});return{zIndex:Az({selected:E.selected,zIndex:E.zIndex,sourceNode:ke,targetNode:te,elevateOnSelect:we.elevateEdgesOnSelect}),...Re||lN}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),It),K=x.useMemo(()=>E.markerStart?`url('#${qg(E.markerStart,j)}')`:void 0,[E.markerStart,j]),ne=x.useMemo(()=>E.markerEnd?`url('#${qg(E.markerEnd,j)}')`:void 0,[E.markerEnd,j]);if(E.hidden||L===null||$===null||V===null||T===null)return null;const fe=we=>{const{addSelectedEdges:ke,unselectNodesAndEdges:te,multiSelectionActive:Re}=F.getState();B&&(F.setState({nodesSelectionActive:!1}),E.selected&&Re?(te({nodes:[],edges:[E]}),H.current?.blur()):ke([e])),i&&i(we,E)},ue=l?we=>{l(we,{...E})}:void 0,q=u?we=>{u(we,{...E})}:void 0,Q=d?we=>{d(we,{...E})}:void 0,de=m?we=>{m(we,{...E})}:void 0,he=h?we=>{h(we,{...E})}:void 0,Ee=we=>{if(!C&&lS.includes(we.key)&&B){const{unselectNodesAndEdges:ke,addSelectedEdges:te}=F.getState();we.key==="Escape"?(H.current?.blur(),ke({edges:[E]})):te([e])}};return s.jsx("svg",{style:{zIndex:A},children:s.jsxs("g",{className:Yt(["react-flow__edge",`react-flow__edge-${M}`,E.className,S,{selected:E.selected,animated:E.animated,inactive:!B&&!i,updating:X,selectable:B}]),onClick:fe,onDoubleClick:ue,onContextMenu:q,onMouseEnter:Q,onMouseMove:de,onMouseLeave:he,onKeyDown:D?Ee:void 0,tabIndex:D?0:void 0,role:E.ariaRole??(D?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":D?`${HS}-${j}`:void 0,ref:H,...E.domAttributes,children:[!ee&&s.jsx(O,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:B,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:L,sourceY:$,targetX:V,targetY:T,sourcePosition:U,targetPosition:Z,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:K,markerEnd:ne,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),z&&s.jsx(V9,{edge:E,isReconnectable:z,reconnectRadius:p,onReconnect:v,onReconnectStart:y,onReconnectEnd:b,sourceX:L,sourceY:$,targetX:V,targetY:T,sourcePosition:U,targetPosition:Z,setUpdateHover:G,setReconnecting:P})]})})}const q9=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function u_({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:a,noPanClassName:i,onReconnect:l,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:v,onEdgeDoubleClick:y,onReconnectStart:b,onReconnectEnd:j,disableKeyboardA11y:N}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:C,onError:E}=dt(q9,It),k=R9(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(z9,{defaultColor:e,rfId:r}),k.map(M=>s.jsx(F9,{id:M,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:C,noPanClassName:i,onReconnect:l,onContextMenu:u,onMouseEnter:d,onMouseMove:m,onMouseLeave:h,onClick:p,reconnectRadius:v,onDoubleClick:y,onReconnectStart:b,onReconnectEnd:j,rfId:r,onError:E,edgeTypes:a,disableKeyboardA11y:N},M))]})}u_.displayName="EdgeRenderer";const Y9=x.memo(u_),G9=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function X9({children:e}){const t=dt(G9);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function W9(e){const t=Oi(),r=x.useRef(!1);x.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Z9=e=>e.panZoom?.syncViewport;function K9(e){const t=dt(Z9),r=Ot();return x.useEffect(()=>{e&&(t?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Q9(e){return e.connection.inProgress?{...e.connection,to:Uc(e.connection.to,e.transform)}:{...e.connection}}function J9(e){return Q9}function eL(e){const t=J9();return dt(t,It)}const tL=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function nL({containerStyle:e,style:t,type:r,component:a}){const{nodesConnectable:i,width:l,height:u,isValid:d,inProgress:m}=dt(tL,It);return!(l&&i&&m)?null:s.jsx("svg",{style:e,width:l,height:u,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:Yt(["react-flow__connection",dS(d)]),children:s.jsx(d_,{style:t,type:r,CustomComponent:a,isValid:d})})})}const d_=({style:e,type:t=ya.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:i,from:l,fromNode:u,fromHandle:d,fromPosition:m,to:h,toNode:p,toHandle:v,toPosition:y}=eL();if(!i)return;if(r)return s.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:u,fromHandle:d,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:y,connectionStatus:dS(a),toNode:p,toHandle:v});let b="";const j={sourceX:l.x,sourceY:l.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:y};switch(t){case ya.Bezier:[b]=jS(j);break;case ya.SimpleBezier:[b]=QS(j);break;case ya.Step:[b]=Fg({...j,borderRadius:0});break;case ya.SmoothStep:[b]=Fg(j);break;default:[b]=ES(j)}return s.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};d_.displayName="ConnectionLine";const rL={};function dN(e=rL){x.useRef(e),Ot(),x.useEffect(()=>{},[e])}function sL(){Ot(),x.useRef(!1),x.useEffect(()=>{},[])}function f_({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:a,onEdgeClick:i,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:b,connectionLineType:j,connectionLineStyle:N,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,multiSelectionKeyCode:M,panActivationKeyCode:O,zoomActivationKeyCode:D,deleteKeyCode:z,onlyRenderVisibleElements:B,elementsSelectable:H,defaultViewport:X,translateExtent:G,minZoom:ee,maxZoom:P,preventScrolling:F,defaultMarkerColor:A,zoomOnScroll:L,zoomOnPinch:$,panOnScroll:V,panOnScrollSpeed:T,panOnScrollMode:U,zoomOnDoubleClick:Z,panOnDrag:K,onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:q,onPaneScroll:Q,onPaneContextMenu:de,paneClickDistance:he,nodeClickDistance:Ee,onEdgeContextMenu:we,onEdgeMouseEnter:ke,onEdgeMouseMove:te,onEdgeMouseLeave:Re,reconnectRadius:Ye,onReconnect:Fe,onReconnectStart:Bt,onReconnectEnd:an,noDragClassName:Ct,noWheelClassName:tt,noPanClassName:Ke,disableKeyboardA11y:Gt,nodeExtent:le,rfId:De,viewport:Se,onViewportChange:Me}){return dN(e),dN(t),sL(),W9(r),K9(Se),s.jsx(w9,{onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:q,onPaneContextMenu:de,onPaneScroll:Q,paneClickDistance:he,deleteKeyCode:z,selectionKeyCode:C,selectionOnDrag:E,selectionMode:k,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:M,panActivationKeyCode:O,zoomActivationKeyCode:D,elementsSelectable:H,zoomOnScroll:L,zoomOnPinch:$,zoomOnDoubleClick:Z,panOnScroll:V,panOnScrollSpeed:T,panOnScrollMode:U,panOnDrag:K,defaultViewport:X,translateExtent:G,minZoom:ee,maxZoom:P,onSelectionContextMenu:v,preventScrolling:F,noDragClassName:Ct,noWheelClassName:tt,noPanClassName:Ke,disableKeyboardA11y:Gt,onViewportChange:Me,isControlledViewport:!!Se,children:s.jsxs(X9,{children:[s.jsx(Y9,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:u,onReconnect:Fe,onReconnectStart:Bt,onReconnectEnd:an,onlyRenderVisibleElements:B,onEdgeContextMenu:we,onEdgeMouseEnter:ke,onEdgeMouseMove:te,onEdgeMouseLeave:Re,reconnectRadius:Ye,defaultMarkerColor:A,noPanClassName:Ke,disableKeyboardA11y:Gt,rfId:De}),s.jsx(nL,{style:N,type:j,component:S,containerStyle:_}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(A9,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:Ee,onlyRenderVisibleElements:B,noPanClassName:Ke,noDragClassName:Ct,disableKeyboardA11y:Gt,nodeExtent:le,rfId:De}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}f_.displayName="GraphView";const aL=x.memo(f_),fN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:i,height:l,fitView:u,fitViewOptions:d,minZoom:m=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:v}={})=>{const y=new Map,b=new Map,j=new Map,N=new Map,S=a??t??[],_=r??e??[],C=p??[0,0],E=v??mc;kS(j,N,S);const k=Yg(_,y,b,{nodeOrigin:C,nodeExtent:E,elevateNodesOnSelect:!1});let M=[0,0,1];if(u&&i&&l){const O=Hc(y,{filter:H=>!!((H.width||H.initialWidth)&&(H.height||H.initialHeight))}),{x:D,y:z,zoom:B}=e0(O,i,l,m,h,d?.padding??.1);M=[D,z,B]}return{rfId:"1",width:0,height:0,transform:M,nodes:_,nodesInitialized:k,nodeLookup:y,parentLookup:b,edges:S,edgeLookup:N,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:mc,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ni.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:C,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:u??!1,fitViewOptions:d,fitViewResolver:null,connection:{...uS},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:jz,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:cS}},oL=({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:i,height:l,fitView:u,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:v})=>EI((y,b)=>{async function j(){const{nodeLookup:N,panZoom:S,fitViewOptions:_,fitViewResolver:C,width:E,height:k,minZoom:M,maxZoom:O}=b();S&&(await wz({nodes:N,width:E,height:k,panZoom:S,minZoom:M,maxZoom:O},_),C?.resolve(!0),y({fitViewResolver:null}))}return{...fN({nodes:e,edges:t,width:i,height:l,fitView:u,fitViewOptions:d,minZoom:m,maxZoom:h,nodeOrigin:p,nodeExtent:v,defaultNodes:r,defaultEdges:a}),setNodes:N=>{const{nodeLookup:S,parentLookup:_,nodeOrigin:C,elevateNodesOnSelect:E,fitViewQueued:k}=b(),M=Yg(N,S,_,{nodeOrigin:C,nodeExtent:v,elevateNodesOnSelect:E,checkEquality:!0});k&&M?(j(),y({nodes:N,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:N,nodesInitialized:M})},setEdges:N=>{const{connectionLookup:S,edgeLookup:_}=b();kS(S,_,N),y({edges:N})},setDefaultNodesAndEdges:(N,S)=>{if(N){const{setNodes:_}=b();_(N),y({hasDefaultNodes:!0})}if(S){const{setEdges:_}=b();_(S),y({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:C,domNode:E,nodeOrigin:k,nodeExtent:M,debug:O,fitViewQueued:D}=b(),{changes:z,updatedInternals:B}=Uz(N,_,C,E,k,M);B&&($z(_,C,{nodeOrigin:k,nodeExtent:M}),D?(j(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),z?.length>0&&(O&&console.log("React Flow: trigger node changes",z),S?.(z)))},updateNodePositions:(N,S=!1)=>{const _=[],C=[],{nodeLookup:E,triggerNodeChanges:k}=b();for(const[M,O]of N){const D=E.get(M),z=!!(D?.expandParent&&D?.parentId&&O?.position),B={id:M,type:"position",position:z?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:S};z&&D.parentId&&_.push({id:M,parentId:D.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),C.push(B)}if(_.length>0){const{parentLookup:M,nodeOrigin:O}=b(),D=a0(_,E,M,O);C.push(...D)}k(C)},triggerNodeChanges:N=>{const{onNodesChange:S,setNodes:_,nodes:C,hasDefaultNodes:E,debug:k}=b();if(N?.length){if(E){const M=o0(N,C);_(M)}k&&console.log("React Flow: trigger node changes",N),S?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:S,setEdges:_,edges:C,hasDefaultEdges:E,debug:k}=b();if(N?.length){if(E){const M=i0(N,C);_(M)}k&&console.log("React Flow: trigger edge changes",N),S?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:C,triggerNodeChanges:E,triggerEdgeChanges:k}=b();if(S){const M=N.map(O=>Ja(O,!0));E(M);return}E(ii(C,new Set([...N]),!0)),k(ii(_))},addSelectedEdges:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:C,triggerNodeChanges:E,triggerEdgeChanges:k}=b();if(S){const M=N.map(O=>Ja(O,!0));k(M);return}k(ii(_,new Set([...N]))),E(ii(C,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:S}={})=>{const{edges:_,nodes:C,nodeLookup:E,triggerNodeChanges:k,triggerEdgeChanges:M}=b(),O=N||C,D=S||_,z=O.map(H=>{const X=E.get(H.id);return X&&(X.selected=!1),Ja(H.id,!1)}),B=D.map(H=>Ja(H.id,!1));k(z),M(B)},setMinZoom:N=>{const{panZoom:S,maxZoom:_}=b();S?.setScaleExtent([N,_]),y({minZoom:N})},setMaxZoom:N=>{const{panZoom:S,minZoom:_}=b();S?.setScaleExtent([_,N]),y({maxZoom:N})},setTranslateExtent:N=>{b().panZoom?.setTranslateExtent(N),y({translateExtent:N})},setPaneClickDistance:N=>{b().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:S,triggerNodeChanges:_,triggerEdgeChanges:C,elementsSelectable:E}=b();if(!E)return;const k=S.reduce((O,D)=>D.selected?[...O,Ja(D.id,!1)]:O,[]),M=N.reduce((O,D)=>D.selected?[...O,Ja(D.id,!1)]:O,[]);_(k),C(M)},setNodeExtent:N=>{const{nodes:S,nodeLookup:_,parentLookup:C,nodeOrigin:E,elevateNodesOnSelect:k,nodeExtent:M}=b();N[0][0]===M[0][0]&&N[0][1]===M[0][1]&&N[1][0]===M[1][0]&&N[1][1]===M[1][1]||(Yg(S,_,C,{nodeOrigin:E,nodeExtent:N,elevateNodesOnSelect:k,checkEquality:!1}),y({nodeExtent:N}))},panBy:N=>{const{transform:S,width:_,height:C,panZoom:E,translateExtent:k}=b();return Vz({delta:N,panZoom:E,transform:S,translateExtent:k,width:_,height:C})},setCenter:async(N,S,_)=>{const{width:C,height:E,maxZoom:k,panZoom:M}=b();if(!M)return Promise.resolve(!1);const O=typeof _?.zoom<"u"?_.zoom:k;return await M.setViewport({x:C/2-N*O,y:E/2-S*O,zoom:O},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...uS}})},updateConnection:N=>{y({connection:N})},reset:()=>y({...fN()})}},Object.is);function iL({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:a,initialWidth:i,initialHeight:l,initialMinZoom:u,initialMaxZoom:d,initialFitViewOptions:m,fitView:h,nodeOrigin:p,nodeExtent:v,children:y}){const[b]=x.useState(()=>oL({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,width:i,height:l,fitView:h,minZoom:u,maxZoom:d,fitViewOptions:m,nodeOrigin:p,nodeExtent:v}));return s.jsx(CI,{value:b,children:s.jsx(ZI,{children:y})})}function lL({children:e,nodes:t,edges:r,defaultNodes:a,defaultEdges:i,width:l,height:u,fitView:d,fitViewOptions:m,minZoom:h,maxZoom:p,nodeOrigin:v,nodeExtent:y}){return x.useContext(Gf)?s.jsx(s.Fragment,{children:e}):s.jsx(iL,{initialNodes:t,initialEdges:r,defaultNodes:a,defaultEdges:i,initialWidth:l,initialHeight:u,fitView:d,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:v,nodeExtent:y,children:e})}const cL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function uL({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,className:i,nodeTypes:l,edgeTypes:u,onNodeClick:d,onEdgeClick:m,onInit:h,onMove:p,onMoveStart:v,onMoveEnd:y,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:O,onNodeDragStart:D,onNodeDrag:z,onNodeDragStop:B,onNodesDelete:H,onEdgesDelete:X,onDelete:G,onSelectionChange:ee,onSelectionDragStart:P,onSelectionDrag:F,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:$,onSelectionEnd:V,onBeforeDelete:T,connectionMode:U,connectionLineType:Z=ya.Bezier,connectionLineStyle:K,connectionLineComponent:ne,connectionLineContainerStyle:fe,deleteKeyCode:ue="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:Q=!1,selectionMode:de=hc.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:Ee=gc()?"Meta":"Control",zoomActivationKeyCode:we=gc()?"Meta":"Control",snapToGrid:ke,snapGrid:te,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:Ye,nodesDraggable:Fe,autoPanOnNodeFocus:Bt,nodesConnectable:an,nodesFocusable:Ct,nodeOrigin:tt=BS,edgesFocusable:Ke,edgesReconnectable:Gt,elementsSelectable:le=!0,defaultViewport:De=HI,minZoom:Se=.5,maxZoom:Me=2,translateExtent:ie=mc,preventScrolling:ce=!0,nodeExtent:ve,defaultMarkerColor:be="#b1b1b7",zoomOnScroll:_e=!0,zoomOnPinch:Xe=!0,panOnScroll:Ne=!1,panOnScrollSpeed:Le=.5,panOnScrollMode:Ce=no.Free,zoomOnDoubleClick:We=!0,panOnDrag:pt=!0,onPaneClick:on,onPaneMouseEnter:tr,onPaneMouseMove:Da,onPaneMouseLeave:Mt,onPaneScroll:xn,onPaneContextMenu:ln,paneClickDistance:Rn=0,nodeClickDistance:cn=0,children:Xt,onReconnect:Cn,onReconnectStart:zr,onReconnectEnd:yt,onEdgeContextMenu:jt,onEdgeDoubleClick:St,onEdgeMouseEnter:un,onEdgeMouseMove:gr,onEdgeMouseLeave:os,reconnectRadius:nr=10,onNodesChange:Ir,onEdgesChange:xr,noDragClassName:Fi="nodrag",noWheelClassName:Us="nowheel",noPanClassName:is="nopan",fitView:Vs,fitViewOptions:ls,connectOnClick:Ut,attributionPosition:Zc,proOptions:Kc,defaultEdgeOptions:cs,elevateNodesOnSelect:Fs,elevateEdgesOnSelect:Sm,disableKeyboardA11y:qi=!1,autoPanOnConnect:Qc,autoPanOnNodeDrag:_m,autoPanSpeed:yo,connectionRadius:bo,isValidConnection:vr,onError:Yi,style:Jc,id:us,nodeDragThreshold:Gi,connectionDragThreshold:Xi,viewport:Em,onViewportChange:eu,width:Mn,height:tu,colorMode:Cm="light",debug:wo,onScroll:Wi,ariaLabelConfig:No,...km},Tn){const Oa=us||"1",nu=FI(Cm),Zi=x.useCallback(ds=>{ds.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Wi?.(ds)},[Wi]);return s.jsx("div",{"data-testid":"rf__wrapper",...km,onScroll:Zi,style:{...Jc,...cL},ref:Tn,className:Yt(["react-flow",i,nu]),id:us,role:"application",children:s.jsxs(lL,{nodes:e,edges:t,width:Mn,height:tu,fitView:Vs,fitViewOptions:ls,minZoom:Se,maxZoom:Me,nodeOrigin:tt,nodeExtent:ve,children:[s.jsx(aL,{onInit:h,onNodeClick:d,onEdgeClick:m,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:O,nodeTypes:l,edgeTypes:u,connectionLineType:Z,connectionLineStyle:K,connectionLineComponent:ne,connectionLineContainerStyle:fe,selectionKeyCode:q,selectionOnDrag:Q,selectionMode:de,deleteKeyCode:ue,multiSelectionKeyCode:Ee,panActivationKeyCode:he,zoomActivationKeyCode:we,onlyRenderVisibleElements:Re,defaultViewport:De,translateExtent:ie,minZoom:Se,maxZoom:Me,preventScrolling:ce,zoomOnScroll:_e,zoomOnPinch:Xe,zoomOnDoubleClick:We,panOnScroll:Ne,panOnScrollSpeed:Le,panOnScrollMode:Ce,panOnDrag:pt,onPaneClick:on,onPaneMouseEnter:tr,onPaneMouseMove:Da,onPaneMouseLeave:Mt,onPaneScroll:xn,onPaneContextMenu:ln,paneClickDistance:Rn,nodeClickDistance:cn,onSelectionContextMenu:L,onSelectionStart:$,onSelectionEnd:V,onReconnect:Cn,onReconnectStart:zr,onReconnectEnd:yt,onEdgeContextMenu:jt,onEdgeDoubleClick:St,onEdgeMouseEnter:un,onEdgeMouseMove:gr,onEdgeMouseLeave:os,reconnectRadius:nr,defaultMarkerColor:be,noDragClassName:Fi,noWheelClassName:Us,noPanClassName:is,rfId:Oa,disableKeyboardA11y:qi,nodeExtent:ve,viewport:Em,onViewportChange:eu}),s.jsx(VI,{nodes:e,edges:t,defaultNodes:r,defaultEdges:a,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:Fe,autoPanOnNodeFocus:Bt,nodesConnectable:an,nodesFocusable:Ct,edgesFocusable:Ke,edgesReconnectable:Gt,elementsSelectable:le,elevateNodesOnSelect:Fs,elevateEdgesOnSelect:Sm,minZoom:Se,maxZoom:Me,nodeExtent:ve,onNodesChange:Ir,onEdgesChange:xr,snapToGrid:ke,snapGrid:te,connectionMode:U,translateExtent:ie,connectOnClick:Ut,defaultEdgeOptions:cs,fitView:Vs,fitViewOptions:ls,onNodesDelete:H,onEdgesDelete:X,onDelete:G,onNodeDragStart:D,onNodeDrag:z,onNodeDragStop:B,onSelectionDrag:F,onSelectionDragStart:P,onSelectionDragStop:A,onMove:p,onMoveStart:v,onMoveEnd:y,noPanClassName:is,nodeOrigin:tt,rfId:Oa,autoPanOnConnect:Qc,autoPanOnNodeDrag:_m,autoPanSpeed:yo,onError:Yi,connectionRadius:bo,isValidConnection:vr,selectNodesOnDrag:Ye,nodeDragThreshold:Gi,connectionDragThreshold:Xi,onBeforeDelete:T,paneClickDistance:Rn,debug:wo,ariaLabelConfig:No}),s.jsx($I,{onSelectionChange:ee}),Xt,s.jsx(OI,{proOptions:Kc,position:Zc}),s.jsx(DI,{rfId:Oa,disableKeyboardA11y:qi})]})})}var dL=VS(uL);function fL(e){const[t,r]=x.useState(e),a=x.useCallback(i=>r(l=>o0(i,l)),[]);return[t,r,a]}function mL(e){const[t,r]=x.useState(e),a=x.useCallback(i=>r(l=>i0(i,l)),[]);return[t,r,a]}function hL({dimensions:e,lineWidth:t,variant:r,className:a}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Yt(["react-flow__background-pattern",r,a])})}function pL({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:Yt(["react-flow__background-pattern","dots",t])})}var Ms;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ms||(Ms={}));const gL={[Ms.Dots]:1,[Ms.Lines]:1,[Ms.Cross]:6},xL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function m_({id:e,variant:t=Ms.Dots,gap:r=20,size:a,lineWidth:i=1,offset:l=0,color:u,bgColor:d,style:m,className:h,patternClassName:p}){const v=x.useRef(null),{transform:y,patternId:b}=dt(xL,It),j=a||gL[t],N=t===Ms.Dots,S=t===Ms.Cross,_=Array.isArray(r)?r:[r,r],C=[_[0]*y[2]||1,_[1]*y[2]||1],E=j*y[2],k=Array.isArray(l)?l:[l,l],M=S?[E,E]:C,O=[k[0]*y[2]||1+M[0]/2,k[1]*y[2]||1+M[1]/2],D=`${b}${e||""}`;return s.jsxs("svg",{className:Yt(["react-flow__background",h]),style:{...m,...Wf,"--xy-background-color-props":d,"--xy-background-pattern-color-props":u},ref:v,"data-testid":"rf__background",children:[s.jsx("pattern",{id:D,x:y[0]%C[0],y:y[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:N?s.jsx(pL,{radius:E/2,className:p}):s.jsx(hL,{dimensions:M,lineWidth:i,variant:t,className:p})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${D})`})]})}m_.displayName="Background";const vL=x.memo(m_);function yL(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function bL(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function wL(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function NL(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function jL(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function wd({children:e,className:t,...r}){return s.jsx("button",{type:"button",className:Yt(["react-flow__controls-button",t]),...r,children:e})}const SL=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function h_({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:i,onZoomIn:l,onZoomOut:u,onFitView:d,onInteractiveChange:m,className:h,children:p,position:v="bottom-left",orientation:y="vertical","aria-label":b}){const j=Ot(),{isInteractive:N,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:C}=dt(SL,It),{zoomIn:E,zoomOut:k,fitView:M}=Oi(),O=()=>{E(),l?.()},D=()=>{k(),u?.()},z=()=>{M(i),d?.()},B=()=>{j.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},H=y==="horizontal"?"horizontal":"vertical";return s.jsxs(Xf,{className:Yt(["react-flow__controls",H,h]),position:v,style:e,"data-testid":"rf__controls","aria-label":b??C["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(wd,{onClick:O,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:_,children:s.jsx(yL,{})}),s.jsx(wd,{onClick:D,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:S,children:s.jsx(bL,{})})]}),r&&s.jsx(wd,{className:"react-flow__controls-fitview",onClick:z,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:s.jsx(wL,{})}),a&&s.jsx(wd,{className:"react-flow__controls-interactive",onClick:B,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:N?s.jsx(jL,{}):s.jsx(NL,{})}),p]})}h_.displayName="Controls";const _L=x.memo(h_);function EL({id:e,x:t,y:r,width:a,height:i,style:l,color:u,strokeColor:d,strokeWidth:m,className:h,borderRadius:p,shapeRendering:v,selected:y,onClick:b}){const{background:j,backgroundColor:N}=l||{},S=u||j||N;return s.jsx("rect",{className:Yt(["react-flow__minimap-node",{selected:y},h]),x:t,y:r,rx:p,ry:p,width:a,height:i,style:{fill:S,stroke:d,strokeWidth:m},shapeRendering:v,onClick:b?_=>b(_,e):void 0})}const CL=x.memo(EL),kL=e=>e.nodes.map(t=>t.id),rg=e=>e instanceof Function?e:()=>e;function AL({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:i,nodeComponent:l=CL,onClick:u}){const d=dt(kL,It),m=rg(t),h=rg(e),p=rg(r),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:d.map(y=>s.jsx(ML,{id:y,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:a,nodeStrokeWidth:i,NodeComponent:l,onClick:u,shapeRendering:v},y))})}function RL({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:i,nodeStrokeWidth:l,shapeRendering:u,NodeComponent:d,onClick:m}){const{node:h,x:p,y:v,width:y,height:b}=dt(j=>{const{internals:N}=j.nodeLookup.get(e),S=N.userNode,{x:_,y:C}=N.positionAbsolute,{width:E,height:k}=Is(S);return{node:S,x:_,y:C,width:E,height:k}},It);return!h||h.hidden||!xS(h)?null:s.jsx(d,{x:p,y:v,width:y,height:b,style:h.style,selected:!!h.selected,className:a(h),color:t(h),borderRadius:i,strokeColor:r(h),strokeWidth:l,shapeRendering:u,onClick:m,id:h.id})}const ML=x.memo(RL);var TL=x.memo(AL);const DL=200,OL=150,zL=e=>!e.hidden,IL=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?gS(Hc(e.nodeLookup,{filter:zL}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},LL="react-flow__minimap-desc";function p_({style:e,className:t,nodeStrokeColor:r,nodeColor:a,nodeClassName:i="",nodeBorderRadius:l=5,nodeStrokeWidth:u,nodeComponent:d,bgColor:m,maskColor:h,maskStrokeColor:p,maskStrokeWidth:v,position:y="bottom-right",onClick:b,onNodeClick:j,pannable:N=!1,zoomable:S=!1,ariaLabel:_,inversePan:C,zoomStep:E=1,offsetScale:k=5}){const M=Ot(),O=x.useRef(null),{boundingRect:D,viewBB:z,rfId:B,panZoom:H,translateExtent:X,flowWidth:G,flowHeight:ee,ariaLabelConfig:P}=dt(IL,It),F=e?.width??DL,A=e?.height??OL,L=D.width/F,$=D.height/A,V=Math.max(L,$),T=V*F,U=V*A,Z=k*V,K=D.x-(T-D.width)/2-Z,ne=D.y-(U-D.height)/2-Z,fe=T+Z*2,ue=U+Z*2,q=`${LL}-${B}`,Q=x.useRef(0),de=x.useRef();Q.current=V,x.useEffect(()=>{if(O.current&&H)return de.current=Qz({domNode:O.current,panZoom:H,getTransform:()=>M.getState().transform,getViewScale:()=>Q.current}),()=>{de.current?.destroy()}},[H]),x.useEffect(()=>{de.current?.update({translateExtent:X,width:G,height:ee,inversePan:C,pannable:N,zoomStep:E,zoomable:S})},[N,S,C,E,X,G,ee]);const he=b?ke=>{const[te,Re]=de.current?.pointer(ke)||[0,0];b(ke,{x:te,y:Re})}:void 0,Ee=j?x.useCallback((ke,te)=>{const Re=M.getState().nodeLookup.get(te).internals.userNode;j(ke,Re)},[]):void 0,we=_??P["minimap.ariaLabel"];return s.jsx(Xf,{position:y,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof v=="number"?v*V:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="number"?u:void 0},className:Yt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:F,height:A,viewBox:`${K} ${ne} ${fe} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:O,onClick:he,children:[we&&s.jsx("title",{id:q,children:we}),s.jsx(TL,{onClick:Ee,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:l,nodeClassName:i,nodeStrokeWidth:u,nodeComponent:d}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-Z},${ne-Z}h${fe+Z*2}v${ue+Z*2}h${-fe-Z*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}p_.displayName="MiniMap";const PL=x.memo(p_),$L=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,HL={[Ei.Line]:"right",[Ei.Handle]:"bottom-right"};function BL({nodeId:e,position:t,variant:r=Ei.Handle,className:a,style:i=void 0,children:l,color:u,minWidth:d=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:v=!1,resizeDirection:y,autoScale:b=!0,shouldResize:j,onResizeStart:N,onResize:S,onResizeEnd:_}){const C=GS(),E=typeof e=="string"?e:C,k=Ot(),M=x.useRef(null),O=r===Ei.Handle,D=dt(x.useCallback($L(O&&b),[O,b]),It),z=x.useRef(null),B=t??HL[r];x.useEffect(()=>{if(!(!M.current||!E))return z.current||(z.current=hI({domNode:M.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:X,transform:G,snapGrid:ee,snapToGrid:P,nodeOrigin:F,domNode:A}=k.getState();return{nodeLookup:X,transform:G,snapGrid:ee,snapToGrid:P,nodeOrigin:F,paneDomNode:A}},onChange:(X,G)=>{const{triggerNodeChanges:ee,nodeLookup:P,parentLookup:F,nodeOrigin:A}=k.getState(),L=[],$={x:X.x,y:X.y},V=P.get(E);if(V&&V.expandParent&&V.parentId){const T=V.origin??A,U=X.width??V.measured.width??0,Z=X.height??V.measured.height??0,K={id:V.id,parentId:V.parentId,rect:{width:U,height:Z,...vS({x:X.x??V.position.x,y:X.y??V.position.y},{width:U,height:Z},V.parentId,P,T)}},ne=a0([K],P,F,A);L.push(...ne),$.x=X.x?Math.max(T[0]*U,X.x):void 0,$.y=X.y?Math.max(T[1]*Z,X.y):void 0}if($.x!==void 0&&$.y!==void 0){const T={id:E,type:"position",position:{...$}};L.push(T)}if(X.width!==void 0&&X.height!==void 0){const U={id:E,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:X.width,height:X.height}};L.push(U)}for(const T of G){const U={...T,type:"position"};L.push(U)}ee(L)},onEnd:({width:X,height:G})=>{const ee={id:E,type:"dimensions",resizing:!1,dimensions:{width:X,height:G}};k.getState().triggerNodeChanges([ee])}})),z.current.update({controlPosition:B,boundaries:{minWidth:d,minHeight:m,maxWidth:h,maxHeight:p},keepAspectRatio:v,resizeDirection:y,onResizeStart:N,onResize:S,onResizeEnd:_,shouldResize:j}),()=>{z.current?.destroy()}},[B,d,m,h,p,v,N,S,_,j]);const H=B.split("-");return s.jsx("div",{className:Yt(["react-flow__resize-control","nodrag",...H,r,a]),ref:M,style:{...i,scale:D,...u&&{[O?"backgroundColor":"borderColor"]:u}},children:l})}x.memo(BL);const mN=e=>{let t;const r=new Set,a=(h,p)=>{const v=typeof h=="function"?h(t):h;if(!Object.is(v,t)){const y=t;t=p??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(b=>b(t,y))}},i=()=>t,d={setState:a,getState:i,getInitialState:()=>m,subscribe:h=>(r.add(h),()=>r.delete(h))},m=t=e(a,i,d);return d},UL=(e=>e?mN(e):mN),VL=e=>e;function FL(e,t=VL){const r=Et.useSyncExternalStore(e.subscribe,Et.useCallback(()=>t(e.getState()),[e,t]),Et.useCallback(()=>t(e.getInitialState()),[e,t]));return Et.useDebugValue(r),r}const hN=e=>{const t=UL(e),r=a=>FL(t,a);return Object.assign(r,t),r},g_=(e=>e?hN(e):hN),qL={version:"1.0",name:"New Agent",resources:{models:{"gpt-4o-mini":{type:"azure-openai",deployment:"gpt-4o-mini"}},tools:[{id:"consultar_clima",path:"mock_tools.basic:consultar_clima",description:"Retorna previo do tempo simulada"},{id:"resumir_diretrizes",path:"mock_tools.basic:resumir_diretrizes",description:"Resume diretrizes de um tpico"},{id:"calcular_custos",path:"mock_tools.basic:calcular_custos",description:"Calcula custos de carga de trabalho"},{id:"verificar_status_sistema",path:"mock_tools.basic:verificar_status_sistema",description:"Verifica status de um sistema"},{id:"verificar_resolucao",path:"mock_tools.basic:verificar_resolucao",description:"Verifica resoluo de um ticket"}]},agents:[],workflow:{type:"sequential",steps:[]}},YL={start:"Start",agent:"New Agent",router:"Router",handoff:"Handoff",condition:"Condition",rag:"RAG Retriever",tool:"Tool Execution"},pN={agent:{role:"Agent",model:"gpt-4o-mini",instructions:"You are a helpful assistant.",tools:[],description:"Default agent role"},condition:{expression:"True",description:"Describe your branching logic"},rag:{knowledge_base:"knowledge_base",retriever:"azure_search",top_k:4,prompt_template:"Answer using retrieved documents"},tool:{tool_id:"basic_tool",description:"Execute a specific tool"},router:{strategy:"auto"},handoff:{instructions:"Escalate to a human operator."}},fi=g_((e,t)=>({nodes:[],edges:[],workerConfig:qL,onNodesChange:r=>{e({nodes:o0(r,t().nodes)})},onEdgesChange:r=>{e({edges:i0(r,t().edges)})},onConnect:r=>{e({edges:_S(r,t().edges)})},addNode:(r,a,i)=>{const l=crypto.randomUUID();let u=YL[r]??"Node",d=pN[r]?{...pN[r]}:{};i&&(i.name&&typeof i.name=="string"?u=i.name:i.label&&typeof i.label=="string"&&(u=i.label),d={...d,...i},r==="tool"&&i.tool_id&&(d.tool_id=i.tool_id),r==="agent"&&(i.agent_name&&(d.role=i.agent_name),i.description&&(d.description=i.description)));const m={id:l,type:"studioNode",position:a,data:{label:u,type:r,config:Object.keys(d).length>0?d:void 0}};e({nodes:[...t().nodes,m]})},updateNodeConfig:(r,a)=>{e({nodes:t().nodes.map(i=>i.id===r?(()=>{const l={...i.data},u={...l.config||{}},d={...a};return"label"in d&&(l.label=d.label,delete d.label),Object.keys(d).forEach(m=>{u[m]=d[m]}),l.config=Object.keys(u).length>0?u:void 0,{...i,data:l}})():i)})},setWorkerConfig:r=>e({workerConfig:r}),generateConfig:()=>{const{workerConfig:r}=t(),a=(r.agents||[]).map(({_file:p,...v})=>v),i=new Set;a.forEach(p=>{(p.tools||[]).forEach(v=>i.add(v))});const u=(r.resources?.tools||[]).filter(p=>i.has(p.id)),m=(r.workflow.steps||[]).map(p=>{if(typeof p=="object"&&p!==null&&"id"in p)return{id:p.id,type:p.type||"agent",agent:p.agent,input_template:p.input_template||"{{output}}",next:p.next,transitions:p.transitions};const v=String(p);return{id:v,type:"agent",agent:v,input_template:"{{output}}"}}),h=r.workflow.start_step||m[0]?.id||"";return{...r,resources:{...r.resources,tools:u},agents:a,workflow:{...r.workflow,start_step:h,steps:m}}}})),gN={agent:ft,start:Tx,router:li,handoff:Wd,condition:CD,rag:kx,tool:Oc,default:ft},xN={agent:"border-blue-500",start:"border-green-500",router:"border-purple-500",handoff:"border-orange-500",condition:"border-emerald-500",rag:"border-sky-500",tool:"border-indigo-500",default:"border-gray-200"};x.memo(({data:e,selected:t})=>{const r=gN[e.type]??gN.default,a=xN[e.type]??xN.default,i=e.config,l=e.type==="agent"&&typeof i?.role=="string"?i.role:void 0,u=e.type==="agent"&&typeof i?.model=="string"?i.model:void 0,d=e.type==="condition"&&typeof i?.expression=="string"?i.expression:void 0,m=e.type==="rag"&&typeof i?.knowledge_base=="string"?i.knowledge_base:e.type==="rag"&&typeof i?.retriever=="string"?i.retriever:void 0,h=e.type==="tool"&&typeof i?.tool_id=="string"?i.tool_id:void 0;return s.jsxs(ct,{className:`w-64 shadow-md ${t?"ring-2 ring-primary":""} ${a} border-l-4 transition-all duration-200`,children:[s.jsx(gn,{className:"p-3 pb-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-md bg-muted",children:s.jsx(r,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx(Jt,{className:"text-sm font-medium truncate",title:e.label,children:e.label}),l&&s.jsx("span",{className:"text-[10px] text-muted-foreground truncate",title:l,children:l})]})]})}),s.jsxs(ut,{className:"p-3 pt-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[e.type," Node"]}),u&&s.jsx("div",{className:"text-[10px] px-1.5 py-0.5 bg-primary/10 text-primary rounded-full font-mono",children:u})]}),d&&s.jsx("p",{className:"mt-2 text-[11px] font-mono bg-muted/60 rounded px-2 py-1 text-muted-foreground line-clamp-2",children:d}),m&&s.jsxs("p",{className:"mt-2 text-[11px] text-muted-foreground truncate",children:["Source: ",m]}),h&&s.jsxs("p",{className:"mt-2 text-[11px] font-mono bg-muted/60 rounded px-2 py-1 text-muted-foreground truncate",children:["Tool: ",h]})]}),e.type!=="start"&&s.jsx(ka,{type:"target",position:Pe.Left,className:"w-3 h-3 bg-muted-foreground border-2 border-background"}),s.jsx(ka,{type:"source",position:Pe.Right,className:"w-3 h-3 bg-muted-foreground border-2 border-background"})]})});var GL="Separator",vN="horizontal",XL=["horizontal","vertical"],x_=x.forwardRef((e,t)=>{const{decorative:r,orientation:a=vN,...i}=e,l=WL(a)?a:vN,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(Ve.div,{"data-orientation":l,...d,...i,ref:t})});x_.displayName=GL;function WL(e){return XL.includes(e)}var v_=x_;const Vc=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},i)=>s.jsx(v_,{ref:i,decorative:r,orientation:t,className:He("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Vc.displayName=v_.displayName;var ZL="Label",y_=x.forwardRef((e,t)=>s.jsx(Ve.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));y_.displayName=ZL;var KL=y_;function Te({className:e,...t}){return s.jsx(KL,{"data-slot":"label",className:He("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function en({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:He("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function c0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function u0(e){const[t,r]=x.useState(void 0);return jn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,d;if("borderBoxSize"in l){const m=l.borderBoxSize,h=Array.isArray(m)?m[0]:m;u=h.inlineSize,d=h.blockSize}else u=e.offsetWidth,d=e.offsetHeight;r({width:u,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Kf="Checkbox",[QL,sY]=hr(Kf),[JL,d0]=QL(Kf);function e7(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:i,disabled:l,form:u,name:d,onCheckedChange:m,required:h,value:p="on",internal_do_not_use_render:v}=e,[y,b]=Ca({prop:r,defaultProp:i??!1,onChange:m,caller:Kf}),[j,N]=x.useState(null),[S,_]=x.useState(null),C=x.useRef(!1),E=j?!!u||!!j.closest("form"):!0,k={checked:y,disabled:l,setChecked:b,control:j,setControl:N,name:d,form:u,value:p,hasConsumerStoppedPropagationRef:C,required:h,defaultChecked:Sa(i)?!1:i,isFormControl:E,bubbleInput:S,setBubbleInput:_};return s.jsx(JL,{scope:t,...k,children:t7(v)?v(k):a})}var b_="CheckboxTrigger",w_=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},i)=>{const{control:l,value:u,disabled:d,checked:m,required:h,setControl:p,setChecked:v,hasConsumerStoppedPropagationRef:y,isFormControl:b,bubbleInput:j}=d0(b_,e),N=et(i,p),S=x.useRef(m);return x.useEffect(()=>{const _=l?.form;if(_){const C=()=>v(S.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[l,v]),s.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Sa(m)?"mixed":m,"aria-required":h,"data-state":C_(m),"data-disabled":d?"":void 0,disabled:d,value:u,...a,ref:N,onKeyDown:Ae(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ae(r,_=>{v(C=>Sa(C)?!0:!C),j&&b&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})})});w_.displayName=b_;var N_=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:i,defaultChecked:l,required:u,disabled:d,value:m,onCheckedChange:h,form:p,...v}=e;return s.jsx(e7,{__scopeCheckbox:r,checked:i,defaultChecked:l,disabled:d,required:u,onCheckedChange:h,name:a,form:p,value:m,internal_do_not_use_render:({isFormControl:y})=>s.jsxs(s.Fragment,{children:[s.jsx(w_,{...v,ref:t,__scopeCheckbox:r}),y&&s.jsx(E_,{__scopeCheckbox:r})]})})});N_.displayName=Kf;var j_="CheckboxIndicator",S_=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...i}=e,l=d0(j_,r);return s.jsx(Pn,{present:a||Sa(l.checked)||l.checked===!0,children:s.jsx(Ve.span,{"data-state":C_(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});S_.displayName=j_;var __="CheckboxBubbleInput",E_=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:u,required:d,disabled:m,name:h,value:p,form:v,bubbleInput:y,setBubbleInput:b}=d0(__,e),j=et(r,b),N=c0(l),S=u0(a);x.useEffect(()=>{const C=y;if(!C)return;const E=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(E,"checked").set,O=!i.current;if(N!==l&&M){const D=new Event("click",{bubbles:O});C.indeterminate=Sa(l),M.call(C,Sa(l)?!1:l),C.dispatchEvent(D)}},[y,N,l,i]);const _=x.useRef(Sa(l)?!1:l);return s.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??_.current,required:d,disabled:m,name:h,value:p,form:v,...t,tabIndex:-1,ref:j,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});E_.displayName=__;function t7(e){return typeof e=="function"}function Sa(e){return e==="indeterminate"}function C_(e){return Sa(e)?"indeterminate":e?"checked":"unchecked"}function Vr({className:e,...t}){return s.jsx(N_,{"data-slot":"checkbox",className:He("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(S_,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Di,{className:"size-3.5"})})})}function n7(e,t=globalThis?.document){const r=Nn(e);x.useEffect(()=>{const a=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var r7="DismissableLayer",Wg="dismissableLayer.update",s7="dismissableLayer.pointerDownOutside",a7="dismissableLayer.focusOutside",yN,k_=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qf=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...m}=e,h=x.useContext(k_),[p,v]=x.useState(null),y=p?.ownerDocument??globalThis?.document,[,b]=x.useState({}),j=et(t,D=>v(D)),N=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),C=p?N.indexOf(p):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,k=C>=_,M=l7(D=>{const z=D.target,B=[...h.branches].some(H=>H.contains(z));!k||B||(i?.(D),u?.(D),D.defaultPrevented||d?.())},y),O=c7(D=>{const z=D.target;[...h.branches].some(H=>H.contains(z))||(l?.(D),u?.(D),D.defaultPrevented||d?.())},y);return n7(D=>{C===h.layers.size-1&&(a?.(D),!D.defaultPrevented&&d&&(D.preventDefault(),d()))},y),x.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(yN=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),bN(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=yN)}},[p,y,r,h]),x.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),bN())},[p,h]),x.useEffect(()=>{const D=()=>b({});return document.addEventListener(Wg,D),()=>document.removeEventListener(Wg,D)},[]),s.jsx(Ve.div,{...m,ref:j,style:{pointerEvents:E?k?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,M.onPointerDownCapture)})});Qf.displayName=r7;var o7="DismissableLayerBranch",i7=x.forwardRef((e,t)=>{const r=x.useContext(k_),a=x.useRef(null),i=et(t,a);return x.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),s.jsx(Ve.div,{...e,ref:i})});i7.displayName=o7;function l7(e,t=globalThis?.document){const r=Nn(e),a=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let m=function(){A_(s7,r,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function c7(e,t=globalThis?.document){const r=Nn(e),a=x.useRef(!1);return x.useEffect(()=>{const i=l=>{l.target&&!a.current&&A_(a7,r,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function bN(){const e=new CustomEvent(Wg);document.dispatchEvent(e)}function A_(e,t,r,{discrete:a}){const i=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?Gj(i,l):i.dispatchEvent(l)}var sg=0;function f0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wN()),document.body.insertAdjacentElement("beforeend",e[1]??wN()),sg++,()=>{sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sg--}},[])}function wN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ag="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",NN={bubbles:!1,cancelable:!0},u7="FocusScope",Jf=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...u}=e,[d,m]=x.useState(null),h=Nn(i),p=Nn(l),v=x.useRef(null),y=et(t,N=>m(N)),b=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let N=function(E){if(b.paused||!d)return;const k=E.target;d.contains(k)?v.current=k:xa(v.current,{select:!0})},S=function(E){if(b.paused||!d)return;const k=E.relatedTarget;k!==null&&(d.contains(k)||xa(v.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const M of E)M.removedNodes.length>0&&xa(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const C=new MutationObserver(_);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),C.disconnect()}}},[a,d,b.paused]),x.useEffect(()=>{if(d){SN.add(b);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(ag,NN);d.addEventListener(ag,h),d.dispatchEvent(_),_.defaultPrevented||(d7(g7(R_(d)),{select:!0}),document.activeElement===N&&xa(d))}return()=>{d.removeEventListener(ag,h),setTimeout(()=>{const _=new CustomEvent(og,NN);d.addEventListener(og,p),d.dispatchEvent(_),_.defaultPrevented||xa(N??document.body,{select:!0}),d.removeEventListener(og,p),SN.remove(b)},0)}}},[d,h,p,b]);const j=x.useCallback(N=>{if(!r&&!a||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const C=N.currentTarget,[E,k]=f7(C);E&&k?!N.shiftKey&&_===k?(N.preventDefault(),r&&xa(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),r&&xa(k,{select:!0})):_===C&&N.preventDefault()}},[r,a,b.paused]);return s.jsx(Ve.div,{tabIndex:-1,...u,ref:y,onKeyDown:j})});Jf.displayName=u7;function d7(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(xa(a,{select:t}),document.activeElement!==r)return}function f7(e){const t=R_(e),r=jN(t,e),a=jN(t.reverse(),e);return[r,a]}function R_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jN(e,t){for(const r of e)if(!m7(r,{upTo:t}))return r}function m7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h7(e){return e instanceof HTMLInputElement&&"select"in e}function xa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h7(e)&&t&&e.select()}}var SN=p7();function p7(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=_N(e,t),e.unshift(t)},remove(t){e=_N(e,t),e[0]?.resume()}}}function _N(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function g7(e){return e.filter(t=>t.tagName!=="A")}const x7=["top","right","bottom","left"],Aa=Math.min,Wn=Math.max,gf=Math.round,Nd=Math.floor,Qr=e=>({x:e,y:e}),v7={left:"right",right:"left",bottom:"top",top:"bottom"},y7={start:"end",end:"start"};function Zg(e,t,r){return Wn(e,Aa(t,r))}function Os(e,t){return typeof e=="function"?e(t):e}function zs(e){return e.split("-")[0]}function zi(e){return e.split("-")[1]}function m0(e){return e==="x"?"y":"x"}function h0(e){return e==="y"?"height":"width"}const b7=new Set(["top","bottom"]);function Xr(e){return b7.has(zs(e))?"y":"x"}function p0(e){return m0(Xr(e))}function w7(e,t,r){r===void 0&&(r=!1);const a=zi(e),i=p0(e),l=h0(i);let u=i==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=xf(u)),[u,xf(u)]}function N7(e){const t=xf(e);return[Kg(e),t,Kg(t)]}function Kg(e){return e.replace(/start|end/g,t=>y7[t])}const EN=["left","right"],CN=["right","left"],j7=["top","bottom"],S7=["bottom","top"];function _7(e,t,r){switch(e){case"top":case"bottom":return r?t?CN:EN:t?EN:CN;case"left":case"right":return t?j7:S7;default:return[]}}function E7(e,t,r,a){const i=zi(e);let l=_7(zs(e),r==="start",a);return i&&(l=l.map(u=>u+"-"+i),t&&(l=l.concat(l.map(Kg)))),l}function xf(e){return e.replace(/left|right|bottom|top/g,t=>v7[t])}function C7(e){return{top:0,right:0,bottom:0,left:0,...e}}function M_(e){return typeof e!="number"?C7(e):{top:e,right:e,bottom:e,left:e}}function vf(e){const{x:t,y:r,width:a,height:i}=e;return{width:a,height:i,top:r,left:t,right:t+a,bottom:r+i,x:t,y:r}}function kN(e,t,r){let{reference:a,floating:i}=e;const l=Xr(t),u=p0(t),d=h0(u),m=zs(t),h=l==="y",p=a.x+a.width/2-i.width/2,v=a.y+a.height/2-i.height/2,y=a[d]/2-i[d]/2;let b;switch(m){case"top":b={x:p,y:a.y-i.height};break;case"bottom":b={x:p,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:v};break;case"left":b={x:a.x-i.width,y:v};break;default:b={x:a.x,y:a.y}}switch(zi(t)){case"start":b[u]-=y*(r&&h?-1:1);break;case"end":b[u]+=y*(r&&h?-1:1);break}return b}const k7=async(e,t,r)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:u}=r,d=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let h=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:v}=kN(h,a,m),y=a,b={},j=0;for(let N=0;N<d.length;N++){const{name:S,fn:_}=d[N],{x:C,y:E,data:k,reset:M}=await _({x:p,y:v,initialPlacement:a,placement:y,strategy:i,middlewareData:b,rects:h,platform:u,elements:{reference:e,floating:t}});p=C??p,v=E??v,b={...b,[S]:{...b[S],...k}},M&&j<=50&&(j++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(h=M.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:p,y:v}=kN(h,y,m)),N=-1)}return{x:p,y:v,placement:y,strategy:i,middlewareData:b}};async function yc(e,t){var r;t===void 0&&(t={});const{x:a,y:i,platform:l,rects:u,elements:d,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:y=!1,padding:b=0}=Os(t,e),j=M_(b),S=d[y?v==="floating"?"reference":"floating":v],_=vf(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(S)))==null||r?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:m})),C=v==="floating"?{x:a,y:i,width:u.floating.width,height:u.floating.height}:u.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),k=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},M=vf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:E,strategy:m}):C);return{top:(_.top-M.top+j.top)/k.y,bottom:(M.bottom-_.bottom+j.bottom)/k.y,left:(_.left-M.left+j.left)/k.x,right:(M.right-_.right+j.right)/k.x}}const A7=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:i,rects:l,platform:u,elements:d,middlewareData:m}=t,{element:h,padding:p=0}=Os(e,t)||{};if(h==null)return{};const v=M_(p),y={x:r,y:a},b=p0(i),j=h0(b),N=await u.getDimensions(h),S=b==="y",_=S?"top":"left",C=S?"bottom":"right",E=S?"clientHeight":"clientWidth",k=l.reference[j]+l.reference[b]-y[b]-l.floating[j],M=y[b]-l.reference[b],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let D=O?O[E]:0;(!D||!await(u.isElement==null?void 0:u.isElement(O)))&&(D=d.floating[E]||l.floating[j]);const z=k/2-M/2,B=D/2-N[j]/2-1,H=Aa(v[_],B),X=Aa(v[C],B),G=H,ee=D-N[j]-X,P=D/2-N[j]/2+z,F=Zg(G,P,ee),A=!m.arrow&&zi(i)!=null&&P!==F&&l.reference[j]/2-(P<G?H:X)-N[j]/2<0,L=A?P<G?P-G:P-ee:0;return{[b]:y[b]+L,data:{[b]:F,centerOffset:P-F-L,...A&&{alignmentOffset:L}},reset:A}}}),R7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:i,middlewareData:l,rects:u,initialPlacement:d,platform:m,elements:h}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=Os(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const _=zs(i),C=Xr(d),E=zs(d)===d,k=await(m.isRTL==null?void 0:m.isRTL(h.floating)),M=y||(E||!N?[xf(d)]:N7(d)),O=j!=="none";!y&&O&&M.push(...E7(d,N,j,k));const D=[d,...M],z=await yc(t,S),B=[];let H=((a=l.flip)==null?void 0:a.overflows)||[];if(p&&B.push(z[_]),v){const P=w7(i,u,k);B.push(z[P[0]],z[P[1]])}if(H=[...H,{placement:i,overflows:B}],!B.every(P=>P<=0)){var X,G;const P=(((X=l.flip)==null?void 0:X.index)||0)+1,F=D[P];if(F&&(!(v==="alignment"?C!==Xr(F):!1)||H.every($=>Xr($.placement)===C?$.overflows[0]>0:!0)))return{data:{index:P,overflows:H},reset:{placement:F}};let A=(G=H.filter(L=>L.overflows[0]<=0).sort((L,$)=>L.overflows[1]-$.overflows[1])[0])==null?void 0:G.placement;if(!A)switch(b){case"bestFit":{var ee;const L=(ee=H.filter($=>{if(O){const V=Xr($.placement);return V===C||V==="y"}return!0}).map($=>[$.placement,$.overflows.filter(V=>V>0).reduce((V,T)=>V+T,0)]).sort(($,V)=>$[1]-V[1])[0])==null?void 0:ee[0];L&&(A=L);break}case"initialPlacement":A=d;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function AN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RN(e){return x7.some(t=>e[t]>=0)}const M7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...i}=Os(e,t);switch(a){case"referenceHidden":{const l=await yc(t,{...i,elementContext:"reference"}),u=AN(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:RN(u)}}}case"escaped":{const l=await yc(t,{...i,altBoundary:!0}),u=AN(l,r.floating);return{data:{escapedOffsets:u,escaped:RN(u)}}}default:return{}}}}},T_=new Set(["left","top"]);async function T7(e,t){const{placement:r,platform:a,elements:i}=e,l=await(a.isRTL==null?void 0:a.isRTL(i.floating)),u=zs(r),d=zi(r),m=Xr(r)==="y",h=T_.has(u)?-1:1,p=l&&m?-1:1,v=Os(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:j}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),m?{x:b*p,y:y*h}:{x:y*h,y:b*p}}const D7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:i,y:l,placement:u,middlewareData:d}=t,m=await T7(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+m.x,y:l+m.y,data:{...m,placement:u}}}}},O7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:i}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:_,y:C}=S;return{x:_,y:C}}},...m}=Os(e,t),h={x:r,y:a},p=await yc(t,m),v=Xr(zs(i)),y=m0(v);let b=h[y],j=h[v];if(l){const S=y==="y"?"top":"left",_=y==="y"?"bottom":"right",C=b+p[S],E=b-p[_];b=Zg(C,b,E)}if(u){const S=v==="y"?"top":"left",_=v==="y"?"bottom":"right",C=j+p[S],E=j-p[_];j=Zg(C,j,E)}const N=d.fn({...t,[y]:b,[v]:j});return{...N,data:{x:N.x-r,y:N.y-a,enabled:{[y]:l,[v]:u}}}}}},z7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:i,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:m=!0,crossAxis:h=!0}=Os(e,t),p={x:r,y:a},v=Xr(i),y=m0(v);let b=p[y],j=p[v];const N=Os(d,t),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const E=y==="y"?"height":"width",k=l.reference[y]-l.floating[E]+S.mainAxis,M=l.reference[y]+l.reference[E]-S.mainAxis;b<k?b=k:b>M&&(b=M)}if(h){var _,C;const E=y==="y"?"width":"height",k=T_.has(zs(i)),M=l.reference[v]-l.floating[E]+(k&&((_=u.offset)==null?void 0:_[v])||0)+(k?0:S.crossAxis),O=l.reference[v]+l.reference[E]+(k?0:((C=u.offset)==null?void 0:C[v])||0)-(k?S.crossAxis:0);j<M?j=M:j>O&&(j=O)}return{[y]:b,[v]:j}}}},I7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:i,rects:l,platform:u,elements:d}=t,{apply:m=()=>{},...h}=Os(e,t),p=await yc(t,h),v=zs(i),y=zi(i),b=Xr(i)==="y",{width:j,height:N}=l.floating;let S,_;v==="top"||v==="bottom"?(S=v,_=y===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(_=v,S=y==="end"?"top":"bottom");const C=N-p.top-p.bottom,E=j-p.left-p.right,k=Aa(N-p[S],C),M=Aa(j-p[_],E),O=!t.middlewareData.shift;let D=k,z=M;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=E),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(D=C),O&&!y){const H=Wn(p.left,0),X=Wn(p.right,0),G=Wn(p.top,0),ee=Wn(p.bottom,0);b?z=j-2*(H!==0||X!==0?H+X:Wn(p.left,p.right)):D=N-2*(G!==0||ee!==0?G+ee:Wn(p.top,p.bottom))}await m({...t,availableWidth:z,availableHeight:D});const B=await u.getDimensions(d.floating);return j!==B.width||N!==B.height?{reset:{rects:!0}}:{}}}};function em(){return typeof window<"u"}function Ii(e){return D_(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function as(e){var t;return(t=(D_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D_(e){return em()?e instanceof Node||e instanceof Kn(e).Node:!1}function kr(e){return em()?e instanceof Element||e instanceof Kn(e).Element:!1}function es(e){return em()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function MN(e){return!em()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const L7=new Set(["inline","contents"]);function Fc(e){const{overflow:t,overflowX:r,overflowY:a,display:i}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!L7.has(i)}const P7=new Set(["table","td","th"]);function $7(e){return P7.has(Ii(e))}const H7=[":popover-open",":modal"];function tm(e){return H7.some(t=>{try{return e.matches(t)}catch{return!1}})}const B7=["transform","translate","scale","rotate","perspective"],U7=["transform","translate","scale","rotate","perspective","filter"],V7=["paint","layout","strict","content"];function g0(e){const t=x0(),r=kr(e)?Ar(e):e;return B7.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||U7.some(a=>(r.willChange||"").includes(a))||V7.some(a=>(r.contain||"").includes(a))}function F7(e){let t=Ra(e);for(;es(t)&&!Ci(t);){if(g0(t))return t;if(tm(t))return null;t=Ra(t)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q7=new Set(["html","body","#document"]);function Ci(e){return q7.has(Ii(e))}function Ar(e){return Kn(e).getComputedStyle(e)}function nm(e){return kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ra(e){if(Ii(e)==="html")return e;const t=e.assignedSlot||e.parentNode||MN(e)&&e.host||as(e);return MN(t)?t.host:t}function O_(e){const t=Ra(e);return Ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:es(t)&&Fc(t)?t:O_(t)}function bc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=O_(e),l=i===((a=e.ownerDocument)==null?void 0:a.body),u=Kn(i);if(l){const d=Qg(u);return t.concat(u,u.visualViewport||[],Fc(i)?i:[],d&&r?bc(d):[])}return t.concat(i,bc(i,[],r))}function Qg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z_(e){const t=Ar(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const i=es(e),l=i?e.offsetWidth:r,u=i?e.offsetHeight:a,d=gf(r)!==l||gf(a)!==u;return d&&(r=l,a=u),{width:r,height:a,$:d}}function v0(e){return kr(e)?e:e.contextElement}function mi(e){const t=v0(e);if(!es(t))return Qr(1);const r=t.getBoundingClientRect(),{width:a,height:i,$:l}=z_(t);let u=(l?gf(r.width):r.width)/a,d=(l?gf(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const Y7=Qr(0);function I_(e){const t=Kn(e);return!x0()||!t.visualViewport?Y7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function G7(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kn(e)?!1:t}function uo(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),l=v0(e);let u=Qr(1);t&&(a?kr(a)&&(u=mi(a)):u=mi(e));const d=G7(l,r,a)?I_(l):Qr(0);let m=(i.left+d.x)/u.x,h=(i.top+d.y)/u.y,p=i.width/u.x,v=i.height/u.y;if(l){const y=Kn(l),b=a&&kr(a)?Kn(a):a;let j=y,N=Qg(j);for(;N&&a&&b!==j;){const S=mi(N),_=N.getBoundingClientRect(),C=Ar(N),E=_.left+(N.clientLeft+parseFloat(C.paddingLeft))*S.x,k=_.top+(N.clientTop+parseFloat(C.paddingTop))*S.y;m*=S.x,h*=S.y,p*=S.x,v*=S.y,m+=E,h+=k,j=Kn(N),N=Qg(j)}}return vf({width:p,height:v,x:m,y:h})}function rm(e,t){const r=nm(e).scrollLeft;return t?t.left+r:uo(as(e)).left+r}function L_(e,t){const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-rm(e,r),i=r.top+t.scrollTop;return{x:a,y:i}}function X7(e){let{elements:t,rect:r,offsetParent:a,strategy:i}=e;const l=i==="fixed",u=as(a),d=t?tm(t.floating):!1;if(a===u||d&&l)return r;let m={scrollLeft:0,scrollTop:0},h=Qr(1);const p=Qr(0),v=es(a);if((v||!v&&!l)&&((Ii(a)!=="body"||Fc(u))&&(m=nm(a)),es(a))){const b=uo(a);h=mi(a),p.x=b.x+a.clientLeft,p.y=b.y+a.clientTop}const y=u&&!v&&!l?L_(u,m):Qr(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-m.scrollLeft*h.x+p.x+y.x,y:r.y*h.y-m.scrollTop*h.y+p.y+y.y}}function W7(e){return Array.from(e.getClientRects())}function Z7(e){const t=as(e),r=nm(e),a=e.ownerDocument.body,i=Wn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),l=Wn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let u=-r.scrollLeft+rm(e);const d=-r.scrollTop;return Ar(a).direction==="rtl"&&(u+=Wn(t.clientWidth,a.clientWidth)-i),{width:i,height:l,x:u,y:d}}const TN=25;function K7(e,t){const r=Kn(e),a=as(e),i=r.visualViewport;let l=a.clientWidth,u=a.clientHeight,d=0,m=0;if(i){l=i.width,u=i.height;const p=x0();(!p||p&&t==="fixed")&&(d=i.offsetLeft,m=i.offsetTop)}const h=rm(a);if(h<=0){const p=a.ownerDocument,v=p.body,y=getComputedStyle(v),b=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,j=Math.abs(a.clientWidth-v.clientWidth-b);j<=TN&&(l-=j)}else h<=TN&&(l+=h);return{width:l,height:u,x:d,y:m}}const Q7=new Set(["absolute","fixed"]);function J7(e,t){const r=uo(e,!0,t==="fixed"),a=r.top+e.clientTop,i=r.left+e.clientLeft,l=es(e)?mi(e):Qr(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,m=i*l.x,h=a*l.y;return{width:u,height:d,x:m,y:h}}function DN(e,t,r){let a;if(t==="viewport")a=K7(e,r);else if(t==="document")a=Z7(as(e));else if(kr(t))a=J7(t,r);else{const i=I_(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vf(a)}function P_(e,t){const r=Ra(e);return r===t||!kr(r)||Ci(r)?!1:Ar(r).position==="fixed"||P_(r,t)}function eP(e,t){const r=t.get(e);if(r)return r;let a=bc(e,[],!1).filter(d=>kr(d)&&Ii(d)!=="body"),i=null;const l=Ar(e).position==="fixed";let u=l?Ra(e):e;for(;kr(u)&&!Ci(u);){const d=Ar(u),m=g0(u);!m&&d.position==="fixed"&&(i=null),(l?!m&&!i:!m&&d.position==="static"&&!!i&&Q7.has(i.position)||Fc(u)&&!m&&P_(e,u))?a=a.filter(p=>p!==u):i=d,u=Ra(u)}return t.set(e,a),a}function tP(e){let{element:t,boundary:r,rootBoundary:a,strategy:i}=e;const u=[...r==="clippingAncestors"?tm(t)?[]:eP(t,this._c):[].concat(r),a],d=u[0],m=u.reduce((h,p)=>{const v=DN(t,p,i);return h.top=Wn(v.top,h.top),h.right=Aa(v.right,h.right),h.bottom=Aa(v.bottom,h.bottom),h.left=Wn(v.left,h.left),h},DN(t,d,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function nP(e){const{width:t,height:r}=z_(e);return{width:t,height:r}}function rP(e,t,r){const a=es(t),i=as(t),l=r==="fixed",u=uo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const m=Qr(0);function h(){m.x=rm(i)}if(a||!a&&!l)if((Ii(t)!=="body"||Fc(i))&&(d=nm(t)),a){const b=uo(t,!0,l,t);m.x=b.x+t.clientLeft,m.y=b.y+t.clientTop}else i&&h();l&&!a&&i&&h();const p=i&&!a&&!l?L_(i,d):Qr(0),v=u.left+d.scrollLeft-m.x-p.x,y=u.top+d.scrollTop-m.y-p.y;return{x:v,y,width:u.width,height:u.height}}function ig(e){return Ar(e).position==="static"}function ON(e,t){if(!es(e)||Ar(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return as(e)===r&&(r=r.ownerDocument.body),r}function $_(e,t){const r=Kn(e);if(tm(e))return r;if(!es(e)){let i=Ra(e);for(;i&&!Ci(i);){if(kr(i)&&!ig(i))return i;i=Ra(i)}return r}let a=ON(e,t);for(;a&&$7(a)&&ig(a);)a=ON(a,t);return a&&Ci(a)&&ig(a)&&!g0(a)?r:a||F7(e)||r}const sP=async function(e){const t=this.getOffsetParent||$_,r=this.getDimensions,a=await r(e.floating);return{reference:rP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function aP(e){return Ar(e).direction==="rtl"}const oP={convertOffsetParentRelativeRectToViewportRelativeRect:X7,getDocumentElement:as,getClippingRect:tP,getOffsetParent:$_,getElementRects:sP,getClientRects:W7,getDimensions:nP,getScale:mi,isElement:kr,isRTL:aP};function H_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function iP(e,t){let r=null,a;const i=as(e);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function u(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const h=e.getBoundingClientRect(),{left:p,top:v,width:y,height:b}=h;if(d||t(),!y||!b)return;const j=Nd(v),N=Nd(i.clientWidth-(p+y)),S=Nd(i.clientHeight-(v+b)),_=Nd(p),E={rootMargin:-j+"px "+-N+"px "+-S+"px "+-_+"px",threshold:Wn(0,Aa(1,m))||1};let k=!0;function M(O){const D=O[0].intersectionRatio;if(D!==m){if(!k)return u();D?u(!1,D):a=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!H_(h,e.getBoundingClientRect())&&u(),k=!1}try{r=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,E)}r.observe(e)}return u(!0),l}function lP(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,h=v0(e),p=i||l?[...h?bc(h):[],...bc(t)]:[];p.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),l&&_.addEventListener("resize",r)});const v=h&&d?iP(h,r):null;let y=-1,b=null;u&&(b=new ResizeObserver(_=>{let[C]=_;C&&C.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),r()}),h&&!m&&b.observe(h),b.observe(t));let j,N=m?uo(e):null;m&&S();function S(){const _=uo(e);N&&!H_(N,_)&&r(),N=_,j=requestAnimationFrame(S)}return r(),()=>{var _;p.forEach(C=>{i&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),v?.(),(_=b)==null||_.disconnect(),b=null,m&&cancelAnimationFrame(j)}}const cP=D7,uP=O7,dP=R7,fP=I7,mP=M7,zN=A7,hP=z7,pP=(e,t,r)=>{const a=new Map,i={platform:oP,...r},l={...i.platform,_c:a};return k7(e,t,{...i,platform:l})};var gP=typeof document<"u",xP=function(){},Ud=gP?x.useLayoutEffect:xP;function yf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!yf(e[a],t[a]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,i[a]))return!1;for(a=r;a--!==0;){const l=i[a];if(!(l==="_owner"&&e.$$typeof)&&!yf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function B_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function IN(e,t){const r=B_(e);return Math.round(t*r)/r}function lg(e){const t=x.useRef(e);return Ud(()=>{t.current=e}),t}function vP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:i,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:m,open:h}=e,[p,v]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=x.useState(a);yf(y,a)||b(a);const[j,N]=x.useState(null),[S,_]=x.useState(null),C=x.useCallback($=>{$!==O.current&&(O.current=$,N($))},[]),E=x.useCallback($=>{$!==D.current&&(D.current=$,_($))},[]),k=l||j,M=u||S,O=x.useRef(null),D=x.useRef(null),z=x.useRef(p),B=m!=null,H=lg(m),X=lg(i),G=lg(h),ee=x.useCallback(()=>{if(!O.current||!D.current)return;const $={placement:t,strategy:r,middleware:y};X.current&&($.platform=X.current),pP(O.current,D.current,$).then(V=>{const T={...V,isPositioned:G.current!==!1};P.current&&!yf(z.current,T)&&(z.current=T,qr.flushSync(()=>{v(T)}))})},[y,t,r,X,G]);Ud(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v($=>({...$,isPositioned:!1})))},[h]);const P=x.useRef(!1);Ud(()=>(P.current=!0,()=>{P.current=!1}),[]),Ud(()=>{if(k&&(O.current=k),M&&(D.current=M),k&&M){if(H.current)return H.current(k,M,ee);ee()}},[k,M,ee,H,B]);const F=x.useMemo(()=>({reference:O,floating:D,setReference:C,setFloating:E}),[C,E]),A=x.useMemo(()=>({reference:k,floating:M}),[k,M]),L=x.useMemo(()=>{const $={position:r,left:0,top:0};if(!A.floating)return $;const V=IN(A.floating,p.x),T=IN(A.floating,p.y);return d?{...$,transform:"translate("+V+"px, "+T+"px)",...B_(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:T}},[r,d,A.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:ee,refs:F,elements:A,floatingStyles:L}),[p,ee,F,A,L])}const yP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:i}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?zN({element:a.current,padding:i}).fn(r):{}:a?zN({element:a,padding:i}).fn(r):{}}}},bP=(e,t)=>({...cP(e),options:[e,t]}),wP=(e,t)=>({...uP(e),options:[e,t]}),NP=(e,t)=>({...hP(e),options:[e,t]}),jP=(e,t)=>({...dP(e),options:[e,t]}),SP=(e,t)=>({...fP(e),options:[e,t]}),_P=(e,t)=>({...mP(e),options:[e,t]}),EP=(e,t)=>({...yP(e),options:[e,t]});var CP="Arrow",U_=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:i=5,...l}=e;return s.jsx(Ve.svg,{...l,ref:t,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});U_.displayName=CP;var kP=U_,y0="Popper",[V_,sm]=hr(y0),[AP,F_]=V_(y0),q_=e=>{const{__scopePopper:t,children:r}=e,[a,i]=x.useState(null);return s.jsx(AP,{scope:t,anchor:a,onAnchorChange:i,children:r})};q_.displayName=y0;var Y_="PopperAnchor",G_=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...i}=e,l=F_(Y_,r),u=x.useRef(null),d=et(t,u),m=x.useRef(null);return x.useEffect(()=>{const h=m.current;m.current=a?.current||u.current,h!==m.current&&l.onAnchorChange(m.current)}),a?null:s.jsx(Ve.div,{...i,ref:d})});G_.displayName=Y_;var b0="PopperContent",[RP,MP]=V_(b0),X_=x.forwardRef((e,t)=>{const{__scopePopper:r,side:a="bottom",sideOffset:i=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:j,...N}=e,S=F_(b0,r),[_,C]=x.useState(null),E=et(t,q=>C(q)),[k,M]=x.useState(null),O=u0(k),D=O?.width??0,z=O?.height??0,B=a+(l!=="center"?"-"+l:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(h)?h:[h],G=X.length>0,ee={padding:H,boundary:X.filter(DP),altBoundary:G},{refs:P,floatingStyles:F,placement:A,isPositioned:L,middlewareData:$}=vP({strategy:"fixed",placement:B,whileElementsMounted:(...q)=>lP(...q,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[bP({mainAxis:i+z,alignmentAxis:u}),m&&wP({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?NP():void 0,...ee}),m&&jP({...ee}),SP({...ee,apply:({elements:q,rects:Q,availableWidth:de,availableHeight:he})=>{const{width:Ee,height:we}=Q.reference,ke=q.floating.style;ke.setProperty("--radix-popper-available-width",`${de}px`),ke.setProperty("--radix-popper-available-height",`${he}px`),ke.setProperty("--radix-popper-anchor-width",`${Ee}px`),ke.setProperty("--radix-popper-anchor-height",`${we}px`)}}),k&&EP({element:k,padding:d}),OP({arrowWidth:D,arrowHeight:z}),y&&_P({strategy:"referenceHidden",...ee})]}),[V,T]=K_(A),U=Nn(j);jn(()=>{L&&U?.()},[L,U]);const Z=$.arrow?.x,K=$.arrow?.y,ne=$.arrow?.centerOffset!==0,[fe,ue]=x.useState();return jn(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:L?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(RP,{scope:r,placedSide:V,onArrowChange:M,arrowX:Z,arrowY:K,shouldHideArrow:ne,children:s.jsx(Ve.div,{"data-side":V,"data-align":T,...N,ref:E,style:{...N.style,animation:L?void 0:"none"}})})})});X_.displayName=b0;var W_="PopperArrow",TP={top:"bottom",right:"left",bottom:"top",left:"right"},Z_=x.forwardRef(function(t,r){const{__scopePopper:a,...i}=t,l=MP(W_,a),u=TP[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(kP,{...i,ref:r,style:{...i.style,display:"block"}})})});Z_.displayName=W_;function DP(e){return e!==null}var OP=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:a,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,d=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[h,p]=K_(r),v={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+m/2;let j="",N="";return h==="bottom"?(j=u?v:`${y}px`,N=`${-m}px`):h==="top"?(j=u?v:`${y}px`,N=`${a.floating.height+m}px`):h==="right"?(j=`${-m}px`,N=u?v:`${b}px`):h==="left"&&(j=`${a.floating.width+m}px`,N=u?v:`${b}px`),{data:{x:j,y:N}}}});function K_(e){const[t,r="center"]=e.split("-");return[t,r]}var Q_=q_,J_=G_,eE=X_,tE=Z_,zP="Portal",am=x.forwardRef((e,t)=>{const{container:r,...a}=e,[i,l]=x.useState(!1);jn(()=>l(!0),[]);const u=r||i&&globalThis?.document?.body;return u?CR.createPortal(s.jsx(Ve.div,{...a,ref:t}),u):null});am.displayName=zP;var nE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IP="VisuallyHidden",LP=x.forwardRef((e,t)=>s.jsx(Ve.span,{...e,ref:t,style:{...nE,...e.style}}));LP.displayName=IP;var PP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ri=new WeakMap,jd=new WeakMap,Sd={},cg=0,rE=function(e){return e&&(e.host||rE(e.parentNode))},$P=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=rE(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HP=function(e,t,r,a){var i=$P(t,Array.isArray(e)?e:[e]);Sd[r]||(Sd[r]=new WeakMap);var l=Sd[r],u=[],d=new Set,m=new Set(i),h=function(v){!v||d.has(v)||(d.add(v),h(v.parentNode))};i.forEach(h);var p=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(y){if(d.has(y))p(y);else try{var b=y.getAttribute(a),j=b!==null&&b!=="false",N=(ri.get(y)||0)+1,S=(l.get(y)||0)+1;ri.set(y,N),l.set(y,S),u.push(y),N===1&&j&&jd.set(y,!0),S===1&&y.setAttribute(r,"true"),j||y.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return p(t),d.clear(),cg++,function(){u.forEach(function(v){var y=ri.get(v)-1,b=l.get(v)-1;ri.set(v,y),l.set(v,b),y||(jd.has(v)||v.removeAttribute(a),jd.delete(v)),b||v.removeAttribute(r)}),cg--,cg||(ri=new WeakMap,ri=new WeakMap,jd=new WeakMap,Sd={})}},w0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=PP(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),HP(a,i,r,"aria-hidden")):function(){return null}},Fr=function(){return Fr=Object.assign||function(t){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Fr.apply(this,arguments)};function sE(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r}function BP(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,l;a<i;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var Vd="right-scroll-bar-position",Fd="width-before-scroll-bar",UP="with-scroll-bars-hidden",VP="--removed-body-scroll-bar-size";function ug(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FP(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var i=r.value;i!==a&&(r.value=a,r.callback(a,i))}}}})[0];return r.callback=t,r.facade}var qP=typeof window<"u"?x.useLayoutEffect:x.useEffect,LN=new WeakMap;function YP(e,t){var r=FP(null,function(a){return e.forEach(function(i){return ug(i,a)})});return qP(function(){var a=LN.get(r);if(a){var i=new Set(a),l=new Set(e),u=r.current;i.forEach(function(d){l.has(d)||ug(d,null)}),l.forEach(function(d){i.has(d)||ug(d,u)})}LN.set(r,e)},[e]),r}function GP(e){return e}function XP(e,t){t===void 0&&(t=GP);var r=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var u=t(l,a);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(a=!0;r.length;){var u=r;r=[],u.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(l),u=r}var m=function(){var p=u;u=[],p.forEach(l)},h=function(){return Promise.resolve().then(m)};h(),r={push:function(p){u.push(p),h()},filter:function(p){return u=u.filter(p),r}}}};return i}function WP(e){e===void 0&&(e={});var t=XP(null);return t.options=Fr({async:!0,ssr:!1},e),t}var aE=function(e){var t=e.sideCar,r=sE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,Fr({},r))};aE.isSideCarExport=!0;function ZP(e,t){return e.useMedium(t),aE}var oE=WP(),dg=function(){},om=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:dg,onWheelCapture:dg,onTouchMoveCapture:dg}),i=a[0],l=a[1],u=e.forwardProps,d=e.children,m=e.className,h=e.removeScrollBar,p=e.enabled,v=e.shards,y=e.sideCar,b=e.noRelative,j=e.noIsolation,N=e.inert,S=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,E=e.gapMode,k=sE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,O=YP([r,t]),D=Fr(Fr({},k),i);return x.createElement(x.Fragment,null,p&&x.createElement(M,{sideCar:oE,removeScrollBar:h,shards:v,noRelative:b,noIsolation:j,inert:N,setCallbacks:l,allowPinchZoom:!!S,lockRef:r,gapMode:E}),u?x.cloneElement(x.Children.only(d),Fr(Fr({},D),{ref:O})):x.createElement(C,Fr({},D,{className:m,ref:O}),d))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:Fd,zeroRight:Vd};var KP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KP();return t&&e.setAttribute("nonce",t),e}function JP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t$=function(){var e=0,t=null;return{add:function(r){e==0&&(t=QP())&&(JP(t,r),e$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n$=function(){var e=t$();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iE=function(){var e=n$(),t=function(r){var a=r.styles,i=r.dynamic;return e(a,i),null};return t},r$={left:0,top:0,right:0,gap:0},fg=function(e){return parseInt(e||"",10)||0},s$=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[fg(r),fg(a),fg(i)]},a$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return r$;var t=s$(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},o$=iE(),hi="data-scroll-locked",i$=function(e,t,r,a){var i=e.left,l=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(UP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(hi,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vd,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(hi,`] {
    `).concat(VP,": ").concat(d,`px;
  }
`)},PN=function(){var e=parseInt(document.body.getAttribute(hi)||"0",10);return isFinite(e)?e:0},l$=function(){x.useEffect(function(){return document.body.setAttribute(hi,(PN()+1).toString()),function(){var e=PN()-1;e<=0?document.body.removeAttribute(hi):document.body.setAttribute(hi,e.toString())}},[])},c$=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;l$();var l=x.useMemo(function(){return a$(i)},[i]);return x.createElement(o$,{styles:i$(l,!t,i,r?"":"!important")})},Jg=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return Jg=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{Jg=!1}var si=Jg?{passive:!1}:!1,u$=function(e){return e.tagName==="TEXTAREA"},lE=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!u$(e)&&r[t]==="visible")},d$=function(e){return lE(e,"overflowY")},f$=function(e){return lE(e,"overflowX")},$N=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=cE(e,a);if(i){var l=uE(e,a),u=l[1],d=l[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},m$=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},h$=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},cE=function(e,t){return e==="v"?d$(t):f$(t)},uE=function(e,t){return e==="v"?m$(t):h$(t)},p$=function(e,t){return e==="h"&&t==="rtl"?-1:1},g$=function(e,t,r,a,i){var l=p$(e,window.getComputedStyle(t).direction),u=l*a,d=r.target,m=t.contains(d),h=!1,p=u>0,v=0,y=0;do{if(!d)break;var b=uE(e,d),j=b[0],N=b[1],S=b[2],_=N-S-l*j;(j||_)&&cE(e,d)&&(v+=_,y+=j);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!m&&d!==document.body||m&&(t.contains(d)||t===d));return(p&&Math.abs(v)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Ed=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},HN=function(e){return[e.deltaX,e.deltaY]},BN=function(e){return e&&"current"in e?e.current:e},x$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},v$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},y$=0,ai=[];function b$(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),i=x.useState(y$++)[0],l=x.useState(iE)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=BP([e.lockRef.current],(e.shards||[]).map(BN),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=x.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var _=Ed(N),C=r.current,E="deltaX"in N?N.deltaX:C[0]-_[0],k="deltaY"in N?N.deltaY:C[1]-_[1],M,O=N.target,D=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in N&&D==="h"&&O.type==="range")return!1;var z=$N(D,O);if(!z)return!0;if(z?M=D:(M=D==="v"?"h":"v",z=$N(D,O)),!z)return!1;if(!a.current&&"changedTouches"in N&&(E||k)&&(a.current=M),!M)return!0;var B=a.current||M;return g$(B,S,N,B==="h"?E:k)},[]),m=x.useCallback(function(N){var S=N;if(!(!ai.length||ai[ai.length-1]!==l)){var _="deltaY"in S?HN(S):Ed(S),C=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&x$(M.delta,_)})[0];if(C&&C.should){S.cancelable&&S.preventDefault();return}if(!C){var E=(u.current.shards||[]).map(BN).filter(Boolean).filter(function(M){return M.contains(S.target)}),k=E.length>0?d(S,E[0]):!u.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),h=x.useCallback(function(N,S,_,C){var E={name:N,delta:S,target:_,should:C,shadowParent:w$(_)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(k){return k!==E})},1)},[]),p=x.useCallback(function(N){r.current=Ed(N),a.current=void 0},[]),v=x.useCallback(function(N){h(N.type,HN(N),N.target,d(N,e.lockRef.current))},[]),y=x.useCallback(function(N){h(N.type,Ed(N),N.target,d(N,e.lockRef.current))},[]);x.useEffect(function(){return ai.push(l),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",m,si),document.addEventListener("touchmove",m,si),document.addEventListener("touchstart",p,si),function(){ai=ai.filter(function(N){return N!==l}),document.removeEventListener("wheel",m,si),document.removeEventListener("touchmove",m,si),document.removeEventListener("touchstart",p,si)}},[]);var b=e.removeScrollBar,j=e.inert;return x.createElement(x.Fragment,null,j?x.createElement(l,{styles:v$(i)}):null,b?x.createElement(c$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function w$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N$=ZP(oE,b$);var im=x.forwardRef(function(e,t){return x.createElement(om,Fr({},e,{ref:t,sideCar:N$}))});im.classNames=om.classNames;var j$=[" ","Enter","ArrowUp","ArrowDown"],S$=[" ","Enter"],fo="Select",[lm,cm,_$]=Lx(fo),[Li,aY]=hr(fo,[_$,sm]),um=sm(),[E$,Ma]=Li(fo),[C$,k$]=Li(fo),dE=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:i,onOpenChange:l,value:u,defaultValue:d,onValueChange:m,dir:h,name:p,autoComplete:v,disabled:y,required:b,form:j}=e,N=um(t),[S,_]=x.useState(null),[C,E]=x.useState(null),[k,M]=x.useState(!1),O=zc(h),[D,z]=Ca({prop:a,defaultProp:i??!1,onChange:l,caller:fo}),[B,H]=Ca({prop:u,defaultProp:d,onChange:m,caller:fo}),X=x.useRef(null),G=S?j||!!S.closest("form"):!0,[ee,P]=x.useState(new Set),F=Array.from(ee).map(A=>A.props.value).join(";");return s.jsx(Q_,{...N,children:s.jsxs(E$,{required:b,scope:t,trigger:S,onTriggerChange:_,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:M,contentId:Zr(),value:B,onValueChange:H,open:D,onOpenChange:z,dir:O,triggerPointerDownPosRef:X,disabled:y,children:[s.jsx(lm.Provider,{scope:t,children:s.jsx(C$,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(A=>{P(L=>new Set(L).add(A))},[]),onNativeOptionRemove:x.useCallback(A=>{P(L=>{const $=new Set(L);return $.delete(A),$})},[]),children:r})}),G?s.jsxs(DE,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:v,value:B,onChange:A=>H(A.target.value),disabled:y,form:j,children:[B===void 0?s.jsx("option",{value:""}):null,Array.from(ee)]},F):null]})})};dE.displayName=fo;var fE="SelectTrigger",mE=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...i}=e,l=um(r),u=Ma(fE,r),d=u.disabled||a,m=et(t,u.onTriggerChange),h=cm(r),p=x.useRef("touch"),[v,y,b]=zE(N=>{const S=h().filter(E=>!E.disabled),_=S.find(E=>E.value===u.value),C=IE(S,N,_);C!==void 0&&u.onValueChange(C.value)}),j=N=>{d||(u.onOpenChange(!0),b()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return s.jsx(J_,{asChild:!0,...l,children:s.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":OE(u.value)?"":void 0,...i,ref:m,onClick:Ae(i.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&j(N)}),onPointerDown:Ae(i.onPointerDown,N=>{p.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:Ae(i.onKeyDown,N=>{const S=v.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&y(N.key),!(S&&N.key===" ")&&j$.includes(N.key)&&(j(),N.preventDefault())})})})});mE.displayName=fE;var hE="SelectValue",pE=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:i,children:l,placeholder:u="",...d}=e,m=Ma(hE,r),{onValueNodeHasChildrenChange:h}=m,p=l!==void 0,v=et(t,m.onValueNodeChange);return jn(()=>{h(p)},[h,p]),s.jsx(Ve.span,{...d,ref:v,style:{pointerEvents:"none"},children:OE(m.value)?s.jsx(s.Fragment,{children:u}):l})});pE.displayName=hE;var A$="SelectIcon",gE=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...i}=e;return s.jsx(Ve.span,{"aria-hidden":!0,...i,ref:t,children:a||""})});gE.displayName=A$;var R$="SelectPortal",xE=e=>s.jsx(am,{asChild:!0,...e});xE.displayName=R$;var mo="SelectContent",vE=x.forwardRef((e,t)=>{const r=Ma(mo,e.__scopeSelect),[a,i]=x.useState();if(jn(()=>{i(new DocumentFragment)},[]),!r.open){const l=a;return l?qr.createPortal(s.jsx(yE,{scope:e.__scopeSelect,children:s.jsx(lm.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),l):null}return s.jsx(bE,{...e,ref:t})});vE.displayName=mo;var Nr=10,[yE,Ta]=Li(mo),M$="SelectContentImpl",T$=ro("SelectContent.RemoveScroll"),bE=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S,..._}=e,C=Ma(mo,r),[E,k]=x.useState(null),[M,O]=x.useState(null),D=et(t,q=>k(q)),[z,B]=x.useState(null),[H,X]=x.useState(null),G=cm(r),[ee,P]=x.useState(!1),F=x.useRef(!1);x.useEffect(()=>{if(E)return w0(E)},[E]),f0();const A=x.useCallback(q=>{const[Q,...de]=G().map(we=>we.ref.current),[he]=de.slice(-1),Ee=document.activeElement;for(const we of q)if(we===Ee||(we?.scrollIntoView({block:"nearest"}),we===Q&&M&&(M.scrollTop=0),we===he&&M&&(M.scrollTop=M.scrollHeight),we?.focus(),document.activeElement!==Ee))return},[G,M]),L=x.useCallback(()=>A([z,E]),[A,z,E]);x.useEffect(()=>{ee&&L()},[ee,L]);const{onOpenChange:$,triggerPointerDownPosRef:V}=C;x.useEffect(()=>{if(E){let q={x:0,y:0};const Q=he=>{q={x:Math.abs(Math.round(he.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(V.current?.y??0))}},de=he=>{q.x<=10&&q.y<=10?he.preventDefault():E.contains(he.target)||$(!1),document.removeEventListener("pointermove",Q),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",de,{capture:!0})}}},[E,$,V]),x.useEffect(()=>{const q=()=>$(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[$]);const[T,U]=zE(q=>{const Q=G().filter(Ee=>!Ee.disabled),de=Q.find(Ee=>Ee.ref.current===document.activeElement),he=IE(Q,q,de);he&&setTimeout(()=>he.ref.current.focus())}),Z=x.useCallback((q,Q,de)=>{const he=!F.current&&!de;(C.value!==void 0&&C.value===Q||he)&&(B(q),he&&(F.current=!0))},[C.value]),K=x.useCallback(()=>E?.focus(),[E]),ne=x.useCallback((q,Q,de)=>{const he=!F.current&&!de;(C.value!==void 0&&C.value===Q||he)&&X(q)},[C.value]),fe=a==="popper"?ex:wE,ue=fe===ex?{side:d,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S}:{};return s.jsx(yE,{scope:r,content:E,viewport:M,onViewportChange:O,itemRefCallback:Z,selectedItem:z,onItemLeave:K,itemTextRefCallback:ne,focusSelectedItem:L,selectedItemText:H,position:a,isPositioned:ee,searchRef:T,children:s.jsx(im,{as:T$,allowPinchZoom:!0,children:s.jsx(Jf,{asChild:!0,trapped:C.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Ae(i,q=>{C.trigger?.focus({preventScroll:!0}),q.preventDefault()}),children:s.jsx(Qf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:s.jsx(fe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:q=>q.preventDefault(),..._,...ue,onPlaced:()=>P(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ae(_.onKeyDown,q=>{const Q=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Q&&q.key.length===1&&U(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let he=G().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(q.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Ee=q.target,we=he.indexOf(Ee);he=he.slice(we+1)}setTimeout(()=>A(he)),q.preventDefault()}})})})})})})});bE.displayName=M$;var D$="SelectItemAlignedPosition",wE=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...i}=e,l=Ma(mo,r),u=Ta(mo,r),[d,m]=x.useState(null),[h,p]=x.useState(null),v=et(t,D=>p(D)),y=cm(r),b=x.useRef(!1),j=x.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:_,focusSelectedItem:C}=u,E=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&N&&S&&_){const D=l.trigger.getBoundingClientRect(),z=h.getBoundingClientRect(),B=l.valueNode.getBoundingClientRect(),H=_.getBoundingClientRect();if(l.dir!=="rtl"){const Ee=H.left-z.left,we=B.left-Ee,ke=D.left-we,te=D.width+ke,Re=Math.max(te,z.width),Ye=window.innerWidth-Nr,Fe=Dg(we,[Nr,Math.max(Nr,Ye-Re)]);d.style.minWidth=te+"px",d.style.left=Fe+"px"}else{const Ee=z.right-H.right,we=window.innerWidth-B.right-Ee,ke=window.innerWidth-D.right-we,te=D.width+ke,Re=Math.max(te,z.width),Ye=window.innerWidth-Nr,Fe=Dg(we,[Nr,Math.max(Nr,Ye-Re)]);d.style.minWidth=te+"px",d.style.right=Fe+"px"}const X=y(),G=window.innerHeight-Nr*2,ee=N.scrollHeight,P=window.getComputedStyle(h),F=parseInt(P.borderTopWidth,10),A=parseInt(P.paddingTop,10),L=parseInt(P.borderBottomWidth,10),$=parseInt(P.paddingBottom,10),V=F+A+ee+$+L,T=Math.min(S.offsetHeight*5,V),U=window.getComputedStyle(N),Z=parseInt(U.paddingTop,10),K=parseInt(U.paddingBottom,10),ne=D.top+D.height/2-Nr,fe=G-ne,ue=S.offsetHeight/2,q=S.offsetTop+ue,Q=F+A+q,de=V-Q;if(Q<=ne){const Ee=X.length>0&&S===X[X.length-1].ref.current;d.style.bottom="0px";const we=h.clientHeight-N.offsetTop-N.offsetHeight,ke=Math.max(fe,ue+(Ee?K:0)+we+L),te=Q+ke;d.style.height=te+"px"}else{const Ee=X.length>0&&S===X[0].ref.current;d.style.top="0px";const ke=Math.max(ne,F+N.offsetTop+(Ee?Z:0)+ue)+de;d.style.height=ke+"px",N.scrollTop=Q-ne+N.offsetTop}d.style.margin=`${Nr}px 0`,d.style.minHeight=T+"px",d.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[y,l.trigger,l.valueNode,d,h,N,S,_,l.dir,a]);jn(()=>E(),[E]);const[k,M]=x.useState();jn(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const O=x.useCallback(D=>{D&&j.current===!0&&(E(),C?.(),j.current=!1)},[E,C]);return s.jsx(z$,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:s.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(Ve.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wE.displayName=D$;var O$="SelectPopperPosition",ex=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:i=Nr,...l}=e,u=um(r);return s.jsx(eE,{...u,...l,ref:t,align:a,collisionPadding:i,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ex.displayName=O$;var[z$,N0]=Li(mo,{}),tx="SelectViewport",NE=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...i}=e,l=Ta(tx,r),u=N0(tx,r),d=et(t,l.onViewportChange),m=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(lm.Slot,{scope:r,children:s.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:y}=u;if(y?.current&&v){const b=Math.abs(m.current-p.scrollTop);if(b>0){const j=window.innerHeight-Nr*2,N=parseFloat(v.style.minHeight),S=parseFloat(v.style.height),_=Math.max(N,S);if(_<j){const C=_+b,E=Math.min(j,C),k=C-E;v.style.height=E+"px",v.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,v.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});NE.displayName=tx;var jE="SelectGroup",[I$,L$]=Li(jE),P$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=Zr();return s.jsx(I$,{scope:r,id:i,children:s.jsx(Ve.div,{role:"group","aria-labelledby":i,...a,ref:t})})});P$.displayName=jE;var SE="SelectLabel",$$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=L$(SE,r);return s.jsx(Ve.div,{id:i.id,...a,ref:t})});$$.displayName=SE;var bf="SelectItem",[H$,_E]=Li(bf),EE=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:i=!1,textValue:l,...u}=e,d=Ma(bf,r),m=Ta(bf,r),h=d.value===a,[p,v]=x.useState(l??""),[y,b]=x.useState(!1),j=et(t,C=>m.itemRefCallback?.(C,a,i)),N=Zr(),S=x.useRef("touch"),_=()=>{i||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(H$,{scope:r,value:a,disabled:i,textId:N,isSelected:h,onItemTextChange:x.useCallback(C=>{v(E=>E||(C?.textContent??"").trim())},[]),children:s.jsx(lm.ItemSlot,{scope:r,value:a,disabled:i,textValue:p,children:s.jsx(Ve.div,{role:"option","aria-labelledby":N,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:j,onFocus:Ae(u.onFocus,()=>b(!0)),onBlur:Ae(u.onBlur,()=>b(!1)),onClick:Ae(u.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Ae(u.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Ae(u.onPointerDown,C=>{S.current=C.pointerType}),onPointerMove:Ae(u.onPointerMove,C=>{S.current=C.pointerType,i?m.onItemLeave?.():S.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Ae(u.onKeyDown,C=>{m.searchRef?.current!==""&&C.key===" "||(S$.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});EE.displayName=bf;var Kl="SelectItemText",CE=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:i,...l}=e,u=Ma(Kl,r),d=Ta(Kl,r),m=_E(Kl,r),h=k$(Kl,r),[p,v]=x.useState(null),y=et(t,_=>v(_),m.onItemTextChange,_=>d.itemTextRefCallback?.(_,m.value,m.disabled)),b=p?.textContent,j=x.useMemo(()=>s.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=h;return jn(()=>(N(j),()=>S(j)),[N,S,j]),s.jsxs(s.Fragment,{children:[s.jsx(Ve.span,{id:m.textId,...l,ref:y}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qr.createPortal(l.children,u.valueNode):null]})});CE.displayName=Kl;var kE="SelectItemIndicator",AE=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return _E(kE,r).isSelected?s.jsx(Ve.span,{"aria-hidden":!0,...a,ref:t}):null});AE.displayName=kE;var nx="SelectScrollUpButton",RE=x.forwardRef((e,t)=>{const r=Ta(nx,e.__scopeSelect),a=N0(nx,e.__scopeSelect),[i,l]=x.useState(!1),u=et(t,a.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=m.scrollTop>0;l(h)};const m=r.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?s.jsx(TE,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=r;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});RE.displayName=nx;var rx="SelectScrollDownButton",ME=x.forwardRef((e,t)=>{const r=Ta(rx,e.__scopeSelect),a=N0(rx,e.__scopeSelect),[i,l]=x.useState(!1),u=et(t,a.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let d=function(){const h=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<h;l(p)};const m=r.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?s.jsx(TE,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=r;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});ME.displayName=rx;var TE=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...i}=e,l=Ta("SelectScrollButton",r),u=x.useRef(null),d=cm(r),m=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),jn(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),s.jsx(Ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(a,50))}),onPointerMove:Ae(i.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(a,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{m()})})}),B$="SelectSeparator",U$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return s.jsx(Ve.div,{"aria-hidden":!0,...a,ref:t})});U$.displayName=B$;var sx="SelectArrow",V$=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=um(r),l=Ma(sx,r),u=Ta(sx,r);return l.open&&u.position==="popper"?s.jsx(tE,{...i,...a,ref:t}):null});V$.displayName=sx;var F$="SelectBubbleInput",DE=x.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const i=x.useRef(null),l=et(a,i),u=c0(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&p){const v=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(v)}},[u,t]),s.jsx(Ve.select,{...r,style:{...nE,...r.style},ref:l,defaultValue:t})});DE.displayName=F$;function OE(e){return e===""||e===void 0}function zE(e){const t=Nn(e),r=x.useRef(""),a=x.useRef(0),i=x.useCallback(u=>{const d=r.current+u;t(d),(function m(h){r.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(d)},[t]),l=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,i,l]}function IE(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let u=q$(e,Math.max(l,0));i.length===1&&(u=u.filter(h=>h!==r));const m=u.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==r?m:void 0}function q$(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Y$=dE,G$=mE,X$=pE,W$=gE,Z$=xE,K$=vE,Q$=NE,J$=EE,eH=CE,tH=AE,nH=RE,rH=ME;function tn({...e}){return s.jsx(Y$,{"data-slot":"select",...e})}function nn({...e}){return s.jsx(X$,{"data-slot":"select-value",...e})}function rn({className:e,size:t="default",children:r,...a}){return s.jsxs(G$,{"data-slot":"select-trigger","data-size":t,className:He("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,s.jsx(W$,{asChild:!0,children:s.jsx(En,{className:"size-4 opacity-50"})})]})}function sn({className:e,children:t,position:r="popper",...a}){return s.jsx(Z$,{children:s.jsxs(K$,{"data-slot":"select-content",className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(sH,{}),s.jsx(Q$,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(aH,{})]})})}function gt({className:e,children:t,...r}){return s.jsxs(J$,{"data-slot":"select-item",className:He("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(tH,{children:s.jsx(Di,{className:"size-4"})})}),s.jsx(eH,{children:t})]})}function sH({className:e,...t}){return s.jsx(nH,{"data-slot":"select-scroll-up-button",className:He("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zd,{className:"size-4"})})}function aH({className:e,...t}){return s.jsx(rH,{"data-slot":"select-scroll-down-button",className:He("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(En,{className:"size-4"})})}function oH(){const{nodes:e,updateNodeConfig:t,workerConfig:r,setWorkerConfig:a}=fi(),[i,l]=x.useState(null),[u,d]=x.useState([]);return x.useEffect(()=>{const m=e.find(h=>h.selected);l(m||null)},[e]),x.useEffect(()=>{ot.listTools().then(d).catch(console.error)},[]),i?s.jsxs("div",{className:"w-80 border-l bg-background h-full flex flex-col",children:[s.jsx(gn,{className:"border-b py-4",children:s.jsxs(Jt,{className:"text-sm font-medium flex items-center justify-between",children:[i.data.label," Configuration",s.jsx("span",{className:"text-xs text-muted-foreground font-normal uppercase px-2 py-0.5 bg-muted rounded",children:i.data.type})]})}),s.jsx(Jn,{className:"flex-1",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Label"}),s.jsx(at,{value:i.data.label,onChange:m=>t(i.id,{label:m.target.value})})]}),i.data.type==="agent"&&s.jsx(lH,{node:i,availableTools:u,onChange:m=>t(i.id,m)}),i.data.type==="tool"&&s.jsx(dH,{node:i,availableTools:u,onChange:m=>t(i.id,m)}),i.data.type==="router"&&s.jsx(fH,{node:i,onChange:m=>t(i.id,m)}),i.data.type==="condition"&&s.jsx(cH,{node:i,onChange:m=>t(i.id,m)}),i.data.type==="rag"&&s.jsx(uH,{node:i,onChange:m=>t(i.id,m)})]})})]}):s.jsx(iH,{config:r,onChange:a})}function iH({config:e,onChange:t}){return s.jsxs("div",{className:"w-80 border-l bg-background h-full flex flex-col",children:[s.jsx(gn,{className:"border-b py-4",children:s.jsx(Jt,{className:"text-sm font-medium",children:"Global Settings"})}),s.jsx(Jn,{className:"flex-1",children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Project Name"}),s.jsx(at,{value:e.name,onChange:r=>t({...e,name:r.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Workflow Type"}),s.jsxs(tn,{value:e.workflow.type,onValueChange:r=>t({...e,workflow:{...e.workflow,type:r}}),children:[s.jsx(rn,{children:s.jsx(nn,{})}),s.jsxs(sn,{children:[s.jsx(gt,{value:"sequential",children:"Sequential"}),s.jsx(gt,{value:"parallel",children:"Parallel"}),s.jsx(gt,{value:"router",children:"Router"}),s.jsx(gt,{value:"group_chat",children:"Group Chat"}),s.jsx(gt,{value:"handoff",children:"Handoff"})]})]})]}),s.jsx(Vc,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Version"}),s.jsx(at,{value:e.version,disabled:!0})]})]})})]})}function lH({node:e,onChange:t,availableTools:r}){const a=e.data.config||{},i=l=>{const u=a.tools||[],d=u.includes(l)?u.filter(m=>m!==l):[...u,l];t({tools:d})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Role"}),s.jsx(at,{placeholder:"e.g. Customer Support",value:a.role||"",onChange:l=>t({role:l.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Description"}),s.jsx(en,{placeholder:"Short summary of this agent",value:a.description||"",onChange:l=>t({description:l.target.value}),className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Model"}),s.jsxs(tn,{value:a.model||"gpt-4o",onValueChange:l=>t({model:l}),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Select model"})}),s.jsxs(sn,{children:[s.jsx(gt,{value:"gpt-4o",children:"GPT-4o"}),s.jsx(gt,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Instructions"}),s.jsx(en,{className:"min-h-[150px] font-mono text-xs",placeholder:"You are a helpful assistant...",value:a.instructions||"",onChange:l=>t({instructions:l.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Tools"}),s.jsx("div",{className:"border rounded-md p-3 space-y-2 max-h-[150px] overflow-y-auto",children:r.length===0?s.jsx("p",{className:"text-xs text-muted-foreground",children:"No tools available."}):r.map(l=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`tool-${l.id}`,checked:(a.tools||[]).includes(l.id),onCheckedChange:()=>i(l.id)}),s.jsx(Te,{htmlFor:`tool-${l.id}`,className:"text-sm font-normal cursor-pointer",children:l.name||l.id})]},l.id))})]})]})}function cH({node:e,onChange:t}){const r=e.data.config||{};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Expression"}),s.jsx(en,{className:"font-mono text-xs min-h-[120px]",placeholder:"len(input) > 0",value:r.expression||"",onChange:a=>t({expression:a.target.value})}),s.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["Use Python-style expressions. Available variables: ",s.jsx("code",{children:"input"}),", ",s.jsx("code",{children:"context"}),"."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Description"}),s.jsx(en,{value:r.description||"",onChange:a=>t({description:a.target.value}),placeholder:"Explain what this branch does"})]})]})}function uH({node:e,onChange:t}){const r=e.data.config||{};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Knowledge Base"}),s.jsx(at,{placeholder:"e.g. contoso_search",value:r.knowledge_base||"",onChange:a=>t({knowledge_base:a.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Retriever"}),s.jsxs(tn,{value:r.retriever||"azure_search",onValueChange:a=>t({retriever:a}),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Select retriever"})}),s.jsxs(sn,{children:[s.jsx(gt,{value:"azure_search",children:"Azure AI Search"}),s.jsx(gt,{value:"cognitive",children:"Cognitive Search"}),s.jsx(gt,{value:"custom",children:"Custom Retriever"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Top K"}),s.jsx(at,{type:"number",min:1,value:String(r.top_k??4),onChange:a=>{const i=Number(a.target.value);t({top_k:Number.isNaN(i)?1:i})}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Prompt Template"}),s.jsx(en,{className:"font-mono text-xs min-h-[120px]",placeholder:"Use the retrieved documents to answer...",value:r.prompt_template||"",onChange:a=>t({prompt_template:a.target.value})})]})]})}function dH({node:e,onChange:t,availableTools:r}){const a=e.data.config||{};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Select Tool"}),s.jsxs(tn,{value:a.tool_id||"",onValueChange:i=>t({tool_id:i}),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Select a tool to execute"})}),s.jsx(sn,{children:r.map(i=>s.jsx(gt,{value:i.id,children:i.name||i.id},i.id))})]}),r.length===0&&s.jsx("p",{className:"text-[11px] text-muted-foreground text-red-500",children:"No tools available."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Description"}),s.jsx(en,{value:a.description||"",onChange:i=>t({description:i.target.value}),placeholder:"Why is this tool being used?"})]})]})}function fH({node:e,onChange:t}){const r=e.data.config||{};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Router Strategy"}),s.jsxs(tn,{value:r.strategy||"auto",onValueChange:a=>t({strategy:a}),children:[s.jsx(rn,{children:s.jsx(nn,{})}),s.jsxs(sn,{children:[s.jsx(gt,{value:"auto",children:"Auto (LLM Decision)"}),s.jsx(gt,{value:"expression",children:"Expression Based"})]})]})]}),r.strategy==="expression"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Expression"}),s.jsx(en,{className:"font-mono text-xs",placeholder:"input.contains('help')",value:r.expression||"",onChange:a=>t({expression:a.target.value})})]})]})}const mH=[{type:"sequential",name:"Sequential",description:"Cadeia linear de agentes onde cada um processa e passa para o prximo",icon:so,color:"border-blue-500 hover:border-blue-400",example:"Pesquisador  Escritor  Revisor"},{type:"parallel",name:"Parallel",description:"Execuo simultnea de mltiplos agentes com agregao de resultados",icon:Qd,color:"border-green-500 hover:border-green-400",example:"Dispatcher  [Agente1, Agente2, Agente3]  Aggregator"},{type:"group_chat",name:"Group Chat",description:"Discusso multi-agente coordenada por um Manager",icon:ef,color:"border-purple-500 hover:border-purple-400",example:"Manager coordena: Dev, Designer, PM"},{type:"handoff",name:"Handoff",description:"Triagem com coordenador que transfere para especialistas",icon:Wd,color:"border-orange-500 hover:border-orange-400",example:"Triagem  Vendas | Suporte | Financeiro"},{type:"router",name:"Router",description:"Roteamento condicional baseado na sada do primeiro agente",icon:li,color:"border-cyan-500 hover:border-cyan-400",example:"Classificador  [Destino A | Destino B | Default]"}];function hH({selectedType:e,onTypeSelect:t,disabled:r=!1}){return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:mH.map(a=>{const i=a.icon,l=e===a.type;return s.jsxs(ct,{className:He("cursor-pointer transition-all duration-200 border-2",a.color,l&&"ring-2 ring-primary ring-offset-2",r&&"opacity-50 cursor-not-allowed"),onClick:()=>!r&&t(a.type),children:[s.jsx(gn,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:He("p-2 rounded-lg",l?"bg-primary text-primary-foreground":"bg-muted"),children:s.jsx(i,{className:"h-5 w-5"})}),s.jsx(Jt,{className:"text-lg",children:a.name})]})}),s.jsxs(ut,{children:[s.jsx(Jl,{className:"mb-3",children:a.description}),s.jsx("div",{className:"text-xs font-mono bg-muted/50 rounded px-2 py-1 text-muted-foreground",children:a.example})]})]},a.type)})})}function Ls({open:e,onOpenChange:t,children:r}){if(!e)return null;const a=i=>{i.key==="Escape"&&t(!1)};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onKeyDown:a,tabIndex:-1,children:[s.jsx("div",{className:"absolute inset-0 bg-black/50"}),s.jsx("div",{onClick:i=>i.stopPropagation(),children:r})]})}function Ps({children:e,className:t=""}){const a=t.includes("w-[")||t.includes("w-full")||t.includes("max-w-")?"":"max-w-lg w-full";return s.jsx("div",{className:`relative bg-background border rounded-lg shadow-lg max-h-[90vh] overflow-hidden ${a} ${t}`,children:e})}function $s({children:e,className:t=""}){return s.jsx("div",{className:`space-y-2 ${t}`,children:e})}function Hs({children:e,className:t=""}){return s.jsx("h2",{className:`text-lg font-semibold ${t}`,children:e})}function LE({children:e,className:t=""}){return s.jsx("p",{className:`text-sm text-muted-foreground ${t}`,children:e})}function go({onClose:e}){return s.jsx(ge,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4 h-8 w-8 p-0 rounded-sm opacity-70 hover:opacity-100",children:s.jsx(vi,{className:"h-4 w-4"})})}function j0({children:e,className:t=""}){return s.jsx("div",{className:`flex justify-end gap-2 p-4 border-t bg-muted/50 ${t}`,children:e})}function pH(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")||`agent_${Date.now()}`}function PE({open:e,onOpenChange:t,agent:r,availableModels:a,availableTools:i,onSave:l,mode:u="create"}){const[d,m]=x.useState({id:"",role:"",description:"",model:Object.keys(a)[0]||"gpt-4o",instructions:"You are a helpful assistant.",tools:[]}),[h,p]=x.useState({}),[v,y]=x.useState("form");x.useEffect(()=>{e&&r?m({...r}):e&&!r&&m({id:"",role:"",description:"",model:Object.keys(a)[0]||"gpt-4o",instructions:"You are a helpful assistant.",tools:[]}),p({})},[e,r,a]),x.useEffect(()=>{u==="create"&&d.role&&m(_=>({..._,id:pH(d.role||"")}))},[d.role,u]);const b=_=>{m(C=>{const E=C.tools||[],k=E.includes(_)?E.filter(M=>M!==_):[...E,_];return{...C,tools:k}})},j=()=>{const _={};return d.id?.trim()||(_.id="ID  obrigatrio"),d.role?.trim()||(_.role="Role  obrigatrio"),d.model?.trim()||(_.model="Modelo  obrigatrio"),d.instructions?.trim()||(_.instructions="Instrues so obrigatrias"),p(_),Object.keys(_).length===0},N=()=>{j()&&(l({id:d.id,role:d.role,description:d.description,model:d.model,instructions:d.instructions,tools:d.tools||[]}),t(!1))},S=x.useMemo(()=>JSON.stringify({id:d.id||"<id>",role:d.role||"<role>",description:d.description||void 0,model:d.model||"<model>",instructions:d.instructions||"<instructions>",tools:d.tools||[]},null,2),[d]);return s.jsx(Ls,{open:e,onOpenChange:t,children:s.jsxs(Ps,{className:"max-w-3xl max-h-[85vh] flex flex-col p-6 border-2",children:[s.jsxs($s,{className:"pb-4 border-b",children:[s.jsxs(Hs,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),u==="create"?"Criar Novo Agente":"Editar Agente"]}),s.jsx(go,{onClose:()=>t(!1)})]}),s.jsxs($x,{value:v,onValueChange:y,className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(If,{className:"grid w-full grid-cols-2",children:[s.jsxs(Na,{value:"form",className:"gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"Configurao"]}),s.jsxs(Na,{value:"preview",className:"gap-2",children:[s.jsx(xT,{className:"h-4 w-4"}),"Preview JSON"]})]}),s.jsx(ja,{value:"form",className:"flex-1 overflow-hidden mt-4",children:s.jsx(Jn,{className:"h-[350px] pr-4",children:s.jsxs("div",{className:"space-y-5 pb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"role",children:["Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{id:"role",placeholder:"Ex: Customer Support Agent",value:d.role||"",onChange:_=>m(C=>({...C,role:_.target.value})),className:h.role?"border-red-500":""}),h.role&&s.jsx("p",{className:"text-xs text-red-500",children:h.role})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"id",children:["ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{id:"id",placeholder:"customer_support_agent",value:d.id||"",onChange:_=>m(C=>({...C,id:_.target.value})),className:h.id?"border-red-500":"",disabled:u==="edit"}),h.id&&s.jsx("p",{className:"text-xs text-red-500",children:h.id}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Identificador nico (gerado automaticamente)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"description",children:"Descrio (para orquestrao)"}),s.jsx(en,{id:"description",placeholder:"Agente especializado em atendimento ao cliente...",value:d.description||"",onChange:_=>m(C=>({...C,description:_.target.value})),className:"min-h-[60px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado pelo orquestrador para entender as capacidades do agente"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{children:["Modelo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(tn,{value:d.model||"",onValueChange:_=>m(C=>({...C,model:_})),children:[s.jsx(rn,{className:h.model?"border-red-500":"",children:s.jsx(nn,{placeholder:"Selecione o modelo"})}),s.jsxs(sn,{children:[Object.entries(a).map(([_,C])=>s.jsx(gt,{value:_,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:_}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:C.type})]})},_)),Object.keys(a).length===0&&s.jsx(gt,{value:"gpt-4o",children:"gpt-4o (default)"})]})]}),h.model&&s.jsx("p",{className:"text-xs text-red-500",children:h.model})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"instructions",children:["Instrues ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(en,{id:"instructions",placeholder:"You are a helpful assistant that...",value:d.instructions||"",onChange:_=>m(C=>({...C,instructions:_.target.value})),className:`min-h-[150px] font-mono text-sm ${h.instructions?"border-red-500":""}`}),h.instructions&&s.jsx("p",{className:"text-xs text-red-500",children:h.instructions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"System prompt do agente. Suporta Markdown."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Ferramentas"}),s.jsx("div",{className:"border rounded-lg p-4 max-h-[200px] overflow-y-auto",children:i.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhuma ferramenta disponvel. Adicione ferramentas em Recursos."}):s.jsx("div",{className:"space-y-3",children:i.map(_=>s.jsxs("div",{className:"flex items-start gap-3 p-2 rounded hover:bg-muted/50",children:[s.jsx(Vr,{id:`tool-${_.id}`,checked:(d.tools||[]).includes(_.id),onCheckedChange:()=>b(_.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Te,{htmlFor:`tool-${_.id}`,className:"font-medium cursor-pointer",children:_.id}),_.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:_.description}),s.jsx("code",{className:"text-[10px] text-muted-foreground",children:_.path})]})]},_.id))})})]})]})})}),s.jsx(ja,{value:"preview",className:"flex-1 overflow-hidden mt-4",children:s.jsxs("div",{className:"h-[400px] border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b bg-muted/50",children:[s.jsx(Df,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"agent.json"})]}),s.jsx(Jn,{className:"h-[calc(100%-40px)]",children:s.jsx("pre",{className:"p-4 text-sm font-mono whitespace-pre-wrap",children:S})})]})})]}),s.jsxs(j0,{className:"mt-4",children:[s.jsx(ge,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsxs(ge,{onClick:N,className:"gap-2",children:[s.jsx(Mg,{className:"h-4 w-4"}),u==="create"?"Criar Agente":"Salvar Alteraes"]})]})]})})}function gH(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const dm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function S0(e){return"nodeType"in e}function $n(e){var t,r;return e?Pi(e)?e:S0(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function _0(e){const{Document:t}=$n(e);return e instanceof t}function qc(e){return Pi(e)?!1:e instanceof $n(e).HTMLElement}function $E(e){return e instanceof $n(e).SVGElement}function $i(e){return e?Pi(e)?e.document:S0(e)?_0(e)?e:qc(e)||$E(e)?e.ownerDocument:document:document:document}const ts=dm?x.useLayoutEffect:x.useEffect;function E0(e){const t=x.useRef(e);return ts(()=>{t.current=e}),x.useCallback(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function xH(){const e=x.useRef(null),t=x.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),r=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function wc(e,t){t===void 0&&(t=[e]);const r=x.useRef(e);return ts(()=>{r.current!==e&&(r.current=e)},t),r}function Yc(e,t){const r=x.useRef();return x.useMemo(()=>{const a=e(r.current);return r.current=a,a},[...t])}function wf(e){const t=E0(e),r=x.useRef(null),a=x.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,a]}function ax(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let mg={};function Gc(e,t){return x.useMemo(()=>{if(t)return t;const r=mg[e]==null?0:mg[e]+1;return mg[e]=r,e+"-"+r},[e,t])}function HE(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((l,u)=>{const d=Object.entries(u);for(const[m,h]of d){const p=l[m];p!=null&&(l[m]=p+e*h)}return l},{...t})}}const pi=HE(1),Nc=HE(-1);function vH(e){return"clientX"in e&&"clientY"in e}function C0(e){if(!e)return!1;const{KeyboardEvent:t}=$n(e.target);return t&&e instanceof t}function yH(e){if(!e)return!1;const{TouchEvent:t}=$n(e.target);return t&&e instanceof t}function ox(e){if(yH(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return vH(e)?{x:e.clientX,y:e.clientY}:null}const jc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[jc.Translate.toString(e),jc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),UN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bH(e){return e.matches(UN)?e:e.querySelector(UN)}const wH={display:"none"};function NH(e){let{id:t,value:r}=e;return Et.createElement("div",{id:t,style:wH},r)}function jH(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Et.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},r)}function SH(){const[e,t]=x.useState("");return{announce:x.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const BE=x.createContext(null);function _H(e){const t=x.useContext(BE);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function EH(){const[e]=x.useState(()=>new Set),t=x.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[x.useCallback(a=>{let{type:i,event:l}=a;e.forEach(u=>{var d;return(d=u[i])==null?void 0:d.call(u,l)})},[e]),t]}const CH={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kH={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function AH(e){let{announcements:t=kH,container:r,hiddenTextDescribedById:a,screenReaderInstructions:i=CH}=e;const{announce:l,announcement:u}=SH(),d=Gc("DndLiveRegion"),[m,h]=x.useState(!1);if(x.useEffect(()=>{h(!0)},[]),_H(x.useMemo(()=>({onDragStart(v){let{active:y}=v;l(t.onDragStart({active:y}))},onDragMove(v){let{active:y,over:b}=v;t.onDragMove&&l(t.onDragMove({active:y,over:b}))},onDragOver(v){let{active:y,over:b}=v;l(t.onDragOver({active:y,over:b}))},onDragEnd(v){let{active:y,over:b}=v;l(t.onDragEnd({active:y,over:b}))},onDragCancel(v){let{active:y,over:b}=v;l(t.onDragCancel({active:y,over:b}))}}),[l,t])),!m)return null;const p=Et.createElement(Et.Fragment,null,Et.createElement(NH,{id:a,value:i.draggable}),Et.createElement(jH,{id:d,announcement:u}));return r?qr.createPortal(p,r):p}var Qt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Qt||(Qt={}));function Nf(){}function VN(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function RH(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Rr=Object.freeze({x:0,y:0});function UE(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function VE(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function MH(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function FN(e){let{left:t,top:r,height:a,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+a},{x:t+i,y:r+a}]}function FE(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function qN(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const TH=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const i=qN(t,t.left,t.top),l=[];for(const u of a){const{id:d}=u,m=r.get(d);if(m){const h=UE(qN(m),i);l.push({id:d,data:{droppableContainer:u,value:h}})}}return l.sort(VE)},DH=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const i=FN(t),l=[];for(const u of a){const{id:d}=u,m=r.get(d);if(m){const h=FN(m),p=i.reduce((y,b,j)=>y+UE(h[j],b),0),v=Number((p/4).toFixed(4));l.push({id:d,data:{droppableContainer:u,value:v}})}}return l.sort(VE)};function OH(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),u=i-a,d=l-r;if(a<i&&r<l){const m=t.width*t.height,h=e.width*e.height,p=u*d,v=p/(m+h-p);return Number(v.toFixed(4))}return 0}const zH=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const i=[];for(const l of a){const{id:u}=l,d=r.get(u);if(d){const m=OH(d,t);m>0&&i.push({id:u,data:{droppableContainer:l,value:m}})}}return i.sort(MH)};function IH(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function qE(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Rr}function LH(e){return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((u,d)=>({...u,top:u.top+e*d.y,bottom:u.bottom+e*d.y,left:u.left+e*d.x,right:u.right+e*d.x}),{...r})}}const PH=LH(1);function $H(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function HH(e,t,r){const a=$H(t);if(!a)return e;const{scaleX:i,scaleY:l,x:u,y:d}=a,m=e.left-u-(1-i)*parseFloat(r),h=e.top-d-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),p=i?e.width/i:e.width,v=l?e.height/l:e.height;return{width:p,height:v,top:h,right:m+p,bottom:h+v,left:m}}const BH={ignoreTransform:!1};function Hi(e,t){t===void 0&&(t=BH);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:p}=$n(e).getComputedStyle(e);h&&(r=HH(r,h,p))}const{top:a,left:i,width:l,height:u,bottom:d,right:m}=r;return{top:a,left:i,width:l,height:u,bottom:d,right:m}}function YN(e){return Hi(e,{ignoreTransform:!0})}function UH(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function VH(e,t){return t===void 0&&(t=$n(e).getComputedStyle(e)),t.position==="fixed"}function FH(e,t){t===void 0&&(t=$n(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?r.test(l):!1})}function fm(e,t){const r=[];function a(i){if(t!=null&&r.length>=t||!i)return r;if(_0(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!qc(i)||$E(i)||r.includes(i))return r;const l=$n(e).getComputedStyle(i);return i!==e&&FH(i,l)&&r.push(i),VH(i,l)?r:a(i.parentNode)}return e?a(e):r}function YE(e){const[t]=fm(e,1);return t??null}function hg(e){return!dm||!e?null:Pi(e)?e:S0(e)?_0(e)||e===$i(e).scrollingElement?window:qc(e)?e:null:null}function GE(e){return Pi(e)?e.scrollX:e.scrollLeft}function XE(e){return Pi(e)?e.scrollY:e.scrollTop}function ix(e){return{x:GE(e),y:XE(e)}}var hn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(hn||(hn={}));function WE(e){return!dm||!e?!1:e===document.scrollingElement}function ZE(e){const t={x:0,y:0},r=WE(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,u=e.scrollTop>=a.y,d=e.scrollLeft>=a.x;return{isTop:i,isLeft:l,isBottom:u,isRight:d,maxScroll:a,minScroll:t}}const qH={x:.2,y:.2};function YH(e,t,r,a,i){let{top:l,left:u,right:d,bottom:m}=r;a===void 0&&(a=10),i===void 0&&(i=qH);const{isTop:h,isBottom:p,isLeft:v,isRight:y}=ZE(e),b={x:0,y:0},j={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!h&&l<=t.top+N.height?(b.y=hn.Backward,j.y=a*Math.abs((t.top+N.height-l)/N.height)):!p&&m>=t.bottom-N.height&&(b.y=hn.Forward,j.y=a*Math.abs((t.bottom-N.height-m)/N.height)),!y&&d>=t.right-N.width?(b.x=hn.Forward,j.x=a*Math.abs((t.right-N.width-d)/N.width)):!v&&u<=t.left+N.width&&(b.x=hn.Backward,j.x=a*Math.abs((t.left+N.width-u)/N.width)),{direction:b,speed:j}}function GH(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:t,left:r,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function KE(e){return e.reduce((t,r)=>pi(t,ix(r)),Rr)}function XH(e){return e.reduce((t,r)=>t+GE(r),0)}function WH(e){return e.reduce((t,r)=>t+XE(r),0)}function ZH(e,t){if(t===void 0&&(t=Hi),!e)return;const{top:r,left:a,bottom:i,right:l}=t(e);YE(e)&&(i<=0||l<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const KH=[["x",["left","right"],XH],["y",["top","bottom"],WH]];class k0{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=fm(r),i=KE(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,u,d]of KH)for(const m of u)Object.defineProperty(this,m,{get:()=>{const h=d(a),p=i[l]-h;return this.rect[m]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class sc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var i;(i=this.target)==null||i.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function QH(e){const{EventTarget:t}=$n(e);return e instanceof t?e:$i(e)}function pg(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var dr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(dr||(dr={}));function GN(e){e.preventDefault()}function JH(e){e.stopPropagation()}var it;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(it||(it={}));const QE={start:[it.Space,it.Enter],cancel:[it.Esc],end:[it.Space,it.Enter,it.Tab]},eB=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case it.Right:return{...r,x:r.x+25};case it.Left:return{...r,x:r.x-25};case it.Down:return{...r,y:r.y+25};case it.Up:return{...r,y:r.y-25}}};class A0{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new sc($i(r)),this.windowListeners=new sc($n(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&ZH(a),r(Rr)}handleKeyDown(t){if(C0(t)){const{active:r,context:a,options:i}=this.props,{keyboardCodes:l=QE,coordinateGetter:u=eB,scrollBehavior:d="smooth"}=i,{code:m}=t;if(l.end.includes(m)){this.handleEnd(t);return}if(l.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:h}=a.current,p=h?{x:h.left,y:h.top}:Rr;this.referenceCoordinates||(this.referenceCoordinates=p);const v=u(t,{active:r,context:a.current,currentCoordinates:p});if(v){const y=Nc(v,p),b={x:0,y:0},{scrollableAncestors:j}=a.current;for(const N of j){const S=t.code,{isTop:_,isRight:C,isLeft:E,isBottom:k,maxScroll:M,minScroll:O}=ZE(N),D=GH(N),z={x:Math.min(S===it.Right?D.right-D.width/2:D.right,Math.max(S===it.Right?D.left:D.left+D.width/2,v.x)),y:Math.min(S===it.Down?D.bottom-D.height/2:D.bottom,Math.max(S===it.Down?D.top:D.top+D.height/2,v.y))},B=S===it.Right&&!C||S===it.Left&&!E,H=S===it.Down&&!k||S===it.Up&&!_;if(B&&z.x!==v.x){const X=N.scrollLeft+y.x,G=S===it.Right&&X<=M.x||S===it.Left&&X>=O.x;if(G&&!y.y){N.scrollTo({left:X,behavior:d});return}G?b.x=N.scrollLeft-X:b.x=S===it.Right?N.scrollLeft-M.x:N.scrollLeft-O.x,b.x&&N.scrollBy({left:-b.x,behavior:d});break}else if(H&&z.y!==v.y){const X=N.scrollTop+y.y,G=S===it.Down&&X<=M.y||S===it.Up&&X>=O.y;if(G&&!y.x){N.scrollTo({top:X,behavior:d});return}G?b.y=N.scrollTop-X:b.y=S===it.Down?N.scrollTop-M.y:N.scrollTop-O.y,b.y&&N.scrollBy({top:-b.y,behavior:d});break}}this.handleMove(t,pi(Nc(v,this.referenceCoordinates),b))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}A0.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=QE,onActivation:i}=t,{active:l}=r;const{code:u}=e.nativeEvent;if(a.start.includes(u)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function XN(e){return!!(e&&"distance"in e)}function WN(e){return!!(e&&"delay"in e)}class R0{constructor(t,r,a){var i;a===void 0&&(a=QH(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:l}=t,{target:u}=l;this.props=t,this.events=r,this.document=$i(u),this.documentListeners=new sc(this.document),this.listeners=new sc(a),this.windowListeners=new sc($n(u)),this.initialCoordinates=(i=ox(l))!=null?i:Rr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(dr.Resize,this.handleCancel),this.windowListeners.add(dr.DragStart,GN),this.windowListeners.add(dr.VisibilityChange,this.handleCancel),this.windowListeners.add(dr.ContextMenu,GN),this.documentListeners.add(dr.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(WN(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(XN(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(dr.Click,JH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:i,props:l}=this,{onMove:u,options:{activationConstraint:d}}=l;if(!i)return;const m=(r=ox(t))!=null?r:Rr,h=Nc(i,m);if(!a&&d){if(XN(d)){if(d.tolerance!=null&&pg(h,d.tolerance))return this.handleCancel();if(pg(h,d.distance))return this.handleStart()}if(WN(d)&&pg(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),u(m)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===it.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const tB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class M0 extends R0{constructor(t){const{event:r}=t,a=$i(r.target);super(t,tB,a)}}M0.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];const nB={move:{name:"mousemove"},end:{name:"mouseup"}};var lx;(function(e){e[e.RightClick=2]="RightClick"})(lx||(lx={}));class rB extends R0{constructor(t){super(t,nB,$i(t.event.target))}}rB.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button===lx.RightClick?!1:(a?.({event:r}),!0)}}];const gg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class sB extends R0{constructor(t){super(t,gg)}static setup(){return window.addEventListener(gg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(gg.move.name,t)};function t(){}}}sB.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:i}=r;return i.length>1?!1:(a?.({event:r}),!0)}}];var ac;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ac||(ac={}));var jf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(jf||(jf={}));function aB(e){let{acceleration:t,activator:r=ac.Pointer,canScroll:a,draggingRect:i,enabled:l,interval:u=5,order:d=jf.TreeOrder,pointerCoordinates:m,scrollableAncestors:h,scrollableAncestorRects:p,delta:v,threshold:y}=e;const b=iB({delta:v,disabled:!l}),[j,N]=xH(),S=x.useRef({x:0,y:0}),_=x.useRef({x:0,y:0}),C=x.useMemo(()=>{switch(r){case ac.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case ac.DraggableRect:return i}},[r,i,m]),E=x.useRef(null),k=x.useCallback(()=>{const O=E.current;if(!O)return;const D=S.current.x*_.current.x,z=S.current.y*_.current.y;O.scrollBy(D,z)},[]),M=x.useMemo(()=>d===jf.TreeOrder?[...h].reverse():h,[d,h]);x.useEffect(()=>{if(!l||!h.length||!C){N();return}for(const O of M){if(a?.(O)===!1)continue;const D=h.indexOf(O),z=p[D];if(!z)continue;const{direction:B,speed:H}=YH(O,z,C,t,y);for(const X of["x","y"])b[X][B[X]]||(H[X]=0,B[X]=0);if(H.x>0||H.y>0){N(),E.current=O,j(k,u),S.current=H,_.current=B;return}}S.current={x:0,y:0},_.current={x:0,y:0},N()},[t,k,a,N,l,u,JSON.stringify(C),JSON.stringify(b),j,h,M,p,JSON.stringify(y)])}const oB={x:{[hn.Backward]:!1,[hn.Forward]:!1},y:{[hn.Backward]:!1,[hn.Forward]:!1}};function iB(e){let{delta:t,disabled:r}=e;const a=ax(t);return Yc(i=>{if(r||!a||!i)return oB;const l={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[hn.Backward]:i.x[hn.Backward]||l.x===-1,[hn.Forward]:i.x[hn.Forward]||l.x===1},y:{[hn.Backward]:i.y[hn.Backward]||l.y===-1,[hn.Forward]:i.y[hn.Forward]||l.y===1}}},[r,t,a])}function lB(e,t){const r=t!=null?e.get(t):void 0,a=r?r.node.current:null;return Yc(i=>{var l;return t==null?null:(l=a??i)!=null?l:null},[a,t])}function cB(e,t){return x.useMemo(()=>e.reduce((r,a)=>{const{sensor:i}=a,l=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,a)}));return[...r,...l]},[]),[e,t])}var Sc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Sc||(Sc={}));var cx;(function(e){e.Optimized="optimized"})(cx||(cx={}));const ZN=new Map;function uB(e,t){let{dragging:r,dependencies:a,config:i}=t;const[l,u]=x.useState(null),{frequency:d,measure:m,strategy:h}=i,p=x.useRef(e),v=S(),y=wc(v),b=x.useCallback(function(_){_===void 0&&(_=[]),!y.current&&u(C=>C===null?_:C.concat(_.filter(E=>!C.includes(E))))},[y]),j=x.useRef(null),N=Yc(_=>{if(v&&!r)return ZN;if(!_||_===ZN||p.current!==e||l!=null){const C=new Map;for(let E of e){if(!E)continue;if(l&&l.length>0&&!l.includes(E.id)&&E.rect.current){C.set(E.id,E.rect.current);continue}const k=E.node.current,M=k?new k0(m(k),k):null;E.rect.current=M,M&&C.set(E.id,M)}return C}return _},[e,l,r,v,m]);return x.useEffect(()=>{p.current=e},[e]),x.useEffect(()=>{v||b()},[r,v]),x.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),x.useEffect(()=>{v||typeof d!="number"||j.current!==null||(j.current=setTimeout(()=>{b(),j.current=null},d))},[d,v,b,...a]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:l!=null};function S(){switch(h){case Sc.Always:return!1;case Sc.BeforeDragging:return r;default:return!r}}}function JE(e,t){return Yc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function dB(e,t){return JE(e,t)}function fB(e){let{callback:t,disabled:r}=e;const a=E0(t),i=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(a)},[a,r]);return x.useEffect(()=>()=>i?.disconnect(),[i]),i}function mm(e){let{callback:t,disabled:r}=e;const a=E0(t),i=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(a)},[r]);return x.useEffect(()=>()=>i?.disconnect(),[i]),i}function mB(e){return new k0(Hi(e),e)}function KN(e,t,r){t===void 0&&(t=mB);const[a,i]=x.useState(null);function l(){i(m=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=m??r)!=null?h:null}const p=t(e);return JSON.stringify(m)===JSON.stringify(p)?m:p})}const u=fB({callback(m){if(e)for(const h of m){const{type:p,target:v}=h;if(p==="childList"&&v instanceof HTMLElement&&v.contains(e)){l();break}}}}),d=mm({callback:l});return ts(()=>{l(),e?(d?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[e]),a}function hB(e){const t=JE(e);return qE(e,t)}const QN=[];function pB(e){const t=x.useRef(e),r=Yc(a=>e?a&&a!==QN&&e&&t.current&&e.parentNode===t.current.parentNode?a:fm(e):QN,[e]);return x.useEffect(()=>{t.current=e},[e]),r}function gB(e){const[t,r]=x.useState(null),a=x.useRef(e),i=x.useCallback(l=>{const u=hg(l.target);u&&r(d=>d?(d.set(u,ix(u)),new Map(d)):null)},[]);return x.useEffect(()=>{const l=a.current;if(e!==l){u(l);const d=e.map(m=>{const h=hg(m);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,ix(h)]):null}).filter(m=>m!=null);r(d.length?new Map(d):null),a.current=e}return()=>{u(e),u(l)};function u(d){d.forEach(m=>{const h=hg(m);h?.removeEventListener("scroll",i)})}},[i,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,u)=>pi(l,u),Rr):KE(e):Rr,[e,t])}function JN(e,t){t===void 0&&(t=[]);const r=x.useRef(null);return x.useEffect(()=>{r.current=null},t),x.useEffect(()=>{const a=e!==Rr;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?Nc(e,r.current):Rr}function xB(e){x.useEffect(()=>{if(!dm)return;const t=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function vB(e,t){return x.useMemo(()=>e.reduce((r,a)=>{let{eventName:i,handler:l}=a;return r[i]=u=>{l(u,t)},r},{}),[e,t])}function eC(e){return x.useMemo(()=>e?UH(e):null,[e])}const ej=[];function yB(e,t){t===void 0&&(t=Hi);const[r]=e,a=eC(r?$n(r):null),[i,l]=x.useState(ej);function u(){l(()=>e.length?e.map(m=>WE(m)?a:new k0(t(m),m)):ej)}const d=mm({callback:u});return ts(()=>{d?.disconnect(),u(),e.forEach(m=>d?.observe(m))},[e]),i}function bB(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qc(t)?t:e}function wB(e){let{measure:t}=e;const[r,a]=x.useState(null),i=x.useCallback(h=>{for(const{target:p}of h)if(qc(p)){a(v=>{const y=t(p);return v?{...v,width:y.width,height:y.height}:y});break}},[t]),l=mm({callback:i}),u=x.useCallback(h=>{const p=bB(h);l?.disconnect(),p&&l?.observe(p),a(p?t(p):null)},[t,l]),[d,m]=wf(u);return x.useMemo(()=>({nodeRef:d,rect:r,setRef:m}),[r,d,m])}const NB=[{sensor:M0,options:{}},{sensor:A0,options:{}}],jB={current:{}},qd={draggable:{measure:YN},droppable:{measure:YN,strategy:Sc.WhileDragging,frequency:cx.Optimized},dragOverlay:{measure:Hi}};class oc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const SB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qd,measureDroppableContainers:Nf,windowRect:null,measuringScheduled:!1},_B={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Nf,draggableNodes:new Map,over:null,measureDroppableContainers:Nf},hm=x.createContext(_B),tC=x.createContext(SB);function EB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oc}}}function CB(e,t){switch(t.type){case Qt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Qt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Qt.DragEnd:case Qt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Qt.RegisterDroppable:{const{element:r}=t,{id:a}=r,i=new oc(e.droppable.containers);return i.set(a,r),{...e,droppable:{...e.droppable,containers:i}}}case Qt.SetDroppableDisabled:{const{id:r,key:a,disabled:i}=t,l=e.droppable.containers.get(r);if(!l||a!==l.key)return e;const u=new oc(e.droppable.containers);return u.set(r,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Qt.UnregisterDroppable:{const{id:r,key:a}=t,i=e.droppable.containers.get(r);if(!i||a!==i.key)return e;const l=new oc(e.droppable.containers);return l.delete(r),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function kB(e){let{disabled:t}=e;const{active:r,activatorEvent:a,draggableNodes:i}=x.useContext(hm),l=ax(a),u=ax(r?.id);return x.useEffect(()=>{if(!t&&!a&&l&&u!=null){if(!C0(l)||document.activeElement===l.target)return;const d=i.get(u);if(!d)return;const{activatorNode:m,node:h}=d;if(!m.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[m.current,h.current]){if(!p)continue;const v=bH(p);if(v){v.focus();break}}})}},[a,t,i,u,l]),null}function AB(e,t){let{transform:r,...a}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...a}),r):r}function RB(e){return x.useMemo(()=>({draggable:{...qd.draggable,...e?.draggable},droppable:{...qd.droppable,...e?.droppable},dragOverlay:{...qd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function MB(e){let{activeNode:t,measure:r,initialRect:a,config:i=!0}=e;const l=x.useRef(!1),{x:u,y:d}=typeof i=="boolean"?{x:i,y:i}:i;ts(()=>{if(!u&&!d||!t){l.current=!1;return}if(l.current||!a)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const p=r(h),v=qE(p,a);if(u||(v.x=0),d||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const y=YE(h);y&&y.scrollBy({top:v.y,left:v.x})}},[t,u,d,a,r])}const nC=x.createContext({...Rr,scaleX:1,scaleY:1});var va;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(va||(va={}));const TB=x.memo(function(t){var r,a,i,l;let{id:u,accessibility:d,autoScroll:m=!0,children:h,sensors:p=NB,collisionDetection:v=zH,measuring:y,modifiers:b,...j}=t;const N=x.useReducer(CB,void 0,EB),[S,_]=N,[C,E]=EH(),[k,M]=x.useState(va.Uninitialized),O=k===va.Initialized,{draggable:{active:D,nodes:z,translate:B},droppable:{containers:H}}=S,X=D!=null?z.get(D):null,G=x.useRef({initial:null,translated:null}),ee=x.useMemo(()=>{var Mt;return D!=null?{id:D,data:(Mt=X?.data)!=null?Mt:jB,rect:G}:null},[D,X]),P=x.useRef(null),[F,A]=x.useState(null),[L,$]=x.useState(null),V=wc(j,Object.values(j)),T=Gc("DndDescribedBy",u),U=x.useMemo(()=>H.getEnabled(),[H]),Z=RB(y),{droppableRects:K,measureDroppableContainers:ne,measuringScheduled:fe}=uB(U,{dragging:O,dependencies:[B.x,B.y],config:Z.droppable}),ue=lB(z,D),q=x.useMemo(()=>L?ox(L):null,[L]),Q=Da(),de=dB(ue,Z.draggable.measure);MB({activeNode:D!=null?z.get(D):null,config:Q.layoutShiftCompensation,initialRect:de,measure:Z.draggable.measure});const he=KN(ue,Z.draggable.measure,de),Ee=KN(ue?ue.parentElement:null),we=x.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ke=H.getNodeFor((r=we.current.over)==null?void 0:r.id),te=wB({measure:Z.dragOverlay.measure}),Re=(a=te.nodeRef.current)!=null?a:ue,Ye=O?(i=te.rect)!=null?i:he:null,Fe=!!(te.nodeRef.current&&te.rect),Bt=hB(Fe?null:he),an=eC(Re?$n(Re):null),Ct=pB(O?ke??ue:null),tt=yB(Ct),Ke=AB(b,{transform:{x:B.x-Bt.x,y:B.y-Bt.y,scaleX:1,scaleY:1},activatorEvent:L,active:ee,activeNodeRect:he,containerNodeRect:Ee,draggingNodeRect:Ye,over:we.current.over,overlayNodeRect:te.rect,scrollableAncestors:Ct,scrollableAncestorRects:tt,windowRect:an}),Gt=q?pi(q,B):null,le=gB(Ct),De=JN(le),Se=JN(le,[he]),Me=pi(Ke,De),ie=Ye?PH(Ye,Ke):null,ce=ee&&ie?v({active:ee,collisionRect:ie,droppableRects:K,droppableContainers:U,pointerCoordinates:Gt}):null,ve=FE(ce,"id"),[be,_e]=x.useState(null),Xe=Fe?Ke:pi(Ke,Se),Ne=IH(Xe,(l=be?.rect)!=null?l:null,he),Le=x.useRef(null),Ce=x.useCallback((Mt,xn)=>{let{sensor:ln,options:Rn}=xn;if(P.current==null)return;const cn=z.get(P.current);if(!cn)return;const Xt=Mt.nativeEvent,Cn=new ln({active:P.current,activeNode:cn,event:Xt,options:Rn,context:we,onAbort(yt){if(!z.get(yt))return;const{onDragAbort:St}=V.current,un={id:yt};St?.(un),C({type:"onDragAbort",event:un})},onPending(yt,jt,St,un){if(!z.get(yt))return;const{onDragPending:os}=V.current,nr={id:yt,constraint:jt,initialCoordinates:St,offset:un};os?.(nr),C({type:"onDragPending",event:nr})},onStart(yt){const jt=P.current;if(jt==null)return;const St=z.get(jt);if(!St)return;const{onDragStart:un}=V.current,gr={activatorEvent:Xt,active:{id:jt,data:St.data,rect:G}};qr.unstable_batchedUpdates(()=>{un?.(gr),M(va.Initializing),_({type:Qt.DragStart,initialCoordinates:yt,active:jt}),C({type:"onDragStart",event:gr}),A(Le.current),$(Xt)})},onMove(yt){_({type:Qt.DragMove,coordinates:yt})},onEnd:zr(Qt.DragEnd),onCancel:zr(Qt.DragCancel)});Le.current=Cn;function zr(yt){return async function(){const{active:St,collisions:un,over:gr,scrollAdjustedTranslate:os}=we.current;let nr=null;if(St&&os){const{cancelDrop:Ir}=V.current;nr={activatorEvent:Xt,active:St,collisions:un,delta:os,over:gr},yt===Qt.DragEnd&&typeof Ir=="function"&&await Promise.resolve(Ir(nr))&&(yt=Qt.DragCancel)}P.current=null,qr.unstable_batchedUpdates(()=>{_({type:yt}),M(va.Uninitialized),_e(null),A(null),$(null),Le.current=null;const Ir=yt===Qt.DragEnd?"onDragEnd":"onDragCancel";if(nr){const xr=V.current[Ir];xr?.(nr),C({type:Ir,event:nr})}})}}},[z]),We=x.useCallback((Mt,xn)=>(ln,Rn)=>{const cn=ln.nativeEvent,Xt=z.get(Rn);if(P.current!==null||!Xt||cn.dndKit||cn.defaultPrevented)return;const Cn={active:Xt};Mt(ln,xn.options,Cn)===!0&&(cn.dndKit={capturedBy:xn.sensor},P.current=Rn,Ce(ln,xn))},[z,Ce]),pt=cB(p,We);xB(p),ts(()=>{he&&k===va.Initializing&&M(va.Initialized)},[he,k]),x.useEffect(()=>{const{onDragMove:Mt}=V.current,{active:xn,activatorEvent:ln,collisions:Rn,over:cn}=we.current;if(!xn||!ln)return;const Xt={active:xn,activatorEvent:ln,collisions:Rn,delta:{x:Me.x,y:Me.y},over:cn};qr.unstable_batchedUpdates(()=>{Mt?.(Xt),C({type:"onDragMove",event:Xt})})},[Me.x,Me.y]),x.useEffect(()=>{const{active:Mt,activatorEvent:xn,collisions:ln,droppableContainers:Rn,scrollAdjustedTranslate:cn}=we.current;if(!Mt||P.current==null||!xn||!cn)return;const{onDragOver:Xt}=V.current,Cn=Rn.get(ve),zr=Cn&&Cn.rect.current?{id:Cn.id,rect:Cn.rect.current,data:Cn.data,disabled:Cn.disabled}:null,yt={active:Mt,activatorEvent:xn,collisions:ln,delta:{x:cn.x,y:cn.y},over:zr};qr.unstable_batchedUpdates(()=>{_e(zr),Xt?.(yt),C({type:"onDragOver",event:yt})})},[ve]),ts(()=>{we.current={activatorEvent:L,active:ee,activeNode:ue,collisionRect:ie,collisions:ce,droppableRects:K,draggableNodes:z,draggingNode:Re,draggingNodeRect:Ye,droppableContainers:H,over:be,scrollableAncestors:Ct,scrollAdjustedTranslate:Me},G.current={initial:Ye,translated:ie}},[ee,ue,ce,ie,z,Re,Ye,K,H,be,Ct,Me]),aB({...Q,delta:B,draggingRect:ie,pointerCoordinates:Gt,scrollableAncestors:Ct,scrollableAncestorRects:tt});const on=x.useMemo(()=>({active:ee,activeNode:ue,activeNodeRect:he,activatorEvent:L,collisions:ce,containerNodeRect:Ee,dragOverlay:te,draggableNodes:z,droppableContainers:H,droppableRects:K,over:be,measureDroppableContainers:ne,scrollableAncestors:Ct,scrollableAncestorRects:tt,measuringConfiguration:Z,measuringScheduled:fe,windowRect:an}),[ee,ue,he,L,ce,Ee,te,z,H,K,be,ne,Ct,tt,Z,fe,an]),tr=x.useMemo(()=>({activatorEvent:L,activators:pt,active:ee,activeNodeRect:he,ariaDescribedById:{draggable:T},dispatch:_,draggableNodes:z,over:be,measureDroppableContainers:ne}),[L,pt,ee,he,_,T,z,be,ne]);return Et.createElement(BE.Provider,{value:E},Et.createElement(hm.Provider,{value:tr},Et.createElement(tC.Provider,{value:on},Et.createElement(nC.Provider,{value:Ne},h)),Et.createElement(kB,{disabled:d?.restoreFocus===!1})),Et.createElement(AH,{...d,hiddenTextDescribedById:T}));function Da(){const Mt=F?.autoScrollEnabled===!1,xn=typeof m=="object"?m.enabled===!1:m===!1,ln=O&&!Mt&&!xn;return typeof m=="object"?{...m,enabled:ln}:{enabled:ln}}}),DB=x.createContext(null),tj="button",OB="Draggable";function zB(e){let{id:t,data:r,disabled:a=!1,attributes:i}=e;const l=Gc(OB),{activators:u,activatorEvent:d,active:m,activeNodeRect:h,ariaDescribedById:p,draggableNodes:v,over:y}=x.useContext(hm),{role:b=tj,roleDescription:j="draggable",tabIndex:N=0}=i??{},S=m?.id===t,_=x.useContext(S?nC:DB),[C,E]=wf(),[k,M]=wf(),O=vB(u,t),D=wc(r);ts(()=>(v.set(t,{id:t,key:l,node:C,activatorNode:k,data:D}),()=>{const B=v.get(t);B&&B.key===l&&v.delete(t)}),[v,t]);const z=x.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":a,"aria-pressed":S&&b===tj?!0:void 0,"aria-roledescription":j,"aria-describedby":p.draggable}),[a,b,N,S,j,p.draggable]);return{active:m,activatorEvent:d,activeNodeRect:h,attributes:z,isDragging:S,listeners:a?void 0:O,node:C,over:y,setNodeRef:E,setActivatorNodeRef:M,transform:_}}function IB(){return x.useContext(tC)}const LB="Droppable",PB={timeout:25};function $B(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:i}=e;const l=Gc(LB),{active:u,dispatch:d,over:m,measureDroppableContainers:h}=x.useContext(hm),p=x.useRef({disabled:r}),v=x.useRef(!1),y=x.useRef(null),b=x.useRef(null),{disabled:j,updateMeasurementsFor:N,timeout:S}={...PB,...i},_=wc(N??a),C=x.useCallback(()=>{if(!v.current){v.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),b.current=null},S)},[S]),E=mm({callback:C,disabled:j||!u}),k=x.useCallback((z,B)=>{E&&(B&&(E.unobserve(B),v.current=!1),z&&E.observe(z))},[E]),[M,O]=wf(k),D=wc(t);return x.useEffect(()=>{!E||!M.current||(E.disconnect(),v.current=!1,E.observe(M.current))},[M,E]),x.useEffect(()=>(d({type:Qt.RegisterDroppable,element:{id:a,key:l,disabled:r,node:M,rect:y,data:D}}),()=>d({type:Qt.UnregisterDroppable,key:l,id:a})),[a]),x.useEffect(()=>{r!==p.current.disabled&&(d({type:Qt.SetDroppableDisabled,id:a,key:l,disabled:r}),p.current.disabled=r)},[a,l,r,d]),{active:u,rect:y,isOver:m?.id===a,node:M,over:m,setNodeRef:O}}function T0(e,t,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function HB(e,t){return e.reduce((r,a,i)=>{const l=t.get(a);return l&&(r[i]=l),r},Array(e.length))}function Cd(e){return e!==null&&e>=0}function BB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function UB(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rC=e=>{let{rects:t,activeIndex:r,overIndex:a,index:i}=e;const l=T0(t,a,r),u=t[i],d=l[i];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},kd={scaleX:1,scaleY:1},VB=e=>{var t;let{activeIndex:r,activeNodeRect:a,index:i,rects:l,overIndex:u}=e;const d=(t=l[r])!=null?t:a;if(!d)return null;if(i===r){const h=l[u];return h?{x:0,y:r<u?h.top+h.height-(d.top+d.height):h.top-d.top,...kd}:null}const m=FB(l,i,r);return i>r&&i<=u?{x:0,y:-d.height-m,...kd}:i<r&&i>=u?{x:0,y:d.height+m,...kd}:{x:0,y:0,...kd}};function FB(e,t,r){const a=e[t],i=e[t-1],l=e[t+1];return a?r<t?i?a.top-(i.top+i.height):l?l.top-(a.top+a.height):0:l?l.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const sC="Sortable",aC=Et.createContext({activeIndex:-1,containerId:sC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rC,disabled:{draggable:!1,droppable:!1}});function qB(e){let{children:t,id:r,items:a,strategy:i=rC,disabled:l=!1}=e;const{active:u,dragOverlay:d,droppableRects:m,over:h,measureDroppableContainers:p}=IB(),v=Gc(sC,r),y=d.rect!==null,b=x.useMemo(()=>a.map(O=>typeof O=="object"&&"id"in O?O.id:O),[a]),j=u!=null,N=u?b.indexOf(u.id):-1,S=h?b.indexOf(h.id):-1,_=x.useRef(b),C=!BB(b,_.current),E=S!==-1&&N===-1||C,k=UB(l);ts(()=>{C&&j&&p(b)},[C,b,j,p]),x.useEffect(()=>{_.current=b},[b]);const M=x.useMemo(()=>({activeIndex:N,containerId:v,disabled:k,disableTransforms:E,items:b,overIndex:S,useDragOverlay:y,sortedRects:HB(b,m),strategy:i}),[N,v,k.draggable,k.droppable,E,b,S,m,y,i]);return Et.createElement(aC.Provider,{value:M},t)}const YB=e=>{let{id:t,items:r,activeIndex:a,overIndex:i}=e;return T0(r,a,i).indexOf(t)},GB=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:i,items:l,newIndex:u,previousItems:d,previousContainerId:m,transition:h}=e;return!h||!a||d!==l&&i===u?!1:r?!0:u!==i&&t===m},XB={duration:200,easing:"ease"},oC="transform",WB=jc.Transition.toString({property:oC,duration:0,easing:"linear"}),ZB={roleDescription:"sortable"};function KB(e){let{disabled:t,index:r,node:a,rect:i}=e;const[l,u]=x.useState(null),d=x.useRef(r);return ts(()=>{if(!t&&r!==d.current&&a.current){const m=i.current;if(m){const h=Hi(a.current,{ignoreTransform:!0}),p={x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height};(p.x||p.y)&&u(p)}}r!==d.current&&(d.current=r)},[t,r,a,i]),x.useEffect(()=>{l&&u(null)},[l]),l}function QB(e){let{animateLayoutChanges:t=GB,attributes:r,disabled:a,data:i,getNewIndex:l=YB,id:u,strategy:d,resizeObserverConfig:m,transition:h=XB}=e;const{items:p,containerId:v,activeIndex:y,disabled:b,disableTransforms:j,sortedRects:N,overIndex:S,useDragOverlay:_,strategy:C}=x.useContext(aC),E=JB(a,b),k=p.indexOf(u),M=x.useMemo(()=>({sortable:{containerId:v,index:k,items:p},...i}),[v,i,k,p]),O=x.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:D,node:z,isOver:B,setNodeRef:H}=$B({id:u,data:M,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...m}}),{active:X,activatorEvent:G,activeNodeRect:ee,attributes:P,setNodeRef:F,listeners:A,isDragging:L,over:$,setActivatorNodeRef:V,transform:T}=zB({id:u,data:M,attributes:{...ZB,...r},disabled:E.draggable}),U=gH(H,F),Z=!!X,K=Z&&!j&&Cd(y)&&Cd(S),ne=!_&&L,fe=ne&&K?T:null,q=K?fe??(d??C)({rects:N,activeNodeRect:ee,activeIndex:y,overIndex:S,index:k}):null,Q=Cd(y)&&Cd(S)?l({id:u,items:p,activeIndex:y,overIndex:S}):k,de=X?.id,he=x.useRef({activeId:de,items:p,newIndex:Q,containerId:v}),Ee=p!==he.current.items,we=t({active:X,containerId:v,isDragging:L,isSorting:Z,id:u,index:k,items:p,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:h,wasDragging:he.current.activeId!=null}),ke=KB({disabled:!we,index:k,node:z,rect:D});return x.useEffect(()=>{Z&&he.current.newIndex!==Q&&(he.current.newIndex=Q),v!==he.current.containerId&&(he.current.containerId=v),p!==he.current.items&&(he.current.items=p)},[Z,Q,v,p]),x.useEffect(()=>{if(de===he.current.activeId)return;if(de!=null&&he.current.activeId==null){he.current.activeId=de;return}const Re=setTimeout(()=>{he.current.activeId=de},50);return()=>clearTimeout(Re)},[de]),{active:X,activeIndex:y,attributes:P,data:M,rect:D,index:k,newIndex:Q,items:p,isOver:B,isSorting:Z,isDragging:L,listeners:A,node:z,overIndex:S,over:$,setNodeRef:U,setActivatorNodeRef:V,setDroppableNodeRef:H,setDraggableNodeRef:F,transform:ke??q,transition:te()};function te(){if(ke||Ee&&he.current.newIndex===k)return WB;if(!(ne&&!C0(G)||!h)&&(Z||we))return jc.Transition.toString({...h,property:oC})}}function JB(e,t){var r,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(a=e?.droppable)!=null?a:t.droppable}}function Sf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const eU=[it.Down,it.Right,it.Up,it.Left],tU=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:i,droppableContainers:l,over:u,scrollableAncestors:d}}=t;if(eU.includes(e.code)){if(e.preventDefault(),!r||!a)return;const m=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const y=i.get(v.id);if(y)switch(e.code){case it.Down:a.top<y.top&&m.push(v);break;case it.Up:a.top>y.top&&m.push(v);break;case it.Left:a.left>y.left&&m.push(v);break;case it.Right:a.left<y.left&&m.push(v);break}});const h=DH({collisionRect:a,droppableRects:i,droppableContainers:m});let p=FE(h,"id");if(p===u?.id&&h.length>1&&(p=h[1].id),p!=null){const v=l.get(r.id),y=l.get(p),b=y?i.get(y.id):null,j=y?.node.current;if(j&&b&&v&&y){const S=fm(j).some((O,D)=>d[D]!==O),_=iC(v,y),C=nU(v,y),E=S||!_?{x:0,y:0}:{x:C?a.width-b.width:0,y:C?a.height-b.height:0},k={x:b.left,y:b.top};return E.x&&E.y?k:Nc(k,E)}}}};function iC(e,t){return!Sf(e)||!Sf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function nU(e,t){return!Sf(e)||!Sf(t)||!iC(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function rU({step:e,index:t,agents:r,onUpdate:a,onDelete:i}){const{attributes:l,listeners:u,setNodeRef:d,transform:m,transition:h,isDragging:p}=QB({id:e.id}),v={transform:jc.Transform.toString(m),transition:h,opacity:p?.5:1},y=r.find(b=>b.id===e.agent);return s.jsxs("div",{ref:d,style:v,className:"flex items-center gap-2",children:[s.jsx("button",{...l,...u,className:"p-2 cursor-grab hover:bg-muted rounded active:cursor-grabbing",children:s.jsx(AT,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-medium",children:t+1}),s.jsx(ct,{className:"flex-1 border-l-4 border-l-blue-500",children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs text-muted-foreground",children:"Agente"}),s.jsxs(tn,{value:e.agent||"",onValueChange:b=>a(e.id,{agent:b}),children:[s.jsx(rn,{className:"w-full",children:s.jsx(nn,{placeholder:"Selecione um agente"})}),s.jsx(sn,{children:r.map(b=>s.jsx(gt,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{children:b.role}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs text-muted-foreground",children:"Input Template"}),s.jsx(at,{value:e.input_template||"",onChange:b=>a(e.id,{input_template:b.target.value}),placeholder:"{{user_input}} ou {{previous_output}}",className:"font-mono text-sm"})]}),y&&s.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 rounded p-2",children:[s.jsx("span",{className:"font-medium",children:y.role}),y.description&&s.jsxs("span",{children:[" - ",y.description]})]})]}),s.jsx(ge,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>i(e.id),children:s.jsx(mr,{className:"h-4 w-4"})})]})})}),s.jsx(so,{className:"h-5 w-5 text-muted-foreground shrink-0"})]})}function sU({steps:e,agents:t,onStepsChange:r,onCreateAgent:a}){const i=RH(VN(M0),VN(A0,{coordinateGetter:tU})),l=x.useCallback(h=>{const{active:p,over:v}=h;if(v&&p.id!==v.id){const y=e.findIndex(j=>j.id===p.id),b=e.findIndex(j=>j.id===v.id);r(T0(e,y,b))}},[e,r]),u=()=>{const h={id:`step_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:e.length===0?"{{user_input}}":"{{previous_output}}",isNew:!0};r([...e,h])},d=(h,p)=>{r(e.map(v=>v.id===h?{...v,...p}:v))},m=h=>{r(e.filter(p=>p.id!==h))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Sequencial"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Arraste para reordenar. Cada agente processa e passa para o prximo."})]}),a&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),s.jsx(TB,{sensors:i,collisionDetection:TH,onDragEnd:l,children:s.jsx(qB,{items:e.map(h=>h.id),strategy:VB,children:s.jsx("div",{className:"space-y-3",children:e.length===0?s.jsx(ct,{className:"border-dashed",children:s.jsxs(ut,{className:"p-8 text-center",children:[s.jsx(ft,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum step adicionado ainda. Adicione o primeiro agente ao workflow."}),s.jsxs(ge,{onClick:u,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Step"]})]})}):e.map((h,p)=>s.jsx(rU,{step:h,index:p,agents:t,onUpdate:d,onDelete:m},h.id))})})}),e.length>0&&s.jsxs(ge,{variant:"outline",className:"w-full",onClick:u,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Step"]}),e.length>0&&s.jsxs(ct,{className:"bg-muted/30",children:[s.jsx(gn,{className:"pb-2",children:s.jsx(Jt,{className:"text-sm",children:"Preview do Fluxo"})}),s.jsx(ut,{children:s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.map((h,p)=>{const v=t.find(y=>y.id===h.agent);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ge,{variant:"secondary",className:"py-1.5",children:v?.role||h.agent||"?"}),p<e.length-1&&s.jsx(so,{className:"h-4 w-4 text-muted-foreground"})]},h.id)})})})]})]})}function aU({steps:e,agents:t,onStepsChange:r,onCreateAgent:a}){const i=()=>{const d={id:`parallel_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}",isParallel:!0};r([...e,d])},l=(d,m)=>{r(e.map(h=>h.id===d?{...h,...m}:h))},u=d=>{r(e.filter(m=>m.id!==d))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Paralelo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Execute mltiplos agentes simultaneamente e agregue os resultados."})]}),a&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),s.jsxs("div",{className:"flex items-stretch gap-4",children:[s.jsx(ct,{className:"w-32 border-green-500 border-2 flex flex-col justify-center",children:s.jsxs(ut,{className:"p-4 text-center",children:[s.jsx(Qd,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-sm font-medium",children:"Dispatcher"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fan-out"})]})}),s.jsx("div",{className:"flex items-center",children:s.jsx(so,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("div",{className:"flex-1 space-y-3",children:e.length===0?s.jsx(ct,{className:"border-dashed",children:s.jsxs(ut,{className:"p-8 text-center",children:[s.jsx(ft,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione agentes para execuo paralela"}),s.jsxs(ge,{size:"sm",onClick:i,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Agente"]})]})}):s.jsxs(s.Fragment,{children:[e.map((d,m)=>{const h=t.find(p=>p.id===d.agent);return s.jsx(ct,{className:"border-l-4 border-l-blue-500",children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ge,{variant:"outline",children:m+1}),s.jsxs(tn,{value:d.agent||"",onValueChange:p=>l(d.id,{agent:p}),children:[s.jsx(rn,{className:"w-[200px]",children:s.jsx(nn,{placeholder:"Selecione"})}),s.jsx(sn,{children:t.map(p=>s.jsx(gt,{value:p.id,children:p.role},p.id))})]}),h&&s.jsx("span",{className:"text-xs text-muted-foreground",children:h.description||h.model})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(at,{value:d.input_template||"",onChange:p=>l(d.id,{input_template:p.target.value}),placeholder:"{{user_input}}",className:"w-40 font-mono text-xs"}),s.jsx(ge,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>u(d.id),children:s.jsx(mr,{className:"h-4 w-4"})})]})]})})},d.id)}),s.jsxs(ge,{variant:"outline",className:"w-full",onClick:i,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Agente Paralelo"]})]})}),s.jsx("div",{className:"flex items-center",children:s.jsx(so,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx(ct,{className:"w-32 border-purple-500 border-2 flex flex-col justify-center",children:s.jsxs(ut,{className:"p-4 text-center",children:[s.jsx(HT,{className:"h-8 w-8 mx-auto mb-2 text-purple-500"}),s.jsx("p",{className:"text-sm font-medium",children:"Aggregator"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fan-in"})]})})]}),s.jsx(ct,{className:"bg-muted/30",children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Qd,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"O Dispatcher distribui a entrada para todos os agentes"}),s.jsx("li",{children:"Cada agente processa independentemente em paralelo"}),s.jsx("li",{children:"O Aggregator combina todas as respostas no resultado final"})]})]})]})})})]})}function oU({steps:e,agents:t,availableModels:r,config:a,onStepsChange:i,onConfigChange:l,onCreateAgent:u}){const d=()=>{const p={id:`participant_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"};i([...e,p])},m=(p,v)=>{i(e.map(y=>y.id===p?{...y,...v}:y))},h=p=>{i(e.filter(v=>v.id!==p))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Group Chat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Discusso multi-agente coordenada por um Manager central."})]}),u&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:u,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),s.jsxs(ct,{className:"border-2 border-amber-500",children:[s.jsx(gn,{className:"pb-3",children:s.jsxs(Jt,{className:"flex items-center gap-2 text-base",children:[s.jsx(n1,{className:"h-5 w-5 text-amber-500"}),"Manager (Coordenador)"]})}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Modelo do Manager"}),s.jsxs(tn,{value:a.manager_model,onValueChange:p=>l({...a,manager_model:p}),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Selecione o modelo"})}),s.jsxs(sn,{children:[Object.keys(r).map(p=>s.jsx(gt,{value:p,children:p},p)),Object.keys(r).length===0&&s.jsx(gt,{value:"gpt-4o",children:"gpt-4o"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Mximo de Rodadas"}),s.jsx(at,{type:"number",min:1,max:50,value:a.max_rounds,onChange:p=>l({...a,max_rounds:parseInt(p.target.value)||8})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Instrues do Manager"}),s.jsx(en,{value:a.manager_instructions,onChange:p=>l({...a,manager_instructions:p.target.value}),placeholder:"Instrues para o manager selecionar o prximo speaker...",className:"min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Define como o manager escolhe qual agente fala a seguir"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Condio de Trmino (opcional)"}),s.jsx(at,{value:a.termination_condition||"",onChange:p=>l({...a,termination_condition:p.target.value}),placeholder:"Ex: 'TERMINATE' quando concludo",className:"font-mono text-sm"})]})]})]}),s.jsx(Vc,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ef,{className:"h-5 w-5"}),s.jsx("h4",{className:"font-medium",children:"Participantes"}),s.jsx(Ge,{variant:"secondary",children:e.length})]})}),s.jsxs("div",{className:"relative min-h-[300px] border rounded-lg bg-muted/20 p-8",children:[s.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-amber-100 border-2 border-amber-500 flex items-center justify-center",children:s.jsx(n1,{className:"h-8 w-8 text-amber-600"})}),s.jsx("p",{className:"text-center text-xs mt-2 font-medium",children:"Manager"})]}),e.map((p,v)=>{const y=v*360/Math.max(e.length,1)-90,b=120,j=Math.cos(y*Math.PI/180)*b,N=Math.sin(y*Math.PI/180)*b,S=t.find(_=>_.id===p.agent);return s.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:`calc(50% + ${j}px)`,top:`calc(50% + ${N}px)`},children:[s.jsxs("div",{className:"w-16 h-16 rounded-full bg-blue-100 border-2 border-blue-500 flex items-center justify-center cursor-pointer hover:bg-blue-200 transition-colors group",children:[s.jsx(ft,{className:"h-6 w-6 text-blue-600"}),s.jsx("button",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",onClick:()=>h(p.id),children:s.jsx(mr,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-center text-xs mt-1 max-w-[80px] truncate",children:S?.role||"?"})]},p.id)})]}),s.jsx("div",{className:"space-y-2",children:e.length===0?s.jsx(ct,{className:"border-dashed",children:s.jsxs(ut,{className:"p-6 text-center",children:[s.jsx(ef,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione participantes ao chat em grupo"}),s.jsxs(ge,{size:"sm",onClick:d,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Participante"]})]})}):s.jsxs(s.Fragment,{children:[e.map((p,v)=>{const y=t.find(b=>b.id===p.agent);return s.jsx(ct,{children:s.jsx(ut,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(Ge,{variant:"outline",children:v+1}),s.jsxs(tn,{value:p.agent||"",onValueChange:b=>m(p.id,{agent:b}),children:[s.jsx(rn,{className:"flex-1",children:s.jsx(nn,{placeholder:"Selecione"})}),s.jsx(sn,{children:t.map(b=>s.jsx(gt,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),b.role]})},b.id))})]}),y&&s.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:y.description||y.model}),s.jsx(ge,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>h(p.id),children:s.jsx(mr,{className:"h-4 w-4"})})]})})},p.id)}),s.jsxs(ge,{variant:"outline",className:"w-full",onClick:d,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Participante"]})]})})]})]})}function iU({steps:e,agents:t,startStep:r,onStepsChange:a,onStartStepChange:i,onCreateAgent:l}){const u=e.find(b=>b.id===r),d=e.filter(b=>b.id!==r),m=b=>{const j=e.find(N=>N.agent===b);if(j)i(j.id);else{const N={id:`coordinator_${Date.now()}`,type:"agent",agent:b,input_template:"{{user_input}}",transitions:d.map(S=>S.id),isCoordinator:!0};a([N,...e.filter(S=>!S.isCoordinator)]),i(N.id)}},h=()=>{const b={id:`specialist_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"},j=e.map(N=>N.id===r?{...N,transitions:[...N.transitions||[],b.id]}:N);a([...j,b])},p=(b,j)=>{a(e.map(N=>N.id===b?{...N,...j}:N))},v=b=>{const j=e.filter(N=>N.id!==b).map(N=>N.id===r&&N.transitions?{...N,transitions:N.transitions.filter(S=>S!==b)}:N);a(j)},y=(b,j)=>{a(e.map(N=>{if(N.id===r){const S=N.transitions||[];return{...N,transitions:j?[...S,b]:S.filter(_=>_!==b)}}return N}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Handoff"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"O coordenador analisa e transfere para especialistas."})]}),l&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:l,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),s.jsxs(ct,{className:"border-2 border-orange-500",children:[s.jsx(gn,{className:"pb-3",children:s.jsxs(Jt,{className:"flex items-center gap-2 text-base",children:[s.jsx(r1,{className:"h-5 w-5 text-orange-500"}),"Coordenador (Triagem)"]})}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Agente Coordenador"}),s.jsxs(tn,{value:u?.agent||"",onValueChange:m,children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Selecione o coordenador"})}),s.jsx(sn,{children:t.map(b=>s.jsx(gt,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{children:b.role}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"O coordenador analisa a entrada e decide para qual especialista transferir"})]}),u&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Input Template"}),s.jsx(at,{value:u.input_template||"",onChange:b=>p(u.id,{input_template:b.target.value}),placeholder:"{{user_input}}",className:"font-mono text-sm"})]})]})]}),s.jsx(Vc,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wd,{className:"h-5 w-5"}),s.jsx("h4",{className:"font-medium",children:"Especialistas"}),s.jsx(Ge,{variant:"secondary",children:d.length})]})}),s.jsxs("div",{className:"flex items-start gap-4",children:[u&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-orange-100 border-2 border-orange-500 flex items-center justify-center",children:s.jsx(r1,{className:"h-10 w-10 text-orange-600"})}),s.jsx("p",{className:"text-sm font-medium mt-2 text-center max-w-[100px] truncate",children:t.find(b=>b.id===u.agent)?.role||"Coordenador"})]}),u&&d.length>0&&s.jsx("div",{className:"flex flex-col justify-center h-24 gap-2",children:d.map((b,j)=>s.jsx(so,{className:"h-4 w-4 text-muted-foreground"},j))}),s.jsx("div",{className:"flex-1 space-y-3",children:d.length===0?s.jsx(ct,{className:"border-dashed",children:s.jsxs(ut,{className:"p-6 text-center",children:[s.jsx(ft,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione especialistas para receber handoffs"}),s.jsxs(ge,{size:"sm",onClick:h,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Especialista"]})]})}):s.jsxs(s.Fragment,{children:[d.map(b=>{const j=t.find(S=>S.id===b.agent),N=u?.transitions?.includes(b.id);return s.jsx(ct,{className:`border-l-4 ${N?"border-l-green-500":"border-l-gray-300"}`,children:s.jsxs(ut,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vr,{checked:N,onCheckedChange:S=>y(b.id,!!S)}),s.jsxs(tn,{value:b.agent||"",onValueChange:S=>p(b.id,{agent:S}),children:[s.jsx(rn,{className:"w-[180px]",children:s.jsx(nn,{placeholder:"Selecione"})}),s.jsx(sn,{children:t.filter(S=>S.id!==u?.agent).map(S=>s.jsx(gt,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),S.role]})},S.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(at,{value:b.input_template||"",onChange:S=>p(b.id,{input_template:S.target.value}),placeholder:"{{user_input}}",className:"w-32 font-mono text-xs"}),s.jsx(ge,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>v(b.id),children:s.jsx(mr,{className:"h-4 w-4"})})]})]}),j&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2 ml-9",children:j.description||`Modelo: ${j.model}`})]})},b.id)}),s.jsxs(ge,{variant:"outline",className:"w-full",onClick:h,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Especialista"]})]})})]})]}),s.jsx(ct,{className:"bg-muted/30",children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wd,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"O coordenador recebe a entrada inicial"}),s.jsx("li",{children:"Analisa e decide para qual especialista transferir"}),s.jsx("li",{children:"Apenas especialistas marcados podem receber handoffs"}),s.jsx("li",{children:"O especialista processa e pode devolver ao coordenador"})]})]})]})})})]})}const D0=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,role:"alert",className:He("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",e),...t}));D0.displayName="Alert";const lC=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:He("mb-1 font-medium leading-none tracking-tight",e),...t}));lC.displayName="AlertTitle";const O0=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:He("text-sm [&_p]:leading-relaxed",e),...t}));O0.displayName="AlertDescription";function lU({steps:e,agents:t,startStep:r,onStepsChange:a,onStartStepChange:i,onCreateAgent:l}){const u=e.find(b=>b.id===r),d=e.filter(b=>b.id!==r),m=b=>{const j=e.find(N=>N.agent===b);if(j)i(j.id);else{const N={id:`router_${Date.now()}`,type:"agent",agent:b,input_template:"{{user_input}}",isRouter:!0};a([N,...e.filter(S=>!S.isRouter)]),i(N.id)}},h=()=>{const b={id:`destination_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"};a([...e,b])},p=(b,j)=>{a(e.map(N=>N.id===b?{...N,...j}:N))},v=b=>{a(e.filter(j=>j.id!==b))},y=b=>{const j=e.find(S=>S.id===b);if(!j)return;const N=e.filter(S=>S.id!==b);a([...N,j])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Router"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"O roteador analisa e direciona para o destino apropriado."})]}),l&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:l,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),s.jsxs(ct,{className:"border-2 border-cyan-500",children:[s.jsx(gn,{className:"pb-3",children:s.jsxs(Jt,{className:"flex items-center gap-2 text-base",children:[s.jsx(li,{className:"h-5 w-5 text-cyan-500"}),"Agente Roteador"]})}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Selecione o Agente Roteador"}),s.jsxs(tn,{value:u?.agent||"",onValueChange:m,children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:"Selecione o roteador"})}),s.jsx(sn,{children:t.map(b=>s.jsx(gt,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{children:b.role}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]})]}),u&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Input Template"}),s.jsx(at,{value:u.input_template||"",onChange:b=>p(u.id,{input_template:b.target.value}),placeholder:"{{user_input}}",className:"font-mono text-sm"})]}),s.jsxs(D0,{children:[s.jsx(xi,{className:"h-4 w-4"}),s.jsxs(O0,{className:"text-xs",children:["O agente roteador deve retornar o ",s.jsx("strong",{children:"ID exato"})," do destino.",s.jsx("br",{}),'Exemplo: Se o destino tem ID "vendas", o roteador deve responder "vendas".']})]})]})]}),s.jsx(Vc,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(s1,{className:"h-5 w-5"}),s.jsx("h4",{className:"font-medium",children:"Destinos"}),s.jsx(Ge,{variant:"secondary",children:d.length})]})}),s.jsxs("div",{className:"flex items-start gap-4",children:[u&&s.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[s.jsx("div",{className:"w-24 h-24 rounded-lg bg-cyan-100 border-2 border-cyan-500 flex items-center justify-center",children:s.jsx(li,{className:"h-10 w-10 text-cyan-600"})}),s.jsx("p",{className:"text-sm font-medium mt-2 text-center max-w-[100px] truncate",children:t.find(b=>b.id===u.agent)?.role||"Router"})]}),u&&d.length>0&&s.jsx("div",{className:"flex flex-col justify-center min-h-[96px] gap-1",children:d.map(b=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(so,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:b.agent||b.id})]},b.id))}),s.jsx("div",{className:"flex-1 space-y-2",children:d.length===0?s.jsx(ct,{className:"border-dashed",children:s.jsxs(ut,{className:"p-6 text-center",children:[s.jsx(s1,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione destinos para o roteamento"}),s.jsxs(ge,{size:"sm",onClick:h,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Destino"]})]})}):s.jsxs(s.Fragment,{children:[d.map((b,j)=>{const N=t.find(_=>_.id===b.agent),S=j===d.length-1;return s.jsx(ct,{className:`border-l-4 ${S?"border-l-amber-500 bg-amber-50/50 dark:bg-amber-950/20":"border-l-green-500"}`,children:s.jsxs(ut,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ge,{variant:S?"default":"outline",className:S?"bg-amber-500":"",children:S?"Default":`Case ${j+1}`}),s.jsxs(tn,{value:b.agent||"",onValueChange:_=>p(b.id,{agent:_}),children:[s.jsx(rn,{className:"w-[180px]",children:s.jsx(nn,{placeholder:"Selecione"})}),s.jsx(sn,{children:t.filter(_=>_.id!==u?.agent).map(_=>s.jsx(gt,{value:_.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),_.role]})},_.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!S&&s.jsx(ge,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>y(b.id),children:"Tornar Default"}),s.jsx(at,{value:b.input_template||"",onChange:_=>p(b.id,{input_template:_.target.value}),placeholder:"{{user_input}}",className:"w-32 font-mono text-xs"}),s.jsx(ge,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>v(b.id),disabled:d.length<=1,children:s.jsx(mr,{className:"h-4 w-4"})})]})]}),N&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2 ml-20",children:["Roteador retorna: ",s.jsx("code",{className:"bg-muted px-1 rounded",children:N.id})]})]})},b.id)}),s.jsxs(ge,{variant:"outline",className:"w-full",onClick:h,children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Adicionar Destino"]})]})})]})]}),s.jsx(ct,{className:"bg-muted/30",children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(li,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"O roteador recebe a entrada e analisa"}),s.jsx("li",{children:"Deve retornar o ID do agente de destino"}),s.jsx("li",{children:"Se nenhum case corresponder, usa o Default"}),s.jsx("li",{children:"O ltimo destino na lista  sempre o Default"})]})]})]})})})]})}function cU(e){const t=[];if(!e||typeof e!="object")return{valid:!1,errors:["Configurao invlida"]};const r=e;if((!r.name||typeof r.name!="string")&&t.push("Campo 'name'  obrigatrio"),(!r.version||typeof r.version!="string")&&t.push("Campo 'version'  obrigatrio"),(!r.resources||typeof r.resources!="object")&&t.push("Campo 'resources'  obrigatrio"),Array.isArray(r.agents)?r.agents.forEach((a,i)=>{if(!a||typeof a!="object"){t.push(`Agent ${i}: deve ser um objeto`);return}const l=a;l.id||t.push(`Agent ${i}: 'id'  obrigatrio`),l.role||t.push(`Agent ${i}: 'role'  obrigatrio`),l.model||t.push(`Agent ${i}: 'model'  obrigatrio`),l.instructions||t.push(`Agent ${i}: 'instructions'  obrigatrio`)}):t.push("Campo 'agents' deve ser um array"),!r.workflow||typeof r.workflow!="object")t.push("Campo 'workflow'  obrigatrio");else{const a=r.workflow,i=["sequential","parallel","router","group_chat","handoff"];i.includes(a.type)||t.push(`Tipo de workflow '${a.type}' no  vlido. Use: ${i.join(", ")}`),Array.isArray(a.steps)||t.push("Campo 'workflow.steps' deve ser um array")}return{valid:t.length===0,errors:t}}function uU(e){const t=JSON.parse(e),r=cU(t);if(!r.valid)throw new Error(`Configurao invlida:
${r.errors.join(`
`)}`);return t}function dU(e){return JSON.stringify(e,null,2)}function fU(e,t){const r=dU(e),a=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=t||`${e.name.replace(/\s+/g,"_").toLowerCase()}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}function mU(e){return new Promise((t,r)=>{const a=new FileReader;a.onload=i=>{try{const l=i.target?.result,u=uU(l);t(u)}catch(l){r(l)}},a.onerror=()=>r(new Error("Erro ao ler arquivo")),a.readAsText(e)})}const hU="studio_draft";function pU(e){try{localStorage.setItem(hU,JSON.stringify({config:e,savedAt:Date.now()}))}catch(t){console.error("Erro ao salvar rascunho:",t)}}function gU(){const{toast:e}=Mf(),t=fi(q=>q.workerConfig),r=fi(q=>q.setWorkerConfig),a=fi(q=>q.generateConfig),[i]=wR(),l=i.get("file"),u=x.useMemo(()=>new Fx,[]),[d,m]=x.useState(!1),[h,p]=x.useState(!1),[v,y]=x.useState("editor"),[b,j]=x.useState(!1),[N,S]=x.useState(null),[_,C]=x.useState([]),[,E]=x.useState(null);x.useEffect(()=>{l&&(async Q=>{try{const he=(await u.getSavedWorkflows()).find(Ee=>Ee._file===Q);he?(r(he),E(Q),e({title:"Workflow carregado",description:he.name||Q})):e({title:"Erro ao carregar workflow",description:`Arquivo no encontrado: ${Q}`,variant:"destructive"})}catch(de){console.error("Error loading workflow:",de),e({title:"Erro ao carregar workflow",description:String(de),variant:"destructive"})}})(l)},[l,u,r,e]);const k=x.useCallback(async()=>{console.log("Carregando agentes salvos..."),p(!0);try{const q=await fetch("/v1/agents");if(q.ok){const Q=await q.json();console.log("Agentes carregados:",Q.data),C(Q.data||[])}}catch(q){console.error("Erro ao carregar agentes:",q)}finally{p(!1)}},[]);x.useEffect(()=>{k()},[k]);const M=x.useMemo(()=>{const q=new Set((t.agents||[]).map(Q=>Q.id));return _.filter(Q=>!q.has(Q.id))},[_,t.agents]),O=x.useCallback(q=>{const{_file:Q,...de}=q;r({...t,agents:[...t.agents||[],de]}),e({title:"Agente adicionado ao workflow"})},[t,r,e]),D=t.workflow.type,z=t.agents||[],B=t.workflow.steps||[],H=t.workflow.start_step,X=x.useMemo(()=>t.resources?.models||{},[t.resources]),G=x.useMemo(()=>t.resources?.tools||[],[t.resources]),ee=x.useMemo(()=>({manager_model:t.workflow.manager_model||Object.keys(X)[0]||"gpt-4o",manager_instructions:t.workflow.manager_instructions||"Select the next speaker based on the conversation context.",max_rounds:t.workflow.max_rounds||8,termination_condition:t.workflow.termination_condition}),[t.workflow,X]),P=x.useCallback(q=>{r({...t,workflow:{...t.workflow,type:q,steps:[],start_step:void 0}})},[t,r]),F=x.useCallback(q=>{r({...t,workflow:{...t.workflow,steps:q}})},[t,r]),A=x.useCallback(q=>{r({...t,workflow:{...t.workflow,start_step:q}})},[t,r]),L=x.useCallback(q=>{r({...t,workflow:{...t.workflow,...q}})},[t,r]),$=x.useCallback(q=>{if(N){const Q=z.map(de=>de.id===N.id?q:de);r({...t,agents:Q})}else r({...t,agents:[...z,q]});S(null),j(!1),e({title:N?"Agente atualizado":"Agente criado"})},[N,z,t,r,e]),V=x.useCallback(q=>{S(q),j(!0)},[]),T=x.useCallback(q=>{if(B.some(he=>he.agent===q)){e({title:"No  possvel remover",description:"Este agente est sendo usado em um step do workflow. Remova o step primeiro.",variant:"destructive"});return}const de=z.filter(he=>he.id!==q);r({...t,agents:de}),e({title:"Agente removido"})},[z,B,t,r,e]),U=x.useMemo(()=>{const q=[];return t.name?.trim()||q.push("Nome do workflow  obrigatrio"),z.length===0&&q.push("Adicione pelo menos um agente"),B.length===0&&q.push("Adicione pelo menos um step ao workflow"),B.forEach((Q,de)=>{Q.agent?z.find(he=>he.id===Q.agent)||q.push(`Step ${de+1} referencia agente inexistente`):q.push(`Step ${de+1} no tem agente selecionado`)}),q},[t.name,z,B]),Z=async()=>{if(U.length>0){e({title:"Workflow invlido",description:U[0],variant:"destructive"});return}m(!0);try{const q=a();console.log("Generated Config:",q),pU(q);const Q=await fetch("/v1/workflows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!Q.ok)throw new Error(`Failed to save: ${Q.statusText}`);const de=await Q.json();e({title:"Workflow Salvo",description:`Configurao salva em exemplos/workflows/${de.filename}`})}catch(q){console.error("Save error:",q),e({title:"Erro ao Salvar",description:String(q),variant:"destructive"})}finally{m(!1)}},K=()=>{const q=a();fU(q,`${q.name||"workflow"}.json`),e({title:"Exportado",description:"Arquivo JSON baixado."})},ne=async()=>{const q=document.createElement("input");q.type="file",q.accept=".json",q.onchange=async Q=>{const de=Q.target.files?.[0];if(de)try{const he=await mU(de);r(he),e({title:"Importado",description:`${he.name} carregado com sucesso.`})}catch(he){e({title:"Erro na Importao",description:String(he),variant:"destructive"})}},q.click()},fe=()=>{switch(D){case"sequential":return s.jsx(sU,{steps:B,agents:z,onStepsChange:F,onCreateAgent:()=>j(!0)});case"parallel":return s.jsx(aU,{steps:B,agents:z,onStepsChange:F,onCreateAgent:()=>j(!0)});case"group_chat":return s.jsx(oU,{steps:B,agents:z,availableModels:X,config:ee,onStepsChange:F,onConfigChange:L,onCreateAgent:()=>j(!0)});case"handoff":return s.jsx(iU,{steps:B,agents:z,startStep:H,onStepsChange:F,onStartStepChange:A,onCreateAgent:()=>j(!0)});case"router":return s.jsx(lU,{steps:B,agents:z,startStep:H,onStepsChange:F,onStartStepChange:A,onCreateAgent:()=>j(!0)});default:return s.jsx("div",{className:"text-center text-muted-foreground py-12",children:"Selecione um tipo de workflow"})}},ue=x.useMemo(()=>{try{return JSON.stringify(a(),null,2)}catch{return"// Erro ao gerar preview"}},[a]);return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[s.jsxs("div",{className:"border-b flex items-center justify-between px-6 py-4 bg-background shrink-0",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qd,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"text-lg font-semibold",children:"Workflow Studio"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(at,{value:t.name||"",onChange:q=>r({...t,name:q.target.value}),placeholder:"Nome do workflow...",className:"h-8 w-[250px] text-sm"}),s.jsx(Ge,{variant:"secondary",children:D}),s.jsxs(Ge,{variant:"outline",children:[z.length," agentes  ",B.length," steps"]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[U.length>0?s.jsxs(Ge,{variant:"destructive",className:"gap-1",children:[s.jsx(Er,{className:"h-3 w-3"}),U.length," erro",U.length>1?"s":""]}):s.jsxs(Ge,{variant:"default",className:"gap-1 bg-green-600",children:[s.jsx(wn,{className:"h-3 w-3"}),"Vlido"]}),s.jsxs(ge,{variant:"outline",size:"sm",onClick:ne,children:[s.jsx(Yj,{className:"w-4 h-4 mr-2"}),"Importar"]}),s.jsxs(ge,{variant:"outline",size:"sm",onClick:K,children:[s.jsx(ao,{className:"w-4 h-4 mr-2"}),"Exportar"]}),s.jsxs(ge,{size:"sm",onClick:Z,disabled:d,className:"bg-green-600 hover:bg-green-700",children:[d?s.jsx(Wr,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Mg,{className:"w-4 h-4 mr-2"}),"Salvar Workflow"]})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs($x,{value:v,onValueChange:q=>y(q),className:"h-full flex flex-col",children:[s.jsx("div",{className:"border-b px-6 bg-muted/30",children:s.jsxs(If,{className:"h-12",children:[s.jsxs(Na,{value:"editor",className:"gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"Editor"]}),s.jsxs(Na,{value:"preview",className:"gap-2",children:[s.jsx(Df,{className:"h-4 w-4"}),"Preview JSON"]})]})}),s.jsx(ja,{value:"editor",className:"flex-1 overflow-hidden m-0",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"flex-1 overflow-auto p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[U.length>0&&s.jsx(ct,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:s.jsx(ut,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-2 text-red-600 dark:text-red-400",children:[s.jsx(Er,{className:"h-5 w-5 shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Corrija os erros antes de salvar:"}),s.jsx("ul",{className:"text-sm list-disc list-inside space-y-0.5",children:U.map((q,Q)=>s.jsx("li",{children:q},Q))})]})]})})}),s.jsxs(ct,{children:[s.jsxs(gn,{className:"pb-3",children:[s.jsxs(Jt,{className:"text-base flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"1"}),"Tipo de Workflow"]}),s.jsx(Jl,{children:"Escolha como os agentes sero orquestrados"})]}),s.jsx(ut,{children:s.jsx(hH,{selectedType:D,onTypeSelect:P})})]}),s.jsxs(ct,{children:[s.jsx(gn,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Jt,{className:"text-base flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"2"}),"Gerenciamento de Agentes"]}),s.jsx(Jl,{children:"Selecione agentes existentes ou crie novos para o workflow"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",size:"icon",onClick:k,disabled:h,title:"Atualizar lista de agentes salvos",children:s.jsx(Dc,{className:`h-4 w-4 ${h?"animate-spin":""}`})}),s.jsxs(ge,{size:"sm",onClick:()=>j(!0),children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]})]})}),s.jsx(ut,{className:"space-y-6",children:h?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wr,{className:"h-8 w-8 mx-auto mb-2 animate-spin"}),s.jsx("p",{children:"Carregando agentes..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"No Workflow (",z.length,")"]}),z.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx("p",{className:"text-sm",children:"Nenhum agente adicionado ao workflow"}),s.jsx("p",{className:"text-xs mt-1",children:"Selecione um agente existente abaixo ou crie um novo"})]}):s.jsx("div",{className:"grid gap-2",children:z.map(q=>{const Q=B.some(de=>de.agent===q.id);return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${Q?"bg-green-50 border-green-200 dark:bg-green-950/20":"bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ft,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:q.role}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:q.model}),Q&&s.jsx(Ge,{variant:"default",className:"text-[10px] bg-green-600",children:"Em uso"})]}),q.tools&&q.tools.length>0&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[q.tools.slice(0,2).map(de=>s.jsx(Ge,{variant:"secondary",className:"text-[9px]",children:de},de)),q.tools.length>2&&s.jsxs(Ge,{variant:"secondary",className:"text-[9px]",children:["+",q.tools.length-2]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>V(q),title:"Editar agente",children:s.jsx(Mx,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>T(q.id),disabled:Q,title:Q?"Remova o step primeiro":"Remover do workflow",children:s.jsx(mr,{className:"h-4 w-4"})})]})]},q.id)})})]}),M.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2 text-muted-foreground",children:[s.jsx(ao,{className:"h-4 w-4"}),"Agentes Salvos Disponveis (",M.length,")"]}),s.jsx("div",{className:"grid gap-2",children:M.map(q=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-muted flex items-center justify-center",children:s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:q.role}),s.jsx(Ge,{variant:"outline",className:"text-[10px]",children:q.model})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:q.description||"Sem descrio"})]})]}),s.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>O(q),className:"shrink-0",children:[s.jsx(Rt,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]},q.id))})]}),_.length===0&&z.length===0&&s.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx(ft,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum agente encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Crie um novo agente para comear"})]})]})})]}),s.jsxs(ct,{children:[s.jsxs(gn,{className:"pb-3",children:[s.jsxs(Jt,{className:"text-base flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"3"}),"Configurar Steps"]}),s.jsx(Jl,{children:"Monte a sequncia de execuo dos agentes"})]}),s.jsx(ut,{children:fe()})]}),s.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 pb-12",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:U.length>0?s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(Er,{className:"h-4 w-4"}),U.length," erro(s) impedem o salvamento"]}):s.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[s.jsx(wn,{className:"h-4 w-4"}),"Pronto para salvar"]})}),s.jsxs(ge,{size:"lg",onClick:Z,disabled:d,className:"bg-green-600 hover:bg-green-700 min-w-[200px]",children:[d?s.jsx(Wr,{className:"w-5 h-5 mr-2 animate-spin"}):s.jsx(Mg,{className:"w-5 h-5 mr-2"}),"Salvar Workflow"]})]})]})}),s.jsx(oH,{})]})}),s.jsx(ja,{value:"preview",className:"flex-1 overflow-hidden m-0",children:s.jsx("div",{className:"h-full p-6",children:s.jsxs(ct,{className:"h-full",children:[s.jsx(gn,{className:"pb-2",children:s.jsxs(Jt,{className:"text-base flex items-center gap-2",children:[s.jsx(Uj,{className:"h-5 w-5"}),"worker_config.json"]})}),s.jsx(ut,{className:"h-[calc(100%-60px)]",children:s.jsx(Jn,{className:"h-full",children:s.jsx("pre",{className:"text-sm font-mono bg-muted/30 p-4 rounded-lg whitespace-pre-wrap",children:ue})})})]})})})]})}),s.jsx(PE,{open:b||N!==null,onOpenChange:q=>{q||(j(!1),S(null))},agent:N||void 0,availableModels:X,availableTools:G,onSave:$,mode:N?"edit":"create"})]})}const pm=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",e),...t})}));pm.displayName="Table";const gm=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:He("[&_tr]:border-b",e),...t}));gm.displayName="TableHeader";const xm=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",e),...t}));xm.displayName="TableBody";const xU=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xU.displayName="TableFooter";const As=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));As.displayName="TableRow";const pn=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));pn.displayName="TableHead";const qt=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qt.displayName="TableCell";const vU=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",e),...t}));vU.displayName="TableCaption";var ux=["Enter"," "],yU=["ArrowDown","PageUp","Home"],cC=["ArrowUp","PageDown","End"],bU=[...yU,...cC],wU={ltr:[...ux,"ArrowRight"],rtl:[...ux,"ArrowLeft"]},NU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xc="Menu",[_c,jU,SU]=Lx(Xc),[xo,uC]=hr(Xc,[SU,sm,Of]),vm=sm(),dC=Of(),[_U,vo]=xo(Xc),[EU,Wc]=xo(Xc),fC=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:i,onOpenChange:l,modal:u=!0}=e,d=vm(t),[m,h]=x.useState(null),p=x.useRef(!1),v=Nn(l),y=zc(i);return x.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),s.jsx(Q_,{...d,children:s.jsx(_U,{scope:t,open:r,onOpenChange:v,content:m,onContentChange:h,children:s.jsx(EU,{scope:t,onClose:x.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:p,dir:y,modal:u,children:a})})})};fC.displayName=Xc;var CU="MenuAnchor",z0=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,i=vm(r);return s.jsx(J_,{...i,...a,ref:t})});z0.displayName=CU;var I0="MenuPortal",[kU,mC]=xo(I0,{forceMount:void 0}),hC=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:i}=e,l=vo(I0,t);return s.jsx(kU,{scope:t,forceMount:r,children:s.jsx(Pn,{present:r||l.open,children:s.jsx(am,{asChild:!0,container:i,children:a})})})};hC.displayName=I0;var fr="MenuContent",[AU,L0]=xo(fr),pC=x.forwardRef((e,t)=>{const r=mC(fr,e.__scopeMenu),{forceMount:a=r.forceMount,...i}=e,l=vo(fr,e.__scopeMenu),u=Wc(fr,e.__scopeMenu);return s.jsx(_c.Provider,{scope:e.__scopeMenu,children:s.jsx(Pn,{present:a||l.open,children:s.jsx(_c.Slot,{scope:e.__scopeMenu,children:u.modal?s.jsx(RU,{...i,ref:t}):s.jsx(MU,{...i,ref:t})})})})}),RU=x.forwardRef((e,t)=>{const r=vo(fr,e.__scopeMenu),a=x.useRef(null),i=et(t,a);return x.useEffect(()=>{const l=a.current;if(l)return w0(l)},[]),s.jsx(P0,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),MU=x.forwardRef((e,t)=>{const r=vo(fr,e.__scopeMenu);return s.jsx(P0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),TU=ro("MenuContent.ScrollLock"),P0=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:y,onDismiss:b,disableOutsideScroll:j,...N}=e,S=vo(fr,r),_=Wc(fr,r),C=vm(r),E=dC(r),k=jU(r),[M,O]=x.useState(null),D=x.useRef(null),z=et(t,D,S.onContentChange),B=x.useRef(0),H=x.useRef(""),X=x.useRef(0),G=x.useRef(null),ee=x.useRef("right"),P=x.useRef(0),F=j?im:x.Fragment,A=j?{as:TU,allowPinchZoom:!0}:void 0,L=V=>{const T=H.current+V,U=k().filter(q=>!q.disabled),Z=document.activeElement,K=U.find(q=>q.ref.current===Z)?.textValue,ne=U.map(q=>q.textValue),fe=FU(ne,T,K),ue=U.find(q=>q.textValue===fe)?.ref.current;(function q(Q){H.current=Q,window.clearTimeout(B.current),Q!==""&&(B.current=window.setTimeout(()=>q(""),1e3))})(T),ue&&setTimeout(()=>ue.focus())};x.useEffect(()=>()=>window.clearTimeout(B.current),[]),f0();const $=x.useCallback(V=>ee.current===G.current?.side&&YU(V,G.current?.area),[]);return s.jsx(AU,{scope:r,searchRef:H,onItemEnter:x.useCallback(V=>{$(V)&&V.preventDefault()},[$]),onItemLeave:x.useCallback(V=>{$(V)||(D.current?.focus(),O(null))},[$]),onTriggerLeave:x.useCallback(V=>{$(V)&&V.preventDefault()},[$]),pointerGraceTimerRef:X,onPointerGraceIntentChange:x.useCallback(V=>{G.current=V},[]),children:s.jsx(F,{...A,children:s.jsx(Jf,{asChild:!0,trapped:i,onMountAutoFocus:Ae(l,V=>{V.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:s.jsx(Qf,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:y,onDismiss:b,children:s.jsx(Jj,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:a,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:Ae(m,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(eE,{role:"menu","aria-orientation":"vertical","data-state":MC(S.open),"data-radix-menu-content":"",dir:_.dir,...C,...N,ref:z,style:{outline:"none",...N.style},onKeyDown:Ae(N.onKeyDown,V=>{const U=V.target.closest("[data-radix-menu-content]")===V.currentTarget,Z=V.ctrlKey||V.altKey||V.metaKey,K=V.key.length===1;U&&(V.key==="Tab"&&V.preventDefault(),!Z&&K&&L(V.key));const ne=D.current;if(V.target!==ne||!bU.includes(V.key))return;V.preventDefault();const ue=k().filter(q=>!q.disabled).map(q=>q.ref.current);cC.includes(V.key)&&ue.reverse(),UU(ue)}),onBlur:Ae(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(B.current),H.current="")}),onPointerMove:Ae(e.onPointerMove,Ec(V=>{const T=V.target,U=P.current!==V.clientX;if(V.currentTarget.contains(T)&&U){const Z=V.clientX>P.current?"right":"left";ee.current=Z,P.current=V.clientX}}))})})})})})})});pC.displayName=fr;var DU="MenuGroup",$0=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Ve.div,{role:"group",...a,ref:t})});$0.displayName=DU;var OU="MenuLabel",gC=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Ve.div,{...a,ref:t})});gC.displayName=OU;var _f="MenuItem",nj="menu.itemSelect",ym=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...i}=e,l=x.useRef(null),u=Wc(_f,e.__scopeMenu),d=L0(_f,e.__scopeMenu),m=et(t,l),h=x.useRef(!1),p=()=>{const v=l.current;if(!r&&v){const y=new CustomEvent(nj,{bubbles:!0,cancelable:!0});v.addEventListener(nj,b=>a?.(b),{once:!0}),Gj(v,y),y.defaultPrevented?h.current=!1:u.onClose()}};return s.jsx(xC,{...i,ref:m,disabled:r,onClick:Ae(e.onClick,p),onPointerDown:v=>{e.onPointerDown?.(v),h.current=!0},onPointerUp:Ae(e.onPointerUp,v=>{h.current||v.currentTarget?.click()}),onKeyDown:Ae(e.onKeyDown,v=>{const y=d.searchRef.current!=="";r||y&&v.key===" "||ux.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});ym.displayName=_f;var xC=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:i,...l}=e,u=L0(_f,r),d=dC(r),m=x.useRef(null),h=et(t,m),[p,v]=x.useState(!1),[y,b]=x.useState("");return x.useEffect(()=>{const j=m.current;j&&b((j.textContent??"").trim())},[l.children]),s.jsx(_c.ItemSlot,{scope:r,disabled:a,textValue:i??y,children:s.jsx(e2,{asChild:!0,...d,focusable:!a,children:s.jsx(Ve.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...l,ref:h,onPointerMove:Ae(e.onPointerMove,Ec(j=>{a?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,Ec(j=>u.onItemLeave(j))),onFocus:Ae(e.onFocus,()=>v(!0)),onBlur:Ae(e.onBlur,()=>v(!1))})})})}),zU="MenuCheckboxItem",vC=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...i}=e;return s.jsx(jC,{scope:e.__scopeMenu,checked:r,children:s.jsx(ym,{role:"menuitemcheckbox","aria-checked":Ef(r)?"mixed":r,...i,ref:t,"data-state":B0(r),onSelect:Ae(i.onSelect,()=>a?.(Ef(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vC.displayName=zU;var yC="MenuRadioGroup",[IU,LU]=xo(yC,{value:void 0,onValueChange:()=>{}}),bC=x.forwardRef((e,t)=>{const{value:r,onValueChange:a,...i}=e,l=Nn(a);return s.jsx(IU,{scope:e.__scopeMenu,value:r,onValueChange:l,children:s.jsx($0,{...i,ref:t})})});bC.displayName=yC;var wC="MenuRadioItem",NC=x.forwardRef((e,t)=>{const{value:r,...a}=e,i=LU(wC,e.__scopeMenu),l=r===i.value;return s.jsx(jC,{scope:e.__scopeMenu,checked:l,children:s.jsx(ym,{role:"menuitemradio","aria-checked":l,...a,ref:t,"data-state":B0(l),onSelect:Ae(a.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});NC.displayName=wC;var H0="MenuItemIndicator",[jC,PU]=xo(H0,{checked:!1}),SC=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...i}=e,l=PU(H0,r);return s.jsx(Pn,{present:a||Ef(l.checked)||l.checked===!0,children:s.jsx(Ve.span,{...i,ref:t,"data-state":B0(l.checked)})})});SC.displayName=H0;var $U="MenuSeparator",_C=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});_C.displayName=$U;var HU="MenuArrow",EC=x.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,i=vm(r);return s.jsx(tE,{...i,...a,ref:t})});EC.displayName=HU;var BU="MenuSub",[oY,CC]=xo(BU),Ql="MenuSubTrigger",kC=x.forwardRef((e,t)=>{const r=vo(Ql,e.__scopeMenu),a=Wc(Ql,e.__scopeMenu),i=CC(Ql,e.__scopeMenu),l=L0(Ql,e.__scopeMenu),u=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=l,h={__scopeMenu:e.__scopeMenu},p=x.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),m(null)}},[d,m]),s.jsx(z0,{asChild:!0,...h,children:s.jsx(xC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":MC(r.open),...e,ref:Rf(t,i.onTriggerChange),onClick:v=>{e.onClick?.(v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,Ec(v=>{l.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Ae(e.onPointerLeave,Ec(v=>{p();const y=r.content?.getBoundingClientRect();if(y){const b=r.content?.dataset.side,j=b==="right",N=j?-5:5,S=y[j?"left":"right"],_=y[j?"right":"left"];l.onPointerGraceIntentChange({area:[{x:v.clientX+N,y:v.clientY},{x:S,y:y.top},{x:_,y:y.top},{x:_,y:y.bottom},{x:S,y:y.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(v),v.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,v=>{const y=l.searchRef.current!=="";e.disabled||y&&v.key===" "||wU[a.dir].includes(v.key)&&(r.onOpenChange(!0),r.content?.focus(),v.preventDefault())})})})});kC.displayName=Ql;var AC="MenuSubContent",RC=x.forwardRef((e,t)=>{const r=mC(fr,e.__scopeMenu),{forceMount:a=r.forceMount,...i}=e,l=vo(fr,e.__scopeMenu),u=Wc(fr,e.__scopeMenu),d=CC(AC,e.__scopeMenu),m=x.useRef(null),h=et(t,m);return s.jsx(_c.Provider,{scope:e.__scopeMenu,children:s.jsx(Pn,{present:a||l.open,children:s.jsx(_c.Slot,{scope:e.__scopeMenu,children:s.jsx(P0,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{u.isUsingKeyboardRef.current&&m.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,p=>{p.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,p=>{u.onClose(),p.preventDefault()}),onKeyDown:Ae(e.onKeyDown,p=>{const v=p.currentTarget.contains(p.target),y=NU[u.dir].includes(p.key);v&&y&&(l.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});RC.displayName=AC;function MC(e){return e?"open":"closed"}function Ef(e){return e==="indeterminate"}function B0(e){return Ef(e)?"indeterminate":e?"checked":"unchecked"}function UU(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function VU(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function FU(e,t,r){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=r?e.indexOf(r):-1;let u=VU(e,Math.max(l,0));i.length===1&&(u=u.filter(h=>h!==r));const m=u.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return m!==r?m:void 0}function qU(e,t){const{x:r,y:a}=e;let i=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const d=t[l],m=t[u],h=d.x,p=d.y,v=m.x,y=m.y;p>a!=y>a&&r<(v-h)*(a-p)/(y-p)+h&&(i=!i)}return i}function YU(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return qU(r,t)}function Ec(e){return t=>t.pointerType==="mouse"?e(t):void 0}var GU=fC,XU=z0,WU=hC,ZU=pC,KU=$0,QU=gC,JU=ym,eV=vC,tV=bC,nV=NC,rV=SC,sV=_C,aV=EC,oV=kC,iV=RC,bm="DropdownMenu",[lV,iY]=hr(bm,[uC]),An=uC(),[cV,TC]=lV(bm),DC=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:i,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,m=An(t),h=x.useRef(null),[p,v]=Ca({prop:i,defaultProp:l??!1,onChange:u,caller:bm});return s.jsx(cV,{scope:t,triggerId:Zr(),triggerRef:h,contentId:Zr(),open:p,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),modal:d,children:s.jsx(GU,{...m,open:p,onOpenChange:v,dir:a,modal:d,children:r})})};DC.displayName=bm;var OC="DropdownMenuTrigger",zC=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...i}=e,l=TC(OC,r),u=An(r);return s.jsx(XU,{asChild:!0,...u,children:s.jsx(Ve.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:Rf(t,l.triggerRef),onPointerDown:Ae(e.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Ae(e.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});zC.displayName=OC;var uV="DropdownMenuPortal",IC=e=>{const{__scopeDropdownMenu:t,...r}=e,a=An(t);return s.jsx(WU,{...a,...r})};IC.displayName=uV;var LC="DropdownMenuContent",PC=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=TC(LC,r),l=An(r),u=x.useRef(!1);return s.jsx(ZU,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...a,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,d=>{u.current||i.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,d=>{const m=d.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,p=m.button===2||h;(!i.modal||p)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PC.displayName=LC;var dV="DropdownMenuGroup",fV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(KU,{...i,...a,ref:t})});fV.displayName=dV;var mV="DropdownMenuLabel",$C=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(QU,{...i,...a,ref:t})});$C.displayName=mV;var hV="DropdownMenuItem",HC=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(JU,{...i,...a,ref:t})});HC.displayName=hV;var pV="DropdownMenuCheckboxItem",gV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(eV,{...i,...a,ref:t})});gV.displayName=pV;var xV="DropdownMenuRadioGroup",vV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(tV,{...i,...a,ref:t})});vV.displayName=xV;var yV="DropdownMenuRadioItem",bV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(nV,{...i,...a,ref:t})});bV.displayName=yV;var wV="DropdownMenuItemIndicator",NV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(rV,{...i,...a,ref:t})});NV.displayName=wV;var jV="DropdownMenuSeparator",BC=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(sV,{...i,...a,ref:t})});BC.displayName=jV;var SV="DropdownMenuArrow",_V=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(aV,{...i,...a,ref:t})});_V.displayName=SV;var EV="DropdownMenuSubTrigger",CV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(oV,{...i,...a,ref:t})});CV.displayName=EV;var kV="DropdownMenuSubContent",AV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,i=An(r);return s.jsx(iV,{...i,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AV.displayName=kV;var RV=DC,MV=zC,TV=IC,DV=PC,OV=$C,zV=HC,IV=BC;function Bi({...e}){return s.jsx(RV,{"data-slot":"dropdown-menu",...e})}function Ui({...e}){return s.jsx(MV,{"data-slot":"dropdown-menu-trigger",...e})}function Vi({className:e,sideOffset:t=4,...r}){return s.jsx(TV,{children:s.jsx(DV,{"data-slot":"dropdown-menu-content",sideOffset:t,className:He("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function At({className:e,inset:t,variant:r="default",...a}){return s.jsx(zV,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:He("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function Yd({className:e,inset:t,...r}){return s.jsx(OV,{"data-slot":"dropdown-menu-label","data-inset":t,className:He("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function _a({className:e,...t}){return s.jsx(IV,{"data-slot":"dropdown-menu-separator",className:He("bg-border -mx-1 my-1 h-px",e),...t})}var wm="Dialog",[UC,VC]=hr(wm),[LV,Or]=UC(wm),FC=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=x.useRef(null),m=x.useRef(null),[h,p]=Ca({prop:a,defaultProp:i??!1,onChange:l,caller:wm});return s.jsx(LV,{scope:t,triggerRef:d,contentRef:m,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:h,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(v=>!v),[p]),modal:u,children:r})};FC.displayName=wm;var qC="DialogTrigger",YC=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Or(qC,r),l=et(t,i.triggerRef);return s.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F0(i.open),...a,ref:l,onClick:Ae(e.onClick,i.onOpenToggle)})});YC.displayName=qC;var U0="DialogPortal",[PV,GC]=UC(U0,{forceMount:void 0}),XC=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:i}=e,l=Or(U0,t);return s.jsx(PV,{scope:t,forceMount:r,children:x.Children.map(a,u=>s.jsx(Pn,{present:r||l.open,children:s.jsx(am,{asChild:!0,container:i,children:u})}))})};XC.displayName=U0;var Cf="DialogOverlay",WC=x.forwardRef((e,t)=>{const r=GC(Cf,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,l=Or(Cf,e.__scopeDialog);return l.modal?s.jsx(Pn,{present:a||l.open,children:s.jsx(HV,{...i,ref:t})}):null});WC.displayName=Cf;var $V=ro("DialogOverlay.RemoveScroll"),HV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Or(Cf,r);return s.jsx(im,{as:$V,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ve.div,{"data-state":F0(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ho="DialogContent",ZC=x.forwardRef((e,t)=>{const r=GC(ho,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,l=Or(ho,e.__scopeDialog);return s.jsx(Pn,{present:a||l.open,children:l.modal?s.jsx(BV,{...i,ref:t}):s.jsx(UV,{...i,ref:t})})});ZC.displayName=ho;var BV=x.forwardRef((e,t)=>{const r=Or(ho,e.__scopeDialog),a=x.useRef(null),i=et(t,r.contentRef,a);return x.useEffect(()=>{const l=a.current;if(l)return w0(l)},[]),s.jsx(KC,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Ae(e.onFocusOutside,l=>l.preventDefault())})}),UV=x.forwardRef((e,t)=>{const r=Or(ho,e.__scopeDialog),a=x.useRef(!1),i=x.useRef(!1);return s.jsx(KC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=l.target;r.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),KC=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...u}=e,d=Or(ho,r),m=x.useRef(null),h=et(t,m);return f0(),s.jsxs(s.Fragment,{children:[s.jsx(Jf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:s.jsx(Qf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":F0(d.open),...u,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(FV,{titleId:d.titleId}),s.jsx(YV,{contentRef:m,descriptionId:d.descriptionId})]})]})}),V0="DialogTitle",QC=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Or(V0,r);return s.jsx(Ve.h2,{id:i.titleId,...a,ref:t})});QC.displayName=V0;var JC="DialogDescription",ek=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Or(JC,r);return s.jsx(Ve.p,{id:i.descriptionId,...a,ref:t})});ek.displayName=JC;var tk="DialogClose",nk=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Or(tk,r);return s.jsx(Ve.button,{type:"button",...a,ref:t,onClick:Ae(e.onClick,()=>i.onOpenChange(!1))})});nk.displayName=tk;function F0(e){return e?"open":"closed"}var rk="DialogTitleWarning",[VV,sk]=qD(rk,{contentName:ho,titleName:V0,docsSlug:"dialog"}),FV=({titleId:e})=>{const t=sk(rk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qV="DialogDescriptionWarning",YV=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sk(qV).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},GV=FC,XV=YC,WV=XC,ZV=WC,KV=ZC,QV=QC,JV=ek,ak=nk,ok="AlertDialog",[eF,lY]=hr(ok,[VC]),Bs=VC(),ik=e=>{const{__scopeAlertDialog:t,...r}=e,a=Bs(t);return s.jsx(GV,{...a,...r,modal:!0})};ik.displayName=ok;var tF="AlertDialogTrigger",nF=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Bs(r);return s.jsx(XV,{...i,...a,ref:t})});nF.displayName=tF;var rF="AlertDialogPortal",lk=e=>{const{__scopeAlertDialog:t,...r}=e,a=Bs(t);return s.jsx(WV,{...a,...r})};lk.displayName=rF;var sF="AlertDialogOverlay",ck=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Bs(r);return s.jsx(ZV,{...i,...a,ref:t})});ck.displayName=sF;var gi="AlertDialogContent",[aF,oF]=eF(gi),iF=RR("AlertDialogContent"),uk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...i}=e,l=Bs(r),u=x.useRef(null),d=et(t,u),m=x.useRef(null);return s.jsx(VV,{contentName:gi,titleName:dk,docsSlug:"alert-dialog",children:s.jsx(aF,{scope:r,cancelRef:m,children:s.jsxs(KV,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Ae(i.onOpenAutoFocus,h=>{h.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(iF,{children:a}),s.jsx(cF,{contentRef:u})]})})})});uk.displayName=gi;var dk="AlertDialogTitle",fk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Bs(r);return s.jsx(QV,{...i,...a,ref:t})});fk.displayName=dk;var mk="AlertDialogDescription",hk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Bs(r);return s.jsx(JV,{...i,...a,ref:t})});hk.displayName=mk;var lF="AlertDialogAction",pk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Bs(r);return s.jsx(ak,{...i,...a,ref:t})});pk.displayName=lF;var gk="AlertDialogCancel",xk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:i}=oF(gk,r),l=Bs(r),u=et(t,i);return s.jsx(ak,{...l,...a,ref:u})});xk.displayName=gk;var cF=({contentRef:e})=>{const t=`\`${gi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gi}\` by passing a \`${mk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},uF=ik,dF=lk,vk=ck,yk=uk,bk=pk,wk=xk,Nk=fk,jk=hk;const Sk=uF,fF=dF,_k=x.forwardRef(({className:e,...t},r)=>s.jsx(vk,{className:He("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));_k.displayName=vk.displayName;const q0=x.forwardRef(({className:e,...t},r)=>s.jsxs(fF,{children:[s.jsx(_k,{}),s.jsx(yk,{ref:r,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));q0.displayName=yk.displayName;const Y0=({className:e,...t})=>s.jsx("div",{className:He("flex flex-col space-y-2 text-center sm:text-left",e),...t});Y0.displayName="AlertDialogHeader";const G0=({className:e,...t})=>s.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});G0.displayName="AlertDialogFooter";const X0=x.forwardRef(({className:e,...t},r)=>s.jsx(Nk,{ref:r,className:He("text-lg font-semibold",e),...t}));X0.displayName=Nk.displayName;const W0=x.forwardRef(({className:e,...t},r)=>s.jsx(jk,{ref:r,className:He("text-sm text-muted-foreground",e),...t}));W0.displayName=jk.displayName;const Z0=x.forwardRef(({className:e,...t},r)=>s.jsx(bk,{ref:r,className:He(Ex(),e),...t}));Z0.displayName=bk.displayName;const K0=x.forwardRef(({className:e,...t},r)=>s.jsx(wk,{ref:r,className:He(Ex({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));K0.displayName=wk.displayName;function mF(){const{toast:e}=Mf(),t=fi(H=>H.workerConfig),r=fi(H=>H.setWorkerConfig),[a,i]=x.useState([]),[l,u]=x.useState(!0),[d,m]=x.useState(""),[h,p]=x.useState("all"),[v,y]=x.useState(!1),[b,j]=x.useState(null),[N,S]=x.useState(null),_=async()=>{u(!0);try{const H=await fetch("/v1/agents");if(H.ok){const X=await H.json();i(X.data||[]),r({...t,agents:X.data||[]})}}catch(H){console.error("Erro ao carregar agentes:",H)}finally{u(!1)}};x.useEffect(()=>{_()},[]);const C=x.useMemo(()=>t.resources?.models||{},[t.resources]),E=x.useMemo(()=>t.resources?.tools||[],[t.resources]),k=x.useMemo(()=>{const H=new Set(a.map(X=>X.model));return Array.from(H)},[a]),M=x.useMemo(()=>a.filter(H=>{const X=d===""||H.role.toLowerCase().includes(d.toLowerCase())||H.id.toLowerCase().includes(d.toLowerCase())||(H.description||"").toLowerCase().includes(d.toLowerCase()),G=h==="all"||H.model===h;return X&&G}),[a,d,h]),O=async H=>{try{if(!(await fetch("/v1/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)})).ok)throw new Error("Falha ao salvar agente");await _(),e({title:b?"Agente atualizado":"Agente criado",description:`${H.role} foi salvo em exemplos/agentes/`})}catch(X){console.error("Erro ao salvar:",X),e({title:"Erro ao salvar",description:String(X),variant:"destructive"})}j(null),y(!1)},D=async H=>{const X={...H,id:`${H.id}_copy`,role:`${H.role} (Cpia)`};try{if(!(await fetch("/v1/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)})).ok)throw new Error("Falha ao duplicar agente");await _(),e({title:"Agente duplicado",description:`${X.role} foi criado.`})}catch(G){e({title:"Erro ao duplicar",description:String(G),variant:"destructive"})}},z=async()=>{if(N){try{if(!(await fetch(`/v1/agents/${encodeURIComponent(N.id)}`,{method:"DELETE"})).ok)throw new Error("Falha ao deletar agente");await _(),e({title:"Agente removido",description:`${N.role} foi deletado.`})}catch(H){e({title:"Erro ao deletar",description:String(H),variant:"destructive"})}S(null)}},B=H=>{const{_file:X,...G}=H,ee=JSON.stringify(G,null,2),P=new Blob([ee],{type:"application/json"}),F=URL.createObjectURL(P),A=document.createElement("a");A.href=F,A.download=`${H.id}.json`,A.click(),URL.revokeObjectURL(F),e({title:"Exportado",description:`${H.role} foi baixado.`})};return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[s.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-6 bg-background shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),"Agentes"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.length," agente",a.length!==1?"s":"","  exemplos/agentes/"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",size:"icon",onClick:_,disabled:l,title:"Atualizar lista",children:s.jsx(Dc,{className:`h-4 w-4 ${l?"animate-spin":""}`})}),s.jsxs(ge,{size:"default",className:"px-4 py-2",onClick:()=>y(!0),children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]})]}),s.jsx("div",{className:"p-4 border-b bg-muted/30 shrink-0",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(at,{placeholder:"Buscar por nome, ID ou descrio...",value:d,onChange:H=>m(H.target.value),className:"pl-9"})]}),s.jsxs(tn,{value:h,onValueChange:p,children:[s.jsxs(rn,{className:"w-[180px]",children:[s.jsx(NT,{className:"h-4 w-4 mr-2"}),s.jsx(nn,{placeholder:"Filtrar por modelo"})]}),s.jsxs(sn,{children:[s.jsx(gt,{value:"all",children:"Todos os modelos"}),k.map(H=>s.jsx(gt,{value:H,children:H},H))]})]}),s.jsxs(Ge,{variant:"secondary",children:[M.length," de ",a.length," agentes"]})]})}),s.jsx("div",{className:"flex-1 overflow-auto p-4",children:M.length===0?s.jsx(ct,{className:"max-w-md mx-auto mt-12",children:s.jsxs(ut,{className:"p-8 text-center",children:[s.jsx(ft,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:a.length===0?"Nenhum agente criado":"Nenhum resultado encontrado"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a.length===0?"Comece criando seu primeiro agente para usar nos workflows.":"Tente ajustar os filtros de busca."}),a.length===0&&s.jsxs(ge,{onClick:()=>y(!0),children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]})}):s.jsx("div",{className:"border rounded-lg",children:s.jsxs(pm,{children:[s.jsx(gm,{children:s.jsxs(As,{children:[s.jsx(pn,{className:"w-[250px]",children:"Role"}),s.jsx(pn,{children:"ID"}),s.jsx(pn,{children:"Modelo"}),s.jsx(pn,{children:"Ferramentas"}),s.jsx(pn,{className:"w-[100px] text-right",children:"Aes"})]})}),s.jsx(xm,{children:M.map(H=>s.jsxs(As,{children:[s.jsx(qt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:H.role}),H.description&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:H.description})]})]})}),s.jsx(qt,{children:s.jsx("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:H.id})}),s.jsx(qt,{children:s.jsx(Ge,{variant:"outline",children:H.model})}),s.jsx(qt,{children:H.tools.length>0?s.jsxs("div",{className:"flex gap-1",children:[H.tools.slice(0,2).map(X=>s.jsx(Ge,{variant:"secondary",className:"text-xs",children:X},X)),H.tools.length>2&&s.jsxs(Ge,{variant:"secondary",className:"text-xs",children:["+",H.tools.length-2]})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),s.jsx(qt,{className:"text-right",children:s.jsxs(Bi,{children:[s.jsx(Ui,{asChild:!0,children:s.jsx(ge,{variant:"ghost",size:"icon",children:s.jsx(Ax,{className:"h-4 w-4"})})}),s.jsxs(Vi,{align:"end",children:[s.jsxs(At,{onClick:()=>j(H),children:[s.jsx(Mx,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(At,{onClick:()=>D(H),children:[s.jsx(wa,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),s.jsxs(At,{onClick:()=>B(H),children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Exportar JSON"]}),s.jsx(_a,{}),s.jsxs(At,{className:"text-red-600",onClick:()=>S(H),children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},H.id))})]})})}),s.jsx(PE,{open:v||b!==null,onOpenChange:H=>{H||(y(!1),j(null))},agent:b||void 0,availableModels:C,availableTools:E,onSave:O,mode:b?"edit":"create"}),s.jsx(Sk,{open:N!==null,onOpenChange:H=>!H&&S(null),children:s.jsxs(q0,{children:[s.jsxs(Y0,{children:[s.jsx(X0,{children:"Excluir agente?"}),s.jsxs(W0,{children:["Tem certeza que deseja excluir ",s.jsx("strong",{children:N?.role}),"?",s.jsx("br",{}),"Esta ao no pode ser desfeita e o agente ser removido de todos os workflows."]})]}),s.jsxs(G0,{children:[s.jsx(K0,{children:"Cancelar"}),s.jsx(Z0,{onClick:z,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})}function hF(){const{toast:e}=Mf(),t=Rc(),r=x.useMemo(()=>new Fx,[]),[a,i]=x.useState([]),[l,u]=x.useState(!0),[d,m]=x.useState(""),[h,p]=x.useState(null),v=async()=>{u(!0);try{const C=await r.getSavedWorkflows();i(C||[])}catch(C){console.error("Erro ao carregar workflows:",C),e({title:"Erro ao carregar workflows",description:String(C),variant:"destructive"})}finally{u(!1)}};x.useEffect(()=>{v()},[]);const y=x.useMemo(()=>a.filter(C=>d===""||(C.name||"").toLowerCase().includes(d.toLowerCase())||(C._file||"").toLowerCase().includes(d.toLowerCase())||(C.workflow?.type||"").toLowerCase().includes(d.toLowerCase())),[a,d]),b=()=>{t("/platform/studio")},j=C=>{t(`/platform/studio?file=${encodeURIComponent(C._file)}`)},N=async()=>{if(h)try{await r.deleteSavedWorkflow(h._file),await v(),e({title:"Workflow removido",description:`${h.name} foi deletado.`})}catch(C){e({title:"Erro ao deletar",description:String(C),variant:"destructive"})}finally{p(null)}},S=C=>C.agents?.length||0,_=C=>C.workflow?.steps?.length||0;return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Workflows"}),s.jsxs("p",{className:"text-muted-foreground",children:["Gerencie os fluxos de trabalho salvos em ",s.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"exemplos/workflows/"})]})]}),s.jsxs(ge,{onClick:b,children:[s.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Novo Workflow"]})]}),s.jsx(ct,{children:s.jsxs(ut,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(oo,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(at,{placeholder:"Buscar workflows...",value:d,onChange:C=>m(C.target.value),className:"pl-8"})]}),s.jsx(ge,{variant:"outline",size:"icon",onClick:v,title:"Recarregar",children:s.jsx(Dc,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pm,{children:[s.jsx(gm,{children:s.jsxs(As,{children:[s.jsx(pn,{children:"Nome"}),s.jsx(pn,{children:"Arquivo"}),s.jsx(pn,{children:"Tipo"}),s.jsx(pn,{children:"Agentes"}),s.jsx(pn,{children:"Steps"}),s.jsx(pn,{className:"w-[100px]",children:"Aes"})]})}),s.jsx(xm,{children:l?s.jsx(As,{children:s.jsx(qt,{colSpan:6,className:"h-24 text-center",children:"Carregando..."})}):y.length===0?s.jsx(As,{children:s.jsx(qt,{colSpan:6,className:"h-24 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Uj,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("p",{children:"Nenhum workflow encontrado."}),s.jsxs(ge,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Criar primeiro workflow"]})]})})}):y.map(C=>s.jsxs(As,{children:[s.jsx(qt,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(li,{className:"h-4 w-4 text-muted-foreground"}),C.name||C._file]})}),s.jsx(qt,{className:"font-mono text-xs text-muted-foreground",children:C._file}),s.jsx(qt,{children:s.jsx(Ge,{variant:"outline",children:C.workflow?.type||"unknown"})}),s.jsx(qt,{children:s.jsxs(Ge,{variant:"secondary",children:[S(C)," agentes"]})}),s.jsx(qt,{children:s.jsxs(Ge,{variant:"secondary",children:[_(C)," steps"]})}),s.jsx(qt,{children:s.jsxs(Bi,{children:[s.jsx(Ui,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Abrir menu"}),s.jsx(Ax,{className:"h-4 w-4"})]})}),s.jsxs(Vi,{align:"end",children:[s.jsxs(At,{onClick:()=>j(C),children:[s.jsx(Mx,{className:"mr-2 h-4 w-4"}),"Editar"]}),s.jsxs(At,{onClick:()=>t(`/platform/chat?workflow=${encodeURIComponent(C.name||C._file)}`),children:[s.jsx(Tx,{className:"mr-2 h-4 w-4"}),"Executar"]}),s.jsx(_a,{}),s.jsxs(At,{className:"text-destructive focus:text-destructive",onClick:()=>p(C),children:[s.jsx(mr,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})})]},C._file))})]})})]})}),s.jsx(Sk,{open:!!h,onOpenChange:C=>!C&&p(null),children:s.jsxs(q0,{children:[s.jsxs(Y0,{children:[s.jsx(X0,{children:"Voc tem certeza?"}),s.jsxs(W0,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente o workflow",s.jsxs("span",{className:"font-semibold text-foreground",children:[" ",h?.name||h?._file," "]}),"e remover o arquivo do disco."]})]}),s.jsxs(G0,{children:[s.jsx(K0,{children:"Cancelar"}),s.jsx(Z0,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}function pF(){return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted p-3 rounded-lg max-w-[80%]",children:"Hello! How can I help you today?"})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("div",{className:"bg-primary text-primary-foreground p-3 rounded-lg max-w-[80%]",children:"I need help building a new agent."})})]}),s.jsxs("div",{className:"p-4 border-t flex gap-2",children:[s.jsx(at,{placeholder:"Type your message..."}),s.jsx(ge,{size:"icon",children:s.jsx(tc,{className:"h-4 w-4"})})]})]})}function Q0({size:e="md",className:t}){return s.jsx(Wr,{className:He("animate-spin",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},t)})}const gF=e=>e==="workflow"?Yr:ft;function xF({agents:e,workflows:t,entities:r,selectedItem:a,onSelect:i,onBrowseGallery:l,isLoading:u=!1}){const[d,m]=x.useState(!1),h=r||[...e,...t],p=j=>{i(j),m(!1)},v=a?gF(a.type):ft,y=a?.name||a?.id||"Select Agent or Workflow",b=a?.metadata?.lazy_loaded!==!1;return s.jsxs(Bi,{open:d,onOpenChange:m,children:[s.jsx(Ui,{asChild:!0,children:s.jsx(ge,{variant:"outline",className:"w-64 justify-between font-mono text-sm",disabled:u,children:u?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q0,{size:"sm"}),s.jsx("span",{className:"text-muted-foreground",children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(v,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:y}),a&&!b&&s.jsx(Wr,{className:"h-3 w-3 text-muted-foreground animate-spin ml-auto flex-shrink-0"})]}),s.jsx(En,{className:"h-4 w-4 opacity-50"})]})})}),s.jsxs(Vi,{className:"w-80 font-mono",children:[(()=>{const j=h.filter(_=>_.type==="workflow"),N=h.filter(_=>_.type==="agent"),S=h[0]?.type;return s.jsxs(s.Fragment,{children:[S==="workflow"&&j.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Yd,{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const C=_.metadata?.lazy_loaded!==!1;return s.jsx(At,{className:"cursor-pointer group",onClick:()=>p(_),children:s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Yr,{className:"h-4 w-4 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),C&&_.description&&s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),j.length>0&&N.length>0&&s.jsx(_a,{}),N.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Yd,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"Agents (",N.length,")"]}),N.map(_=>{const C=_.metadata?.lazy_loaded!==!1;return s.jsx(At,{className:"cursor-pointer group",onClick:()=>p(_),children:s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(ft,{className:"h-4 w-4 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),C&&_.description&&s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),S==="agent"&&j.length>0&&s.jsxs(s.Fragment,{children:[N.length>0&&s.jsx(_a,{}),s.jsxs(Yd,{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const C=_.metadata?.lazy_loaded!==!1;return s.jsx(At,{className:"cursor-pointer group",onClick:()=>p(_),children:s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[s.jsx(Yr,{className:"h-4 w-4 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),C&&_.description&&s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]})]})})(),h.length===0&&s.jsx(At,{disabled:!0,children:s.jsx("div",{className:"text-center text-muted-foreground py-2",children:u?"Loading agents and workflows...":"No agents or workflows found"})}),s.jsx(_a,{}),s.jsxs(At,{className:"cursor-pointer text-primary",onClick:()=>{l?.(),m(!1)},children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Browse Gallery"]})]})]})}var vF=(e,t,r,a,i,l,u,d)=>{let m=document.documentElement,h=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",S=N&&l?i.map(_=>l[_]||_):i;N?(m.classList.remove(...S),m.classList.add(l&&l[b]?l[b]:b)):m.setAttribute(j,b)}),v(b)}function v(b){d&&h.includes(b)&&(m.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)p(a);else try{let b=localStorage.getItem(t)||r,j=u&&b==="system"?y():b;p(j)}catch{}},rj=["light","dark"],Ek="(prefers-color-scheme: dark)",yF=typeof window>"u",J0=x.createContext(void 0),bF={setTheme:e=>{},themes:[]},wF=()=>{var e;return(e=x.useContext(J0))!=null?e:bF},NF=e=>x.useContext(J0)?x.createElement(x.Fragment,null,e.children):x.createElement(SF,{...e}),jF=["light","dark"],SF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:i="theme",themes:l=jF,defaultTheme:u=r?"system":"light",attribute:d="data-theme",value:m,children:h,nonce:p,scriptProps:v})=>{let[y,b]=x.useState(()=>EF(i,u)),[j,N]=x.useState(()=>y==="system"?xg():y),S=m?Object.values(m):l,_=x.useCallback(M=>{let O=M;if(!O)return;M==="system"&&r&&(O=xg());let D=m?m[O]:O,z=t?CF(p):null,B=document.documentElement,H=X=>{X==="class"?(B.classList.remove(...S),D&&B.classList.add(D)):X.startsWith("data-")&&(D?B.setAttribute(X,D):B.removeAttribute(X))};if(Array.isArray(d)?d.forEach(H):H(d),a){let X=rj.includes(u)?u:null,G=rj.includes(O)?O:X;B.style.colorScheme=G}z?.()},[p]),C=x.useCallback(M=>{let O=typeof M=="function"?M(y):M;b(O);try{localStorage.setItem(i,O)}catch{}},[y]),E=x.useCallback(M=>{let O=xg(M);N(O),y==="system"&&r&&!e&&_("system")},[y,e]);x.useEffect(()=>{let M=window.matchMedia(Ek);return M.addListener(E),E(M),()=>M.removeListener(E)},[E]),x.useEffect(()=>{let M=O=>{O.key===i&&(O.newValue?b(O.newValue):C(u))};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[C]),x.useEffect(()=>{_(e??y)},[e,y]);let k=x.useMemo(()=>({theme:y,setTheme:C,forcedTheme:e,resolvedTheme:y==="system"?j:y,themes:r?[...l,"system"]:l,systemTheme:r?j:void 0}),[y,C,e,j,r,l]);return x.createElement(J0.Provider,{value:k},x.createElement(_F,{forcedTheme:e,storageKey:i,attribute:d,enableSystem:r,enableColorScheme:a,defaultTheme:u,value:m,themes:l,nonce:p,scriptProps:v}),h)},_F=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:i,defaultTheme:l,value:u,themes:d,nonce:m,scriptProps:h})=>{let p=JSON.stringify([r,t,l,e,d,u,a,i]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${vF.toString()})(${p})`}})}),EF=(e,t)=>{if(yF)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},CF=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},xg=e=>(e||(e=window.matchMedia(Ek)),e.matches?"dark":"light");function kF(){const{setTheme:e}=wF();return s.jsxs(Bi,{children:[s.jsx(Ui,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",size:"sm",children:[s.jsx(AD,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(nD,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Vi,{align:"end",children:[s.jsx(At,{onClick:()=>e("light"),children:"Light"}),s.jsx(At,{onClick:()=>e("dark"),children:"Dark"}),s.jsx(At,{onClick:()=>e("system"),children:"System"})]})]})}const sj={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Cc=new Map,Ad=e=>{const t=Cc.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,a])=>[r,a.getState()])):{}},AF=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const a=Cc.get(r.name);if(a)return{type:"tracked",store:e,...a};const i={connection:t.connect(r),stores:{}};return Cc.set(r.name,i),{type:"tracked",store:e,...i}},RF=(e,t)=>{if(t===void 0)return;const r=Cc.get(e);r&&(delete r.stores[t],Object.keys(r.stores).length===0&&Cc.delete(e))},MF=e=>{var t,r;if(!e)return;const a=e.split(`
`),i=a.findIndex(u=>u.includes("api.setState"));if(i<0)return;const l=((t=a[i+1])==null?void 0:t.trim())||"";return(r=/.+ (.+) .+/.exec(l))==null?void 0:r[1]},TF=(e,t={})=>(r,a,i)=>{const{enabled:l,anonymousActionType:u,store:d,...m}=t;let h;try{h=(l??(sj?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return e(r,a,i);const{connection:p,...v}=AF(d,h,m);let y=!0;i.setState=((N,S,_)=>{const C=r(N,S);if(!y)return C;const E=_===void 0?{type:u||MF(new Error().stack)||"anonymous"}:typeof _=="string"?{type:_}:_;return d===void 0?(p?.send(E,a()),C):(p?.send({...E,type:`${d}/${E.type}`},{...Ad(m.name),[d]:i.getState()}),C)}),i.devtools={cleanup:()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe(),RF(m.name,d)}};const b=(...N)=>{const S=y;y=!1,r(...N),y=S},j=e(i.setState,a,i);if(v.type==="untracked"?p?.init(j):(v.stores[v.store]=i,p?.init(Object.fromEntries(Object.entries(v.stores).map(([N,S])=>[N,N===v.store?j:S.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const S=i.dispatch;i.dispatch=(..._)=>{(sj?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),S(..._)}}return p.subscribe(N=>{var S;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return vg(N.payload,_=>{if(_.type==="__setState"){if(d===void 0){b(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=_.state[d];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&b(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(j),d===void 0?p?.init(i.getState()):p?.init(Ad(m.name));case"COMMIT":if(d===void 0){p?.init(i.getState());return}return p?.init(Ad(m.name));case"ROLLBACK":return vg(N.state,_=>{if(d===void 0){b(_),p?.init(i.getState());return}b(_[d]),p?.init(Ad(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return vg(N.state,_=>{if(d===void 0){b(_);return}JSON.stringify(i.getState())!==JSON.stringify(_[d])&&b(_[d])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,C=(S=_.computedStates.slice(-1)[0])==null?void 0:S.state;if(!C)return;b(d===void 0?C:C[d]),p?.send(null,_);return}case"PAUSE_RECORDING":return y=!y}return}}),j},DF=TF,vg=(e,t)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&t(r)};function OF(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var l;const u=m=>m===null?null:JSON.parse(m,void 0),d=(l=r.getItem(i))!=null?l:null;return d instanceof Promise?d.then(u):u(d)},setItem:(i,l)=>r.setItem(i,JSON.stringify(l,void 0)),removeItem:i=>r.removeItem(i)}}const dx=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(a){return dx(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return dx(a)(r)}}}},zF=(e,t)=>(r,a,i)=>{let l={storage:OF(()=>localStorage),partialize:N=>N,version:0,merge:(N,S)=>({...S,...N}),...t},u=!1;const d=new Set,m=new Set;let h=l.storage;if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...N)},a,i);const p=()=>{const N=l.partialize({...a()});return h.setItem(l.name,{state:N,version:l.version})},v=i.setState;i.setState=(N,S)=>(v(N,S),p());const y=e((...N)=>(r(...N),p()),a,i);i.getInitialState=()=>y;let b;const j=()=>{var N,S;if(!h)return;u=!1,d.forEach(C=>{var E;return C((E=a())!=null?E:y)});const _=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(N=a())!=null?N:y))||void 0;return dx(h.getItem.bind(h))(l.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==l.version){if(l.migrate){const E=l.migrate(C.state,C.version);return E instanceof Promise?E.then(k=>[!0,k]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var E;const[k,M]=C;if(b=l.merge(M,(E=a())!=null?E:y),r(b,!0),k)return p()}).then(()=>{_?.(b,void 0),b=a(),u=!0,m.forEach(C=>C(b))}).catch(C=>{_?.(void 0,C)})};return i.persist={setOptions:N=>{l={...l,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>u,onHydrate:N=>(d.add(N),()=>{d.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},l.skipHydration||j(),b||y},IF=zF,xe=g_()(DF(IF(e=>({agents:[],workflows:[],entities:[],selectedAgent:void 0,isLoadingEntities:!0,entityError:null,currentConversation:void 0,availableConversations:[],chatItems:[],isStreaming:!1,isSubmitting:!1,loadingConversations:!1,inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],loadingSessions:!1,loadingCheckpoints:!1,showDebugPanel:!0,debugPanelMinimized:!1,debugPanelWidth:320,debugEvents:[],isResizing:!1,showAboutModal:!1,showGallery:!1,showDeployModal:!1,showEntityNotFoundToast:!1,toasts:[],oaiMode:{enabled:!1,model:"gpt-4o-mini"},uiMode:"developer",runtime:"python",serverCapabilities:{tracing:!1,openai_proxy:!1,deployment:!1},authRequired:!1,isDeploying:!1,deploymentLogs:[],lastDeployment:null,azureDeploymentEnabled:!1,setAgents:t=>e({agents:t}),setWorkflows:t=>e({workflows:t}),setEntities:t=>e({entities:t}),setSelectedAgent:t=>e({selectedAgent:t}),addAgent:t=>e(r=>({agents:[...r.agents,t]})),addWorkflow:t=>e(r=>({workflows:[...r.workflows,t]})),updateAgent:t=>e(r=>({agents:r.agents.map(a=>a.id===t.id?t:a),selectedAgent:r.selectedAgent?.id===t.id&&r.selectedAgent.type==="agent"?t:r.selectedAgent})),updateWorkflow:t=>e(r=>({workflows:r.workflows.map(a=>a.id===t.id?t:a),selectedAgent:r.selectedAgent?.id===t.id&&r.selectedAgent.type==="workflow"?t:r.selectedAgent})),removeEntity:t=>e(r=>({agents:r.agents.filter(a=>a.id!==t),workflows:r.workflows.filter(a=>a.id!==t),selectedAgent:r.selectedAgent?.id===t?void 0:r.selectedAgent})),setEntityError:t=>e({entityError:t}),setIsLoadingEntities:t=>e({isLoadingEntities:t}),setCurrentConversation:t=>e({currentConversation:t}),setAvailableConversations:t=>e({availableConversations:t}),setChatItems:t=>e({chatItems:t}),setIsStreaming:t=>e({isStreaming:t}),setIsSubmitting:t=>e({isSubmitting:t}),setLoadingConversations:t=>e({loadingConversations:t}),setInputValue:t=>e({inputValue:t}),setAttachments:t=>e({attachments:t}),updateConversationUsage:t=>e(r=>({conversationUsage:{total_tokens:r.conversationUsage.total_tokens+t,message_count:r.conversationUsage.message_count+1}})),setPendingApprovals:t=>e({pendingApprovals:t}),setCurrentSession:t=>e({currentSession:t}),setAvailableSessions:t=>e({availableSessions:t}),setSessionCheckpoints:t=>e({sessionCheckpoints:t}),setLoadingSessions:t=>e({loadingSessions:t}),setLoadingCheckpoints:t=>e({loadingCheckpoints:t}),addSession:t=>e(r=>({availableSessions:[t,...r.availableSessions]})),removeSession:t=>e(r=>({availableSessions:r.availableSessions.filter(a=>a.conversation_id!==t),currentSession:r.currentSession?.conversation_id===t?void 0:r.currentSession,sessionCheckpoints:r.currentSession?.conversation_id===t?[]:r.sessionCheckpoints})),setShowDebugPanel:t=>e({showDebugPanel:t}),setDebugPanelMinimized:t=>e({debugPanelMinimized:t}),setDebugPanelWidth:t=>e({debugPanelWidth:t}),addDebugEvent:t=>e(r=>{const a=Math.floor(Date.now()/1e3),i=r.debugEvents.length>0&&r.debugEvents[r.debugEvents.length-1]._uiTimestamp||0,l=Math.max(a,i+1);return{debugEvents:[...r.debugEvents,{...t,_uiTimestamp:"created_at"in t&&t.created_at?t.created_at:l}]}}),clearDebugEvents:()=>e({debugEvents:[]}),setIsResizing:t=>e({isResizing:t}),setShowAboutModal:t=>e({showAboutModal:t}),setShowGallery:t=>e({showGallery:t}),setShowDeployModal:t=>e({showDeployModal:t}),setShowEntityNotFoundToast:t=>e({showEntityNotFoundToast:t}),addToast:t=>e(r=>({toasts:[...r.toasts,{id:`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:t.type||"info",duration:t.duration||4e3,...t}]})),removeToast:t=>e(r=>({toasts:r.toasts.filter(a=>a.id!==t)})),setOAIMode:t=>e(r=>t.enabled&&!r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):!t.enabled&&r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):{oaiMode:t}),toggleOAIMode:()=>e(t=>{const r=!t.oaiMode.enabled;return{oaiMode:{...t.oaiMode,enabled:r},currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}}),setServerMeta:t=>e({uiMode:t.uiMode,runtime:t.runtime,serverCapabilities:t.capabilities,authRequired:t.authRequired}),startDeployment:()=>e({isDeploying:!0,deploymentLogs:[],lastDeployment:null}),addDeploymentLog:t=>e(r=>({deploymentLogs:[...r.deploymentLogs,t]})),setDeploymentResult:t=>e({isDeploying:!1,lastDeployment:t}),stopDeployment:()=>e({isDeploying:!1}),clearDeploymentState:()=>e({isDeploying:!1,deploymentLogs:[],lastDeployment:null}),setAzureDeploymentEnabled:t=>e({azureDeploymentEnabled:t}),selectEntity:t=>{e({selectedAgent:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],debugEvents:[]});const r=new URL(window.location.href);r.searchParams.set("entity_id",t.id),window.history.pushState({},"",r)}}),{name:"devui-storage",partialize:e=>({showDebugPanel:e.showDebugPanel,debugPanelMinimized:e.debugPanelMinimized,debugPanelWidth:e.debugPanelWidth,oaiMode:e.oaiMode,azureDeploymentEnabled:e.azureDeploymentEnabled})}),{name:"DevUI Store"})),fx=Object.freeze(Object.defineProperty({__proto__:null,useDevUIStore:xe},Symbol.toStringTag,{value:"Module"}));function aj({agents:e,workflows:t,entities:r,selectedItem:a,onSelect:i,onBrowseGallery:l,isLoading:u=!1,onSettingsClick:d}){const{oaiMode:m}=xe();return s.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[s.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_linear_510_1294)"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"paint0_linear_510_1294",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[s.jsx("stop",{stopColor:"#D59FFF"}),s.jsx("stop",{offset:"1",stopColor:"#8562C5"})]})})]}),"MAIA",m.enabled&&s.jsxs(Ge,{variant:"secondary",className:"gap-1 ml-2",children:[s.jsx(zx,{className:"h-3 w-3"}),"OpenAI: ",m.model]})]}),!m.enabled&&s.jsx(xF,{agents:e,workflows:t,entities:r,selectedItem:a,onSelect:i,onBrowseGallery:l,isLoading:u}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsx(kF,{}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:h=>{h.stopPropagation(),d?.()},children:s.jsx(Jd,{className:"h-4 w-4"})})]})]})}function ev(){return s.jsx("div",{className:"flex items-center gap-2 py-3 px-2",children:s.jsx("div",{className:"flex-1 border-t border-border/50"})})}function tv(e){const t=[];let r=!1;for(let a=0;a<e.length;a++){const i=e[a];r&&i.type!=="response.done"&&(t.push({type:"separator",id:`sep-${a}`}),r=!1),t.push(i),(i.type==="response.done"||i.type==="response.completed")&&(r=!0)}return t}function po(e){if(e.type==="response.function_result.complete"){const t=e;return{call_id:t.call_id,output:t.output,status:t.status}}return null}function Ck(e){const t=[],r=new Map,a=new Map;let i="";for(const l of e){if(l.type==="response.trace.completed"||l.type==="response.trace.completed")continue;if(l.type==="response.output_item.added"){const m=l.item;if(m.type==="function_call"&&m.call_id&&m.name){const h=m.call_id;r.set(h,{name:m.name,arguments:"",callId:h,itemId:m.id,timestamp:new Date().toISOString()}),a.set(h,m.name)}t.push(l);continue}const u=po(l)!==null;if(l.type==="response.completed"||l.type==="response.done"||l.type==="error"||l.type==="response.workflow_event.completed"||l.type==="response.trace.completed"||l.type==="response.trace.completed"||u){if(i.trim()&&(t.push({type:"response.output_text.delta",delta:i.trim()}),i=""),(l.type==="response.trace.completed"||l.type==="response.trace.completed")&&"data"in l){const m=l.data;if(m.attributes&&m.attributes["gen_ai.output.messages"]&&typeof m.attributes["gen_ai.output.messages"]=="string")try{const h=JSON.parse(m.attributes["gen_ai.output.messages"]);for(const p of h)if(p.parts)for(const v of p.parts)v.type==="tool_call"&&v.name&&v.id&&a.set(v.id,v.name)}catch{}}const d=po(l);if(d){const m=d.call_id;if(m&&r.has(m)){const h=r.get(m),p=a.get(m)||h.name||"unknown";t.push({type:"response.function_call.complete",data:{name:p,arguments:h.arguments,call_id:h.callId}}),r.delete(m)}}t.push(l);continue}if(l.type==="response.function_call.delta"&&"data"in l){const d=l.data,m=d.call_id||`call_${Date.now()}`;r.has(m)||r.set(m,{name:d.name||void 0,arguments:"",callId:m,timestamp:new Date().toISOString()}),d.name&&d.name.trim()&&(r.get(m).name=d.name.trim());continue}if(l.type==="response.function_call.complete"&&"data"in l){t.push(l);continue}if(l.type==="response.function_call_arguments.delta"){let d="",m=null;if("delta"in l&&typeof l.delta=="string"&&(d=l.delta),"item_id"in l&&l.item_id){const h=l.item_id;for(const[p,v]of r.entries())if(v.itemId===h||p===h){m=p;break}}if(d&&m){const h=r.get(m);if(h){if(d==="{}"&&h.arguments==="")continue;h.arguments+=d}else console.warn(`Received argument delta for unknown call with item_id: ${"item_id"in l?l.item_id:"unknown"}`)}continue}if(l.type==="response.output_text.delta"&&"delta"in l){i+=l.delta||"",i.length>100&&(i.includes(`

`)||i.trim().match(/[.!?]\s*$/))&&(t.push({type:"response.output_text.delta",delta:i.trim()}),i="");continue}l.type!=="response.usage.complete"&&t.push(l)}for(const[,l]of r)if(l.arguments.trim()&&l.arguments.trim().length>2){const u=a.get(l.callId)||l.name||"unknown";t.push({type:"response.function_call.complete",data:{name:u,arguments:l.arguments,call_id:l.callId}})}return i.trim()&&t.push({type:"response.output_text.delta",delta:i.trim()}),t}function LF(e){switch(e.type){case"response.output_text.delta":if("delta"in e){const t=e.delta||"";return t.length>60?`${t.slice(0,60)}...`:t}return"Text output";case"response.function_call.complete":if("data"in e&&e.data){const t=e.data;let r=t.name||"unknown";(!r||r==="unknown")&&(r="function_call");const a=t.arguments?typeof t.arguments=="string"?t.arguments.slice(0,30):JSON.stringify(t.arguments).slice(0,30):"";return`Calling ${r}(${a}${a.length>=30?"...":""})`}return"Function call";case"response.function_call_arguments.delta":return"delta"in e&&e.delta?`Function arg delta: ${e.delta.slice(0,30)}${e.delta.length>30?"...":""}`:"Function arguments...";case"response.function_result.complete":{const r=e.output.slice(0,40);return`Function result: ${r}${r.length>=40?"...":""}`}case"response.output_item.added":{const t=e;return t.item.type==="function_call"?`Tool call: ${t.item.name}`:"Output item added"}case"response.workflow_event.completed":return"data"in e&&e.data?`Executor: ${e.data.executor_id||"unknown"}`:"Workflow event";case"response.trace.completed":return"data"in e&&e.data?`Trace: ${e.data.operation_name||"unknown"}`:"Trace event";case"response.completed":if("response"in e&&e.response&&"usage"in e.response){const r=e.response.usage;if(r)return`Response complete (${r.total_tokens} tokens)`}return"Response complete";case"response.done":return"Response complete";case"error":return"message"in e&&typeof e.message=="string"?e.message:"Error occurred";default:return`${e.type}`}}function PF(e){switch(e){case"response.output_text.delta":return Rx;case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return Oc;case"response.function_result.complete":return wn;case"response.output_item.added":return wn;case"response.workflow_event.completed":return Cx;case"response.trace.completed":return oo;case"response.completed":return wn;case"response.done":return wn;case"error":return Tc;default:return Er}}function $F(e){switch(e){case"response.output_text.delta":return"text-gray-600 dark:text-gray-400";case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return"text-blue-600 dark:text-blue-400";case"response.function_result.complete":return"text-green-600 dark:text-green-400";case"response.output_item.added":return"text-green-600 dark:text-green-400";case"response.workflow_event.completed":return"text-purple-600 dark:text-purple-400";case"response.trace.completed":return"text-orange-600 dark:text-orange-400";case"response.completed":return"text-green-600 dark:text-green-400";case"response.done":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}function HF({event:e}){const[t,r]=x.useState(!1),a=e.type||"unknown",i=PF(a),l=$F(a),u="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),d=LF(e),m=e.type==="response.function_call.complete"&&"data"in e&&e.data||e.type==="response.function_result.complete"||e.type==="response.output_item.added"&&po(e)!==null||e.type==="response.workflow_event.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.output_text.delta"&&"delta"in e&&e.delta&&e.delta.length>100||e.type==="response.completed"&&"response"in e&&e.response||e.type==="error";return s.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(i,{className:`h-3 w-3 ${l}`}),s.jsx("span",{className:"font-mono",children:u}),s.jsx(Ge,{variant:"outline",className:"text-xs py-0",children:e.type?e.type.replace("response.",""):"unknown"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:`flex items-center gap-2 ${m?"cursor-pointer":""}`,onClick:()=>m&&r(!t),children:[m&&s.jsx("div",{className:"text-muted-foreground",children:t?s.jsx(En,{className:"h-3 w-3"}):s.jsx(Cr,{className:"h-3 w-3"})}),s.jsx("div",{className:"text-muted-foreground flex-1",children:m&&d.length>80?`${d.slice(0,80)}...`:d})]}),t&&m&&s.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:s.jsx(BF,{event:e})})]})]})}function BF({event:e}){if(e.type==="error"){const t=e;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Error Details"})]}),s.jsxs("div",{className:"text-xs",children:[t.message&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Message:"}),s.jsx("div",{className:"mt-1",children:s.jsx("pre",{className:"text-xs bg-destructive/10 border border-destructive/30 rounded p-2 text-destructive whitespace-pre-wrap break-all",children:t.message})})]}),t.code&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Code:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.code})]}),t.param&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Parameter:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.param})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Raw Event:"}),s.jsx("div",{className:"mt-1",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all max-h-32 overflow-auto",children:JSON.stringify(e,null,2)})})]})]})]})}switch(e.type){case"response.function_call.complete":if("data"in e&&e.data){const t=e.data;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oc,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Function Call"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Function:"}),s.jsx("span",{className:"ml-2 font-mono bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded",children:t.name||"unknown"})]}),t.call_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),t.arguments&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Arguments:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof t.arguments=="string"?t.arguments:JSON.stringify(t.arguments,null,1)})})]})]})]})}break;case"response.function_result.complete":{const t=e;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:t.output})})]})]})]})}case"response.output_item.added":{const t=po(e);if(t)return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:t.output})})]})]})]});break}case"response.workflow_event.completed":if("data"in e&&e.data){const t=e.data;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cx,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Workflow Event"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Event Type:"}),s.jsx("span",{className:"ml-2 font-mono bg-purple-100 dark:bg-purple-900 px-2 py-1 rounded",children:t.event_type||"unknown"})]}),t.executor_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Executor:"}),s.jsx("span",{className:"ml-2 font-mono",children:t.executor_id})]}),t.timestamp&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.timestamp})]}),t.data&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Data:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof t.data=="string"?t.data:JSON.stringify(t.data,null,1)})})]})]})]})}break;case"response.trace.completed":if("data"in e&&e.data){const t=e.data;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oo,{className:"h-4 w-4 text-orange-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Trace Event"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),s.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:t.operation_name||"unknown"})]}),t.span_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.span_id})]}),t.trace_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.trace_id})]}),t.duration_ms&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(t.duration_ms).toFixed(2),"ms"]})]}),t.status&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="StatusCode.UNSET"||t.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status||"unknown"})]}),t.entity_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),s.jsx("span",{className:"ml-2 font-mono text-xs",children:t.entity_id})]}),t.attributes&&Object.keys(t.attributes).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all",children:(()=>{try{const r={...t.attributes};return Object.keys(r).forEach(a=>{if(typeof r[a]=="string"&&r[a].startsWith("["))try{r[a]=JSON.parse(r[a])}catch{}}),JSON.stringify(r,null,2)}catch{return JSON.stringify(t.attributes,null,2)}})()})})]})]})]})}break;case"response.output_text.delta":if("delta"in e&&e.delta)return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rx,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Text Output"})]}),s.jsx("div",{className:"max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:e.delta})})]});break;case"response.completed":if("response"in e&&e.response){const r=e.response;return s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.usage&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"font-medium text-muted-foreground",children:"Usage:"})}),s.jsxs("div",{className:"ml-4 space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Input tokens:"}),s.jsx("span",{className:"ml-2 font-mono",children:r.usage.input_tokens})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Output tokens:"}),s.jsx("span",{className:"ml-2 font-mono",children:r.usage.output_tokens})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Total tokens:"}),s.jsx("span",{className:"ml-2 font-mono bg-green-100 dark:bg-green-900 px-2 py-1 rounded",children:r.usage.total_tokens})]})]})]}),r.id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Response ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.id})]}),r.model&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Model:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.model})]})]})})}break;default:return s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx("pre",{className:"bg-background border rounded p-2 overflow-auto max-h-32",children:JSON.stringify(e,null,2)})})}return null}function UF({events:e,isStreaming:t}){const r=x.useRef(null),a=Ck(e),l=[...tv(a)].reverse();return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cx,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Events"}),s.jsxs(Ge,{variant:"outline",children:[a.length,e.length>a.length?` (${e.length} raw)`:""]})]}),t&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500 dark:bg-green-400"}),"Streaming"]})]}),s.jsx(Jn,{ref:r,className:"flex-1",children:s.jsx("div",{className:"p-3",children:a.length===0?s.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:e.length===0?"No events yet. Start a conversation to see real-time events.":"Processing events... Accumulated events will appear here."}):s.jsx("div",{className:"space-y-2",children:l.map((u,d)=>"type"in u&&u.type==="separator"?s.jsx(ev,{},u.id):s.jsx(HF,{event:u},`${u.type}-${d}`))})})})]})}function VF({events:e}){const t=e.filter(i=>i.type==="response.trace.completed"||i.type==="response.trace.completed"),a=[...tv(t)].reverse();return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[s.jsx(oo,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Traces"}),s.jsx(Ge,{variant:"outline",children:t.length})]}),s.jsx(Jn,{className:"flex-1",children:s.jsx("div",{className:"p-3",children:t.length===0?s.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8",children:["No trace data available.",s.jsx("br",{}),e&&e.length>0&&s.jsxs("div",{className:"mt-3 text-xs border rounded p-2",children:[" ",s.jsx(xi,{className:"inline h-4 w-4 mr-1  "}),"You may have to set the environment variable"," ",s.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"ENABLE_OTEL=true"})," ","or restart MAIA with the tracing flag"," ",s.jsx("div",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --tracing"}),"to enable tracing."]})]}):s.jsx("div",{className:"space-y-3",children:a.map((i,l)=>"type"in i&&i.type==="separator"?s.jsx(ev,{},i.id):s.jsx(FF,{event:i},l))})})})]})}function FF({event:e}){const[t,r]=x.useState(!1);if(e.type!=="response.trace.completed"&&e.type!=="response.trace.completed"||!("data"in e))return s.jsxs("div",{className:"border rounded p-3 text-red-600 dark:text-red-400 text-xs",children:["Error: Expected trace event but got ",e.type]});const a=e.data;let i;"_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?i=new Date(e._uiTimestamp*1e3).toLocaleTimeString():a.end_time?i=new Date(a.end_time*1e3).toLocaleTimeString():a.start_time?i=new Date(a.start_time*1e3).toLocaleTimeString():a.timestamp?i=new Date(a.timestamp).toLocaleTimeString():i=new Date().toLocaleTimeString();const l=a.operation_name||"Unknown Operation",u=a.duration_ms?`${Number(a.duration_ms).toFixed(1)}ms`:"",d=a.entity_id||"";return s.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[s.jsx(oo,{className:"h-3 w-3 text-orange-600 dark:text-orange-400"}),s.jsx("span",{className:"font-mono",children:i}),s.jsx(Ge,{variant:"outline",className:"text-xs py-0",children:"trace"}),u&&s.jsx(Ge,{variant:"secondary",className:"text-xs py-0",children:u})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r(!t),children:[s.jsx("div",{className:"text-muted-foreground",children:t?s.jsx(En,{className:"h-3 w-3"}):s.jsx(Cr,{className:"h-3 w-3"})}),s.jsxs("div",{className:"text-muted-foreground flex-1 break-all",children:[s.jsx("span",{className:"font-medium",children:l}),d&&s.jsxs("span",{className:"ml-2 text-xs",children:["(",d,")"]})]})]}),t&&s.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oo,{className:"h-4 w-4 text-orange-500"}),s.jsx("span",{className:"font-semibold text-sm",children:"Trace Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),s.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:l})]}),a.span_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.span_id})]}),a.trace_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.trace_id})]}),a.parent_span_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Parent Span:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.parent_span_id})]}),a.duration_ms&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(a.duration_ms).toFixed(2),"ms"]})]}),a.status&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${a.status==="StatusCode.UNSET"||a.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:a.status||"unknown"})]}),a.entity_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),s.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:a.entity_id})]}),a.attributes&&Object.keys(a.attributes).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),s.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:s.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:(()=>{try{const m={...a.attributes};return Object.keys(m).forEach(h=>{if(typeof m[h]=="string"&&m[h].startsWith("["))try{m[h]=JSON.parse(m[h])}catch{}}),JSON.stringify(m,null,2)}catch{return JSON.stringify(a.attributes,null,2)}})()})})]})]})]})})]})]})}function qF({events:e}){const t=Ck(e),r=[],a=t.filter(m=>m.type==="response.function_call.complete"),i=e.filter(m=>po(m)!==null),l=new Map;i.forEach(m=>{const h=po(m);h&&l.set(h.call_id,m)}),a.forEach(m=>{if(r.push(m),"data"in m&&m.data&&m.data.call_id){const h=String(m.data.call_id),p=l.get(h);p&&(r.push(p),l.delete(h))}}),l.forEach(m=>{r.push(m)});const d=[...tv(r)].reverse();return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[s.jsx(Oc,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Tools"}),s.jsx(Ge,{variant:"outline",children:r.length})]}),s.jsx(Jn,{className:"flex-1",children:s.jsx("div",{className:"p-3",children:r.length===0?s.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No tool executions yet. Tool calls will appear here during conversations."}):s.jsx("div",{className:"space-y-3",children:d.map((m,h)=>"type"in m&&m.type==="separator"?s.jsx(ev,{},m.id):s.jsx(YF,{event:m},h))})})})]})}function YF({event:e}){const t="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),r=e.type==="response.function_call.complete",a=po(e),i=a!==null;if(!r&&!i)return null;const l=r&&"data"in e?e.data:null;return s.jsxs("div",{className:"border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zx,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),s.jsx("span",{className:"font-medium text-sm",children:r?"Tool Call":"Tool Result"}),r&&l&&l.name!==void 0&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(l.name),")"]})]}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:t})]}),r&&l&&s.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Oc,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"CALL"}),s.jsx("span",{className:"font-medium text-sm",children:String(l.name||"unknown")})]}),l.arguments!==void 0&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-muted-foreground mb-1 block",children:"Arguments:"}),s.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 max-w-full break-all whitespace-pre-wrap",children:typeof l.arguments=="string"?l.arguments:JSON.stringify(l.arguments,null,1)})]})]}),i&&a&&s.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wn,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-xs font-mono bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded",children:"RESULT"}),a.status!=="completed"&&s.jsx("span",{className:"ml-auto px-2 py-1 rounded text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:a.status})]}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Call ID:"}),s.jsx("span",{className:"font-mono text-xs break-all",children:a.call_id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"Output:"}),s.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 break-all whitespace-pre-wrap",children:a.output})]})]})]})]})}function GF({events:e,isStreaming:t=!1,onMinimize:r}){return s.jsx("div",{className:"flex-1 border-l flex flex-col min-h-0",children:s.jsxs($x,{defaultValue:"events",className:"flex-1 flex flex-col min-h-0",children:[s.jsxs("div",{className:"px-3 pt-3 flex items-center gap-2 flex-shrink-0",children:[s.jsxs(If,{className:"flex-1",children:[s.jsx(Na,{value:"events",className:"flex-1",children:"Events"}),s.jsx(Na,{value:"traces",className:"flex-1",children:"Traces"}),s.jsx(Na,{value:"tools",className:"flex-1",children:"Tools"})]}),r&&s.jsx(ge,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 flex-shrink-0",title:"Minimize debug panel",children:s.jsx(Cr,{className:"h-4 w-4"})})]}),s.jsx(ja,{value:"events",className:"flex-1 mt-0 overflow-hidden",children:s.jsx(UF,{events:e,isStreaming:t})}),s.jsx(ja,{value:"traces",className:"flex-1 mt-0 overflow-hidden",children:s.jsx(VF,{events:e})}),s.jsx(ja,{value:"tools",className:"flex-1 mt-0 overflow-hidden",children:s.jsx(qF,{events:e})})]})})}var Nm="Switch",[XF,cY]=hr(Nm),[WF,ZF]=XF(Nm),kk=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:i,defaultChecked:l,required:u,disabled:d,value:m="on",onCheckedChange:h,form:p,...v}=e,[y,b]=x.useState(null),j=et(t,E=>b(E)),N=x.useRef(!1),S=y?p||!!y.closest("form"):!0,[_,C]=Ca({prop:i,defaultProp:l??!1,onChange:h,caller:Nm});return s.jsxs(WF,{scope:r,checked:_,disabled:d,children:[s.jsx(Ve.button,{type:"button",role:"switch","aria-checked":_,"aria-required":u,"data-state":Tk(_),"data-disabled":d?"":void 0,disabled:d,value:m,...v,ref:j,onClick:Ae(e.onClick,E=>{C(k=>!k),S&&(N.current=E.isPropagationStopped(),N.current||E.stopPropagation())})}),S&&s.jsx(Mk,{control:y,bubbles:!N.current,name:a,value:m,checked:_,required:u,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});kk.displayName=Nm;var Ak="SwitchThumb",Rk=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,i=ZF(Ak,r);return s.jsx(Ve.span,{"data-state":Tk(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});Rk.displayName=Ak;var KF="SwitchBubbleInput",Mk=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...i},l)=>{const u=x.useRef(null),d=et(u,l),m=c0(r),h=u0(t);return x.useEffect(()=>{const p=u.current;if(!p)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==r&&b){const j=new Event("click",{bubbles:a});b.call(p,r),p.dispatchEvent(j)}},[m,r,a]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Mk.displayName=KF;function Tk(e){return e?"checked":"unchecked"}var Dk=kk,QF=Rk;const mx=x.forwardRef(({className:e,...t},r)=>s.jsx(Dk,{className:He("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(QF,{className:He("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));mx.displayName=Dk.displayName;const JF=["gpt-4.1","gpt-4.1-mini","o1","o1-mini","o3-mini"];function oj({open:e,onOpenChange:t,onBackendUrlChange:r}){const[a,i]=x.useState("general"),{oaiMode:l,setOAIMode:u,azureDeploymentEnabled:d,setAzureDeploymentEnabled:m,authRequired:h,serverCapabilities:p}=xe(),v="",[y,b]=x.useState(()=>localStorage.getItem("devui_backend_url")||v),[j,N]=x.useState(y),[S,_]=x.useState(!!localStorage.getItem("devui_auth_token")),[C,E]=x.useState(""),k=()=>{try{new URL(j),localStorage.setItem("devui_backend_url",j),b(j),r?.(j),t(!1),window.location.reload()}catch{alert("Please enter a valid URL (e.g., http://localhost:8080)")}},M=()=>{localStorage.removeItem("devui_backend_url"),N(v),b(v),r?.(v),window.location.reload()},O=()=>{C.trim()&&(localStorage.setItem("devui_auth_token",C.trim()),_(!0),E(""),window.location.reload())},D=()=>{localStorage.removeItem("devui_auth_token"),_(!1),E(""),window.location.reload()},z=j!==y,B=!localStorage.getItem("devui_backend_url");return s.jsx(Ls,{open:e,onOpenChange:t,children:s.jsxs(Ps,{className:"w-[600px] max-w-[90vw] flex flex-col max-h-[85vh]",children:[s.jsx($s,{className:"p-6 pb-2 flex-shrink-0",children:s.jsx(Hs,{children:"Settings"})}),s.jsx(go,{onClose:()=>t(!1)}),s.jsxs("div",{className:"flex border-b px-6 flex-shrink-0",children:[s.jsxs("button",{onClick:()=>i("general"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="general"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["General",a==="general"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),p.openai_proxy&&s.jsxs("button",{onClick:()=>i("proxy"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="proxy"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["OpenAI Proxy",a==="proxy"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),s.jsxs("button",{onClick:()=>i("about"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="about"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["About",a==="about"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),s.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 min-h-[400px]",children:[a==="general"&&s.jsxs("div",{className:"space-y-6 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Te,{htmlFor:"backend-url",className:"text-sm font-medium",children:"Backend URL"}),!B&&s.jsxs(ge,{variant:"ghost",size:"sm",onClick:M,className:"h-7 text-xs",title:"Reset to default",children:[s.jsx(Dx,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),s.jsx(at,{id:"backend-url",type:"url",value:j,onChange:H=>N(H.target.value),placeholder:"http://localhost:8080",className:"font-mono text-sm"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",s.jsx("span",{className:"font-mono",children:v})]}),s.jsx("div",{className:"flex gap-2 pt-2 min-h-[36px]",children:z&&s.jsxs(s.Fragment,{children:[s.jsx(ge,{onClick:k,size:"sm",className:"flex-1",children:"Apply & Reload"}),s.jsx(ge,{onClick:()=>N(y),variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})})]}),(h||S)&&s.jsxs("div",{className:"space-y-3 border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Authentication Token"}),!h&&S&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not required by current backend)"})]}),S?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(at,{type:"password",value:"",disabled:!0,className:"font-mono text-sm flex-1"}),s.jsx(ge,{variant:"destructive",size:"sm",onClick:D,className:"flex-shrink-0",children:"Clear"})]}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:" Token configured and stored locally"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(at,{type:"password",value:C,onChange:H=>E(H.target.value),placeholder:"Enter bearer token",className:"font-mono text-sm",onKeyDown:H=>{H.key==="Enter"&&C.trim()&&O()}}),s.jsx(ge,{onClick:O,size:"sm",disabled:!C.trim(),className:"w-full",children:"Save & Reload"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h?"Required by backend (started with --auth flag)":"Not required by current backend"})]})]}),p.deployment&&s.jsxs("div",{className:"space-y-3 border-t pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Azure Deployment"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable one-click deployment to Azure Container Apps"})]}),s.jsx(mx,{checked:d,onCheckedChange:m})]}),s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[s.jsx(Cr,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Learn more about Azure deployment"]}),s.jsxs("div",{className:"mt-3 space-y-3 pl-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'When enabled, agents that support deployment will show a "Deploy to Azure" button. This allows you to deploy your agent to Azure Container Apps directly from MAIA.'}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-xs font-medium",children:"When enabled:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[s.jsx("li",{children:'Shows "Deploy to Azure" for supported agents'}),s.jsx("li",{children:"Requires Azure CLI and proper authentication"}),s.jsx("li",{children:"Backend must have deployment capabilities enabled"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-xs font-medium",children:"When disabled:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[s.jsx("li",{children:'Shows "Deployment Guide" for all agents'}),s.jsx("li",{children:"Provides Docker templates and manual deployment instructions"}),s.jsx("li",{children:"No backend deployment capabilities required"})]})]})]})]})]})]}),a==="proxy"&&p.openai_proxy&&s.jsxs("div",{className:"space-y-6 pt-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Te,{className:"text-base font-medium",children:"OpenAI Proxy Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests through MAIA backend to OpenAI API"})]}),s.jsx(mx,{checked:l.enabled,onCheckedChange:H=>u({...l,enabled:H})})]}),!l.enabled&&s.jsx("div",{className:"bordder border-muted bg-muted/30 rounded-lg p-4 space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xi,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"About OpenAI Proxy Mode"}),s.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["When enabled, your chat requests are sent to your MAIA backend"," ",s.jsxs("span",{className:"font-mono font-semibold",children:["(",y,")"]}),", which then forwards them to OpenAI's API. This keeps your"," ",s.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","secure on the server instead of exposing it in the browser."]}),s.jsxs("div",{className:"space-y-1.5 pt-1",children:[s.jsx("p",{className:"text-xs font-medium",children:"Requirements:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[s.jsxs("li",{children:["Backend must have"," ",s.jsx("span",{className:"font-mono",children:"OPENAI_API_KEY"})," ","configured"]}),s.jsx("li",{children:"Backend must support OpenAI Responses API proxying (MAIA does)"})]})]}),s.jsxs("div",{className:"space-y-1.5 pt-1",children:[s.jsx("p",{className:"text-xs font-medium",children:"Why use this?"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quickly test and compare OpenAI models directly through the MAIA interface without creating custom agents or exposing API keys in the browser."})]})]})]})}),l.enabled&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Model"}),s.jsx(at,{type:"text",value:l.model,onChange:H=>u({...l,model:H.target.value}),placeholder:"gpt-4.1-mini",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any OpenAI model ID (e.g., gpt-4.1, o1, o3-mini)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{className:"text-xs text-muted-foreground",children:"Common presets"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:JF.map(H=>s.jsx(ge,{variant:l.model===H?"default":"outline",size:"sm",onClick:()=>u({...l,model:H}),className:"text-xs h-7",children:H},H))})]}),s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[s.jsx(Cr,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Advanced Parameters (optional)"]}),s.jsxs("div",{className:"space-y-3 mt-3 pl-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs",children:"Temperature"}),s.jsx(at,{type:"number",step:"0.1",min:"0",max:"2",value:l.temperature??"",onChange:H=>u({...l,temperature:H.target.value?parseFloat(H.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness (0-2)"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs",children:"Max Output Tokens"}),s.jsx(at,{type:"number",min:"1",value:l.max_output_tokens??"",onChange:H=>u({...l,max_output_tokens:H.target.value?parseInt(H.target.value):void 0}),placeholder:"Auto",className:"text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum tokens in response"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs",children:"Top P"}),s.jsx(at,{type:"number",step:"0.1",min:"0",max:"1",value:l.top_p??"",onChange:H=>u({...l,top_p:H.target.value?parseFloat(H.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nucleus sampling (0-1)"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Te,{className:"text-xs",children:"Reasoning Effort (o-series models)"}),s.jsxs("select",{value:l.reasoning_effort??"",onChange:H=>u({...l,reasoning_effort:H.target.value?H.target.value:void 0}),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[s.jsx("option",{value:"",children:"Auto (default)"}),s.jsx("option",{value:"minimal",children:"Minimal"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Constrains reasoning effort (faster/cheaper vs thorough)"})]})]})]})]})]}),l.enabled&&s.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[s.jsx(xi,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"space-y-1",children:s.jsxs("p",{children:["Requests route through"," ",s.jsx("span",{className:"font-mono font-semibold",children:y})," ","to OpenAI API. Server must have"," ",s.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","configured."]})})]})]}),a==="about"&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"MAIA is a sample app for getting started with Agent Framework."}),s.jsx("div",{className:"flex justify-center pt-2",children:s.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>window.open("https://github.com/microsoft/agent-framework","_blank"),className:"text-xs",children:[s.jsx(Kd,{className:"h-3 w-3 mr-1"}),"Learn More about Agent Framework"]})})]})]})]})})}function eq({open:e,onClose:t,agentName:r="Agent",entity:a}){const l=xe(T=>T.azureDeploymentEnabled)&&(a?.deployment_supported??!1),[u,d]=x.useState(l?"azure":"docker"),[m,h]=x.useState(null),p=x.useRef(null),v=x.useRef(null),y=xe(T=>T.isDeploying),b=xe(T=>T.deploymentLogs),j=xe(T=>T.lastDeployment),N=xe(T=>T.startDeployment),S=xe(T=>T.addDeploymentLog),_=xe(T=>T.setDeploymentResult),C=xe(T=>T.stopDeployment),E=xe(T=>T.clearDeploymentState),k=T=>{const U=T.toLowerCase().replace(/[_\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^[^a-z]+/,"").replace(/-$/,"");return(U.match(/^[a-z]/)?U:`app-${U}`).substring(0,31)},M=a?k(a.id):"",[O,D]=x.useState("my-test-rg"),[z,B]=x.useState(M),[H,X]=x.useState("eastus"),[G,ee]=x.useState(null);x.useEffect(()=>{if(a){const T=k(a.id);B(T);const U=P(T);ee(U)}},[a?.id]),x.useEffect(()=>{v.current&&b.length>0&&(v.current.scrollTop=v.current.scrollHeight)},[b]);const P=T=>T?T.length>=32?"App name must be less than 32 characters":/^[a-z0-9-]+$/.test(T)?/^[a-z]/.test(T)?/[a-z0-9]$/.test(T)?T.includes("--")?"App name cannot contain consecutive hyphens (--)":null:"App name must end with a letter or number":"App name must start with a lowercase letter":"App name must contain only lowercase letters, numbers, and hyphens (no underscores or uppercase)":null;x.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const F=async()=>{if(!a?.id||!O||!z)return;const T=O.trim(),U=z.trim(),Z=P(U);if(Z){ee(Z);return}try{N();for await(const K of ot.streamDeployment({entity_id:a.id,resource_group:T,app_name:U,region:H,ui_mode:"user"}))S(K.message),K.type==="deploy.completed"&&K.url&&K.auth_token?_({url:K.url,authToken:K.auth_token}):K.type==="deploy.failed"&&C()}catch(K){S(`Error: ${K instanceof Error?K.message:"Deployment failed"}`),C()}},A=async(T,U)=>{try{await navigator.clipboard.writeText(T),h(U),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{h(null),p.current=null},2e3)}catch{h(null)}},L=`# Dockerfile for ${r}
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy agent/workflow directories
COPY . .

# Expose MAIA default port
EXPOSE 8080

# Run MAIA server
CMD ["devui", ".", "--port", "8080", "--host", "0.0.0.0"]
`,$=`# docker-compose.yml
version: '3.8'

services:
  ${r.toLowerCase().replace(/\s+/g,"-")}:
    build: .
    environment:
      # OpenAI
      - OPENAI_API_KEY=\${OPENAI_API_KEY}
      - OPENAI_CHAT_MODEL_ID=\${OPENAI_CHAT_MODEL_ID:-gpt-4o-mini}
      # Or Azure OpenAI
      - AZURE_OPENAI_API_KEY=\${AZURE_OPENAI_API_KEY}
      - AZURE_OPENAI_ENDPOINT=\${AZURE_OPENAI_ENDPOINT}
      - AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=\${AZURE_OPENAI_CHAT_DEPLOYMENT_NAME}
      # Optional: Enable tracing
      - ENABLE_OTEL=\${ENABLE_OTEL:-false}
    ports:
      - "8080:8080"
    restart: unless-stopped
`,V=`# requirements.txt
agent-framework-devui>=0.1.0
agent-framework>=0.1.0
# Chat clients (install what you need)
openai>=1.0.0
# azure-openai
# anthropic
`;return s.jsx(Ls,{open:e,onOpenChange:t,children:s.jsxs(Ps,{className:"w-[800px] max-w-[90vw]",children:[s.jsx(go,{onClose:t}),s.jsxs($s,{className:"p-6 pb-2",children:[s.jsxs(Hs,{className:"flex items-center gap-2",children:[s.jsx(Rg,{className:"h-5 w-5"}),"Deploy ",r]}),s.jsx("p",{className:"text-sm text-muted-foreground pt-1",children:"Get started with containerizing your agent for deployment."})]}),s.jsxs("div",{className:"flex border-b px-6",children:[s.jsxs("button",{onClick:()=>d("docker"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${u==="docker"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(iT,{className:"h-4 w-4 mr-2 inline"}),"Docker",u==="docker"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),l&&s.jsxs("button",{onClick:()=>d("azure"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${u==="azure"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(sT,{className:"h-4 w-4 mr-2 inline"}),"Azure",u==="azure"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),s.jsx("div",{className:"px-6 pb-6 min-h-[400px]",children:s.jsx(Jn,{className:"h-[500px]",children:s.jsxs("div",{className:"pr-4",children:[u==="docker"&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Containerize with Docker"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Package your agent as a Docker container for consistent deployment anywhere."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Dockerfile"}),s.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>A(L,"dockerfile"),children:m==="dockerfile"?s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(wa,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),s.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:L})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"docker-compose.yml"}),s.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>A($,"compose"),children:m==="compose"?s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(wa,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),s.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:$})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"requirements.txt"}),s.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>A(V,"requirements"),children:m==="requirements"?s.jsxs(s.Fragment,{children:[s.jsx(wn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(wa,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),s.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:V})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Quick Start"}),s.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside text-muted-foreground",children:[s.jsx("li",{children:"Save the files above to your project directory"}),s.jsxs("li",{children:["Build:"," ",s.jsxs("code",{className:"bg-muted px-1 rounded",children:["docker build -t ",r.toLowerCase(),"-agent ."]})]}),s.jsxs("li",{children:["Run:"," ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"docker-compose up"})]}),s.jsx("li",{children:"Your agent is now running in a container!"})]})]}),s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-amber-900 dark:text-amber-100",children:" Production Considerations"}),s.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-amber-800 dark:text-amber-200",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"In-memory state:"})," Conversations are lost when container restarts"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No authentication:"})," Add reverse proxy (nginx, Caddy) with auth for production"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Security:"})," Use Azure Key Vault for secrets management"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scaling:"})," Single instance only due to in-memory conversation store"]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Pre-Deployment Checklist"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Set environment variables (API keys, secrets)"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Test agent locally in container"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Configure logging and monitoring"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:"Set up error handling and retries"})]})]})]})]}),u==="azure"&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Deploy to Azure Container Apps"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l?"One-click deployment to Azure with automatic containerization and authentication.":"Azure Container Apps provides serverless containers with auto-scaling and integrated monitoring."})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:"Prerequisites for Azure Deployment"}),s.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{children:["Azure CLI installed and authenticated (",s.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"az login"}),")"]}),s.jsx("li",{children:"Docker installed and running"}),s.jsxs("li",{children:["Azure subscription with the following providers registered:",s.jsxs("ul",{className:"ml-4 mt-1 space-y-0.5",children:[s.jsxs("li",{className:"list-none",children:[" ",s.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.App"})," (Container Apps)"]}),s.jsxs("li",{className:"list-none",children:[" ",s.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.ContainerRegistry"})," (ACR)"]}),s.jsxs("li",{className:"list-none",children:[" ",s.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.OperationalInsights"})," (Logging)"]})]})]})]}),s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs cursor-pointer hover:underline text-blue-700 dark:text-blue-300",children:"How to register providers?"}),s.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900 rounded text-xs",children:[s.jsx("p",{className:"mb-1",children:"Run these commands once per subscription:"}),s.jsxs("code",{className:"block font-mono",children:["az provider register -n Microsoft.App --wait",s.jsx("br",{}),"az provider register -n Microsoft.ContainerRegistry --wait",s.jsx("br",{}),"az provider register -n Microsoft.OperationalInsights --wait"]})]})]})]}),l&&a&&!j&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[y?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(Wr,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}),s.jsx("div",{ref:v,className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((T,U)=>s.jsx("div",{className:T.includes("failed")||T.includes("Error")?"text-red-600":"",children:T},U))})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Resource Group"}),s.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",placeholder:"my-test-rg",value:O,onChange:T=>D(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"App Name"}),s.jsx("input",{type:"text",className:`w-full mt-1 px-3 py-2 border rounded-md text-sm ${G?"border-red-500":""}`,placeholder:"my-agent-app",value:z,onChange:T=>{const U=T.target.value;B(U);const Z=P(U.trim());ee(Z)}}),G&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:G})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Region"}),s.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",value:H,onChange:T=>X(T.target.value),children:[s.jsx("option",{value:"eastus",children:"East US"}),s.jsx("option",{value:"westus",children:"West US"}),s.jsx("option",{value:"westeurope",children:"West Europe"}),s.jsx("option",{value:"eastasia",children:"East Asia"})]})]})]}),s.jsxs(ge,{onClick:F,disabled:!O||!z||!!G,className:"w-full",children:[s.jsx(Rg,{className:"h-4 w-4 mr-2"}),"Deploy to Azure"]})]}),!y&&b.length>0&&!j&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-600",children:[s.jsx(Er,{className:"h-4 w-4"}),"Deployment Failed"]}),s.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((T,U)=>s.jsx("div",{className:T.includes("failed")||T.includes("Error")?"text-red-600":"",children:T},U))}),s.jsx(ge,{onClick:E,variant:"outline",className:"w-full",children:"Try Again"})]})]}),j&&s.jsxs("div",{className:"border-2 border-green-200 bg-green-50 dark:bg-green-950/50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5 text-green-600"}),s.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Deployment Successful!"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Deployment URL"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm",children:j.url}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>window.open(j.url,"_blank"),children:s.jsx(Kd,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Auth Token (save this - shown only once)"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm font-mono",children:j.authToken}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(j.authToken),children:s.jsx(wa,{className:"h-4 w-4"})})]})]})]}),s.jsx(ge,{onClick:E,variant:"outline",className:"w-full",children:"Deploy Another"})]}),!l&&a?.deployment_reason&&s.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Er,{className:"h-4 w-4 mt-0.5 text-amber-600 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Deployment not available:"})," ",a.deployment_reason]})]})}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Prerequisites"}),s.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-muted-foreground",children:[s.jsx("li",{children:"Azure subscription"}),s.jsxs("li",{children:["Azure CLI installed (",s.jsx("code",{className:"bg-muted px-1 rounded",children:"az --version"}),")"]}),s.jsx("li",{children:"Docker installed and running"}),s.jsxs("li",{children:["Logged in to Azure:"," ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"az login"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Deployment Steps"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"1"}),s.jsx("h5",{className:"font-medium text-sm",children:"Create Azure Container Registry"})]}),s.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Create resource group
az group create --name myResourceGroup --location eastus

# Create container registry
az acr create --resource-group myResourceGroup \\
  --name myregistry --sku Basic`})]}),s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"2"}),s.jsx("h5",{className:"font-medium text-sm",children:"Build and Push Docker Image"})]}),s.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Build and push in one command
az acr build --registry myregistry \\
  --image ${r.toLowerCase()}-agent:latest .`})]}),s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"3"}),s.jsx("h5",{className:"font-medium text-sm",children:"Create Container Apps Environment"})]}),s.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp env create --name myEnvironment \\
  --resource-group myResourceGroup \\
  --location eastus`})]}),s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"4"}),s.jsx("h5",{className:"font-medium text-sm",children:"Deploy Container App"})]}),s.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp create --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --environment myEnvironment \\
  --image myregistry.azurecr.io/${r.toLowerCase()}-agent:latest \\
  --target-port 8080 \\
  --ingress 'external' \\
  --registry-server myregistry.azurecr.io \\
  --env-vars OPENAI_API_KEY=secretref:openai-key OPENAI_CHAT_MODEL_ID=gpt-4o-mini`})]}),s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"5"}),s.jsx("h5",{className:"font-medium text-sm",children:"Get Application URL"})]}),s.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp show --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --query properties.configuration.ingress.fqdn`})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Learn More"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Explore Azure Container Apps documentation for advanced features like scaling, monitoring, and CI/CD integration."}),s.jsx(ge,{size:"sm",variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:"https://learn.microsoft.com/azure/container-apps/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Kd,{className:"h-3 w-3 mr-1"}),"View Azure Container Apps Documentation"]})})]})]})]})]})})})]})})}const ba=[{id:"foundry-weather-agent",name:"Azure AI Weather Agent",description:"Weather agent using Azure AI Agent (Foundry) with Azure CLI authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/foundry_agent/agent.py",tags:["azure-ai","foundry","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure AI Agent integration","Azure CLI authentication","Mock weather tools"],requiredEnvVars:[{name:"AZURE_AI_PROJECT_ENDPOINT",description:"Azure AI Foundry project endpoint URL",required:!0,example:"https://your-project.api.azureml.ms"},{name:"FOUNDRY_MODEL_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure AI Foundry",required:!0,example:"gpt-4o"}]},{id:"weather-agent-azure",name:"Azure OpenAI Weather Agent",description:"Weather agent using Azure OpenAI with API key authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/weather_agent_azure/agent.py",tags:["azure","openai","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure OpenAI integration","API key authentication","Function calling","Mock weather tools"],requiredEnvVars:[{name:"AZURE_OPENAI_API_KEY",description:"Azure OpenAI API key",required:!0},{name:"AZURE_OPENAI_CHAT_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure OpenAI",required:!0,example:"gpt-4o"},{name:"AZURE_OPENAI_ENDPOINT",description:"Azure OpenAI endpoint URL",required:!0,example:"https://your-resource.openai.azure.com"}]},{id:"spam-workflow",name:"Spam Detection Workflow",description:"5-step workflow demonstrating email spam detection with branching logic",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/spam_workflow/workflow.py",tags:["workflow","branching","multi-step"],author:"Microsoft",difficulty:"beginner",features:["Sequential execution","Conditional branching","Mock spam detection"]},{id:"fanout-workflow",name:"Complex Fan-In/Fan-Out Workflow",description:"Advanced data processing workflow with parallel validation, transformation, and quality assurance stages",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/fanout_workflow/workflow.py",tags:["workflow","fan-out","fan-in","parallel"],author:"Microsoft",difficulty:"advanced",features:["Fan-out pattern","Parallel execution","Complex state management","Multi-stage processing"]}];ba.filter(e=>e.type==="agent"),ba.filter(e=>e.type==="workflow"),ba.filter(e=>e.difficulty==="beginner"),ba.filter(e=>e.difficulty==="intermediate"),ba.filter(e=>e.difficulty==="advanced");const tq=e=>{switch(e){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};function Ok({children:e,copyable:t=!1}){const[r,a]=x.useState(!1),i=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)};return s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto font-mono",children:s.jsx("code",{children:e})}),t&&s.jsx(ge,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:i,children:r?s.jsx(Di,{className:"h-3 w-3"}):s.jsx(wa,{className:"h-3 w-3"})})]})}function Rd({number:e,title:t,description:r,code:a,action:i,copyable:l=!1}){return s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:e})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h4",{className:"font-semibold",children:t}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r}),a&&s.jsx(Ok,{copyable:l,children:a}),i&&s.jsx("div",{children:i})]})]})}function nq({sample:e,open:t,onOpenChange:r}){const a=e.requiredEnvVars&&e.requiredEnvVars.length>0,i=a?0:-1;return s.jsx(Ls,{open:t,onOpenChange:r,children:s.jsxs(Ps,{className:"max-w-3xl",children:[s.jsxs($s,{className:"px-6 pt-6 pb-2",children:[s.jsxs(Hs,{children:["Setup: ",e.name]}),s.jsxs(LE,{children:["Follow these steps to run this sample ",e.type," locally"]})]}),s.jsx("div",{className:"px-6 pb-6",children:s.jsx(Jn,{className:"h-[500px]",children:s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsx(Rd,{number:1,title:"Download the sample file",action:s.jsx(ge,{asChild:!0,size:"sm",children:s.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Download ",e.id,".py"]})})}),s.jsx(Rd,{number:2,title:"Create a project folder",description:"Create a dedicated folder for this sample and move the downloaded file there:",code:`mkdir -p ~/my-agents/${e.id}
mv ~/Downloads/${e.id}.py ~/my-agents/${e.id}/`,copyable:!0}),a&&s.jsx(Rd,{number:3,title:"Set up environment variables",description:"Create a .env file in the project folder with these required variables:",code:e.requiredEnvVars.map(l=>`${l.name}=${l.example||"your-value-here"}
# ${l.description}`).join(`

`),copyable:!0}),s.jsx(Rd,{number:4+i,title:"Run with MAIA",description:"Navigate to the folder and start MAIA:",code:`cd ~/my-agents/${e.id}
MAIA .`,copyable:!0}),s.jsxs(D0,{children:[s.jsx(UT,{className:"h-4 w-4"}),s.jsx(lC,{children:"Alternative: Run Programmatically"}),s.jsxs(O0,{className:"mt-2",children:[s.jsxs("p",{className:"mb-2",children:["You can also run the ",e.type," directly in Python:"]}),s.jsx(Ok,{copyable:!0,children:`from ${e.id} import ${e.type}
import asyncio

async def main():
    response = await ${e.type}.run("Hello!")
    print(response)

asyncio.run(main())`})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Kd,{className:"h-4 w-4 mr-2"}),"View Source"]})}),s.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:"https://github.com/microsoft/agent-framework#readme",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(kx,{className:"h-4 w-4 mr-2"}),"Documentation"]})})]})]})})})]})})}function rq({sample:e}){const[t,r]=x.useState(!1),a=e.type==="workflow"?Yr:ft;return s.jsxs(s.Fragment,{children:[s.jsxs(ct,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col overflow-hidden w-full",children:[s.jsxs(gn,{className:"pb-3 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:"h-5 w-5"}),s.jsx(Ge,{variant:"secondary",className:"text-xs",children:e.type})]}),s.jsx(Ge,{variant:"outline",className:He("text-xs border",tq(e.difficulty)),children:e.difficulty})]}),s.jsx(Jt,{className:"text-lg leading-tight",children:e.name}),s.jsx(Jl,{className:"text-sm line-clamp-3",children:e.description})]}),s.jsx(ut,{className:"pt-0 flex-1 min-w-0 overflow-hidden",children:s.jsxs("div",{className:"space-y-3 min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(i=>s.jsx(Ge,{variant:"outline",className:"text-xs",children:i},i)),e.tags.length>3&&s.jsxs(Ge,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),e.requiredEnvVars&&e.requiredEnvVars.length>0&&s.jsxs("details",{className:"group min-w-0 max-w-full overflow-hidden",children:[s.jsxs("summary",{className:"cursor-pointer list-none p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(IT,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 flex-shrink-0"}),s.jsxs("span",{className:"text-xs font-medium text-amber-900 dark:text-amber-100 truncate",children:["Requires ",e.requiredEnvVars.length," env var",e.requiredEnvVars.length>1?"s":""]})]}),s.jsx(En,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 flex-shrink-0 group-open:rotate-180 transition-transform"})]}),s.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md space-y-2 min-w-0 max-w-full overflow-hidden",children:e.requiredEnvVars.map(i=>s.jsxs("div",{className:"text-xs min-w-0 max-w-full overflow-hidden",children:[s.jsx("div",{className:"font-mono font-medium text-amber-900 dark:text-amber-100 break-words",children:i.name}),s.jsx("div",{className:"text-amber-700 dark:text-amber-300 mt-0.5 break-words",children:i.description}),i.example&&s.jsx("div",{className:"font-mono text-amber-600 dark:text-amber-400 mt-0.5 break-all",children:i.example})]},i.name))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Key Features:"}),s.jsx("ul",{className:"text-xs space-y-1",children:e.features.slice(0,3).map(i=>s.jsxs("li",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50"}),s.jsx("span",{children:i})]},i))})]})]})}),s.jsxs(pM,{className:"pt-3 flex-col gap-3",children:[s.jsx("div",{className:"w-full flex items-center justify-between text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ox,{className:"h-3 w-3"}),s.jsx("span",{children:e.author})]})}),s.jsxs("div",{className:"w-full flex gap-2",children:[s.jsx(ge,{asChild:!0,className:"flex-1",size:"sm",children:s.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ao,{className:"h-4 w-4 mr-2"}),"Download"]})}),s.jsxs(ge,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>r(!0),children:[s.jsx(kx,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]})]})]}),s.jsx(nq,{sample:e,open:t,onOpenChange:r})]})}function yg({samples:e}){return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(t=>s.jsx("div",{className:"min-w-0",children:s.jsx(rq,{sample:t})},t.id))})}function ij({onClose:e,variant:t="inline",hasExistingEntities:r=!1}){return t==="inline"?s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 p-4 bg-muted/50 border border-border rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(DD,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-1",children:"No agents or workflows configured yet!"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["You can configure agents or workflows by running"," ",s.jsx("code",{className:"px-1.5 py-0.5 bg-background rounded text-xs",children:"MAIA"})," ","in a directory containing them."]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse the sample agents and workflows below. Download them, review the code, and run them locally to get started quickly."})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sample Gallery"}),s.jsx(yg,{samples:ba})]}),s.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",s.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):t==="route"?s.jsx("div",{className:"h-full overflow-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[r&&s.jsx("div",{className:"mb-4",children:s.jsxs(ge,{variant:"ghost",onClick:e,className:"gap-2",children:[s.jsx(DM,{className:"h-4 w-4"}),"Back"]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sample Gallery"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse sample agents and workflows to learn the Agent Framework. Download these curated examples and run them locally. Examples range from beginner to advanced."})]})]}),s.jsx(yg,{samples:ba}),s.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",s.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):s.jsx(yg,{samples:ba})}function sq({onFilesSelected:e,accept:t="image/*,.pdf,audio/*,.wav,.mp3,.m4a,.ogg",multiple:r=!0,maxSize:a=50*1024*1024,disabled:i=!1,className:l=""}){const u=x.useRef(null),d=y=>{if(!y||y.length===0)return;const b=[],j=[];Array.from(y).forEach(N=>{if(N.size>a){j.push(`${N.name} is too large (max ${aq(a)})`);return}if(t&&!oq(N,t)){j.push(`${N.name} is not an accepted file type`);return}b.push(N)}),j.length>0&&console.warn("File upload errors:",j),b.length>0&&e(b)},m=()=>{u.current&&u.current.click()},h=y=>{d(y.target.files),y.target.value=""},p=y=>{if(y.preventDefault(),y.stopPropagation(),i)return;const b=y.dataTransfer.files;d(b)},v=y=>{y.preventDefault(),y.stopPropagation()};return s.jsxs("div",{className:l,children:[s.jsx("input",{ref:u,type:"file",accept:t,multiple:r,onChange:h,className:"hidden",disabled:i}),s.jsx(ge,{type:"button",variant:"outline",size:"icon",onClick:m,disabled:i,onDrop:p,onDragOver:v,className:"shrink-0 transition-colors hover:bg-muted",title:"Upload files (images, PDFs, audio)",children:s.jsx(Yj,{className:"h-4 w-4"})})]})}function aq(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+r[a]}function oq(e,t){return t.split(",").map(a=>a.trim()).some(a=>{if(a.startsWith("."))return e.name.toLowerCase().endsWith(a.toLowerCase());if(a.includes("/*")){const[i]=a.split("/");return e.type.startsWith(i+"/")}else return e.type===a})}function iq({attachments:e,onRemoveAttachment:t,className:r=""}){return e.length===0?null:s.jsx("div",{className:`flex flex-wrap gap-2 p-2 bg-muted rounded-lg ${r}`,children:e.map(a=>s.jsx(lq,{attachment:a,onRemove:()=>t(a.id)},a.id))})}function lq({attachment:e,onRemove:t}){const[r,a]=x.useState(!1),i=()=>{switch(e.type){case"image":return e.preview?s.jsx("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200",children:s.jsx(DT,{className:"h-6 w-6 text-gray-400"})});case"pdf":return s.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-red-50",children:[s.jsx(Ea,{className:"h-6 w-6 text-red-500 mb-1"}),s.jsx("span",{className:"text-xs text-red-600",children:"PDF"})]});case"audio":return s.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-purple-50",children:[s.jsx(qj,{className:"h-6 w-6 text-purple-500 mb-1"}),s.jsx("span",{className:"text-xs text-purple-600",children:"AUDIO"})]});default:return s.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-100",children:[s.jsx(Ea,{className:"h-6 w-6 text-gray-500 mb-1"}),s.jsx("span",{className:"text-xs text-gray-600",children:"FILE"})]})}};return s.jsxs("div",{className:"relative w-16 h-16 rounded border overflow-hidden group cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),title:e.file.name,children:[i(),s.jsx("div",{className:`absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-200 ease-in-out ${r?"opacity-100 backdrop-blur-sm":"opacity-0 pointer-events-none"}`,onClick:t,children:s.jsx("div",{className:`transition-all duration-200 ease-in-out ${r?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:s.jsx(mr,{className:"h-5 w-5 text-white drop-shadow-lg"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1 truncate opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.file.name})]})}function cq({code:e,language:t}){const[r,a]=x.useState(!1),i=x.useRef(null);x.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]);const l=async()=>{try{await navigator.clipboard.writeText(e),a(!0),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{a(!1),i.current=null},2e3)}catch(u){console.error("Failed to copy code:",u)}};return s.jsxs("div",{className:"relative group",children:[s.jsx("pre",{className:"my-3 p-3 bg-foreground/5 dark:bg-foreground/10 rounded overflow-x-auto border border-foreground/10",children:s.jsxs("code",{className:"text-xs font-mono block whitespace-pre-wrap break-words",children:[t&&s.jsx("span",{className:"opacity-60 text-[10px] mb-1 block uppercase",children:t}),e]})}),s.jsx("button",{onClick:l,className:`absolute top-2 right-2 p-1.5 rounded-md border shadow-sm
                   bg-background hover:bg-accent
                   text-muted-foreground hover:text-foreground
                   transition-all duration-200
                   opacity-0 group-hover:opacity-100`,title:r?"Copied!":"Copy code",children:r?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600 dark:text-green-400",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}function uq({content:e,className:t=""}){const r=e.split(`
`),a=[];let i=0;for(;i<r.length;){const l=r[i];if(l.trim().startsWith("```")){const d=[],h=l.trim().match(/^```(\w+)?/)?.[1]||"";for(i++;i<r.length&&!r[i].trim().startsWith("```");)d.push(r[i]),i++;i++,a.push(s.jsx(cq,{code:d.join(`
`),language:h},a.length));continue}const u=l.match(/^(#{1,6})\s+(.+)$/);if(u){const d=u[1].length,m=u[2],p=`${["text-2xl","text-xl","text-lg","text-base","text-sm","text-sm"][d-1]} font-semibold mt-4 mb-2 first:mt-0 break-words`,v=d===1?s.jsx("h1",{className:p,children:Gn(m)},a.length):d===2?s.jsx("h2",{className:p,children:Gn(m)},a.length):d===3?s.jsx("h3",{className:p,children:Gn(m)},a.length):d===4?s.jsx("h4",{className:p,children:Gn(m)},a.length):d===5?s.jsx("h5",{className:p,children:Gn(m)},a.length):s.jsx("h6",{className:p,children:Gn(m)},a.length);a.push(v),i++;continue}if(l.match(/^[\s]*[-*+]\s+/)){const d=[];for(;i<r.length&&r[i].match(/^[\s]*[-*+]\s+/);){const m=r[i].replace(/^[\s]*[-*+]\s+/,"");d.push(m),i++}a.push(s.jsx("ul",{className:"my-2 ml-4 list-disc space-y-1 break-words",children:d.map((m,h)=>s.jsx("li",{className:"text-sm break-words",children:Gn(m)},h))},a.length));continue}if(l.match(/^[\s]*\d+\.\s+/)){const d=[];for(;i<r.length&&r[i].match(/^[\s]*\d+\.\s+/);){const m=r[i].replace(/^[\s]*\d+\.\s+/,"");d.push(m),i++}a.push(s.jsx("ol",{className:"my-2 ml-4 list-decimal space-y-1 break-words",children:d.map((m,h)=>s.jsx("li",{className:"text-sm break-words",children:Gn(m)},h))},a.length));continue}if(l.trim().startsWith("|")&&l.trim().endsWith("|")){const d=[];for(;i<r.length&&r[i].trim().startsWith("|")&&r[i].trim().endsWith("|");)d.push(r[i].trim()),i++;if(d.length>=2){const m=d[0].split("|").slice(1,-1).map(p=>p.trim());if(d[1].match(/^\|[\s\-:|]+\|$/)){const p=d.slice(2).map(v=>v.split("|").slice(1,-1).map(y=>y.trim()));a.push(s.jsx("div",{className:"my-3 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border border-foreground/10 text-sm",children:[s.jsx("thead",{className:"bg-foreground/5",children:s.jsx("tr",{children:m.map((v,y)=>s.jsx("th",{className:"border-b border-foreground/10 px-3 py-2 text-left font-semibold break-words",children:Gn(v)},y))})}),s.jsx("tbody",{children:p.map((v,y)=>s.jsx("tr",{className:"border-b border-foreground/5 last:border-b-0",children:v.map((b,j)=>s.jsx("td",{className:"px-3 py-2 border-r border-foreground/5 last:border-r-0 break-words",children:Gn(b)},j))},y))})]})},a.length));continue}}for(const m of d)a.push(s.jsx("p",{className:"my-1",children:Gn(m)},a.length));continue}if(l.trim().startsWith(">")){const d=[];for(;i<r.length&&r[i].trim().startsWith(">");)d.push(r[i].replace(/^>\s?/,"")),i++;a.push(s.jsx("blockquote",{className:"my-2 pl-4 border-l-4 border-current/30 opacity-80 italic break-words",children:d.map((m,h)=>s.jsx("div",{className:"break-words",children:Gn(m)},h))},a.length));continue}if(l.match(/^[\s]*[-*_]{3,}[\s]*$/)){a.push(s.jsx("hr",{className:"my-4 border-t border-border"},a.length)),i++;continue}if(l.trim()===""){a.push(s.jsx("div",{className:"h-2"},a.length)),i++;continue}a.push(s.jsx("p",{className:"my-1 break-words",children:Gn(l)},a.length)),i++}return s.jsx("div",{className:`markdown-content break-words ${t}`,children:a})}function Gn(e){const t=[];let r=e,a=0;for(;r.length>0;){const i=r.match(/`([^`]+)`/);if(i&&i.index!==void 0){i.index>0&&t.push(s.jsx("span",{children:ic(r.slice(0,i.index))},a++)),t.push(s.jsx("code",{className:"px-1.5 py-0.5 bg-foreground/10 rounded text-xs font-mono border border-foreground/20",children:i[1]},a++)),r=r.slice(i.index+i[0].length);continue}t.push(s.jsx("span",{children:ic(r)},a++));break}return t}function ic(e){const t=[];let r=e,a=0;for(;r.length>0;){const i=[{regex:/\*\*\[([^\]]+)\]\(([^)]+)\)\*\*/,component:"strong-link"},{regex:/__\[([^\]]+)\]\(([^)]+)\)__/,component:"strong-link"},{regex:/\*\[([^\]]+)\]\(([^)]+)\)\*/,component:"em-link"},{regex:/_\[([^\]]+)\]\(([^)]+)\)_/,component:"em-link"},{regex:/\[([^\]]+)\]\(([^)]+)\)/,component:"link"},{regex:/\*\*(.+?)\*\*/,component:"strong"},{regex:/__(.+?)__/,component:"strong"},{regex:/\*(.+?)\*/,component:"em"},{regex:/_(.+?)_/,component:"em"}];let l=!1;for(const u of i){const d=r.match(u.regex);if(d&&d.index!==void 0){if(d.index>0&&t.push(r.slice(0,d.index)),u.component==="strong")t.push(s.jsx("strong",{className:"font-semibold",children:d[1]},a++));else if(u.component==="em")t.push(s.jsx("em",{className:"italic",children:d[1]},a++));else if(u.component==="strong-link"){const m=d[1],h=d[2],p=ic(m);t.push(s.jsx("strong",{className:"font-semibold",children:s.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:p})},a++))}else if(u.component==="em-link"){const m=d[1],h=d[2],p=ic(m);t.push(s.jsx("em",{className:"italic",children:s.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:p})},a++))}else if(u.component==="link"){const m=d[1],h=d[2],p=ic(m);t.push(s.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:p},a++))}r=r.slice(d.index+d[0].length),l=!0;break}}if(!l){r.length>0&&t.push(r);break}}return t}function dq({content:e,className:t,isStreaming:r}){if(e.type!=="text"&&e.type!=="input_text"&&e.type!=="output_text")return null;const a=e.text;return s.jsxs("div",{className:`break-words ${t||""}`,children:[s.jsx(uq,{content:a}),r&&a.length>0&&s.jsx("span",{className:"ml-1 inline-block h-2 w-2 animate-pulse rounded-full bg-current"})]})}function fq({content:e,className:t}){const[r,a]=x.useState(!1),[i,l]=x.useState(!1);if(e.type!=="input_image"&&e.type!=="output_image")return null;const u=e.image_url;return r?s.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ea,{className:"h-4 w-4"}),s.jsx("span",{children:"Image could not be loaded"})]})}):s.jsxs("div",{className:`my-2 ${t||""}`,children:[s.jsx("img",{src:u,alt:"Uploaded image",className:`rounded-lg border max-w-full transition-all cursor-pointer ${i?"max-h-none":"max-h-64"}`,onClick:()=>l(!i),onError:()=>a(!0)}),i&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to collapse"})]})}function mq({content:e,className:t}){if(e.type!=="input_file"&&e.type!=="output_file")return null;const r=e.file_url||e.file_data,a=e.filename||"file",i=a?.toLowerCase().endsWith(".pdf")||r?.includes("application/pdf"),l=a?.toLowerCase().match(/\.(mp3|wav|m4a|ogg|flac|aac)$/);return i&&r?s.jsxs("div",{className:`my-2 ${t||""}`,children:[s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("iframe",{src:r,className:"w-full h-96",title:a})}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:a}),r&&s.jsxs("a",{href:r,download:a,className:"ml-auto text-xs text-primary hover:underline flex items-center gap-1",children:[s.jsx(ao,{className:"h-3 w-3"}),"Download"]})]})]}):l&&r?s.jsxs("div",{className:`my-2 p-3 border rounded-lg ${t||""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qj,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:a})]}),s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:r}),"Your browser does not support audio playback."]})]}):s.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:a})]}),r&&s.jsxs("a",{href:r,download:a,className:"text-xs text-primary hover:underline flex items-center gap-1",children:[s.jsx(ao,{className:"h-3 w-3"}),"Download"]})]})})}function hq({content:e,className:t}){const[r,a]=x.useState(!1);if(e.type!=="output_data")return null;const i=e.data,l=e.mime_type,u=e.description;let d=i;try{const m=JSON.parse(i);d=JSON.stringify(m,null,2)}catch{}return s.jsxs("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[s.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:u||"Data Output"}),s.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:l}),r?s.jsx(En,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Cr,{className:"h-4 w-4 text-muted-foreground"})]}),r&&s.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-64 bg-background p-2 rounded border font-mono",children:d})]})}function pq({content:e,className:t}){if(e.type!=="function_approval_request")return null;const[r,a]=x.useState(!1),{status:i,function_call:l}=e,d={pending:{icon:nT,color:"amber",label:"Awaiting Approval",bgClass:"bg-amber-50 dark:bg-amber-950/20",borderClass:"border-amber-200 dark:border-amber-800",iconClass:"text-amber-600 dark:text-amber-400",textClass:"text-amber-800 dark:text-amber-300"},approved:{icon:Di,color:"green",label:"Approved",bgClass:"bg-green-50 dark:bg-green-950/20",borderClass:"border-green-200 dark:border-green-800",iconClass:"text-green-600 dark:text-green-400",textClass:"text-green-800 dark:text-green-300"},rejected:{icon:vi,color:"red",label:"Rejected",bgClass:"bg-red-50 dark:bg-red-950/20",borderClass:"border-red-200 dark:border-red-800",iconClass:"text-red-600 dark:text-red-400",textClass:"text-red-800 dark:text-red-300"}}[i],m=d.icon;let h;try{h=typeof l.arguments=="string"?JSON.parse(l.arguments):l.arguments}catch{h=l.arguments}return s.jsxs("div",{className:`my-2 p-3 border rounded ${d.bgClass} ${d.borderClass} ${t||""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[s.jsx(m,{className:`h-4 w-4 ${d.iconClass}`}),s.jsxs("span",{className:`text-sm font-medium ${d.textClass}`,children:[d.label,": ",l.name]}),r?s.jsx(En,{className:`h-4 w-4 ${d.iconClass} ml-auto`}):s.jsx(Cr,{className:`h-4 w-4 ${d.iconClass} ml-auto`})]}),r&&s.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[s.jsx("div",{className:`${d.textClass} mb-1`,children:"Arguments:"}),s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(h,null,2)})]})]})}function gq({content:e,className:t,isStreaming:r}){switch(e.type){case"text":case"input_text":case"output_text":return s.jsx(dq,{content:e,className:t,isStreaming:r});case"input_image":case"output_image":return s.jsx(fq,{content:e,className:t});case"input_file":case"output_file":return s.jsx(mq,{content:e,className:t});case"output_data":return s.jsx(hq,{content:e,className:t});case"function_approval_request":return s.jsx(pq,{content:e,className:t});default:return null}}function xq({name:e,arguments:t,className:r}){const[a,i]=x.useState(!1);let l;try{l=typeof t=="string"?JSON.parse(t):t}catch{l=t}return s.jsxs("div",{className:`my-2 p-3 border rounded bg-blue-50 dark:bg-blue-950/20 ${r||""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>i(!a),children:[s.jsx(Df,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Function Call: ",e]}),a?s.jsx(En,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"}):s.jsx(Cr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"})]}),a&&s.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[s.jsx("div",{className:"text-blue-600 dark:text-blue-400 mb-1",children:"Arguments:"}),s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l,null,2)})]})]})}function vq({output:e,call_id:t,className:r}){const[a,i]=x.useState(!1);let l;try{l=typeof e=="string"?JSON.parse(e):e}catch{l=e}return s.jsxs("div",{className:`my-2 p-3 border rounded bg-green-50 dark:bg-green-950/20 ${r||""}`,children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>i(!a),children:[s.jsx(Df,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Function Result"}),a?s.jsx(En,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"}):s.jsx(Cr,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"})]}),a&&s.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[s.jsx("div",{className:"text-green-600 dark:text-green-400 mb-1",children:"Output:"}),s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l,null,2)}),s.jsxs("div",{className:"text-gray-500 text-[10px] mt-2",children:["Call ID: ",t]})]})]})}function lj({item:e,className:t}){if(e.type==="message"){const r=e.status==="in_progress",a=e.content.length>0;return s.jsxs("div",{className:t,children:[e.content.map((i,l)=>s.jsx(gq,{content:i,className:l>0?"mt-2":"",isStreaming:r},l)),r&&!a&&s.jsx("div",{className:"flex items-center space-x-1",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.3s]"}),s.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.15s]"}),s.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"})]})})]})}return e.type==="function_call"?s.jsx(xq,{name:e.name,arguments:e.arguments,className:t}):e.type==="function_call_output"?s.jsx(vq,{output:e.output,call_id:e.call_id,className:t}):null}function Qa({title:e,icon:t,children:r,className:a=""}){return s.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function yq({agent:e,open:t,onOpenChange:r}){const a=e.source==="directory"?s.jsx(Vj,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?s.jsx(kg,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Fj,{className:"h-4 w-4 text-muted-foreground"}),i=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return s.jsx(Ls,{open:t,onOpenChange:r,children:s.jsxs(Ps,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs($s,{className:"px-6 pt-6 flex-shrink-0",children:[s.jsx(Hs,{children:"Agent Details"}),s.jsx(go,{onClose:()=>r(!1)})]}),s.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ft,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&s.jsx("p",{className:"text-muted-foreground",children:e.description})]}),s.jsx("div",{className:"h-px bg-border mb-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(e.model_id||e.chat_client_type)&&s.jsx(Qa,{title:"Model & Client",icon:s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),children:s.jsxs("div",{className:"space-y-1",children:[e.model_id&&s.jsx("div",{className:"font-mono text-foreground",children:e.model_id}),e.chat_client_type&&s.jsxs("div",{className:"text-xs",children:["(",e.chat_client_type,")"]})]})}),s.jsx(Qa,{title:"Source",icon:a,children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-foreground",children:i}),e.module_path&&s.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),s.jsx(Qa,{title:"Environment",icon:e.has_env?s.jsx(Tc,{className:"h-4 w-4 text-orange-500"}):s.jsx(Tf,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:s.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),e.instructions&&s.jsx(Qa,{title:"Instructions",icon:s.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"}),className:"mb-4",children:s.jsx("div",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:e.instructions})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.tools&&e.tools.length>0&&s.jsx(Qa,{title:`Tools (${e.tools.length})`,icon:s.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"}),children:s.jsx("ul",{className:"space-y-1",children:e.tools.map((l,u)=>s.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},u))})}),e.middleware&&e.middleware.length>0&&s.jsx(Qa,{title:`Middleware (${e.middleware.length})`,icon:s.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"}),children:s.jsx("ul",{className:"space-y-1",children:e.middleware.map((l,u)=>s.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},u))})}),e.context_providers&&e.context_providers.length>0&&s.jsx(Qa,{title:`Context Providers (${e.context_providers.length})`,icon:s.jsx(kg,{className:"h-4 w-4 text-muted-foreground"}),className:!e.middleware||e.middleware.length===0?"md:col-start-2":"",children:s.jsx("ul",{className:"space-y-1",children:e.context_providers.map((l,u)=>s.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},u))})})]})]})]})})}function bq({item:e}){const[t,r]=x.useState(!1),[a,i]=x.useState(!1),l=()=>e.type==="message"?e.content.filter(d=>d.type==="text").map(d=>d.text).join(`
`):"",u=async()=>{const d=l();if(d)try{await navigator.clipboard.writeText(d),i(!0),setTimeout(()=>i(!1),2e3)}catch(m){console.error("Failed to copy:",m)}};if(e.type==="message"){const d=e.role==="user",m=e.status==="incomplete",h=d?Ox:m?Er:ft,p=l();return s.jsxs("div",{className:`flex gap-3 ${d?"flex-row-reverse":""}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[s.jsx("div",{className:`flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border ${d?"bg-primary text-primary-foreground":m?"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800":"bg-muted"}`,children:s.jsx(h,{className:"h-4 w-4"})}),s.jsxs("div",{className:`flex flex-col space-y-1 ${d?"items-end":"items-start"} max-w-[80%]`,children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:`rounded px-3 py-2 text-sm ${d?"bg-primary text-primary-foreground":m?"bg-orange-50 dark:bg-orange-950/50 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800":"bg-muted"}`,children:[m&&s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(Er,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Unable to process request"})]}),s.jsx("div",{className:m?"text-xs leading-relaxed break-all":"",children:s.jsx(lj,{item:e})})]}),p&&t&&s.jsx("button",{onClick:u,className:`absolute top-1 right-1
                           p-1.5 rounded-md border shadow-sm
                           bg-background hover:bg-accent
                           text-muted-foreground hover:text-foreground
                           transition-all duration-200 ease-in-out
                           opacity-0 group-hover:opacity-100`,title:a?"Copied!":"Copy message",children:a?s.jsx(VM,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}):s.jsx(wa,{className:"h-3.5 w-3.5"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[s.jsx("span",{children:e.created_at?new Date(e.created_at*1e3).toLocaleTimeString():new Date().toLocaleTimeString()}),!d&&e.usage&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",e.usage.input_tokens]}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",e.usage.output_tokens]}),s.jsxs("span",{children:["(",e.usage.total_tokens," tokens)"]})]})]})]})]})]})}return s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border bg-muted",children:s.jsx(ft,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex flex-col space-y-1 items-start max-w-[80%]",children:s.jsx("div",{className:"rounded px-3 py-2 text-sm bg-muted",children:s.jsx(lj,{item:e})})})]})}function wq({selectedAgent:e,onDebugEvent:t}){const r=xe(le=>le.currentConversation),a=xe(le=>le.availableConversations),i=xe(le=>le.chatItems),l=xe(le=>le.isStreaming),u=xe(le=>le.isSubmitting),d=xe(le=>le.loadingConversations),m=xe(le=>le.inputValue),h=xe(le=>le.attachments),p=xe(le=>le.uiMode),v=xe(le=>le.conversationUsage),y=xe(le=>le.pendingApprovals),b=xe(le=>le.oaiMode),j=xe(le=>le.setCurrentConversation),N=xe(le=>le.setAvailableConversations),S=xe(le=>le.setChatItems),_=xe(le=>le.setIsStreaming),C=xe(le=>le.setIsSubmitting),E=xe(le=>le.setLoadingConversations),k=xe(le=>le.setInputValue),M=xe(le=>le.setAttachments),O=xe(le=>le.updateConversationUsage),D=xe(le=>le.setPendingApprovals),[z,B]=x.useState(!1),[H,X]=x.useState(0),[G,ee]=x.useState(null),[P,F]=x.useState(!1),[A,L]=x.useState(null),[$,V]=x.useState(!1),T=x.useRef(null),U=x.useRef(null),Z=x.useRef(null),K=x.useRef(null),ne=x.useRef(!1),fe=x.useRef("");x.useEffect(()=>{if(!U.current)return;const le=T.current?.querySelector("[data-radix-scroll-area-viewport]");let De=!1;if(le){const{scrollTop:Se,scrollHeight:Me,clientHeight:ie}=le,ce=Me-Se-ie<100;De=ne.current||ce}else De=!0;De&&U.current.scrollIntoView({behavior:l?"instant":"smooth"}),ne.current&&!l&&(ne.current=!1)},[i,l]),x.useEffect(()=>{!l&&!u&&Z.current?.focus()},[l,u]),x.useEffect(()=>{const le=async(Se,Me,ie)=>{const ce=ci(Me.id);if(!ce||!ce.responseId){_(!1);return}try{const ve={model:ie.id,input:[],stream:!0,conversation:Me.id},be=ot.streamAgentExecutionOpenAIDirect(ie.id,ve,Me.id,ce.responseId);for await(const Ne of be){if(t(Ne),Ne.type==="response.completed"){const Ce=Ne.response?.usage;Ce&&(K.current={input_tokens:Ce.input_tokens,output_tokens:Ce.output_tokens,total_tokens:Ce.total_tokens});continue}if(Ne.type==="response.failed"){const Ce=Ne.response?.error,We=Ce?typeof Ce=="object"&&"message"in Ce?Ce.message:JSON.stringify(Ce):"Request failed",pt=xe.getState().chatItems;S(pt.map(on=>on.id===Se.id&&on.type==="message"?{...on,content:[{type:"text",text:fe.current||We}],status:"incomplete"}:on)),_(!1);return}if(Ne.type==="response.function_approval.requested"){const Le=Ne;D([...xe.getState().pendingApprovals,{request_id:Le.request_id,function_call:Le.function_call}]);continue}if(Ne.type==="response.function_approval.responded"){const Le=Ne;D(xe.getState().pendingApprovals.filter(Ce=>Ce.request_id!==Le.request_id));continue}if(Ne.type==="error"){const Ce=Ne.message||"An error occurred",We=xe.getState().chatItems;S(We.map(pt=>pt.id===Se.id&&pt.type==="message"?{...pt,content:[{type:"text",text:fe.current||Ce}],status:"incomplete"}:pt)),_(!1);return}if(Ne.type==="response.output_text.delta"&&"delta"in Ne&&Ne.delta){fe.current+=Ne.delta;const Le=xe.getState().chatItems;S(Le.map(Ce=>Ce.id===Se.id&&Ce.type==="message"?{...Ce,content:[{type:"text",text:fe.current}],status:"in_progress"}:Ce))}}const _e=K.current,Xe=xe.getState().chatItems;S(Xe.map(Ne=>Ne.id===Se.id&&Ne.type==="message"?{...Ne,status:"completed",usage:_e||void 0}:Ne)),_(!1),_e&&O(_e.total_tokens),K.current=null}catch(ve){const be=xe.getState().chatItems;S(be.map(_e=>_e.id===Se.id&&_e.type==="message"?{..._e,content:[{type:"text",text:`Error resuming stream: ${ve instanceof Error?ve.message:"Unknown error"}`}],status:"incomplete"}:_e)),_(!1)}},De=async()=>{if(e){E(!0);try{try{const{data:ce}=await ot.listConversations(e.id);if(N(ce),ce.length>0){const ve=ce[0];j(ve);try{let be=[],_e=!0,Xe;for(;_e;){const Le=await ot.listConversationItems(ve.id,{order:"asc",after:Xe});be=be.concat(Le.data),_e=Le.has_more,_e&&Le.data.length>0&&(Xe=Le.data[Le.data.length-1].id)}S(be),_(!1);const Ne=ci(ve.id);if(Ne&&!Ne.completed){fe.current=Ne.accumulatedText||"";const Le={id:Ne.lastMessageId||`assistant-${Date.now()}`,type:"message",role:"assistant",content:Ne.accumulatedText?[{type:"text",text:Ne.accumulatedText}]:[],status:"in_progress"};S([...be,Le]),_(!0),setTimeout(()=>{le(Le,ve,e)},100)}setTimeout(()=>{U.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${ve.id}, starting fresh`),S([]),_(!1)}return}}catch{}const Se=`devui_convs_${e.id}`,Me=localStorage.getItem(Se);if(Me)try{const ce=JSON.parse(Me);if(ce.length>0)try{await ot.listConversationItems(ce[0].id),N(ce),j(ce[0]),S([]),_(!1);return}catch{console.debug(`Cached conversation ${ce[0].id} no longer exists, clearing cache`),localStorage.removeItem(Se)}}catch{localStorage.removeItem(Se)}const ie=await ot.createConversation({agent_id:e.id});j(ie),N([ie]),S([]),_(!1),L(null),localStorage.setItem(Se,JSON.stringify([ie]))}catch(Se){N([]),S([]),_(!1);const Me=Se instanceof Error?Se.message:"Failed to create conversation";L({message:Me,type:"conversation_creation_error"})}finally{E(!1)}}};S([]),_(!1),j(void 0),fe.current="",De()},[e,t,S,_,E,N,j,D,O]);const ue=async le=>{const De=[];for(const Se of le){const Me=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ie=te(Se);let ce;ie==="image"&&(ce=await Re(Se)),De.push({id:Me,file:Se,preview:ce,type:ie})}M([...xe.getState().attachments,...De])},q=le=>{M(xe.getState().attachments.filter(De=>De.id!==le))},Q=le=>{le.preventDefault(),le.stopPropagation(),X(De=>De+1),le.dataTransfer.items&&le.dataTransfer.items.length>0&&B(!0)},de=le=>{le.preventDefault(),le.stopPropagation();const De=H-1;X(De),De===0&&B(!1)},he=le=>{le.preventDefault(),le.stopPropagation()},Ee=async le=>{if(le.preventDefault(),le.stopPropagation(),B(!1),X(0),u||l)return;const De=Array.from(le.dataTransfer.files);De.length>0&&await ue(De)},we=async le=>{const De=Array.from(le.clipboardData.items),Se=[];let Me=!1;const ie=8e3;for(const ce of De)if(ce.type.startsWith("image/")){le.preventDefault();const ve=ce.getAsFile();if(ve){const be=Date.now();Se.push(new File([ve],`screenshot-${be}.png`,{type:ve.type}))}}else ce.type==="text/plain"&&!Me&&(Me=!0,le.preventDefault(),await new Promise(ve=>{ce.getAsString(be=>{const _e=(be.match(/\n/g)||[]).length;if(be.length>ie||_e>50||/^\s*[{[][\s\S]*[}\]]\s*$/.test(be)||/^<\?xml|^<html|^<!DOCTYPE/i.test(be)){const Ne=ke(be),Le=Date.now(),Ce=new Blob([be],{type:"text/plain"});Se.push(new File([Ce],`pasted-text-${Le}${Ne}`,{type:"text/plain"}))}else{const Ne=Z.current;if(Ne){const Le=Ne.selectionStart,Ce=Ne.selectionEnd,We=Ne.value,pt=We.slice(0,Le)+be+We.slice(Ce);k(pt),setTimeout(()=>{Ne.selectionStart=Ne.selectionEnd=Le+be.length,Ne.focus()},0)}}ve()})}));if(Se.length>0){await ue(Se);const ce=Se.length===1?Se[0].name.includes("screenshot")?"Screenshot added as attachment":"Large text converted to file":`${Se.length} files added`;ee(ce),setTimeout(()=>ee(null),3e3)}},ke=le=>{const De=le.trim(),Se=De.split(`
`);if(/^{[\s\S]*}$|^\[[\s\S]*\]$/.test(De))return".json";if(/^<\?xml|^<html|^<!DOCTYPE/i.test(De))return".html";if(/^```/.test(De))return".md";if(/\t/.test(le)&&Se.length>1)return".tsv";if(Se.length>2){const Me=Se.filter(ce=>ce.includes(",")),ie=Se.filter(ce=>ce.includes(";"));if(Me.length>Se.length*.5&&Me.reduce((ve,be)=>ve+(be.match(/,/g)||[]).length,0)/Me.length>=2||ie.length>Se.length*.5&&ie.reduce((ve,be)=>ve+(be.match(/;/g)||[]).length,0)/ie.length>=2)return".csv"}return".txt"},te=le=>le.type.startsWith("image/")?"image":le.type==="application/pdf"?"pdf":le.type.startsWith("audio/")?"audio":"other",Re=le=>new Promise((De,Se)=>{const Me=new FileReader;Me.onload=()=>De(Me.result),Me.onerror=Se,Me.readAsDataURL(le)}),Ye=x.useCallback(async()=>{if(e)try{const le=await ot.createConversation({agent_id:e.id});j(le),N([le,...xe.getState().availableConversations]),S([]),_(!1),L(null),xe.setState({conversationUsage:{total_tokens:0,message_count:0}}),fe.current="";const De=`devui_convs_${e.id}`,Se=[le,...a];localStorage.setItem(De,JSON.stringify(Se))}catch(le){const De=le instanceof Error?le.message:"Failed to create conversation";L({message:De,type:"conversation_creation_error"})}},[e,j,N,S,_]),Fe=x.useCallback(async(le,De)=>{if(De&&(De.preventDefault(),De.stopPropagation()),!!confirm("Delete this conversation? This cannot be undone."))try{if(await ot.deleteConversation(le)){const Me=a.filter(ie=>ie.id!==le);if(N(Me),r?.id===le)if(Me.length>0){const ie=Me[0];j(ie),S([]),_(!1)}else j(void 0),S([]),_(!1),xe.setState({conversationUsage:{total_tokens:0,message_count:0}}),fe.current="";t("clear")}}catch{alert("Failed to delete conversation. Please try again.")}},[a,r,t,N,j,S,_]),Bt=x.useCallback(async()=>{if($||!e)return;V(!0);const le=xe.getState().addToast,De=xe.getState().updateAgent;try{await ot.reloadEntity(e.id);const Se=await ot.getAgentInfo(e.id);De(Se),le({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(Se){const Me=Se instanceof Error?Se.message:"Failed to reload entity";le({message:`Failed to reload: ${Me}`,type:"error",duration:6e3})}finally{V(!1)}},[$,e]),an=x.useCallback(async le=>{const De=a.find(Se=>Se.id===le);if(De){j(De),t("clear");try{let Se=[],Me=!0,ie;for(;Me;){const be=await ot.listConversationItems(le,{order:"asc",after:ie});Se=Se.concat(be.data),Me=be.has_more,Me&&be.data.length>0&&(ie=be.data[be.data.length-1].id)}const ce=Se;S(ce),_(!1),xe.setState({conversationUsage:{total_tokens:0,message_count:ce.length}});const ve=ci(le);if(ve?.accumulatedText){fe.current=ve.accumulatedText;const be={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"output_text",text:ve.accumulatedText}],status:"in_progress"};S([...ce,be]),_(!0)}setTimeout(()=>{U.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${le}, starting with empty chat`),S([]),_(!1),xe.setState({conversationUsage:{total_tokens:0,message_count:0}})}fe.current=""}},[a,t,j,S,_]),Ct=async(le,De)=>{const Se=y.find(_e=>_e.request_id===le);if(!Se)return;const Me=Math.floor(Date.now()/1e3),ie={id:`user-approval-${Date.now()}`,type:"message",role:"user",content:[{type:"function_approval_request",request_id:le,status:De?"approved":"rejected",function_call:Se.function_call}],status:"completed",created_at:Me},ce=xe.getState().chatItems;S([...ce,ie]);const be={input:[{type:"message",role:"user",content:[{type:"function_approval_response",request_id:le,approved:De,function_call:Se.function_call}]}],conversation_id:r?.id};return D(xe.getState().pendingApprovals.filter(_e=>_e.request_id!==le)),be},tt=x.useCallback(async le=>{if(!e)return;const De=le.input.some(ce=>ce.type==="message"&&Array.isArray(ce.content)&&ce.content.some(ve=>ve.type==="function_approval_response")),Se=[];for(const ce of le.input)if(ce.type==="message"&&Array.isArray(ce.content)){for(const ve of ce.content)if(ve.type==="input_text")Se.push({type:"text",text:ve.text});else if(ve.type==="input_image")Se.push({type:"input_image",image_url:ve.image_url||"",detail:"auto"});else if(ve.type==="input_file"){const be=ve;Se.push({type:"input_file",file_data:be.file_data,filename:be.filename})}}const Me=Math.floor(Date.now()/1e3);if(!De&&Se.length>0){const ce={id:`user-${Date.now()}`,type:"message",role:"user",content:Se,status:"completed",created_at:Me};S([...xe.getState().chatItems,ce])}_(!0);const ie={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[],status:"in_progress",created_at:Me};S([...xe.getState().chatItems,ie]);try{let ce=r;if(!ce)try{ce=await ot.createConversation({agent_id:e.id}),j(ce),N([ce,...xe.getState().availableConversations]),L(null)}catch(Ne){const Le=Ne instanceof Error?Ne.message:"Failed to create conversation";L({message:Le,type:"conversation_creation_error"}),C(!1),_(!1);return}ce?.id&&ot.clearStreamingState(ce.id);const ve={input:le.input,conversation_id:ce?.id};fe.current="";const be=ot.streamAgentExecutionOpenAI(e.id,ve);for await(const Ne of be){if(t(Ne),Ne.type==="response.completed"){const Ce=Ne.response?.usage;Ce&&(K.current={input_tokens:Ce.input_tokens,output_tokens:Ce.output_tokens,total_tokens:Ce.total_tokens});continue}if(Ne.type==="response.failed"){const Ce=Ne.response?.error;let We="Request failed";Ce&&(typeof Ce=="object"&&"message"in Ce?(We=Ce.message,"code"in Ce&&Ce.code&&(We+=` (Code: ${Ce.code})`)):typeof Ce=="string"&&(We=Ce));const pt=xe.getState().chatItems;S(pt.map(on=>on.id===ie.id&&on.type==="message"?{...on,content:[{type:"text",text:fe.current||We}],status:"incomplete"}:on)),_(!1);return}if(Ne.type==="response.function_approval.requested"){const Le=Ne;D([...xe.getState().pendingApprovals,{request_id:Le.request_id,function_call:Le.function_call}]);const Ce=xe.getState().chatItems;S(Ce.map(We=>We.id===ie.id&&We.type==="message"?{...We,content:[...We.content,{type:"function_approval_request",request_id:Le.request_id,status:"pending",function_call:Le.function_call}],status:"in_progress"}:We));continue}if(Ne.type==="response.function_result.complete"){const Le=Ne,Ce={id:`result-${Date.now()}`,type:"function_call_output",call_id:Le.call_id,output:Le.output,status:Le.status==="completed"?"completed":"incomplete",created_at:Math.floor(Date.now()/1e3)},We=xe.getState().chatItems;S([...We,Ce]);continue}if(Ne.type==="error"){const Ce=Ne.message||"An error occurred",We=xe.getState().chatItems;S(We.map(pt=>pt.id===ie.id&&pt.type==="message"?{...pt,content:[{type:"text",text:Ce}],status:"incomplete"}:pt)),_(!1);return}if(Ne.type==="response.output_item.added"){const Ce=Ne.item,We=xe.getState().chatItems;S(We.map(pt=>{if(pt.id===ie.id&&pt.type==="message"){const on=pt.content;let tr=null;if(Ce.type==="output_image"?tr={type:"output_image",image_url:Ce.image_url,alt_text:Ce.alt_text,mime_type:Ce.mime_type}:Ce.type==="output_file"?tr={type:"output_file",filename:Ce.filename,file_url:Ce.file_url,file_data:Ce.file_data,mime_type:Ce.mime_type}:Ce.type==="output_data"&&(tr={type:"output_data",data:Ce.data,mime_type:Ce.mime_type,description:Ce.description}),tr)return{...pt,content:[...on,tr],status:"in_progress"}}return pt}));continue}if(Ne.type==="response.output_text.delta"&&"delta"in Ne&&Ne.delta){fe.current+=Ne.delta;const Le=xe.getState().chatItems;S(Le.map(Ce=>{if(Ce.id===ie.id&&Ce.type==="message"){const We=Ce.content.filter(pt=>pt.type!=="text");return{...Ce,content:[...We,{type:"text",text:fe.current}],status:"in_progress"}}return Ce}))}}const _e=K.current,Xe=xe.getState().chatItems;S(Xe.map(Ne=>Ne.id===ie.id&&Ne.type==="message"?{...Ne,status:"completed",usage:_e||void 0}:Ne)),_(!1),_e&&O(_e.total_tokens),K.current=null}catch(ce){const ve=xe.getState().chatItems;S(ve.map(be=>be.id===ie.id&&be.type==="message"?{...be,content:[{type:"text",text:`Error: ${ce instanceof Error?ce.message:"Failed to get response"}`}],status:"incomplete"}:be)),_(!1)}},[e,r,t,S,_,j,N,D,O]),Ke=async le=>{if(le.preventDefault(),!m.trim()&&h.length===0||u||!e)return;ne.current=!0,C(!0);const De=m.trim();k("");try{if(h.length>0||De){const Se=[];De&&Se.push({text:De,type:"input_text"});for(const ie of h){const ce=await Re(ie.file);if(ie.file.type.startsWith("image/"))Se.push({detail:"auto",type:"input_image",image_url:ce});else if(ie.file.type==="text/plain"&&(ie.file.name.includes("pasted-text-")||ie.file.name.endsWith(".txt")||ie.file.name.endsWith(".csv")||ie.file.name.endsWith(".json")||ie.file.name.endsWith(".html")||ie.file.name.endsWith(".md")||ie.file.name.endsWith(".tsv"))){const ve=await ie.file.text();Se.push({text:ve,type:"input_text"})}else{const ve=ce.split(",")[1];Se.push({type:"input_file",file_data:ve,file_url:ce,filename:ie.file.name})}}await tt({input:[{type:"message",role:"user",content:Se}],conversation_id:r?.id})}else await tt({input:[{type:"message",role:"user",content:[{text:De,type:"input_text"}]}],conversation_id:r?.id});M([])}finally{C(!1)}},Gt=e&&!u&&!l&&(m.trim()||h.length>0);return s.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] flex-col",children:[s.jsxs("div",{className:"border-b pb-2  p-4 flex-shrink-0",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("h2",{className:"font-semibold text-sm truncate",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:b.enabled?`Chat with ${b.model}`:`Chat with ${e.name||e.id}`})]})}),!b.enabled&&p==="developer"&&s.jsxs(s.Fragment,{children:[s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>F(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View agent details",children:s.jsx(xi,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:Bt,disabled:$||e.metadata?.source==="in_memory",className:"h-6 w-6 p-0 flex-shrink-0",title:e.metadata?.source==="in_memory"?"In-memory entities cannot be reloaded":$?"Reloading...":"Reload entity code (hot reload)",children:s.jsx(Dc,{className:`h-4 w-4 ${$?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[s.jsxs(tn,{value:r?.id||"",onValueChange:an,disabled:d||u,children:[s.jsx(rn,{className:"w-full sm:w-64",children:s.jsx(nn,{placeholder:d?"Loading...":a.length===0?"No conversations":r?`Conversation ${r.id.slice(-8)}`:"Select conversation",children:r&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs("span",{children:["Conversation ",r.id.slice(-8)]}),v.total_tokens>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-muted-foreground",children:[v.total_tokens>=1e3?`${(v.total_tokens/1e3).toFixed(1)}k`:v.total_tokens," ","tokens"]})]})]})})}),s.jsx(sn,{children:a.map(le=>s.jsx(gt,{value:le.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("span",{children:["Conversation ",le.id.slice(-8)]}),le.created_at&&s.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(le.created_at*1e3).toLocaleDateString()})]})},le.id))})]}),s.jsx(ge,{variant:"outline",size:"icon",onClick:()=>r&&Fe(r.id),disabled:!r||u,title:r?`Delete Conversation ${r.id.slice(-8)}`:"No conversation selected",children:s.jsx(mr,{className:"h-4 w-4"})}),s.jsxs(ge,{variant:"outline",size:"lg",onClick:Ye,disabled:!e||u,className:"whitespace-nowrap ",children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden md:inline",children:" New Conversation"})]})]})]}),b.enabled?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Using OpenAI model directly. Local agent tools and instructions are not applied."}):e.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),A&&s.jsxs("div",{className:"mx-4 mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-md flex items-start gap-2",children:[s.jsx(Er,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-destructive",children:"Failed to Create Conversation"}),s.jsx("div",{className:"text-xs text-destructive/90 mt-1 break-words",children:A.message}),A.code&&s.jsxs("div",{className:"text-xs text-destructive/70 mt-1",children:["Error Code: ",A.code]})]}),s.jsx("button",{onClick:()=>L(null),className:"text-destructive hover:text-destructive/80 flex-shrink-0",title:"Dismiss error",children:s.jsx(vi,{className:"h-4 w-4"})})]}),s.jsx(Jn,{className:"flex-1 p-4 h-0",ref:T,children:s.jsxs("div",{className:"space-y-4",children:[i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[s.jsxs("div",{className:"text-muted-foreground text-sm",children:["Start a conversation with"," ",e.name||e.id]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Type a message below to begin"})]}):i.map(le=>s.jsx(bq,{item:le},le.id)),s.jsx("div",{ref:U})]})}),y.length>0&&s.jsx("div",{className:"border-t bg-amber-50 dark:bg-amber-950/20 p-4 flex-shrink-0",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Er,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Approval Required"}),s.jsx("div",{className:"space-y-2",children:y.map(le=>s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 border border-amber-200 dark:border-amber-900",children:[s.jsxs("div",{className:"font-mono text-xs mb-3 break-all",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:le.function_call.name}),s.jsx("span",{className:"text-gray-500",children:"("}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:JSON.stringify(le.function_call.arguments)}),s.jsx("span",{className:"text-gray-500",children:")"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ge,{size:"sm",onClick:async()=>{const De=await Ct(le.request_id,!0);De&&await tt(De)},variant:"default",className:"flex-1 sm:flex-none",children:[s.jsx(Di,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(ge,{size:"sm",onClick:async()=>{const De=await Ct(le.request_id,!1);De&&await tt(De)},variant:"outline",className:"flex-1 sm:flex-none",children:[s.jsx(vi,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},le.request_id))})]})]})}),s.jsx("div",{className:"border-t flex-shrink-0",children:s.jsxs("div",{className:`p-4 relative transition-all duration-300 ease-in-out ${z?"bg-blue-50 dark:bg-blue-950/20":""}`,onDragEnter:Q,onDragLeave:de,onDragOver:he,onDrop:Ee,children:[z&&s.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg bg-blue-50/80 dark:bg-blue-950/40 backdrop-blur-sm flex items-center justify-center transition-all duration-200 ease-in-out z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Drop files here"}),s.jsx("div",{className:"text-blue-500 dark:text-blue-500 text-xs",children:"Images, PDFs, and other files"})]})}),h.length>0&&s.jsx("div",{className:"mb-3",children:s.jsx(iq,{attachments:h,onRemoveAttachment:q})}),G&&s.jsxs("div",{className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-20
                          bg-blue-500 text-white px-4 py-2 rounded-full text-sm
                          animate-in slide-in-from-bottom-2 fade-in duration-200
                          flex items-center gap-2 shadow-lg`,children:[G.includes("screenshot")?s.jsx(lD,{className:"h-3 w-3"}):s.jsx(Ea,{className:"h-3 w-3"}),G]}),s.jsxs("form",{onSubmit:Ke,className:"flex gap-2 items-end",children:[s.jsx(en,{ref:Z,value:m,onChange:le=>k(le.target.value),onPaste:we,onKeyDown:le=>{le.key==="Enter"&&!le.shiftKey&&(le.preventDefault(),Ke(le))},placeholder:`Message ${e.name||e.id}... (Shift+Enter for new line)`,disabled:u||l,className:"flex-1 min-h-[40px] max-h-[200px] resize-none",style:{fieldSizing:"content"}}),s.jsx(sq,{onFilesSelected:ue,disabled:u||l}),s.jsx(ge,{type:"submit",size:"icon",disabled:!Gt,className:"shrink-0 h-10",children:u?s.jsx(Q0,{size:"sm"}):s.jsx(vD,{className:"h-4 w-4"})})]})]})}),s.jsx(yq,{agent:e,open:P,onOpenChange:F})]})}function cj({message:e="Loading...",description:t,size:r="md",className:a,fullPage:i=!1}){const l=s.jsxs("div",{className:He("flex flex-col items-center justify-center gap-3",i?"min-h-[50vh]":"py-8",a),children:[s.jsx(Q0,{size:r,className:"text-muted-foreground"}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("p",{className:He("font-medium text-muted-foreground",r==="sm"&&"text-sm",r==="lg"&&"text-lg"),children:e}),t&&s.jsx("p",{className:"text-sm text-muted-foreground/80",children:t})]})]});return i?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:l}):l}function Nq(e){return["name","title","id","key","label","type","status","tag","category","code","username","password"].includes(e.toLowerCase())}function ga({name:e,schema:t,value:r,onChange:a,isRequired:i=!1}){const{type:l,description:u,enum:d,default:m}=t,h=t.format==="textarea"||u&&u.length>100||l==="string"&&!d&&!Nq(e),p=h||u&&u.length>150,v=h||u&&u.length>80||l==="array",y=(()=>{switch(l){case"string":return d?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(tn,{value:typeof r=="string"&&r?r:typeof m=="string"?m:d[0],onValueChange:j=>a(j),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:`Select ${e}`})}),s.jsx(sn,{children:d.map(j=>s.jsx(gt,{value:j,children:j},j))})]}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]}):h||u&&u.length>100?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`,rows:h?4:2,className:"min-w-[300px] w-full"}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(at,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]});case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(at,{id:e,type:"number",value:typeof r=="number"?r:"",onChange:j=>{const N=parseFloat(j.target.value);a(isNaN(N)?"":N)},placeholder:typeof m=="number"?m.toString():`Enter ${e}`}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]});case"boolean":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:e,checked:!!r,onCheckedChange:j=>a(j)}),s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]});case"array":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:j=>{const N=j.target.value.split(",").map(S=>S.trim()).filter(S=>S.length>0);a(N)},placeholder:"Enter items separated by commas",rows:2}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]});case"object":default:return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:j=>{try{const N=JSON.parse(j.target.value);a(N)}catch{a(j.target.value)}},placeholder:'{"key": "value"}',rows:3}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u})]})}})(),b=()=>p?"md:col-span-2 lg:col-span-3 xl:col-span-4":v?"xl:col-span-2":"";return s.jsx("div",{className:b(),children:y})}function jq({inputSchema:e,inputTypeName:t,onSubmit:r,isSubmitting:a=!1,className:i}){const[l,u]=x.useState(!1),[d,m]=x.useState(!1),h=i?.includes("embedded"),[p,v]=x.useState({}),[y,b]=x.useState(!1),j=e.properties||{},N=Object.keys(j),S=e.required||[],_=e.type==="string"&&!e.enum,C=N.filter(A=>!S.includes(A)),E=S.includes("role")&&C.some(A=>["text","message","content"].includes(A))&&j.role?.type==="string",k=N.filter(A=>S.includes(A)&&!(E&&A==="role")),M=C,O=E?[...M].sort((A,L)=>{const $=V=>["text","message","content"].includes(V)?1:0;return $(L)-$(A)}):M,z=Math.max(0,(E?1:6)-k.length),B=O.slice(0,z),H=O.slice(z),X=H.length>0,G=k.length>0,ee=_?p.value!==void 0&&p.value!=="":S.length>0?S.every(A=>E&&A==="role"&&p.role==="user"?!0:p[A]!==void 0&&p[A]!==""):Object.keys(p).length>0;x.useEffect(()=>{if(e.type==="string")v({value:e.default||""});else if(e.type==="object"&&e.properties){const A={};Object.entries(e.properties).forEach(([L,$])=>{$.default!==void 0?A[L]=$.default:$.enum&&$.enum.length>0&&(A[L]=$.enum[0])}),E&&!A.role&&(A.role="user"),v(A)}},[e,E]);const P=A=>{if(A.preventDefault(),b(!0),e.type==="string")r({input:p.value||""});else if(e.type==="object"){const L=e.properties||{},$=Object.keys(L);if($.length===1){const V=$[0];r({[V]:p[V]||""})}else{const V={};Object.keys(p).forEach(T=>{const U=p[T];(S.includes(T)||U!==void 0&&U!==""&&U!==null)&&(V[T]=U)}),r(V)}}else r(p);h||u(!1),b(!1)},F=(A,L)=>{v($=>({...$,[A]:L}))};return h?s.jsxs("form",{onSubmit:P,className:i,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_&&s.jsx(ga,{name:"Input",schema:e,value:p.value,onChange:A=>F("value",A),isRequired:!1}),!_&&s.jsxs(s.Fragment,{children:[k.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!0},A)),G&&M.length>0&&s.jsx("div",{className:"sm:col-span-2 border-t border-border my-2"}),B.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!1},A)),X&&s.jsx("div",{className:"sm:col-span-2",children:s.jsx(ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!d),className:"w-full justify-center gap-2",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"h-4 w-4"}),"Hide ",H.length," optional field",H.length!==1?"s":""]}):s.jsxs(s.Fragment,{children:[s.jsx(En,{className:"h-4 w-4"}),"Show ",H.length," optional field",H.length!==1?"s":""]})})}),d&&H.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!1},A))]})]}),s.jsx("div",{className:"flex gap-2 mt-4 justify-end",children:s.jsxs(ge,{type:"submit",disabled:y||!ee,size:"default",children:[s.jsx(tc,{className:"h-4 w-4"}),y?"Running...":"Run Workflow"]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:He("flex flex-col",i),children:[s.jsxs("div",{className:"border-b border-border px-4 py-3 bg-muted",children:[s.jsx(Jt,{className:"text-sm mb-3",children:"Run Workflow"}),s.jsxs(ge,{onClick:()=>u(!0),disabled:a,className:"w-full",size:"default",children:[s.jsx(tc,{className:"h-4 w-4 mr-2"}),a?"Running...":"Run Workflow"]})]}),s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Input Type:"})," ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:t}),e.type==="object"&&e.properties&&s.jsxs("span",{className:"ml-2",children:["(",Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":"",")"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Click "Run Workflow" to configure inputs and execute'})]})]}),s.jsx(Ls,{open:l,onOpenChange:u,children:s.jsxs(Ps,{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[s.jsxs($s,{children:[s.jsx(Hs,{children:"Run Workflow"}),s.jsx(go,{onClose:()=>u(!1)})]}),s.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-medium",children:"Input Type:"}),s.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:t}),e.type==="object"&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.length," field",N.length!==1?"s":""]})]})})}),s.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:s.jsx("form",{id:"workflow-modal-form",onSubmit:P,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 max-w-none",children:[_&&s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:[s.jsx(ga,{name:"Input",schema:e,value:p.value,onChange:A=>F("value",A),isRequired:!1}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]}),!_&&s.jsxs(s.Fragment,{children:[k.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!0},A)),G&&M.length>0&&s.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:s.jsx("div",{className:"border-t border-border"})}),B.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!1},A)),X&&s.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:s.jsx(ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!d),className:"w-full justify-center gap-2",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"h-4 w-4"}),"Hide ",H.length," optional field",H.length!==1?"s":""]}):s.jsxs(s.Fragment,{children:[s.jsx(En,{className:"h-4 w-4"}),"Show ",H.length," optional field",H.length!==1?"s":""]})})}),d&&H.map(A=>s.jsx(ga,{name:A,schema:j[A],value:p[A],onChange:L=>F(A,L),isRequired:!1},A))]})]})})}),s.jsx("div",{className:"px-8 py-4 border-t flex-shrink-0",children:s.jsxs(j0,{children:[s.jsx(ge,{variant:"outline",onClick:()=>u(!1),disabled:y,children:"Cancel"}),s.jsxs(ge,{type:"submit",form:"workflow-modal-form",disabled:y||!ee,children:[s.jsx(tc,{className:"h-4 w-4 mr-2"}),y?"Running...":"Run Workflow"]})]})})]})})]})}function Sq(e){return["name","title","id","key","label","type","status","tag","category","code","username","password","email"].includes(e.toLowerCase())}function zk(e,t){return t.format==="textarea"||!!t.description&&t.description.length>100||t.type==="string"&&!t.enum&&!Sq(e)}function _q(e,t){const r=zk(e,t),a=!!t.description&&t.description.length>150;return r||a?"md:col-span-2 lg:col-span-3 xl:col-span-4":t.type==="array"||t.description&&t.description.length>80?"xl:col-span-2":""}function Eq(e,t){if(e.type!=="object"||!e.properties)return!1;const r=e.properties,a=Object.keys(r).filter(i=>!t.includes(i));return t.includes("role")&&a.some(i=>["text","message","content"].includes(i))&&r.role?.type==="string"}function bg({name:e,schema:t,value:r,onChange:a,isRequired:i=!1,isReadOnly:l=!1}){const{type:u,description:d,enum:m,default:h}=t,p=zk(e,t),v=()=>{if(l)return s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:e,className:"text-muted-foreground",children:e}),s.jsx("div",{className:"text-sm p-2 bg-muted rounded border",children:typeof r=="object"?JSON.stringify(r,null,2):String(r)}),d&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d})]});switch(u){case"string":return m?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(tn,{value:typeof r=="string"&&r?r:typeof h=="string"?h:m[0],onValueChange:y=>a(y),children:[s.jsx(rn,{children:s.jsx(nn,{placeholder:`Select ${e}`})}),s.jsx(sn,{children:m.map(y=>s.jsx(gt,{value:y,children:y},y))})]}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):p?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:typeof r=="string"?r:"",onChange:y=>a(y.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`,rows:4,className:"min-w-[300px] w-full"}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(at,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:y=>a(y.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"integer":case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(at,{id:e,type:"number",step:u==="integer"?"1":"any",value:typeof r=="number"?r:"",onChange:y=>{const b=u==="integer"?parseInt(y.target.value):parseFloat(y.target.value);a(isNaN(b)?"":b)},placeholder:typeof h=="number"?h.toString():`Enter ${e}`}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"boolean":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:e,checked:!!r,onCheckedChange:y=>a(y)}),s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"array":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:y=>{const b=y.target.value.split(",").map(j=>j.trim()).filter(j=>j.length>0);a(b)},placeholder:"Enter items separated by commas",rows:2}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"object":default:return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:e,children:[e,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(en,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:y=>{try{const b=JSON.parse(y.target.value);a(b)}catch{a(y.target.value)}},placeholder:'{"key": "value"}',rows:3,className:"font-mono text-xs"}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})}};return s.jsx("div",{className:_q(e,t),children:v()})}function Cq({schema:e,values:t,onChange:r,disabled:a=!1,readOnlyFields:i=[],hideFields:l=[],showCollapsedByDefault:u=!1}){const[d,m]=x.useState(u),h=e.properties||{},p=Object.keys(h).filter(D=>!l.includes(D)),v=(e.required||[]).filter(D=>!l.includes(D)),y=Eq(e,v),b=p.filter(D=>v.includes(D)&&!(y&&D==="role")),j=p.filter(D=>!v.includes(D)),N=y?[...j].sort((D,z)=>{const B=H=>["text","message","content"].includes(H)?1:0;return B(z)-B(D)}):j,_=Math.max(0,(y?1:6)-b.length),C=N.slice(0,_),E=N.slice(_),k=E.length>0,M=b.length>0,O=(D,z)=>{r({...t,[D]:z})};return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[b.map(D=>s.jsx(bg,{name:D,schema:h[D],value:t[D],onChange:z=>O(D,z),isRequired:!0,isReadOnly:a||i.includes(D)},D)),M&&j.length>0&&s.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:s.jsx("div",{className:"border-t border-border"})}),C.map(D=>s.jsx(bg,{name:D,schema:h[D],value:t[D],onChange:z=>O(D,z),isRequired:!1,isReadOnly:a||i.includes(D)},D)),k&&s.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:s.jsx(ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!d),className:"w-full justify-center gap-2",disabled:a,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"h-4 w-4"}),"Hide ",E.length," optional field",E.length!==1?"s":""]}):s.jsxs(s.Fragment,{children:[s.jsx(En,{className:"h-4 w-4"}),"Show ",E.length," optional field",E.length!==1?"s":""]})})}),d&&E.map(D=>s.jsx(bg,{name:D,schema:h[D],value:t[D],onChange:z=>O(D,z),isRequired:!1,isReadOnly:a||i.includes(D)},D))]})}function kq(e,t){return(e.required||[]).every(a=>{const i=t[a];return i!==void 0&&i!==""&&i!==null})}function Aq({open:e,onOpenChange:t,requests:r,responses:a,onResponseChange:i,onSubmit:l,isSubmitting:u}){const d=()=>r.every(m=>{const h=a[m.request_id]||{};return kq(m.request_schema,h)});return s.jsx(Ls,{open:e,onOpenChange:t,children:s.jsxs(Ps,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs($s,{className:"px-6 pt-6 pb-4",children:[s.jsxs(Hs,{className:"flex items-center gap-2",children:[s.jsx(JT,{className:"w-5 h-5"}),"Workflow Requires Input (",r.length," request",r.length>1?"s":"",")"]}),s.jsx(LE,{children:"The workflow is paused and needs your input to continue."})]}),s.jsx("div",{className:"space-y-6",children:r.map((m,h)=>s.jsxs(ct,{children:[s.jsx(gn,{children:s.jsxs(Jt,{className:"text-sm flex items-center gap-2",children:["Request ",h+1,s.jsx(Ge,{variant:"outline",className:"ml-2 font-mono text-xs",children:m.request_id.slice(0,8)})]})}),s.jsxs(ut,{children:[Object.keys(m.request_data).length>0&&s.jsxs("div",{className:"mb-4 p-3 bg-muted rounded-md max-h-48 overflow-y-auto",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Request Context:"}),s.jsx("div",{className:"space-y-1",children:Object.entries(m.request_data).filter(([p])=>!["request_id","source_executor_id"].includes(p)).map(([p,v])=>s.jsxs("div",{className:"text-xs",children:[s.jsxs("span",{className:"font-medium",children:[p,":"]})," ",s.jsx("span",{className:"text-muted-foreground break-all",children:typeof v=="object"?JSON.stringify(v):String(v)})]},p))})]}),m.request_schema?.description&&s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-md",children:[s.jsx("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Expected Response:"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:m.request_schema.description})]}),s.jsx(Cq,{schema:m.request_schema,values:a[m.request_id]||{},onChange:p=>i(m.request_id,p),disabled:u})]})]},m.request_id))}),s.jsx(j0,{children:s.jsxs("div",{className:"flex gap-2 w-full justify-end",children:[s.jsx(ge,{variant:"outline",onClick:()=>t(!1),disabled:u,children:"Cancel"}),s.jsx(ge,{onClick:l,disabled:u||!d(),children:u?s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"w-4 h-4 animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tc,{className:"w-4 h-4 mr-2"}),"Submit & Continue"]})})]})})]})})}function Rq(e,t,r="LR"){if(e.length===0)return e;if(e.length===1)return e.map(j=>({...j,position:{x:0,y:0}}));const a=new Map,i=new Map;e.forEach(j=>{a.set(j.id,[]),i.set(j.id,[])}),t.forEach(j=>{a.get(j.source)?.push(j.target),i.get(j.target)?.push(j.source)});const l=e.filter(j=>(i.get(j.id)||[]).length===0);l.length===0&&l.push(e[0]);const u=220,d=120,m=r==="LR"?350:280,h=r==="TB"?250:180,p=new Map,v=new Map,y=[],b=new Set;for(l.forEach(j=>{y.push({nodeId:j.id,level:0})});y.length>0;){const{nodeId:j,level:N}=y.shift();if(b.has(j))continue;b.add(j),v.has(N)||v.set(N,[]),v.get(N).push(j),(a.get(j)||[]).forEach(_=>{b.has(_)||y.push({nodeId:_,level:N+1})})}return e.forEach(j=>{if(!b.has(j.id)){const S=Math.max(...Array.from(v.keys()),-1)+1;v.has(S)||v.set(S,[]),v.get(S).push(j.id)}}),v.forEach((j,N)=>{const S=j.length;j.forEach((_,C)=>{let E,k;r==="LR"?(E=N*m,k=-((S-1)*h)/2+C*h):(k=N*h,E=-((S-1)*m)/2+C*m),p.set(_,{x:E,y:k,level:N})})}),e.map(j=>{const N=p.get(j.id)||{x:0,y:0};return{...j,position:{x:N.x-u/2,y:N.y-d/2}}})}function Mq(e){return typeof e=="object"&&e!==null&&"id"in e&&"edge_groups"in e&&"executors"in e&&"start_executor_id"in e&&"max_iterations"in e&&typeof e.id=="string"&&Array.isArray(e.edge_groups)&&typeof e.executors=="object"&&typeof e.start_executor_id=="string"&&typeof e.max_iterations=="number"}function Ik(e){return Mq(e)?e:null}function Gd(e,t=50,r="..."){return e.length<=t?e:e.substring(0,t)+r}function jm(e){const t=e.workflow;return t&&typeof t=="object"&&!Array.isArray(t)?t:e}function hx(e,t,r){if(!e)return console.warn("convertWorkflowDumpToNodes: workflowDump is undefined"),[];const a=Ik(e);let i,l;if(a)i=Object.values(a.executors).map(d=>({id:d.id,type:d.type,name:d.name||d.id,description:d.description,config:d.config})),l=a.start_executor_id;else{const d=e,m=jm(d);i=Lk(m),l=d?.start_executor_id??m?.start_executor_id??m?.start_step}return!i||!Array.isArray(i)||i.length===0?(console.warn("No executors found in workflow dump. Available keys:",Object.keys(e)),[]):i.map(d=>{const m=d,h=m.node_type||d.type;return{id:d.id,type:"executor",position:{x:0,y:0},data:{executorId:d.id,executorType:h,name:d.name||d.id,state:"pending",isStartNode:d.id===l,layoutDirection:r||"LR",onNodeClick:t,agent_id:m.agent||m.config?.agent_id,input_template:m.input_template||m.config?.input_template,tool_id:m.tool_id||m.config?.tool_id,expression:m.expression||m.config?.expression,config:d.config}}})}function px(e){if(!e)return console.warn("convertWorkflowDumpToEdges: workflowDump is undefined"),[];const t=Ik(e);let r;if(t)r=[],t.edge_groups.forEach(i=>{i.edges.forEach(l=>{r.push({source:l.source_id,target:l.target_id,condition:l.condition_name})})});else{const l=jm(e);r=Pk(l)}return!r||!Array.isArray(r)||r.length===0?(console.warn("No connections found in workflow dump. Available keys:",Object.keys(e)),[]):r.map(i=>({id:`${i.source}-${i.target}`,source:i.source,target:i.target,sourceHandle:"source",targetHandle:"target",type:"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}))}function Lk(e){const t=jm(e);if(t.executors&&typeof t.executors=="object"&&!Array.isArray(t.executors)){const i=t.executors;return Object.entries(i).map(([l,u])=>({id:l,type:u.type_||u.type||"executor",name:u.name||l,description:u.description,config:u.config}))}const r=["nodes","steps","executors","agents"];for(const i of r)if(t[i]&&Array.isArray(t[i]))return t[i];if(t.config&&typeof t.config=="object")return Lk(t.config);const a=[];return Object.entries(t).forEach(([i,l])=>{if(typeof l=="object"&&l!==null&&("type"in l||"type_"in l)){const u=l;a.push({id:i,type:u.type_||u.type||"executor",name:u.name||i,description:u.description,config:u.config})}}),a}function Pk(e){const t=jm(e);if(t.edge_groups&&Array.isArray(t.edge_groups)){const a=[];return t.edge_groups.forEach(i=>{if(typeof i=="object"&&i!==null&&"edges"in i){const l=i.edges;Array.isArray(l)&&l.forEach(u=>{if(typeof u=="object"&&u!==null&&"source_id"in u&&"target_id"in u){const d=u;a.push({source:d.source_id,target:d.target_id,condition:d.condition_name||void 0})}})}}),a}const r=["connections","edges","transitions","links"];for(const a of r)if(t[a]&&Array.isArray(t[a]))return t[a];return t.config&&typeof t.config=="object"?Pk(t.config):[]}function gx(e,t,r="LR"){return Rq(e,t,r)}function Tq(e,t){const r={};let a=!1;const i={};return e.forEach(l=>{if(l.type==="response.output_item.added"||l.type==="response.output_item.done"){const u=l.item;if(u&&u.type==="executor_action"&&u.executor_id){const d=u.executor_id,m=u.id;if(l.type==="response.output_item.added"&&(i[d]=m),!(i[d]===m)&&l.type==="response.output_item.done")return;let p="pending",v;l.type==="response.output_item.added"?p="running":l.type==="response.output_item.done"&&(u.status==="completed"?p="completed":u.status==="failed"?(p="failed",v=u.error?typeof u.error=="string"?u.error:JSON.stringify(u.error):"Execution failed"):u.status==="cancelled"&&(p="cancelled")),r[d]={nodeId:d,state:p,data:u.result,error:v,timestamp:new Date().toISOString()}}}else if(l.type==="response.created"||l.type==="response.in_progress")a=!0;else if(l.type==="response.workflow_event.completed"&&"data"in l&&l.data){const d=l.data,m=d.executor_id,h=d.event_type,p=d.data;let v="pending",y;h==="ExecutorInvokedEvent"?v="running":h==="ExecutorCompletedEvent"?v="completed":h?.includes("Error")||h?.includes("Failed")?(v="failed",y=typeof p=="string"?p:"Execution failed"):h?.includes("Cancel")?v="cancelled":h==="WorkflowCompletedEvent"||h==="WorkflowOutputEvent"?v="completed":h==="WorkflowStartedEvent"&&(a=!0),m&&(r[m]={nodeId:m,state:v,data:p,error:y,timestamp:new Date().toISOString()})}}),a&&t&&!r[t]&&(e.some(u=>{if(u.type==="response.output_item.done"){const d=u.item;return d&&d.type==="executor_action"&&d.executor_id===t}if(u.type==="response.workflow_event.completed"&&"data"in u&&u.data){const d=u.data;return d.executor_id===t&&(d.event_type==="ExecutorCompletedEvent"||d.event_type==="ExecutorFailedEvent"||d.event_type?.includes("Error")||d.event_type?.includes("Failed"))}return!1})||(r[t]={nodeId:t,state:"running",data:void 0,error:void 0,timestamp:new Date().toISOString()})),r}function Dq(e,t){return e.map(r=>{const a=t[r.id];return a?{...r,data:{...r.data,state:a.state,outputData:a.data,error:a.error,layoutDirection:r.data.layoutDirection}}:r})}function Oq(e){const t={};return e.forEach(a=>{if(a.type==="response.output_item.added"||a.type==="response.output_item.done"){const i=a.item;if(i&&i.type==="executor_action"&&i.executor_id){const l=i.executor_id;t[l]={lastEvent:a.type==="response.output_item.added"?"ExecutorInvokedEvent":"ExecutorCompletedEvent",timestamp:new Date().toISOString()}}}else if(a.type==="response.workflow_event.completed"&&"data"in a&&a.data){const l=a.data,u=l.executor_id,d=l.event_type;u&&(d==="ExecutorInvokedEvent"||d==="ExecutorCompletedEvent")&&(t[u]={lastEvent:d,timestamp:new Date().toISOString()})}}),Object.entries(t).filter(([,a])=>a.lastEvent==="ExecutorInvokedEvent").map(([a])=>a)}function zq(e,t){const r=Oq(t),a={};return t.forEach(i=>{if(i.type==="response.workflow_event.completed"&&"data"in i&&i.data){const u=i.data,d=u.executor_id,m=u.event_type;d&&m&&(a[d]||(a[d]={completed:!1,invoked:!1}),m==="ExecutorInvokedEvent"?a[d].invoked=!0:m==="ExecutorCompletedEvent"&&(a[d].completed=!0))}}),e.map(i=>{const l=a[i.source],u=a[i.target],d=r.includes(i.target);let m={...i.style},h=!1;return l?.completed&&d?(m={stroke:"#643FB2",strokeWidth:3,strokeDasharray:"5,5"},h=!0):l?.completed&&u?.completed?m={stroke:"#10b981",strokeWidth:2}:l?.completed&&u?.invoked?m={stroke:"#f59e0b",strokeWidth:2}:m={stroke:"#6b7280",strokeWidth:2},{...i,style:m,animated:h}})}function wg(e){const t=new Map,r=new Set;return e.forEach(a=>{const i=`${a.source}-${a.target}`,l=`${a.target}-${a.source}`;if(t.has(l)){r.add(l),r.add(i);const u=t.get(l);t.set(l,{...u,markerStart:{type:"arrow",width:20,height:20},markerEnd:{type:"arrow",width:20,height:20},data:{...u.data,isBidirectional:!0}})}else r.has(i)||t.set(i,a)}),Array.from(t.values())}function Iq(e,t,r="dag"){const a=e.map(u=>{const d=u.data;let m=d.executorType||"agent";m==="AgentExecutor"?m="agent":m==="ToolExecutor"?m="tool":m==="RouterExecutor"?m="router":m==="ConditionExecutor"?m="condition":m==="HumanExecutor"?m="human":m==="RagExecutor"&&(m="rag");const h={id:u.id,type:m,label:d.label,config:{}};return h.type==="tool"?(h.config||(h.config={}),h.config.tool_id=d.tool_id):h.type==="condition"||h.type==="router"?(h.config||(h.config={}),h.config.expression=d.expression):h.type==="agent"?(h.agent=d.agent_id,h.input_template=d.input_template):h.type==="human"&&(h.input_template=d.input_template),d.config&&(h.config={...h.config,...d.config}),h}),i=t.map(u=>({source:u.source,target:u.target,type:u.type||"default",condition:u.data?.condition,label:u.label}));let l=e.find(u=>u.data?.isStartNode)?.id;if(!l&&e.length>0){const u=new Set(t.map(m=>m.target)),d=e.filter(m=>!u.has(m.id));d.length>0?l=d[0].id:l=e[0].id}return{type:r,start_step:l,nodes:a,edges:i}}const Lq=e=>{switch(e){case"running":return{borderColor:"border-[#643FB2] dark:border-[#8B5CF6]",glow:"shadow-lg shadow-[#643FB2]/20",badgeColor:"bg-[#643FB2] dark:bg-[#8B5CF6]"};case"completed":return{borderColor:"border-green-500 dark:border-green-400",glow:"shadow-lg shadow-green-500/20",badgeColor:"bg-green-500 dark:bg-green-400"};case"failed":return{borderColor:"border-red-500 dark:border-red-400",glow:"shadow-lg shadow-red-500/20",badgeColor:"bg-red-500 dark:bg-red-400"};case"cancelled":return{borderColor:"border-orange-500 dark:border-orange-400",glow:"shadow-lg shadow-orange-500/20",badgeColor:"bg-orange-500 dark:bg-orange-400"};case"pending":default:return{borderColor:"border-gray-300 dark:border-gray-600",glow:"",badgeColor:"bg-gray-400 dark:bg-gray-500"}}},$k=x.memo(({data:e,selected:t})=>{const r=e,a=Lq(r.state),i=r.inputData||r.outputData||r.error,l=r.state==="running",u=r.executorType==="human",d=r.layoutDirection==="TB",m=d?Pe.Top:Pe.Left,h=d?Pe.Bottom:Pe.Right,p=()=>{const v=[];if(r.error&&typeof r.error=="string"){const y=Gd(r.error,150);v.push(s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Error:"}),s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800 break-words",children:y})]},"error"))}if(r.outputData)try{const y=typeof r.outputData=="string"?r.outputData:JSON.stringify(r.outputData,null,2);v.push(s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),s.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800 max-h-20 overflow-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:y})})]},"output"))}catch{v.push(s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800",children:"[Unable to display output data]"})]},"output"))}if(r.inputData)try{const y=typeof r.inputData=="string"?r.inputData:JSON.stringify(r.inputData,null,2);v.push(s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),s.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800 max-h-20 overflow-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:y})})]},"input"))}catch{v.push(s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:"[Unable to display input data]"})]},"input"))}return v.length>0?v:null};return s.jsxs("div",{className:He("group relative w-64 bg-card dark:bg-card rounded border-2 transition-all duration-200",a.borderColor,t?"ring-2 ring-blue-500 ring-offset-2":"",l?a.glow:"shadow-sm"),children:[s.jsx(ka,{type:"target",position:m,id:"target",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),s.jsx(ka,{type:"source",position:h,id:"source",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-900/90 dark:bg-gray-800/90 flex items-center justify-center",children:r.isStartNode?s.jsx(MT,{className:"w-5 h-5 text-[#643FB2] dark:text-[#8B5CF6]"}):u?s.jsx(Ox,{className:"w-5 h-5 text-blue-500 dark:text-blue-400"}):s.jsx(Yr,{className:"w-5 h-5 text-gray-300 dark:text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:r.name||r.executorId}),l&&s.jsx(Wr,{className:"w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] animate-spin flex-shrink-0"})]}),r.executorType&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:r.executorType})]})]}),i&&s.jsx("div",{className:"mt-3",children:p()}),l&&s.jsx("div",{className:"absolute inset-0 rounded border-2 border-[#643FB2]/30 dark:border-[#8B5CF6]/30 animate-pulse pointer-events-none"})]})]})});$k.displayName="ExecutorNode";function Pq({node:e,onUpdate:t,onClose:r}){const[a,i]=x.useState({});if(x.useEffect(()=>{e&&i({...e.data})},[e]),!e)return null;const l=(d,m)=>{const h={...a,[d]:m};i(h),t(e.id,h)},u=e.data?.executorType||"agent";return s.jsxs("div",{className:"h-full border-l bg-background w-80 flex flex-col shadow-xl",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[s.jsx("h3",{className:"font-semibold",children:"Properties"}),s.jsx(ge,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8",children:s.jsx(vi,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Label"}),s.jsx(at,{value:a.label||"",onChange:d=>l("label",d.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Type"}),s.jsx("div",{className:"text-sm text-muted-foreground capitalize border p-2 rounded bg-muted/5",children:u})]}),(u==="condition"||u==="router")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Expression (Python)"}),s.jsx(en,{placeholder:"e.g., len(input) > 0",value:a.expression||"",onChange:d=>l("expression",d.target.value),className:"font-mono text-xs"}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Available variables: ",s.jsx("code",{children:"input"}),", ",s.jsx("code",{children:"value"})]})]}),u==="tool"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Tool ID"}),s.jsx(at,{value:a.tool_id||"",readOnly:!0,className:"bg-muted"})]}),(u==="agent"||u==="human")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Input Template"}),s.jsx(en,{placeholder:"e.g., {{user_input}}",value:a.input_template||"",onChange:d=>l("input_template",d.target.value)})]}),u==="agent"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Agent ID"}),s.jsx(at,{placeholder:"e.g., agent_researcher",value:a.agent_id||"",onChange:d=>l("agent_id",d.target.value)})]})]})]})}const $q={executor:$k};function Hq({workflowDump:e,onNodeSelect:t,viewOptions:r,onToggleViewOption:a,layoutDirection:i,onLayoutDirectionChange:l}){const{fitView:u,setViewport:d,setNodes:m}=Oi(),h=()=>{d({x:0,y:0,zoom:1})},p=()=>{u({padding:.2})},v=()=>{if(!e)return;const y=hx(e,t,i),b=px(e),j=gx(y,b,i);m(j)};return s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsxs(Bi,{children:[s.jsx(Ui,{asChild:!0,children:s.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white/90 backdrop-blur-sm border-gray-200 shadow-sm hover:bg-white dark:bg-gray-800/90 dark:border-gray-600 dark:hover:bg-gray-800",children:[s.jsx(Ax,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"View options"})]})}),s.jsxs(Vi,{align:"end",className:"w-56",children:[s.jsxs(At,{className:"flex items-center justify-between",onClick:()=>a?.("showMinimap"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(WT,{className:"mr-2 h-4 w-4"}),"Show Minimap"]}),s.jsx(Vr,{checked:r.showMinimap,onChange:()=>{}})]}),s.jsxs(At,{className:"flex items-center justify-between",onClick:()=>a?.("showGrid"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(CT,{className:"mr-2 h-4 w-4"}),"Show Grid"]}),s.jsx(Vr,{checked:r.showGrid,onChange:()=>{}})]}),s.jsxs(At,{className:"flex items-center justify-between",onClick:()=>a?.("animateRun"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(zx,{className:"mr-2 h-4 w-4"}),"Animate Run"]}),s.jsx(Vr,{checked:r.animateRun,onChange:()=>{}})]}),s.jsxs(At,{className:"flex items-center justify-between",onClick:()=>a?.("consolidateBidirectionalEdges"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(MM,{className:"mr-2 h-4 w-4"}),"Merge Bidirectional Edges"]}),s.jsx(Vr,{checked:r.consolidateBidirectionalEdges,onChange:()=>{}})]}),s.jsx(_a,{}),s.jsxs(At,{className:"flex items-center justify-between",onClick:()=>{const y=i==="LR"?"TB":"LR";if(l?.(y),e){const b=hx(e,t,y),j=px(e),N=gx(b,j,y);m(N)}},children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(AM,{className:"mr-2 h-4 w-4"}),"Vertical Layout"]}),s.jsx(Vr,{checked:i==="TB",onChange:()=>{}})]}),s.jsx(_a,{}),s.jsxs(At,{onClick:h,children:[s.jsx(Dx,{className:"mr-2 h-4 w-4"}),"Reset Zoom"]}),s.jsxs(At,{onClick:p,children:[s.jsx(KT,{className:"mr-2 h-4 w-4"}),"Fit to Screen"]}),s.jsxs(At,{onClick:v,children:[s.jsx(_D,{className:"mr-2 h-4 w-4"}),"Auto-arrange"]})]})]})})}function Bq({nodes:e,nodeUpdates:t,isStreaming:r,animateRun:a}){const{fitView:i}=Oi();return x.useEffect(()=>{if(a)if(r){const l=e.filter(u=>u.data.state==="running");if(l.length>0){const u=l[0];i({nodes:[u],duration:800,padding:.3,minZoom:.8,maxZoom:1.5})}}else e.length>0&&i({duration:1e3,padding:.2})},[t,r,a,e]),null}const Uq=x.memo(({timelineVisible:e})=>{const{fitView:t}=Oi();return x.useEffect(()=>{const r=setTimeout(()=>{t({padding:.2,duration:300})},350);return()=>clearTimeout(r)},[e]),null});function Vq({workflowDump:e,events:t=[],isStreaming:r=!1,onNodeSelect:a,className:i,viewOptions:l={showMinimap:!0,showGrid:!0,animateRun:!0,consolidateBidirectionalEdges:!0},onToggleViewOption:u,layoutDirection:d="LR",onLayoutDirectionChange:m,timelineVisible:h=!1,onWorkflowChange:p}){const[v,y,b]=fL([]),[j,N,S]=mL([]),[_,C]=x.useState(null),[E,k]=x.useState(null);x.useEffect(()=>{p&&p(v,j)},[v,j,p]);const{initialNodes:M,initialEdges:O}=x.useMemo(()=>{if(!e)return{initialNodes:[],initialEdges:[]};const P=hx(e,a,d),F=px(e),A=l.consolidateBidirectionalEdges?wg(F):F;return{initialNodes:P.length>0?gx(P,A,d):P,initialEdges:A}},[e,a,d,l.consolidateBidirectionalEdges]),D=x.useMemo(()=>Tq(t,e?.start_executor_id),[t,e?.start_executor_id]);x.useMemo(()=>{Object.keys(D).length>0?y(P=>Dq(P,D)):t.length===0&&y(P=>P.map(F=>({...F,data:{...F.data,state:"pending",outputData:void 0,error:void 0}})))},[D,y,t.length]),x.useMemo(()=>{t.length>0?N(P=>{const F=zq(P,t);return l.consolidateBidirectionalEdges?wg(F):F}):N(P=>{const F=P.map(A=>({...A,animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}));return l.consolidateBidirectionalEdges?wg(F):F})},[t,N,l.consolidateBidirectionalEdges]),x.useEffect(()=>{M.length>0&&(y(M),N(O))},[e,l.consolidateBidirectionalEdges]);const z=x.useCallback((P,F)=>{k(F.id),a&&a(F.data.executorId,F.data)},[a]),B=x.useCallback(()=>{k(null),a&&a(null,null)},[a]),H=(P,F)=>{y(A=>A.map(L=>L.id===P?{...L,data:{...L.data,...F}}:L))},X=x.useCallback(P=>{P.preventDefault(),P.dataTransfer.dropEffect="move"},[]),G=x.useCallback(P=>{P.preventDefault();const F=P.dataTransfer.getData("application/reactflow"),A=P.dataTransfer.getData("application/toolId"),L=P.dataTransfer.getData("application/reactflow-data");if(typeof F>"u"||!F)return;let $=`${F} node`,V={};if(L)try{const K=JSON.parse(L);K.label&&($=K.label),V=K}catch(K){console.error("Failed to parse drop data",K)}const T=_.screenToFlowPosition({x:P.clientX,y:P.clientY}),U=`node_${Date.now()}`,Z={id:U,type:"executor",position:T,data:{executorId:U,name:$,executorType:F,tool_id:A,state:"pending",...V}};y(K=>K.concat(Z))},[_,y]),ee=x.useMemo(()=>v.find(P=>P.id===E)||null,[v,E]);return s.jsxs("div",{className:`relative w-full h-full ${i}`,children:[s.jsxs(dL,{nodes:v,edges:j,onNodesChange:b,onEdgesChange:S,onNodeClick:z,onPaneClick:B,onInit:C,onDrop:G,onDragOver:X,nodeTypes:$q,fitView:!0,attributionPosition:"bottom-right",minZoom:.1,maxZoom:2,children:[s.jsx(vL,{variant:Ms.Dots,gap:12,size:1,className:l.showGrid?"":"hidden"}),s.jsx(_L,{}),l.showMinimap&&s.jsx(PL,{}),s.jsx(Hq,{workflowDump:e,onNodeSelect:a,viewOptions:l,onToggleViewOption:u,layoutDirection:d,onLayoutDirectionChange:m}),s.jsx(Bq,{nodes:v,nodeUpdates:D,isStreaming:r,animateRun:l.animateRun}),s.jsx(Uq,{timelineVisible:h})]}),ee&&s.jsx("div",{className:"absolute top-0 right-0 bottom-0 z-10",children:s.jsx(Pq,{node:ee,onUpdate:H,onClose:()=>k(null)})})]})}function Md({title:e,icon:t,children:r,className:a=""}){return s.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,s.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function Fq({workflow:e,open:t,onOpenChange:r}){const a=e.source==="directory"?s.jsx(Vj,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?s.jsx(kg,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Fj,{className:"h-4 w-4 text-muted-foreground"}),i=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return s.jsx(Ls,{open:t,onOpenChange:r,children:s.jsxs(Ps,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs($s,{className:"px-6 pt-6 flex-shrink-0",children:[s.jsx(Hs,{children:"Workflow Details"}),s.jsx(go,{onClose:()=>r(!1)})]}),s.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Yr,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&s.jsx("p",{className:"text-muted-foreground",children:e.description})]}),s.jsx("div",{className:"h-px bg-border mb-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx(Md,{title:"Start Executor",icon:s.jsx(JM,{className:"h-4 w-4 text-muted-foreground"}),children:s.jsx("div",{className:"font-mono text-foreground",children:e.start_executor_id})}),s.jsx(Md,{title:"Source",icon:a,children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-foreground",children:i}),e.module_path&&s.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),s.jsx(Md,{title:"Environment",icon:e.has_env?s.jsx(Tc,{className:"h-4 w-4 text-orange-500"}):s.jsx(Tf,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:s.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),s.jsx(Md,{title:`Executors (${e.executors.length})`,icon:s.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"}),children:e.executors.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.executors.map((l,u)=>s.jsx("div",{className:"font-mono text-xs text-foreground bg-muted px-2 py-1 rounded truncate",title:l,children:l},u))}):s.jsx("div",{className:"text-muted-foreground",children:"No executors configured"})})]})]})})}function qq(e){switch(e){case"running":return s.jsx(Wr,{className:"w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] animate-spin"});case"completed":return s.jsx(Tf,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return s.jsx(Tc,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"cancelled":return s.jsx(Er,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"});default:return s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400 dark:border-gray-500"})}}function Yq(e){switch(e){case"running":return"bg-[#643FB2]/10 text-[#643FB2] dark:bg-[#8B5CF6]/10 dark:text-[#8B5CF6] border-[#643FB2]/20 dark:border-[#8B5CF6]/20";case"completed":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20";case"failed":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"cancelled":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20"}}function Gq({run:e,isExpanded:t,onToggle:r,onClick:a,isSelected:i}){const l=new Date(e.timestamp).toLocaleTimeString(),d=e.output.trim().length>0||e.error,m=x.useRef(null);return x.useEffect(()=>{t&&e.state==="running"&&m.current&&(m.current.scrollTop=m.current.scrollHeight)},[e.output,t,e.state]),s.jsxs("div",{className:`border rounded-lg transition-all ${i?"border-blue-500 dark:border-blue-400 bg-blue-500/5 dark:bg-blue-500/10":"border-border hover:border-muted-foreground/30"}`,children:[s.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>{a(),d&&r()},children:[s.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 text-muted-foreground",children:d&&s.jsx(s.Fragment,{children:t?s.jsx(En,{className:"w-3 h-3"}):s.jsx(Cr,{className:"w-3 h-3"})})}),s.jsx("div",{children:qq(e.state)}),s.jsx("span",{className:"font-medium text-sm truncate overflow-hidden",children:e.executorName}),e.runNumber>1?s.jsxs(Ge,{variant:"outline",className:"text-xs whitespace-nowrap",children:["Run #",e.runNumber]}):s.jsx("div",{})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-5",children:[s.jsx("span",{className:"font-mono",children:l}),s.jsx(Ge,{variant:"outline",className:`text-xs border ${Yq(e.state)}`,children:e.state})]})]}),t&&d&&s.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:e.error?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error:"}),s.jsx("pre",{className:"text-xs bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-2 overflow-y-auto overflow-x-hidden max-h-40 whitespace-pre-wrap break-all",children:e.error})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Output:"}),s.jsx("pre",{ref:m,className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:e.output})]})})]})}function Xq({events:e,itemOutputs:t,currentExecutorId:r,isStreaming:a,onExecutorClick:i,selectedExecutorId:l,workflowResult:u}){const[d,m]=x.useState(new Set),[h,p]=x.useState(0),[v,y]=x.useState(!1),b=x.useRef(null),j=x.useRef(null);x.useEffect(()=>{if(a){const C=setInterval(()=>{p(E=>E+1)},100);return()=>clearInterval(C)}},[a]);const{executorRuns:N,executorRunCount:S}=x.useMemo(()=>{const C=[],E=new Map;return e.forEach(k=>{const M="_uiTimestamp"in k&&typeof k._uiTimestamp=="number"?k._uiTimestamp*1e3:Date.now();if(k.type==="response.output_item.added"){const O=k.item;if(O&&O.type==="executor_action"&&O.executor_id&&O.id){const D=O.executor_id,z=O.id,B=(E.get(D)||0)+1;E.set(D,B),C.push({executorId:D,executorName:Gd(D,35),itemId:z,state:"running",output:t[z]||"",timestamp:M,runNumber:B})}else if(O&&O.type==="message"&&O.metadata?.agent_id&&O.metadata?.source==="magentic"&&O.id){const D=O.metadata.agent_id,z=O.id,B=(E.get(D)||0)+1;E.set(D,B),C.push({executorId:D,executorName:Gd(D,35),itemId:z,state:"running",output:t[z]||"",timestamp:M,runNumber:B})}}if(k.type==="response.output_item.done"){const O=k.item;if(O&&O.type==="executor_action"&&O.executor_id&&O.id){const D=O.id,z=C.find(B=>B.itemId===D);z&&(z.state=O.status==="completed"?"completed":O.status==="failed"?"failed":"completed",z.output=t[D]||"",O.status==="failed"&&O.error&&(z.error=O.error))}else if(O&&O.type==="message"&&O.metadata?.agent_id&&O.metadata?.source==="magentic"&&O.id){const D=O.id,z=C.find(B=>B.itemId===D);z&&(z.state=O.status==="completed"?"completed":"failed",z.output=t[D]||"")}}if(k.type==="response.workflow_event.completed"&&"data"in k&&k.data){const O=k.data,D=O.executor_id;if(!D)return;const z=O.event_type;if(z==="ExecutorInvokedEvent"){const B=(E.get(D)||0)+1;E.set(D,B);const H=`fallback_${D}_${M}`;C.push({executorId:D,executorName:Gd(D,35),itemId:H,state:"running",output:t[H]||"",timestamp:M,runNumber:B})}else if(z==="ExecutorCompletedEvent"){let B;for(let H=C.length-1;H>=0;H--)if(C[H].executorId===D&&C[H].state==="running"){B=C[H];break}B&&(B.state="completed",B.output=t[B.itemId]||"")}else if(z?.includes("Error")||z?.includes("Failed")){let B;for(let H=C.length-1;H>=0;H--)if(C[H].executorId===D&&C[H].state==="running"){B=C[H];break}B&&(B.state="failed",B.error=typeof O.data=="string"?O.data:"Execution failed")}}}),C.forEach(k=>{k.state==="running"&&t[k.itemId]&&(k.output=t[k.itemId])}),{executorRuns:C,executorRunCount:E}},[e,t,h]);x.useEffect(()=>{r&&m(C=>{const E=new Set(C);return E.add(`${r}-${S.get(r)||1}`),E})},[r,S]),x.useEffect(()=>{if(N.length>0&&a){const C=N[N.length-1],E=`${C.executorId}-${C.runNumber}`;E!==b.current&&(b.current=E,j.current&&j.current.scrollIntoView({behavior:"smooth",block:"end"}))}},[N,a]),x.useEffect(()=>{u&&!a&&j.current&&setTimeout(()=>{j.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[u,a]);const _=()=>{const C=N.map(E=>{const M=`[${new Date(E.timestamp).toLocaleTimeString()}] ${E.executorName} (${E.state})`,O=E.error||E.output||"(no output)";return`${M}
${O}
`}).join(`
`);navigator.clipboard.writeText(C),y(!0),setTimeout(()=>y(!1),2e3)};return s.jsxs("div",{className:"h-full flex flex-col border-l bg-muted/30",children:[s.jsxs("div",{className:"p-3 border-b bg-background flex items-center justify-between flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:"Execution Timeline"}),s.jsx(Ge,{variant:"outline",className:"text-xs",children:N.length}),a&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-[#643FB2] dark:bg-[#8B5CF6]"}),s.jsx("span",{children:"Running"})]})]}),N.length>0&&s.jsx(ge,{variant:"ghost",size:"sm",onClick:_,className:`h-7 px-2 text-xs ${v?"text-green-600 dark:text-green-400":""}`,children:v?s.jsxs(s.Fragment,{children:[s.jsx(Di,{className:"w-3 h-3 mr-1"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(wa,{className:"w-3 h-3 mr-1"}),"Copy All"]})})]}),s.jsx(Jn,{className:"flex-1",children:s.jsxs("div",{className:"p-3 space-y-2",children:[N.length===0?s.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No executor runs yet. Start the workflow to see execution timeline."}):N.map((C,E)=>{const k=`${C.executorId}-${C.runNumber}`;return s.jsx(Gq,{run:C,isExpanded:d.has(k),onToggle:()=>{m(M=>{const O=new Set(M);return O.has(k)?O.delete(k):O.add(k),O})},onClick:()=>i?.(C.executorId),isSelected:l===C.executorId},`${k}-${E}`)}),u&&u.trim().length>0&&!a&&s.jsxs("div",{className:"border rounded-lg border-green-500/40 bg-green-500/5 dark:bg-green-500/10",children:[s.jsx("div",{className:"p-3 bg-green-500/10 border-b border-green-500/20",children:s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Tf,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),s.jsx("span",{className:"font-medium text-sm",children:"Workflow Complete"})]})}),s.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Final Output:"}),s.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:u})]})})]}),s.jsx("div",{ref:j})]})})]})}function Wq({inputSchema:e,onRun:t,isSubmitting:r,workflowState:a}){const[i,l]=x.useState(!1);x.useEffect(()=>{const y=b=>{b.key==="Escape"&&i&&l(!1)};if(i)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]);const u=x.useMemo(()=>{if(!e)return{needsInput:!1,hasDefaults:!1,fieldCount:0};if(e.type==="string")return{needsInput:!e.default,hasDefaults:!!e.default,fieldCount:1,canRunDirectly:!!e.default};if(e.type==="object"&&e.properties){const y=e.properties,b=Object.entries(y),j=b.filter(([,N])=>N.default!==void 0||N.enum&&N.enum.length>0);return{needsInput:b.length>0,hasDefaults:j.length>0,fieldCount:b.length,canRunDirectly:j.length===b.length}}return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0}},[e]),d=()=>{if(u.canRunDirectly){const y={};e.type==="string"&&e.default?y.input=e.default:e.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([b,j])=>{j.default!==void 0?y[b]=j.default:j.enum&&j.enum.length>0&&(y[b]=j.enum[0])}),t(y)}else l(!0)},m=()=>a==="running"?"Running...":a==="completed"?"Run Again":a==="error"?"Retry":u.fieldCount===0||u.canRunDirectly?"Run Workflow":"Configure & Run",h=()=>a==="running"?s.jsx(Wr,{className:"w-4 h-4 animate-spin"}):a==="error"?s.jsx(Dx,{className:"w-4 h-4"}):u.needsInput&&!u.canRunDirectly?s.jsx(Jd,{className:"w-4 h-4"}):s.jsx(Tx,{className:"w-4 h-4"}),p=a==="running",v=a==="error"?"destructive":"primary";return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex",children:[s.jsxs(ge,{onClick:d,disabled:p,variant:v==="destructive"?"destructive":"default",size:"default",className:u.needsInput?"rounded-r-none":"",children:[h(),m()]}),u.needsInput&&s.jsxs(ge,{onClick:()=>l(!0),disabled:p,variant:v==="destructive"?"destructive":"default",size:"default",className:"rounded-l-none border-l-0 px-3",title:"Configure workflow inputs - customize parameters before running",children:[s.jsx(Jd,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1.5",children:"Inputs"})]})]})}),s.jsx(Ls,{open:i,onOpenChange:l,children:s.jsxs(Ps,{className:"w-full min-w-[400px] max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[s.jsxs($s,{className:"px-8 pt-6",children:[s.jsx(Hs,{children:"Configure Workflow Inputs"}),s.jsx(go,{onClose:()=>l(!1)})]}),s.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-medium",children:"Input Type:"}),s.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:u.fieldCount===0?"No Input":e.type==="string"?"String":"Object"}),e.type==="object"&&e.properties&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":""]})]})})}),s.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:s.jsx(jq,{inputSchema:e,inputTypeName:"Input",onSubmit:y=>{t(y),l(!1)},isSubmitting:r,className:"embedded"})})]})})]})}function Zq({selectedWorkflow:e,onDebugEvent:t}){const[r,a]=x.useState(null),[i,l]=x.useState(!1),[u,d]=x.useState(null),[m,h]=x.useState([]),[p,v]=x.useState(!1),[y,b]=x.useState(null),[j,N]=x.useState(!1),[S,_]=x.useState(!1),[C,E]=x.useState(!1),[k,M]=x.useState(!1),[O,D]=x.useState(""),[z,B]=x.useState(null),[H,X]=x.useState([]),[G,ee]=x.useState({}),[P,F]=x.useState(!1),A=x.useRef({}),L=x.useRef(null),$=x.useRef(null),V=xe(ie=>ie.currentSession),T=xe(ie=>ie.availableSessions),U=xe(ie=>ie.loadingSessions),Z=xe(ie=>ie.setCurrentSession),K=xe(ie=>ie.setAvailableSessions),ne=xe(ie=>ie.setLoadingSessions),fe=xe(ie=>ie.addSession),ue=xe(ie=>ie.removeSession),q=xe(ie=>ie.addToast),Q=xe(ie=>ie.runtime),[de,he]=x.useState(null),[Ee,we]=x.useState(()=>{const ie=localStorage.getItem("workflowViewOptions"),ce={showMinimap:!1,showGrid:!0,animateRun:!1,consolidateBidirectionalEdges:!0};if(ie){const ve=JSON.parse(ie);return{...ce,...ve}}return ce}),[ke,te]=x.useState(()=>localStorage.getItem("workflowLayoutDirection")||"LR");x.useEffect(()=>{localStorage.setItem("workflowViewOptions",JSON.stringify(Ee))},[Ee]),x.useEffect(()=>{localStorage.setItem("workflowLayoutDirection",ke)},[ke]);const Re=ie=>{we(ce=>({...ce,[ie]:!ce[ie]}))},Ye=async()=>{if(S||!e)return;_(!0);const{addToast:ie,updateWorkflow:ce}=await Og(()=>Promise.resolve().then(()=>fx),void 0,import.meta.url).then(ve=>({addToast:ve.useDevUIStore.getState().addToast,updateWorkflow:ve.useDevUIStore.getState().updateWorkflow}));try{await ot.reloadEntity(e.id);const ve=await ot.getWorkflowInfo(e.id);ce(ve),a(ve),ie({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(ve){const be=ve instanceof Error?ve.message:"Failed to reload entity";ie({message:`Failed to reload: ${be}`,type:"error",duration:6e3})}finally{_(!1)}};x.useEffect(()=>{const ie=async()=>{if(e.type==="workflow"){l(!0),d(null);try{const ce=await ot.getWorkflowInfo(e.id);a(ce),d(null)}catch(ce){a(null);const ve=ce instanceof Error?ce.message:String(ce);d(ve),console.error("Error loading workflow info:",ce)}finally{l(!1)}}};h([]),v(!1),b(null),E(!1),D(""),d(null),A.current={},L.current=null,$.current=null,ie()},[e.id,e.type]),x.useEffect(()=>{(async()=>{if(r){ne(!0);try{const ce=await ot.listWorkflowSessions(r.id);if(ce.data.length===0){const ve=await ot.createWorkflowSession(r.id,{name:`Conversation ${new Date().toLocaleString()}`});K([ve]),Z(ve)}else if(K(ce.data),!V){const ve=ce.data[0];Z(ve),await Fe(ve)}}catch(ce){console.error("Failed to load sessions:",ce),Q!=="dotnet"&&q({message:"Failed to load sessions",type:"error"})}finally{ne(!1)}}})()},[r?.id,Q]);const Fe=x.useCallback(async ie=>{!ie||!r||he(null)},[r]),Bt=x.useCallback(async ie=>{const ce=T.find(ve=>ve.conversation_id===ie);ce&&(Z(ce),await Fe(ce))},[T,Z,Fe]),an=x.useCallback(async()=>{if(r)try{const ie=await ot.createWorkflowSession(r.id,{name:`Conversation ${new Date().toLocaleString()}`});fe(ie),Z(ie),await Fe(ie),q({message:"New session created",type:"success"})}catch(ie){console.error("Failed to create session:",ie),q({message:"Failed to create session",type:"error"})}},[r,fe,Z,Fe,q]),Ct=x.useCallback(async()=>{if(!(!V||!r)&&confirm("Delete this session? All checkpoints will be lost."))try{await ot.deleteWorkflowSession(r.id,V.conversation_id),ue(V.conversation_id),q({message:"Session deleted",type:"success"})}catch(ie){console.error("Failed to delete session:",ie),q({message:"Failed to delete session",type:"error"})}},[V,r,ue,q]),tt=ie=>{b(ie)},Ke=x.useMemo(()=>m.filter(ie=>ie.type==="response.output_item.added"||ie.type==="response.output_item.done"||ie.type==="response.created"||ie.type==="response.in_progress"||ie.type==="response.completed"||ie.type==="response.failed"||ie.type==="response.workflow_event.completed"||ie.type==="response.workflow_event.complete"),[m]);x.useEffect(()=>{Ke.length>0&&!C&&E(!0)},[Ke.length,C]);const Gt=x.useMemo(()=>{const ie=[];return Ke.forEach(ce=>{if(ce.type==="response.output_item.added"||ce.type==="response.output_item.done"){const ve=ce.item;ve&&ve.type==="executor_action"&&ve.executor_id&&ie.push({executorId:ve.executor_id,message:ce.type==="response.output_item.added"?"Executor started":ve.status==="completed"?"Executor completed":ve.status==="failed"?"Executor failed":"Executor processing",timestamp:new Date().toISOString(),status:ve.status==="completed"?"completed":ve.status==="failed"?"error":"running"})}else if(ce.type==="response.workflow_event.complete"&&"data"in ce&&ce.data&&typeof ce.data=="object"){const ve=ce.data;ve.executor_id!=null&&ie.push({executorId:String(ve.executor_id),message:String(ve.event_type||"Processing"),timestamp:String(ve.timestamp||new Date().toISOString()),status:String(ve.event_type||"").includes("Completed")?"completed":String(ve.event_type||"").includes("Error")?"error":"running"})}}),ie},[Ke]),le=x.useMemo(()=>p?Gt.filter(ce=>ce.status==="running").slice(-2).map(ce=>ce.executorId):[],[Gt,p]),De=x.useCallback((ie,ce)=>{const ve=Iq(ie,ce);B(ve)},[]),Se=x.useCallback(async ie=>{if(!(!e||e.type!=="workflow")){v(!0),h([]),D(""),A.current={},L.current=null,$.current=null,t("clear");try{const ce={input_data:ie,conversation_id:V?.conversation_id||void 0,checkpoint_id:de||void 0,workflow_config:z||void 0};ot.clearStreamingState(e.id);const ve=ot.streamWorkflowExecutionOpenAI(e.id,ce);for await(const be of ve){if((be.type==="response.output_item.added"||be.type==="response.output_item.done"||be.type==="response.created"||be.type==="response.in_progress"||be.type==="response.completed"||be.type==="response.failed"||be.type==="response.workflow_event.completed"||be.type==="response.workflow_event.complete")&&h(_e=>{const Xe=Math.floor(Date.now()/1e3),Ne=_e.length>0&&_e[_e.length-1]._uiTimestamp||0,Le=Math.max(Xe,Ne+1);return[..._e,{...be,_uiTimestamp:Le}]}),t(be),be.type==="response.output_item.added"){const _e=be.item;if(_e&&_e.type==="executor_action"&&_e.executor_id&&_e.id&&(L.current=_e.id,A.current[_e.id]||(A.current[_e.id]="")),_e&&_e.type==="message"&&_e.metadata?.source==="magentic"&&_e.id&&(L.current=_e.id,A.current[_e.id]||(A.current[_e.id]="")),_e&&_e.type==="message"&&!_e.metadata?.source&&_e.content){for(const Xe of _e.content)if(Xe.type==="output_text"&&Xe.text){D(Ne=>Ne&&Ne.length>0?Ne+`

`+Xe.text:Xe.text);try{const Ne=JSON.parse(Xe.text);typeof Ne=="object"&&Ne!==null&&($.current=Ne)}catch{}}}}if(be.type,be.type,be.type==="response.workflow_event.completed"&&"data"in be&&be.data){const _e=be.data;if(_e.event_type==="ExecutorInvokedEvent"&&_e.executor_id){const Xe=`fallback_${_e.executor_id}_${Date.now()}`;L.current=Xe,A.current[Xe]||(A.current[Xe]="")}(_e.event_type==="WorkflowCompletedEvent"||_e.event_type==="WorkflowOutputEvent")&&_e.data&&(typeof _e.data=="object"&&($.current=_e.data),L.current=null)}if(be.type==="response.output_text.delta"&&"delta"in be&&be.delta){const _e=L.current;_e&&(A.current[_e]||(A.current[_e]=""),A.current[_e]+=be.delta)}if(be.type==="response.request_info.requested"){const _e=be;X(Le=>[...Le,{request_id:_e.request_id,request_data:_e.request_data,request_schema:_e.request_schema}]);const Xe=_e.request_schema,Ne={};Xe.properties&&Object.entries(Xe.properties).forEach(([Le,Ce])=>{const We=Ce;We.enum&&We.enum.length>0?Ne[Le]=We.enum[0]:We.default!==void 0&&(Ne[Le]=We.default)}),ee(Le=>({...Le,[_e.request_id]:Ne})),H.length===0&&F(!0)}if(be.type==="error")break}H.length>0&&!P&&F(!0),v(!1)}catch(ce){console.error("Workflow execution error:",ce),v(!1)}}},[e,t,r,V,de]),Me=x.useCallback(async()=>{if(!(!e||e.type!=="workflow")){F(!1),v(!0);try{const ie={input_data:[{type:"message",content:[{type:"workflow_hil_response",responses:G}]}],conversation_id:V?.conversation_id||void 0,checkpoint_id:de||void 0},ce=ot.streamWorkflowExecutionOpenAI(e.id,ie);for await(const ve of ce){if((ve.type==="response.output_item.added"||ve.type==="response.output_item.done"||ve.type==="response.created"||ve.type==="response.in_progress"||ve.type==="response.completed"||ve.type==="response.failed"||ve.type==="response.workflow_event.completed")&&h(be=>{const _e=Math.floor(Date.now()/1e3),Xe=be.length>0&&be[be.length-1]._uiTimestamp||0,Ne=Math.max(_e,Xe+1);return[...be,{...ve,_uiTimestamp:Ne}]}),t(ve),ve.type==="response.output_item.added"){const be=ve.item;if(be&&be.type==="executor_action"&&be.executor_id&&be.id&&(L.current=be.id,A.current[be.id]||(A.current[be.id]="")),be&&be.type==="message"&&be.content){for(const _e of be.content)if(_e.type==="output_text"&&_e.text){D(Xe=>Xe&&Xe.length>0?Xe+`

`+_e.text:_e.text);try{const Xe=JSON.parse(_e.text);typeof Xe=="object"&&Xe!==null&&($.current=Xe)}catch{}}}}if(ve.type==="response.output_text.delta"&&"delta"in ve&&ve.delta){const be=L.current;be&&(A.current[be]||(A.current[be]=""),A.current[be]+=ve.delta)}ve.type,ve.type}X([]),ee({}),v(!1)}catch(ie){console.error("HIL submission error:",ie),v(!1)}}},[e,G,t,V,de]);return i?s.jsx(cj,{message:"Loading workflow...",description:"Fetching workflow structure and configuration"}):u?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center max-w-md p-6",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Workflow"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This may not be a valid workflow entity. Check the file contains a workflow export."})]})}):!r?.workflow_dump&&!Gt.length?s.jsx(cj,{message:"Initializing workflow...",description:"Setting up workflow execution environment"}):s.jsxs("div",{className:"workflow-view flex flex-col h-full",children:[s.jsxs("div",{className:"border-b pb-2 p-4 flex-shrink-0",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("h2",{className:"font-semibold text-sm truncate",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.name||e.id})]})}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>N(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View workflow details",children:s.jsx(xi,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:Ye,disabled:S||e.metadata?.source==="in_memory",className:"h-6 w-6 p-0 flex-shrink-0",title:e.metadata?.source==="in_memory"?"In-memory entities cannot be reloaded":S?"Reloading...":"Reload entity code (hot reload)",children:s.jsx(Dc,{className:`h-4 w-4 ${S?"animate-spin":""}`})})]}),r&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[s.jsxs(tn,{value:V?.conversation_id||"",onValueChange:Bt,disabled:U,children:[s.jsx(rn,{className:"w-full sm:w-64",children:s.jsx(nn,{placeholder:U?"Loading...":T.length===0?"No conversations":"Select conversation",children:V&&s.jsx("div",{className:"flex items-center gap-2 text-xs",children:s.jsx("span",{children:V.metadata.name||`Conversation ${V.conversation_id.slice(-8)}`})})})}),s.jsx(sn,{children:T.map(ie=>s.jsx(gt,{value:ie.conversation_id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:ie.metadata.name||`Conversation ${ie.conversation_id.slice(-8)}`}),ie.created_at&&s.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(ie.created_at*1e3).toLocaleTimeString()})]})},ie.conversation_id))})]}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:Ct,disabled:!V||U,className:"h-9 w-9 p-0",title:"Delete current session",children:s.jsx(mr,{className:"h-4 w-4 "})}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:an,disabled:U,className:"h-9 px-3",title:"New session",children:s.jsx(Rt,{className:"h-4 w-4"})}),s.jsx(Wq,{inputSchema:r.input_schema,onRun:Se,isSubmitting:p,workflowState:p?"running":Gt.length>0?"completed":"ready",executorHistory:Gt})]})]}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),s.jsxs("div",{className:"flex-1 min-h-0 flex gap-0",children:[s.jsx("div",{className:"flex-1 min-w-0 transition-all duration-300 relative",children:r?.workflow_dump&&s.jsx(Vq,{workflowDump:r.workflow_dump,events:Ke,isStreaming:p,onNodeSelect:tt,className:"h-full",viewOptions:Ee,onToggleViewOption:Re,layoutDirection:ke,onLayoutDirectionChange:te,timelineVisible:C,onWorkflowChange:De})}),C&&s.jsx("div",{className:"flex-shrink-0 overflow-hidden transition-all duration-300 ease-out border-l",style:{width:k?"2.5rem":"24rem"},children:k?s.jsxs("div",{className:"h-full w-10 bg-background flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>M(!1),title:"Expand timeline",children:[s.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:s.jsx(Bj,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[s.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Execution Timeline"}),Ke.length>0&&s.jsx("div",{className:`bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center ${p?"animate-pulse":""}`,style:{fontSize:"10px"},children:Ke.length})]})]}):s.jsxs("div",{className:"w-96 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Execution Timeline"}),Ke.length>0&&s.jsx("div",{className:`bg-primary text-primary-foreground rounded-full px-2 h-5 flex items-center justify-center ${p?"animate-pulse":""}`,style:{fontSize:"11px",minWidth:"20px"},children:Ke.length})]}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>M(!0),className:"h-8 w-8 p-0",title:"Minimize timeline",children:s.jsx(Cr,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:s.jsx(Xq,{events:Ke,itemOutputs:A.current,currentExecutorId:le[le.length-1]||null,isStreaming:p,onExecutorClick:tt,selectedExecutorId:y,workflowResult:O})})]})})]}),s.jsx(Fq,{workflow:e,open:j,onOpenChange:N}),s.jsx(Aq,{open:P,onOpenChange:F,requests:H,responses:G,onResponseChange:(ie,ce)=>{ee(ve=>({...ve,[ie]:ce}))},onSubmit:Me,isSubmitting:p})]})}function Kq(){const[e,t]=x.useState(!1),[r,a]=x.useState(""),[i,l]=x.useState(!1),[u,d]=x.useState(""),m=xe(te=>te.agents),h=xe(te=>te.workflows),p=xe(te=>te.entities),v=xe(te=>te.selectedAgent),y=xe(te=>te.azureDeploymentEnabled),b=xe(te=>te.isLoadingEntities),j=xe(te=>te.entityError),N=xe(te=>te.oaiMode),S=xe(te=>te.uiMode),_=xe(te=>te.setAgents),C=xe(te=>te.setWorkflows),E=xe(te=>te.setEntities),k=xe(te=>te.selectEntity),M=xe(te=>te.updateAgent),O=xe(te=>te.updateWorkflow),D=xe(te=>te.setIsLoadingEntities),z=xe(te=>te.setEntityError),B=xe(te=>te.showDebugPanel),H=xe(te=>te.debugPanelMinimized),X=xe(te=>te.debugPanelWidth),G=xe(te=>te.debugEvents),ee=xe(te=>te.isResizing),P=xe(te=>te.setShowDebugPanel),F=xe(te=>te.setDebugPanelMinimized),A=xe(te=>te.setDebugPanelWidth),L=xe(te=>te.addDebugEvent),$=xe(te=>te.clearDebugEvents),V=xe(te=>te.setIsResizing),T=xe(te=>te.showAboutModal),U=xe(te=>te.showGallery),Z=xe(te=>te.showDeployModal),K=xe(te=>te.showEntityNotFoundToast),ne=xe(te=>te.setShowAboutModal),fe=xe(te=>te.setShowGallery),ue=xe(te=>te.setShowDeployModal),q=xe(te=>te.setShowEntityNotFoundToast),Q=xe(te=>te.toasts),de=xe(te=>te.removeToast);x.useEffect(()=>{(async()=>{try{const Re=await ot.getMeta();if(Re.auth_required&&(t(!0),!ot.getAuthToken())){z("UNAUTHORIZED"),D(!1);return}xe.getState().setServerMeta({uiMode:Re.ui_mode,runtime:Re.runtime,capabilities:Re.capabilities,authRequired:Re.auth_required});const{entities:Ye,agents:Fe,workflows:Bt}=await ot.getEntities();E(Ye),_(Fe),C(Bt);const Ct=new URLSearchParams(window.location.search).get("entity_id");let tt;if(Ct&&(tt=Ye.find(Ke=>Ke.id===Ct),tt||q(!0)),!tt)if(tt=Ye.length>0?Ye[0]:void 0,tt){const Ke=new URL(window.location.href);Ke.searchParams.set("entity_id",tt.id),window.history.replaceState({},"",Ke)}else{const Ke=new URL(window.location.href);Ke.searchParams.delete("entity_id"),window.history.replaceState({},"",Ke)}if(tt&&(k(tt),tt.metadata?.lazy_loaded===!1))try{if(tt.type==="agent"){const Ke=await ot.getAgentInfo(tt.id);M(Ke)}else{const Ke=await ot.getWorkflowInfo(tt.id);O(Ke)}}catch(Ke){console.error(`Failed to load full info for first entity ${tt.id}:`,Ke)}D(!1)}catch(Re){console.error("Failed to load agents/workflows:",Re);const Ye=Re instanceof Error?Re.message:"Failed to load data";Ye==="UNAUTHORIZED"&&t(!0),z(Ye),D(!1)}})()},[_,C,k,M,O,D,z,q]);const he=x.useCallback(async()=>{if(r.trim()){l(!0),d("");try{ot.setAuthToken(r.trim()),await ot.getEntities(),window.location.reload()}catch(te){ot.clearAuthToken(),l(!1);const Re=te instanceof Error?te.message:"Unknown error";d(Re==="UNAUTHORIZED"?"Invalid token. Please check and try again.":`Failed to connect: ${Re}`)}}},[r]);x.useEffect(()=>{if(N.enabled&&v?.type==="workflow"){const te=m[0];te&&k(te)}},[N.enabled,v,m,k]);const Ee=x.useCallback(te=>{te.preventDefault(),V(!0);const Re=te.clientX,Ye=X,Fe=an=>{const Ct=Re-an.clientX,tt=Math.max(200,Math.min(window.innerWidth*.5,Ye+Ct));A(tt)},Bt=()=>{V(!1),document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",Bt)};document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",Bt)},[X]),we=x.useCallback(async te=>{if(k(te),te.metadata?.lazy_loaded===!1)try{if(te.type==="agent"){const Re=await ot.getAgentInfo(te.id);M(Re)}else{const Re=await ot.getWorkflowInfo(te.id);O(Re)}}catch(Re){console.error(`Failed to load full info for ${te.id}:`,Re)}},[k,M,O]),ke=x.useCallback(te=>{te==="clear"?$():L(te)},[L,$]);if(b)return s.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[s.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[s.jsx("div",{className:"w-64 h-9 bg-muted animate-pulse rounded-md"}),s.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"}),s.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"})]})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-medium",children:"Initializing DevUI..."}),s.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Loading agents and workflows from your configuration"})]})})]});if(j){const te=ot.getBaseUrl(),Re=j==="UNAUTHORIZED"||e;let Ye="8080";try{if(te){const Fe=new URL(te);Ye=Fe.port||(Fe.protocol==="https:"?"443":"80")}}catch{}return s.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[s.jsx(aj,{agents:[],workflows:[],entities:[],selectedItem:void 0,onSelect:()=>{},isLoading:!1,onSettingsClick:()=>ne(!0)}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"rounded-full bg-muted p-4 animate-pulse",children:Re?s.jsx(qT,{className:"h-12 w-12 text-muted-foreground"}):s.jsx(wD,{className:"h-12 w-12 text-muted-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:Re?"Authentication Required":"Can't Connect to Backend"}),s.jsx("p",{className:"text-muted-foreground text-base",children:Re?"This backend requires a bearer token to access.":"No worries! Just start the DevUI backend server and you'll be good to go."})]}),Re?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enter Authentication Token"}),s.jsx(at,{type:"password",placeholder:"Paste token from server logs",value:r,onChange:Fe=>a(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&!i&&he()},disabled:i,className:"font-mono text-sm"}),s.jsx(ge,{onClick:he,disabled:!r.trim()||i,className:"w-full",children:i?"Verifying...":"Connect"}),u&&s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:u})]}),s.jsxs("details",{className:"text-left group",children:[s.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2 justify-center",children:[s.jsx(En,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Where do I find the token?"]}),s.jsxs("div",{className:"mt-3 text-left bg-muted/30 rounded-lg p-3 space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Look for this in your DevUI server startup logs:"}),s.jsxs("code",{className:"block bg-background px-2 py-1 rounded text-xs font-mono text-foreground",children:[" DEV TOKEN (localhost only, shown once):",s.jsx("br",{})," abc123xyz..."]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Start the backend:"}),s.jsxs("code",{className:"block bg-background px-3 py-2 rounded border text-sm font-mono text-foreground",children:["devui ./agents --port ",Ye]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or launch programmatically with"," ",s.jsx("code",{className:"text-xs",children:"serve(entities=[agent])"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default:"," ",s.jsx("span",{className:"font-mono",children:te})]})]}),j&&s.jsxs("details",{className:"text-left group",children:[s.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2",children:[s.jsx(En,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Error details"]}),s.jsx("p",{className:"mt-2 text-xs text-muted-foreground font-mono bg-muted/30 p-3 rounded border",children:j})]}),s.jsx(ge,{onClick:()=>window.location.reload(),variant:"default",className:"mt-2",children:"Retry Connection"})]})]})}),s.jsx(oj,{open:T,onOpenChange:ne})]})}return s.jsxs("div",{className:"h-screen flex flex-col bg-background max-h-screen",children:[s.jsx(aj,{agents:m,workflows:h,entities:p,selectedItem:v,onSelect:we,onBrowseGallery:()=>fe(!0),isLoading:b,onSettingsClick:()=>ne(!0)}),s.jsx("div",{className:"flex flex-1 overflow-hidden",children:U?s.jsx("div",{className:"flex-1 w-full",children:s.jsx(ij,{variant:"route",onClose:()=>fe(!1),hasExistingEntities:m.length>0||h.length>0})}):m.length===0&&h.length===0?s.jsx(ij,{variant:"inline"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 min-w-0",children:v?v.type==="agent"?s.jsx(wq,{selectedAgent:v,onDebugEvent:ke}):s.jsx(Zq,{selectedWorkflow:v,onDebugEvent:ke}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select an agent or workflow to get started."})}),S==="developer"&&B?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-1 cursor-col-resize flex-shrink-0 relative group transition-colors duration-200 ease-in-out ${ee?"bg-primary/40":"bg-border hover:bg-primary/20"}`,onMouseDown:Ee,children:s.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 flex items-center justify-center",children:s.jsx("div",{className:`h-12 w-1 rounded-full transition-all duration-200 ease-in-out ${ee?"bg-primary shadow-lg shadow-primary/25":"bg-primary/30 group-hover:bg-primary group-hover:shadow-md group-hover:shadow-primary/20"}`})})}),s.jsx("div",{className:"flex-shrink-0 flex flex-col h-[calc(100vh-3.7rem)]",style:{width:H?"2.5rem":`${X}px`},children:H?s.jsxs("div",{className:"h-full w-10 bg-background border-l flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>F(!1),title:"Expand debug panel",children:[s.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:s.jsx(Bj,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[s.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Debug Panel"}),G.length>0&&s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:G.length})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(GF,{events:G,isStreaming:!1,onMinimize:()=>F(!0)}),s.jsx("div",{className:"border-t bg-muted/30 px-3 py-2.5 flex-shrink-0",children:s.jsxs(ge,{onClick:()=>ue(!0),className:"w-full",variant:"outline",size:"sm",children:[s.jsx(Rg,{className:"h-3 w-3 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate text-xs",children:y&&v?.deployment_supported?"Deploy to Azure":"Deployment Guide"})]})})]})})]}):S==="developer"?s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>P(!0),className:"h-full w-10 rounded-none border-l",title:"Show debug panel",children:s.jsx(oD,{className:"h-4 w-4"})})}):null]})}),s.jsx(oj,{open:T,onOpenChange:ne}),s.jsx(eq,{open:Z,onClose:()=>ue(!1),agentName:v?.name,entity:v}),K&&s.jsx(Ix,{message:"Entity not found. Showing first available entity instead.",type:"info",onClose:()=>q(!1)}),s.jsx(BD,{toasts:Q,onRemove:de})]})}const Qq=[{id:"1",name:"Jonathan Pereira",email:"jonathan@example.com",role:"Admin",status:"Active",lastActive:"Just now"},{id:"2",name:"Alice Smith",email:"alice@example.com",role:"Creator",status:"Active",lastActive:"2 hours ago"},{id:"3",name:"Bob Johnson",email:"bob@example.com",role:"User",status:"Inactive",lastActive:"2 days ago"}];function Jq(){return s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage platform access and roles."})]}),s.jsxs(ge,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),s.jsx("div",{className:"border rounded-md",children:s.jsxs(pm,{children:[s.jsx(gm,{children:s.jsxs(As,{children:[s.jsx(pn,{children:"Name"}),s.jsx(pn,{children:"Email"}),s.jsx(pn,{children:"Role"}),s.jsx(pn,{children:"Status"}),s.jsx(pn,{children:"Last Active"}),s.jsx(pn,{className:"w-[50px]"})]})}),s.jsx(xm,{children:Qq.map(e=>s.jsxs(As,{children:[s.jsx(qt,{className:"font-medium",children:e.name}),s.jsx(qt,{children:e.email}),s.jsx(qt,{children:s.jsx(Ge,{variant:e.role==="Admin"?"default":"secondary",children:e.role})}),s.jsx(qt,{children:s.jsx(Ge,{variant:e.status==="Active"?"outline":"destructive",children:e.status})}),s.jsx(qt,{className:"text-muted-foreground",children:e.lastActive}),s.jsx(qt,{children:s.jsxs(Bi,{children:[s.jsx(Ui,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(hT,{className:"h-4 w-4"})]})}),s.jsxs(Vi,{align:"end",children:[s.jsx(Yd,{children:"Actions"}),s.jsx(At,{children:"Edit user"}),s.jsx(At,{children:"Reset password"}),s.jsx(_a,{}),s.jsx(At,{className:"text-red-600",children:"Deactivate"})]})]})})]},e.id))})]})})]})}function eY(){return s.jsx(gR,{children:s.jsxs(Y3,{children:[s.jsx(Xn,{path:"/",element:s.jsx(hM,{})}),s.jsx(Xn,{path:"/login",element:s.jsx(gM,{})}),s.jsxs(Xn,{path:"/platform",element:s.jsx(VD,{}),children:[s.jsx(Xn,{index:!0,element:s.jsx(qw,{to:"/platform/dashboard",replace:!0})}),s.jsx(Xn,{path:"dashboard",element:s.jsx(FD,{})}),s.jsx(Xn,{path:"agents",element:s.jsx(mF,{})}),s.jsx(Xn,{path:"workflows",element:s.jsx(hF,{})}),s.jsx(Xn,{path:"studio",element:s.jsx(gU,{})}),s.jsx(Xn,{path:"chat",element:s.jsx(pF,{})}),s.jsx(Xn,{path:"debug",element:s.jsx(Kq,{})}),s.jsx(Xn,{path:"users",element:s.jsx(Jq,{})})]}),s.jsx(Xn,{path:"*",element:s.jsx(qw,{to:"/",replace:!0})})]})})}function tY({children:e,attribute:t="class",defaultTheme:r="dark",enableSystem:a=!0,disableTransitionOnChange:i=!0,...l}){return s.jsx(NF,{attribute:t,defaultTheme:r,enableSystem:a,disableTransitionOnChange:i,...l,children:e})}D5();QA.createRoot(document.getElementById("root")).render(s.jsx(x.StrictMode,{children:s.jsx(tY,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:s.jsx(eY,{})})}));
