function DT(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function jv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wx={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj;function OT(){if(Jj)return Bc;Jj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:l}}return Bc.Fragment=t,Bc.jsx=n,Bc.jsxs=n,Bc}var eN;function zT(){return eN||(eN=1,wx.exports=OT()),wx.exports}var r=zT(),jx={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function IT(){if(tN)return it;tN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function _(z,H,J){this.props=z,this.context=H,this.refs=w,this.updater=J||b}_.prototype.isReactComponent={},_.prototype.setState=function(z,H){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,H,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=_.prototype;function E(z,H,J){this.props=z,this.context=H,this.refs=w,this.updater=J||b}var C=E.prototype=new S;C.constructor=E,j(C,_.prototype),C.isPureReactComponent=!0;var k=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(z,H,J,K,ie,ge){return J=ge.ref,{$$typeof:e,type:z,key:H,ref:J!==void 0?J:null,props:ge}}function I(z,H){return O(z.type,H,void 0,void 0,void 0,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function Z(z){var H={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(J){return H[J]})}var X=/\/+/g;function Y(z,H){return typeof z=="object"&&z!==null&&z.key!=null?Z(""+z.key):H.toString(36)}function q(){}function R(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(q,q):(z.status="pending",z.then(function(H){z.status==="pending"&&(z.status="fulfilled",z.value=H)},function(H){z.status==="pending"&&(z.status="rejected",z.reason=H)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,H,J,K,ie){var ge=typeof z;(ge==="undefined"||ge==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(ge){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case e:case t:ye=!0;break;case p:return ye=z._init,$(ye(z._payload),H,J,K,ie)}}if(ye)return ie=ie(z),ye=K===""?"."+Y(z,0):K,k(ie)?(J="",ye!=null&&(J=ye.replace(X,"$&/")+"/"),$(ie,H,J,"",function(te){return te})):ie!=null&&(U(ie)&&(ie=I(ie,J+(ie.key==null||z&&z.key===ie.key?"":(""+ie.key).replace(X,"$&/")+"/")+ye)),H.push(ie)),1;ye=0;var ae=K===""?".":K+":";if(k(z))for(var de=0;de<z.length;de++)K=z[de],ge=ae+Y(K,de),ye+=$(K,H,J,ge,ie);else if(de=x(z),typeof de=="function")for(z=de.call(z),de=0;!(K=z.next()).done;)K=K.value,ge=ae+Y(K,de++),ye+=$(K,H,J,ge,ie);else if(ge==="object"){if(typeof z.then=="function")return $(R(z),H,J,K,ie);throw H=String(z),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ye}function A(z,H,J){if(z==null)return z;var K=[],ie=0;return $(z,K,"","",function(ge){return H.call(J,ge,ie++)}),K}function L(z){if(z._status===-1){var H=z._result;H=H(),H.then(function(J){(z._status===0||z._status===-1)&&(z._status=1,z._result=J)},function(J){(z._status===0||z._status===-1)&&(z._status=2,z._result=J)}),z._status===-1&&(z._status=0,z._result=H)}if(z._status===1)return z._result.default;throw z._result}var F=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function B(){}return it.Children={map:A,forEach:function(z,H,J){A(z,function(){H.apply(this,arguments)},J)},count:function(z){var H=0;return A(z,function(){H++}),H},toArray:function(z){return A(z,function(H){return H})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},it.Component=_,it.Fragment=n,it.Profiler=o,it.PureComponent=E,it.StrictMode=s,it.Suspense=f,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,it.__COMPILER_RUNTIME={__proto__:null,c:function(z){return T.H.useMemoCache(z)}},it.cache=function(z){return function(){return z.apply(null,arguments)}},it.cloneElement=function(z,H,J){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var K=j({},z.props),ie=z.key,ge=void 0;if(H!=null)for(ye in H.ref!==void 0&&(ge=void 0),H.key!==void 0&&(ie=""+H.key),H)!M.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(K[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)K.children=J;else if(1<ye){for(var ae=Array(ye),de=0;de<ye;de++)ae[de]=arguments[de+2];K.children=ae}return O(z.type,ie,void 0,void 0,ge,K)},it.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},it.createElement=function(z,H,J){var K,ie={},ge=null;if(H!=null)for(K in H.key!==void 0&&(ge=""+H.key),H)M.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=H[K]);var ye=arguments.length-2;if(ye===1)ie.children=J;else if(1<ye){for(var ae=Array(ye),de=0;de<ye;de++)ae[de]=arguments[de+2];ie.children=ae}if(z&&z.defaultProps)for(K in ye=z.defaultProps,ye)ie[K]===void 0&&(ie[K]=ye[K]);return O(z,ge,void 0,void 0,null,ie)},it.createRef=function(){return{current:null}},it.forwardRef=function(z){return{$$typeof:d,render:z}},it.isValidElement=U,it.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:L}},it.memo=function(z,H){return{$$typeof:h,type:z,compare:H===void 0?null:H}},it.startTransition=function(z){var H=T.T,J={};T.T=J;try{var K=z(),ie=T.S;ie!==null&&ie(J,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(B,F)}catch(ge){F(ge)}finally{T.T=H}},it.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},it.use=function(z){return T.H.use(z)},it.useActionState=function(z,H,J){return T.H.useActionState(z,H,J)},it.useCallback=function(z,H){return T.H.useCallback(z,H)},it.useContext=function(z){return T.H.useContext(z)},it.useDebugValue=function(){},it.useDeferredValue=function(z,H){return T.H.useDeferredValue(z,H)},it.useEffect=function(z,H,J){var K=T.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(z,H)},it.useId=function(){return T.H.useId()},it.useImperativeHandle=function(z,H,J){return T.H.useImperativeHandle(z,H,J)},it.useInsertionEffect=function(z,H){return T.H.useInsertionEffect(z,H)},it.useLayoutEffect=function(z,H){return T.H.useLayoutEffect(z,H)},it.useMemo=function(z,H){return T.H.useMemo(z,H)},it.useOptimistic=function(z,H){return T.H.useOptimistic(z,H)},it.useReducer=function(z,H,J){return T.H.useReducer(z,H,J)},it.useRef=function(z){return T.H.useRef(z)},it.useState=function(z){return T.H.useState(z)},it.useSyncExternalStore=function(z,H,J){return T.H.useSyncExternalStore(z,H,J)},it.useTransition=function(){return T.H.useTransition()},it.version="19.1.1",it}var nN;function Uu(){return nN||(nN=1,jx.exports=IT()),jx.exports}var v=Uu();const Le=jv(v),mS=DT({__proto__:null,default:Le},[v]);var Nx={exports:{}},qc={},_x={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function LT(){return rN||(rN=1,(function(e){function t(A,L){var F=A.length;A.push(L);e:for(;0<F;){var B=F-1>>>1,z=A[B];if(0<o(z,L))A[B]=L,A[F]=z,F=B;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var L=A[0],F=A.pop();if(F!==L){A[0]=F;e:for(var B=0,z=A.length,H=z>>>1;B<H;){var J=2*(B+1)-1,K=A[J],ie=J+1,ge=A[ie];if(0>o(K,F))ie<z&&0>o(ge,K)?(A[B]=ge,A[ie]=F,B=ie):(A[B]=K,A[J]=F,B=J);else if(ie<z&&0>o(ge,F))A[B]=ge,A[ie]=F,B=ie;else break e}}return L}function o(A,L){var F=A.sortIndex-L.sortIndex;return F!==0?F:A.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,b=!1,j=!1,w=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function k(A){for(var L=n(h);L!==null;){if(L.callback===null)s(h);else if(L.startTime<=A)s(h),L.sortIndex=L.expirationTime,t(f,L);else break;L=n(h)}}function T(A){if(w=!1,k(A),!j)if(n(f)!==null)j=!0,M||(M=!0,Y());else{var L=n(h);L!==null&&$(T,L.startTime-A)}}var M=!1,O=-1,I=5,U=-1;function Z(){return _?!0:!(e.unstable_now()-U<I)}function X(){if(_=!1,M){var A=e.unstable_now();U=A;var L=!0;try{e:{j=!1,w&&(w=!1,E(O),O=-1),b=!0;var F=x;try{t:{for(k(A),g=n(f);g!==null&&!(g.expirationTime>A&&Z());){var B=g.callback;if(typeof B=="function"){g.callback=null,x=g.priorityLevel;var z=B(g.expirationTime<=A);if(A=e.unstable_now(),typeof z=="function"){g.callback=z,k(A),L=!0;break t}g===n(f)&&s(f),k(A)}else s(f);g=n(f)}if(g!==null)L=!0;else{var H=n(h);H!==null&&$(T,H.startTime-A),L=!1}}break e}finally{g=null,x=F,b=!1}L=void 0}}finally{L?Y():M=!1}}}var Y;if(typeof C=="function")Y=function(){C(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,R=q.port2;q.port1.onmessage=X,Y=function(){R.postMessage(null)}}else Y=function(){S(X,0)};function $(A,L){O=S(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(A){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var F=x;x=L;try{return A()}finally{x=F}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=x;x=A;try{return L()}finally{x=F}},e.unstable_scheduleCallback=function(A,L,F){var B=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,A={id:p++,callback:L,priorityLevel:A,startTime:F,expirationTime:z,sortIndex:-1},F>B?(A.sortIndex=F,t(h,A),n(f)===null&&A===n(h)&&(w?(E(O),O=-1):w=!0,$(T,F-B))):(A.sortIndex=z,t(f,A),j||b||(j=!0,M||(M=!0,Y()))),A},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(A){var L=x;return function(){var F=x;x=L;try{return A.apply(this,arguments)}finally{x=F}}}})(Sx)),Sx}var sN;function $T(){return sN||(sN=1,_x.exports=LT()),_x.exports}var Cx={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function PT(){if(aN)return Zn;aN=1;var e=Uu();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(f,h,null,p)},Zn.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},Zn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Zn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Zn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Zn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Zn.requestFormReset=function(f){s.d.r(f)},Zn.unstable_batchedUpdates=function(f,h){return f(h)},Zn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Zn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zn.version="19.1.1",Zn}var oN;function hS(){if(oN)return Cx.exports;oN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cx.exports=PT(),Cx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function UT(){if(iN)return qc;iN=1;var e=$T(),t=Uu(),n=hS();function s(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var i=a,u=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(u=i.return),a=i.return;while(a)}return i.tag===3?u:null}function c(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(l(a)!==a)throw Error(s(188))}function f(a){var i=a.alternate;if(!i){if(i=l(a),i===null)throw Error(s(188));return i!==a?null:a}for(var u=a,m=i;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return d(y),a;if(N===m)return d(y),i;N=N.sibling}throw Error(s(188))}if(u.return!==m.return)u=y,m=N;else{for(var D=!1,P=y.child;P;){if(P===u){D=!0,u=y,m=N;break}if(P===m){D=!0,m=y,u=N;break}P=P.sibling}if(!D){for(P=N.child;P;){if(P===u){D=!0,u=N,m=y;break}if(P===m){D=!0,m=N,u=y;break}P=P.sibling}if(!D)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?a:i}function h(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=h(a),i!==null)return i;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function R(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case C:return(a.displayName||"Context")+".Provider";case E:return(a._context.displayName||"Context")+".Consumer";case k:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return i=a.displayName||null,i!==null?i:R(a.type)||"Memo";case I:i=a._payload,a=a._init;try{return R(a(i))}catch{}}return null}var $=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},B=[],z=-1;function H(a){return{current:a}}function J(a){0>z||(a.current=B[z],B[z]=null,z--)}function K(a,i){z++,B[z]=a.current,a.current=i}var ie=H(null),ge=H(null),ye=H(null),ae=H(null);function de(a,i){switch(K(ye,i),K(ge,a),K(ie,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?Ej(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=Ej(i),a=kj(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ie),K(ie,a)}function te(){J(ie),J(ge),J(ye)}function pe(a){a.memoizedState!==null&&K(ae,a);var i=ie.current,u=kj(i,a.type);i!==u&&(K(ge,a),K(ie,u))}function Se(a){ge.current===a&&(J(ie),J(ge)),ae.current===a&&(J(ae),Pc._currentValue=F)}var Q=Object.prototype.hasOwnProperty,Ne=e.unstable_scheduleCallback,Re=e.unstable_cancelCallback,Pe=e.unstable_shouldYield,at=e.unstable_requestPaint,xt=e.unstable_now,Bn=e.unstable_getCurrentPriorityLevel,wn=e.unstable_ImmediatePriority,W=e.unstable_UserBlockingPriority,se=e.unstable_NormalPriority,he=e.unstable_LowPriority,Me=e.unstable_IdlePriority,Ae=e.log,V=e.unstable_setDisableYieldValue,oe=null,ne=null;function xe(a){if(typeof Ae=="function"&&V(a),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(oe,a)}catch{}}var ve=Math.clz32?Math.clz32:He,ke=Math.log,De=Math.LN2;function He(a){return a>>>=0,a===0?32:31-(ke(a)/De|0)|0}var mt=256,St=4194304;function ct(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function At(a,i,u){var m=a.pendingLanes;if(m===0)return 0;var y=0,N=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var P=m&134217727;return P!==0?(m=P&~N,m!==0?y=ct(m):(D&=P,D!==0?y=ct(D):u||(u=P&~a,u!==0&&(y=ct(u))))):(P=m&~N,P!==0?y=ct(P):D!==0?y=ct(D):u||(u=m&~a,u!==0&&(y=ct(u)))),y===0?0:i!==0&&i!==y&&(i&N)===0&&(N=y&-y,u=i&-i,N>=u||N===32&&(u&4194048)!==0)?i:y}function Ie(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function Ot(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var a=mt;return mt<<=1,(mt&4194048)===0&&(mt=256),a}function Ye(){var a=St;return St<<=1,(St&62914560)===0&&(St=4194304),a}function ut(a){for(var i=[],u=0;31>u;u++)i.push(a);return i}function We(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function vt(a,i,u,m,y,N){var D=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var P=a.entanglements,G=a.expirationTimes,ce=a.hiddenUpdates;for(u=D&~u;0<u;){var we=31-ve(u),_e=1<<we;P[we]=0,G[we]=-1;var ue=ce[we];if(ue!==null)for(ce[we]=null,we=0;we<ue.length;we++){var fe=ue[we];fe!==null&&(fe.lane&=-536870913)}u&=~_e}m!==0&&wt(a,m,0),N!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=N&~(D&~i))}function wt(a,i,u){a.pendingLanes|=i,a.suspendedLanes&=~i;var m=31-ve(i);a.entangledLanes|=i,a.entanglements[m]=a.entanglements[m]|1073741824|u&4194090}function an(a,i){var u=a.entangledLanes|=i;for(a=a.entanglements;u;){var m=31-ve(u),y=1<<m;y&i|a[m]&i&&(a[m]|=i),u&=~y}}function Ht(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function hn(){var a=L.p;return a!==0?a:(a=window.event,a===void 0?32:Yj(a.type))}function ys(a,i){var u=L.p;try{return L.p=a,i()}finally{L.p=u}}var zt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+zt,Ft="__reactProps$"+zt,Mn="__reactContainer$"+zt,Zr="__reactEvents$"+zt,qs="__reactListeners$"+zt,Tr="__reactHandles$"+zt,bs="__reactResources$"+zt,Yr="__reactMarker$"+zt;function ql(a){delete a[Ut],delete a[Ft],delete a[Zr],delete a[qs],delete a[Tr]}function Sa(a){var i=a[Ut];if(i)return i;for(var u=a.parentNode;u;){if(i=u[Mn]||u[Ut]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(a=Rj(a);a!==null;){if(u=a[Ut])return u;a=Rj(a)}return i}a=u,u=a.parentNode}return null}function Zs(a){if(a=a[Ut]||a[Mn]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function Ca(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(s(33))}function Ys(a){var i=a[bs];return i||(i=a[bs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pn(a){a[Yr]=!0}var dd=new Set,fd={};function Ws(a,i){Ea(a,i),Ea(a+"Capture",i)}function Ea(a,i){for(fd[a]=i,a=0;a<i.length;a++)dd.add(i[a])}var pp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},md={};function gp(a){return Q.call(md,a)?!0:Q.call(Zl,a)?!1:pp.test(a)?md[a]=!0:(Zl[a]=!0,!1)}function ii(a,i,u){if(gp(i))if(u===null)a.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+u)}}function li(a,i,u){if(u===null)a.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+u)}}function Wr(a,i,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(i,u,""+m)}}var Yl,hd;function Gs(a){if(Yl===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);Yl=i&&i[1]||"",hd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yl+a+hd}var Wl=!1;function Gl(a,i){if(!a||Wl)return"";Wl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var ue=fe}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(fe){ue=fe}a.call(_e.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),D=N[0],P=N[1];if(D&&P){var G=D.split(`
`),ce=P.split(`
`);for(y=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ce.length&&!ce[y].includes("DetermineComponentFrameRoot");)y++;if(m===G.length||y===ce.length)for(m=G.length-1,y=ce.length-1;1<=m&&0<=y&&G[m]!==ce[y];)y--;for(;1<=m&&0<=y;m--,y--)if(G[m]!==ce[y]){if(m!==1||y!==1)do if(m--,y--,0>y||G[m]!==ce[y]){var we=`
`+G[m].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=m&&0<=y);break}}}finally{Wl=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Gs(u):""}function xp(a){switch(a.tag){case 26:case 27:case 5:return Gs(a.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 15:return Gl(a.type,!1);case 11:return Gl(a.type.render,!1);case 1:return Gl(a.type,!0);case 31:return Gs("Activity");default:return""}}function pd(a){try{var i="";do i+=xp(a),a=a.return;while(a);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function tr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function gd(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vp(a){var i=gd(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),m=""+a[i];if(!a.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,N.call(this,D)}}),Object.defineProperty(a,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function ci(a){a._valueTracker||(a._valueTracker=vp(a))}function Xl(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return a&&(m=gd(a)?a.checked?"true":"false":a.value),a=m,a!==u?(i.setValue(a),!0):!1}function ui(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yp=/[\n"\\]/g;function nr(a){return a.replace(yp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function go(a,i,u,m,y,N,D,P){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),i!=null?D==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+tr(i)):a.value!==""+tr(i)&&(a.value=""+tr(i)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),i!=null?Kl(a,D,tr(i)):u!=null?Kl(a,D,tr(u)):m!=null&&a.removeAttribute("value"),y==null&&N!=null&&(a.defaultChecked=!!N),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+tr(P):a.removeAttribute("name")}function xd(a,i,u,m,y,N,D,P){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),i!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||i!=null))return;u=u!=null?""+tr(u):"",i=i!=null?""+tr(i):u,P||i===a.value||(a.value=i),a.defaultValue=i}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=P?a.checked:!!m,a.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function Kl(a,i,u){i==="number"&&ui(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Xs(a,i,u,m){if(a=a.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=i.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&m&&(a[u].defaultSelected=!0)}else{for(u=""+tr(u),i=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}i!==null||a[y].disabled||(i=a[y])}i!==null&&(i.selected=!0)}}function Sb(a,i,u){if(i!=null&&(i=""+tr(i),i!==a.value&&(a.value=i),u==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=u!=null?""+tr(u):""}function Cb(a,i,u,m){if(i==null){if(m!=null){if(u!=null)throw Error(s(92));if($(m)){if(1<m.length)throw Error(s(93));m=m[0]}u=m}u==null&&(u=""),i=u}u=tr(i),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m)}function di(a,i){if(i){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=i;return}}a.textContent=i}var M5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eb(a,i,u){var m=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":m?a.setProperty(i,u):typeof u!="number"||u===0||M5.has(i)?i==="float"?a.cssFloat=u:a[i]=(""+u).trim():a[i]=u+"px"}function kb(a,i,u){if(i!=null&&typeof i!="object")throw Error(s(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in i)m=i[y],i.hasOwnProperty(y)&&u[y]!==m&&Eb(a,y,m)}else for(var N in i)i.hasOwnProperty(N)&&Eb(a,N,i[N])}function bp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vd(a){return R5.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var wp=null;function jp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fi=null,mi=null;function Ab(a){var i=Zs(a);if(i&&(a=i.stateNode)){var u=a[Ft]||null;e:switch(a=i.stateNode,i.type){case"input":if(go(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+nr(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==a&&m.form===a.form){var y=m[Ft]||null;if(!y)throw Error(s(90));go(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<u.length;i++)m=u[i],m.form===a.form&&Xl(m)}break e;case"textarea":Sb(a,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&Xs(a,!!u.multiple,i,!1)}}}var Np=!1;function Mb(a,i,u){if(Np)return a(i,u);Np=!0;try{var m=a(i);return m}finally{if(Np=!1,(fi!==null||mi!==null)&&(rf(),fi&&(i=fi,a=mi,mi=fi=null,Ab(i),a)))for(i=0;i<a.length;i++)Ab(a[i])}}function Ql(a,i){var u=a.stateNode;if(u===null)return null;var m=u[Ft]||null;if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(s(231,i,typeof u));return u}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=!1;if(Ks)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){_p=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{_p=!1}var ka=null,Sp=null,yd=null;function Tb(){if(yd)return yd;var a,i=Sp,u=i.length,m,y="value"in ka?ka.value:ka.textContent,N=y.length;for(a=0;a<u&&i[a]===y[a];a++);var D=u-a;for(m=1;m<=D&&i[u-m]===y[N-m];m++);return yd=y.slice(a,1<m?1-m:void 0)}function bd(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function wd(){return!0}function Rb(){return!1}function rr(a){function i(u,m,y,N,D){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(u=a[P],this[P]=u?u(N):N[P]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?wd:Rb,this.isPropagationStopped=Rb,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),i}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=rr(xo),ec=p({},xo,{view:0,detail:0}),D5=rr(ec),Cp,Ep,tc,Nd=p({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==tc&&(tc&&a.type==="mousemove"?(Cp=a.screenX-tc.screenX,Ep=a.screenY-tc.screenY):Ep=Cp=0,tc=a),Cp)},movementY:function(a){return"movementY"in a?a.movementY:Ep}}),Db=rr(Nd),O5=p({},Nd,{dataTransfer:0}),z5=rr(O5),I5=p({},ec,{relatedTarget:0}),kp=rr(I5),L5=p({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),$5=rr(L5),P5=p({},xo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),U5=rr(P5),F5=p({},xo,{data:0}),Ob=rr(F5),V5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q5(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=B5[a])?!!i[a]:!1}function Ap(){return q5}var Z5=p({},ec,{key:function(a){if(a.key){var i=V5[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=bd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?H5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(a){return a.type==="keypress"?bd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Y5=rr(Z5),W5=p({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zb=rr(W5),G5=p({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),X5=rr(G5),K5=p({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q5=rr(K5),J5=p({},Nd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),eM=rr(J5),tM=p({},xo,{newState:0,oldState:0}),nM=rr(tM),rM=[9,13,27,32],Mp=Ks&&"CompositionEvent"in window,nc=null;Ks&&"documentMode"in document&&(nc=document.documentMode);var sM=Ks&&"TextEvent"in window&&!nc,Ib=Ks&&(!Mp||nc&&8<nc&&11>=nc),Lb=" ",$b=!1;function Pb(a,i){switch(a){case"keyup":return rM.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ub(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hi=!1;function aM(a,i){switch(a){case"compositionend":return Ub(i);case"keypress":return i.which!==32?null:($b=!0,Lb);case"textInput":return a=i.data,a===Lb&&$b?null:a;default:return null}}function oM(a,i){if(hi)return a==="compositionend"||!Mp&&Pb(a,i)?(a=Tb(),yd=Sp=ka=null,hi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ib&&i.locale!=="ko"?null:i.data;default:return null}}var iM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!iM[a.type]:i==="textarea"}function Vb(a,i,u,m){fi?mi?mi.push(m):mi=[m]:fi=m,i=uf(i,"onChange"),0<i.length&&(u=new jd("onChange","change",null,u,m),a.push({event:u,listeners:i}))}var rc=null,sc=null;function lM(a){jj(a,0)}function _d(a){var i=Ca(a);if(Xl(i))return a}function Hb(a,i){if(a==="change")return i}var Bb=!1;if(Ks){var Tp;if(Ks){var Rp="oninput"in document;if(!Rp){var qb=document.createElement("div");qb.setAttribute("oninput","return;"),Rp=typeof qb.oninput=="function"}Tp=Rp}else Tp=!1;Bb=Tp&&(!document.documentMode||9<document.documentMode)}function Zb(){rc&&(rc.detachEvent("onpropertychange",Yb),sc=rc=null)}function Yb(a){if(a.propertyName==="value"&&_d(sc)){var i=[];Vb(i,sc,a,jp(a)),Mb(lM,i)}}function cM(a,i,u){a==="focusin"?(Zb(),rc=i,sc=u,rc.attachEvent("onpropertychange",Yb)):a==="focusout"&&Zb()}function uM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _d(sc)}function dM(a,i){if(a==="click")return _d(i)}function fM(a,i){if(a==="input"||a==="change")return _d(i)}function mM(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var dr=typeof Object.is=="function"?Object.is:mM;function ac(a,i){if(dr(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var u=Object.keys(a),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!Q.call(i,y)||!dr(a[y],i[y]))return!1}return!0}function Wb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Gb(a,i){var u=Wb(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=i&&m>=i)return{node:u,offset:i-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Wb(u)}}function Xb(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Xb(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Kb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=ui(a.document);i instanceof a.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)a=i.contentWindow;else break;i=ui(a.document)}return i}function Dp(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var hM=Ks&&"documentMode"in document&&11>=document.documentMode,pi=null,Op=null,oc=null,zp=!1;function Qb(a,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zp||pi==null||pi!==ui(m)||(m=pi,"selectionStart"in m&&Dp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),oc&&ac(oc,m)||(oc=m,m=uf(Op,"onSelect"),0<m.length&&(i=new jd("onSelect","select",null,i,u),a.push({event:i,listeners:m}),i.target=pi)))}function vo(a,i){var u={};return u[a.toLowerCase()]=i.toLowerCase(),u["Webkit"+a]="webkit"+i,u["Moz"+a]="moz"+i,u}var gi={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},Ip={},Jb={};Ks&&(Jb=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function yo(a){if(Ip[a])return Ip[a];if(!gi[a])return a;var i=gi[a],u;for(u in i)if(i.hasOwnProperty(u)&&u in Jb)return Ip[a]=i[u];return a}var ew=yo("animationend"),tw=yo("animationiteration"),nw=yo("animationstart"),pM=yo("transitionrun"),gM=yo("transitionstart"),xM=yo("transitioncancel"),rw=yo("transitionend"),sw=new Map,Lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lp.push("scrollEnd");function Gr(a,i){sw.set(a,i),Ws(i,[a])}var aw=new WeakMap;function Rr(a,i){if(typeof a=="object"&&a!==null){var u=aw.get(a);return u!==void 0?u:(i={value:a,source:i,stack:pd(i)},aw.set(a,i),i)}return{value:a,source:i,stack:pd(i)}}var Dr=[],xi=0,$p=0;function Sd(){for(var a=xi,i=$p=xi=0;i<a;){var u=Dr[i];Dr[i++]=null;var m=Dr[i];Dr[i++]=null;var y=Dr[i];Dr[i++]=null;var N=Dr[i];if(Dr[i++]=null,m!==null&&y!==null){var D=m.pending;D===null?y.next=y:(y.next=D.next,D.next=y),m.pending=y}N!==0&&ow(u,y,N)}}function Cd(a,i,u,m){Dr[xi++]=a,Dr[xi++]=i,Dr[xi++]=u,Dr[xi++]=m,$p|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Pp(a,i,u,m){return Cd(a,i,u,m),Ed(a)}function vi(a,i){return Cd(a,null,null,i),Ed(a)}function ow(a,i,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var y=!1,N=a.return;N!==null;)N.childLanes|=u,m=N.alternate,m!==null&&(m.childLanes|=u),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(y=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,y&&i!==null&&(y=31-ve(u),a=N.hiddenUpdates,m=a[y],m===null?a[y]=[i]:m.push(i),i.lane=u|536870912),N):null}function Ed(a){if(50<Tc)throw Tc=0,qg=null,Error(s(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var yi={};function vM(a,i,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(a,i,u,m){return new vM(a,i,u,m)}function Up(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qs(a,i){var u=a.alternate;return u===null?(u=fr(a.tag,i,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=i,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,i=a.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function iw(a,i){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,i=u.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function kd(a,i,u,m,y,N){var D=0;if(m=a,typeof a=="function")Up(a)&&(D=1);else if(typeof a=="string")D=bT(a,u,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=fr(31,u,i,y),a.elementType=U,a.lanes=N,a;case j:return bo(u.children,y,N,i);case w:D=8,y|=24;break;case _:return a=fr(12,u,i,y|2),a.elementType=_,a.lanes=N,a;case T:return a=fr(13,u,i,y),a.elementType=T,a.lanes=N,a;case M:return a=fr(19,u,i,y),a.elementType=M,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case C:D=10;break e;case E:D=9;break e;case k:D=11;break e;case O:D=14;break e;case I:D=16,m=null;break e}D=29,u=Error(s(130,a===null?"null":typeof a,"")),m=null}return i=fr(D,u,i,y),i.elementType=a,i.type=m,i.lanes=N,i}function bo(a,i,u,m){return a=fr(7,a,m,i),a.lanes=u,a}function Fp(a,i,u){return a=fr(6,a,null,i),a.lanes=u,a}function Vp(a,i,u){return i=fr(4,a.children!==null?a.children:[],a.key,i),i.lanes=u,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var bi=[],wi=0,Ad=null,Md=0,Or=[],zr=0,wo=null,Js=1,ea="";function jo(a,i){bi[wi++]=Md,bi[wi++]=Ad,Ad=a,Md=i}function lw(a,i,u){Or[zr++]=Js,Or[zr++]=ea,Or[zr++]=wo,wo=a;var m=Js;a=ea;var y=32-ve(m)-1;m&=~(1<<y),u+=1;var N=32-ve(i)+y;if(30<N){var D=y-y%5;N=(m&(1<<D)-1).toString(32),m>>=D,y-=D,Js=1<<32-ve(i)+y|u<<y|m,ea=N+a}else Js=1<<N|u<<y|m,ea=a}function Hp(a){a.return!==null&&(jo(a,1),lw(a,1,0))}function Bp(a){for(;a===Ad;)Ad=bi[--wi],bi[wi]=null,Md=bi[--wi],bi[wi]=null;for(;a===wo;)wo=Or[--zr],Or[zr]=null,ea=Or[--zr],Or[zr]=null,Js=Or[--zr],Or[zr]=null}var Wn=null,on=null,Et=!1,No=null,ws=!1,qp=Error(s(519));function _o(a){var i=Error(s(418,""));throw cc(Rr(i,a)),qp}function cw(a){var i=a.stateNode,u=a.type,m=a.memoizedProps;switch(i[Ut]=a,i[Ft]=m,u){case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":case"embed":gt("load",i);break;case"video":case"audio":for(u=0;u<Dc.length;u++)gt(Dc[u],i);break;case"source":gt("error",i);break;case"img":case"image":case"link":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"input":gt("invalid",i),xd(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ci(i);break;case"select":gt("invalid",i);break;case"textarea":gt("invalid",i),Cb(i,m.value,m.defaultValue,m.children),ci(i)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||m.suppressHydrationWarning===!0||Cj(i.textContent,u)?(m.popover!=null&&(gt("beforetoggle",i),gt("toggle",i)),m.onScroll!=null&&gt("scroll",i),m.onScrollEnd!=null&&gt("scrollend",i),m.onClick!=null&&(i.onclick=df),i=!0):i=!1,i||_o(a)}function uw(a){for(Wn=a.return;Wn;)switch(Wn.tag){case 5:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:Wn=Wn.return}}function ic(a){if(a!==Wn)return!1;if(!Et)return uw(a),Et=!0,!1;var i=a.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||ix(a.type,a.memoizedProps)),u=!u),u&&on&&_o(a),uw(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(i===0){on=Kr(a.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++;a=a.nextSibling}on=null}}else i===27?(i=on,Ba(a.type)?(a=dx,dx=null,on=a):on=i):on=Wn?Kr(a.stateNode.nextSibling):null;return!0}function lc(){on=Wn=null,Et=!1}function dw(){var a=No;return a!==null&&(or===null?or=a:or.push.apply(or,a),No=null),a}function cc(a){No===null?No=[a]:No.push(a)}var Zp=H(null),So=null,ta=null;function Aa(a,i,u){K(Zp,i._currentValue),i._currentValue=u}function na(a){a._currentValue=Zp.current,J(Zp)}function Yp(a,i,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),a===u)break;a=a.return}}function Wp(a,i,u,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var N=y.dependencies;if(N!==null){var D=y.child;N=N.firstContext;e:for(;N!==null;){var P=N;N=y;for(var G=0;G<i.length;G++)if(P.context===i[G]){N.lanes|=u,P=N.alternate,P!==null&&(P.lanes|=u),Yp(N.return,u,a),m||(D=null);break e}N=P.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(s(341));D.lanes|=u,N=D.alternate,N!==null&&(N.lanes|=u),Yp(D,u,a),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===a){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function uc(a,i,u,m){a=null;for(var y=i,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var P=y.type;dr(y.pendingProps.value,D.value)||(a!==null?a.push(P):a=[P])}}else if(y===ae.current){if(D=y.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Pc):a=[Pc])}y=y.return}a!==null&&Wp(i,a,u,m),i.flags|=262144}function Td(a){for(a=a.firstContext;a!==null;){if(!dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Co(a){So=a,ta=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function qn(a){return fw(So,a)}function Rd(a,i){return So===null&&Co(a),fw(a,i)}function fw(a,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},ta===null){if(a===null)throw Error(s(308));ta=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else ta=ta.next=i;return u}var yM=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){i.aborted=!0,a.forEach(function(u){return u()})}},bM=e.unstable_scheduleCallback,wM=e.unstable_NormalPriority,jn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gp(){return{controller:new yM,data:new Map,refCount:0}}function dc(a){a.refCount--,a.refCount===0&&bM(wM,function(){a.controller.abort()})}var fc=null,Xp=0,ji=0,Ni=null;function jM(a,i){if(fc===null){var u=fc=[];Xp=0,ji=Qg(),Ni={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Xp++,i.then(mw,mw),i}function mw(){if(--Xp===0&&fc!==null){Ni!==null&&(Ni.status="fulfilled");var a=fc;fc=null,ji=0,Ni=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function NM(a,i){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){m.status="fulfilled",m.value=i;for(var y=0;y<u.length;y++)(0,u[y])(i)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var hw=A.S;A.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&jM(a,i),hw!==null&&hw(a,i)};var Eo=H(null);function Kp(){var a=Eo.current;return a!==null?a:qt.pooledCache}function Dd(a,i){i===null?K(Eo,Eo.current):K(Eo,i.pool)}function pw(){var a=Kp();return a===null?null:{parent:jn._currentValue,pool:a}}var mc=Error(s(460)),gw=Error(s(474)),Od=Error(s(542)),Qp={then:function(){}};function xw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function zd(){}function vw(a,i,u){switch(u=a[u],u===void 0?a.push(i):u!==i&&(i.then(zd,zd),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,bw(a),a;default:if(typeof i.status=="string")i.then(zd,zd);else{if(a=qt,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=i,a.status="pending",a.then(function(m){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=m}},function(m){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,bw(a),a}throw hc=i,mc}}var hc=null;function yw(){if(hc===null)throw Error(s(459));var a=hc;return hc=null,a}function bw(a){if(a===mc||a===Od)throw Error(s(483))}var Ma=!1;function Jp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ta(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ra(a,i,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Mt&2)!==0){var y=m.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),m.pending=i,i=Ed(a),ow(a,null,u),i}return Cd(a,m,i,u),Ed(a)}function pc(a,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var m=i.lanes;m&=a.pendingLanes,u|=m,i.lanes=u,an(a,u)}}function tg(a,i){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?y=N=D:N=N.next=D,u=u.next}while(u!==null);N===null?y=N=i:N=N.next=i}else y=N=i;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=i:a.next=i,u.lastBaseUpdate=i}var ng=!1;function gc(){if(ng){var a=Ni;if(a!==null)throw a}}function xc(a,i,u,m){ng=!1;var y=a.updateQueue;Ma=!1;var N=y.firstBaseUpdate,D=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var G=P,ce=G.next;G.next=null,D===null?N=ce:D.next=ce,D=G;var we=a.alternate;we!==null&&(we=we.updateQueue,P=we.lastBaseUpdate,P!==D&&(P===null?we.firstBaseUpdate=ce:P.next=ce,we.lastBaseUpdate=G))}if(N!==null){var _e=y.baseState;D=0,we=ce=G=null,P=N;do{var ue=P.lane&-536870913,fe=ue!==P.lane;if(fe?(jt&ue)===ue:(m&ue)===ue){ue!==0&&ue===ji&&(ng=!0),we!==null&&(we=we.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var tt=a,Ke=P;ue=i;var $t=u;switch(Ke.tag){case 1:if(tt=Ke.payload,typeof tt=="function"){_e=tt.call($t,_e,ue);break e}_e=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Ke.payload,ue=typeof tt=="function"?tt.call($t,_e,ue):tt,ue==null)break e;_e=p({},_e,ue);break e;case 2:Ma=!0}}ue=P.callback,ue!==null&&(a.flags|=64,fe&&(a.flags|=8192),fe=y.callbacks,fe===null?y.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:P.tag,payload:P.payload,callback:P.callback,next:null},we===null?(ce=we=fe,G=_e):we=we.next=fe,D|=ue;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;fe=P,P=fe.next,fe.next=null,y.lastBaseUpdate=fe,y.shared.pending=null}}while(!0);we===null&&(G=_e),y.baseState=G,y.firstBaseUpdate=ce,y.lastBaseUpdate=we,N===null&&(y.shared.lanes=0),Ua|=D,a.lanes=D,a.memoizedState=_e}}function ww(a,i){if(typeof a!="function")throw Error(s(191,a));a.call(i)}function jw(a,i){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ww(u[a],i)}var _i=H(null),Id=H(0);function Nw(a,i){a=ca,K(Id,a),K(_i,i),ca=a|i.baseLanes}function rg(){K(Id,ca),K(_i,_i.current)}function sg(){ca=Id.current,J(_i),J(Id)}var Da=0,dt=null,It=null,gn=null,Ld=!1,Si=!1,ko=!1,$d=0,vc=0,Ci=null,_M=0;function dn(){throw Error(s(321))}function ag(a,i){if(i===null)return!1;for(var u=0;u<i.length&&u<a.length;u++)if(!dr(a[u],i[u]))return!1;return!0}function og(a,i,u,m,y,N){return Da=N,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=a===null||a.memoizedState===null?o1:i1,ko=!1,N=u(m,y),ko=!1,Si&&(N=Sw(i,u,m,y)),_w(a),N}function _w(a){A.H=Bd;var i=It!==null&&It.next!==null;if(Da=0,gn=It=dt=null,Ld=!1,vc=0,Ci=null,i)throw Error(s(300));a===null||Tn||(a=a.dependencies,a!==null&&Td(a)&&(Tn=!0))}function Sw(a,i,u,m){dt=a;var y=0;do{if(Si&&(Ci=null),vc=0,Si=!1,25<=y)throw Error(s(301));if(y+=1,gn=It=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}A.H=TM,N=i(u,m)}while(Si);return N}function SM(){var a=A.H,i=a.useState()[0];return i=typeof i.then=="function"?yc(i):i,a=a.useState()[0],(It!==null?It.memoizedState:null)!==a&&(dt.flags|=1024),i}function ig(){var a=$d!==0;return $d=0,a}function lg(a,i,u){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~u}function cg(a){if(Ld){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Ld=!1}Da=0,gn=It=dt=null,Si=!1,vc=$d=0,Ci=null}function sr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?dt.memoizedState=gn=a:gn=gn.next=a,gn}function xn(){if(It===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var i=gn===null?dt.memoizedState:gn.next;if(i!==null)gn=i,It=a;else{if(a===null)throw dt.alternate===null?Error(s(467)):Error(s(310));It=a,a={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},gn===null?dt.memoizedState=gn=a:gn=gn.next=a}return gn}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yc(a){var i=vc;return vc+=1,Ci===null&&(Ci=[]),a=vw(Ci,a,i),i=dt,(gn===null?i.memoizedState:gn.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?o1:i1),a}function Pd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return yc(a);if(a.$$typeof===C)return qn(a)}throw Error(s(438,String(a)))}function dg(a){var i=null,u=dt.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var m=dt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=ug(),dt.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(a),m=0;m<a;m++)u[m]=Z;return i.index++,u}function ra(a,i){return typeof i=="function"?i(a):i}function Ud(a){var i=xn();return fg(i,It,a)}function fg(a,i,u){var m=a.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=u;var y=a.baseQueue,N=m.pending;if(N!==null){if(y!==null){var D=y.next;y.next=N.next,N.next=D}i.baseQueue=y=N,m.pending=null}if(N=a.baseState,y===null)a.memoizedState=N;else{i=y.next;var P=D=null,G=null,ce=i,we=!1;do{var _e=ce.lane&-536870913;if(_e!==ce.lane?(jt&_e)===_e:(Da&_e)===_e){var ue=ce.revertLane;if(ue===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),_e===ji&&(we=!0);else if((Da&ue)===ue){ce=ce.next,ue===ji&&(we=!0);continue}else _e={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?(P=G=_e,D=N):G=G.next=_e,dt.lanes|=ue,Ua|=ue;_e=ce.action,ko&&u(N,_e),N=ce.hasEagerState?ce.eagerState:u(N,_e)}else ue={lane:_e,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},G===null?(P=G=ue,D=N):G=G.next=ue,dt.lanes|=_e,Ua|=_e;ce=ce.next}while(ce!==null&&ce!==i);if(G===null?D=N:G.next=P,!dr(N,a.memoizedState)&&(Tn=!0,we&&(u=Ni,u!==null)))throw u;a.memoizedState=N,a.baseState=D,a.baseQueue=G,m.lastRenderedState=N}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function mg(a){var i=xn(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var m=u.dispatch,y=u.pending,N=i.memoizedState;if(y!==null){u.pending=null;var D=y=y.next;do N=a(N,D.action),D=D.next;while(D!==y);dr(N,i.memoizedState)||(Tn=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),u.lastRenderedState=N}return[N,m]}function Cw(a,i,u){var m=dt,y=xn(),N=Et;if(N){if(u===void 0)throw Error(s(407));u=u()}else u=i();var D=!dr((It||y).memoizedState,u);D&&(y.memoizedState=u,Tn=!0),y=y.queue;var P=Aw.bind(null,m,y,a);if(bc(2048,8,P,[a]),y.getSnapshot!==i||D||gn!==null&&gn.memoizedState.tag&1){if(m.flags|=2048,Ei(9,Fd(),kw.bind(null,m,y,u,i),null),qt===null)throw Error(s(349));N||(Da&124)!==0||Ew(m,i,u)}return u}function Ew(a,i,u){a.flags|=16384,a={getSnapshot:i,value:u},i=dt.updateQueue,i===null?(i=ug(),dt.updateQueue=i,i.stores=[a]):(u=i.stores,u===null?i.stores=[a]:u.push(a))}function kw(a,i,u,m){i.value=u,i.getSnapshot=m,Mw(i)&&Tw(a)}function Aw(a,i,u){return u(function(){Mw(i)&&Tw(a)})}function Mw(a){var i=a.getSnapshot;a=a.value;try{var u=i();return!dr(a,u)}catch{return!0}}function Tw(a){var i=vi(a,2);i!==null&&xr(i,a,2)}function hg(a){var i=sr();if(typeof a=="function"){var u=a;if(a=u(),ko){xe(!0);try{u()}finally{xe(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},i}function Rw(a,i,u,m){return a.baseState=u,fg(a,It,typeof m=="function"?m:ra)}function CM(a,i,u,m,y){if(Hd(a))throw Error(s(485));if(a=i.action,a!==null){var N={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};A.T!==null?u(!0):N.isTransition=!1,m(N),u=i.pending,u===null?(N.next=i.pending=N,Dw(i,N)):(N.next=u.next,i.pending=u.next=N)}}function Dw(a,i){var u=i.action,m=i.payload,y=a.state;if(i.isTransition){var N=A.T,D={};A.T=D;try{var P=u(y,m),G=A.S;G!==null&&G(D,P),Ow(a,i,P)}catch(ce){pg(a,i,ce)}finally{A.T=N}}else try{N=u(y,m),Ow(a,i,N)}catch(ce){pg(a,i,ce)}}function Ow(a,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){zw(a,i,m)},function(m){return pg(a,i,m)}):zw(a,i,u)}function zw(a,i,u){i.status="fulfilled",i.value=u,Iw(i),a.state=u,i=a.pending,i!==null&&(u=i.next,u===i?a.pending=null:(u=u.next,i.next=u,Dw(a,u)))}function pg(a,i,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=u,Iw(i),i=i.next;while(i!==m)}a.action=null}function Iw(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function Lw(a,i){return i}function $w(a,i){if(Et){var u=qt.formState;if(u!==null){e:{var m=dt;if(Et){if(on){t:{for(var y=on,N=ws;y.nodeType!==8;){if(!N){y=null;break t}if(y=Kr(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){on=Kr(y.nextSibling),m=y.data==="F!";break e}}_o(m)}m=!1}m&&(i=u[0])}}return u=sr(),u.memoizedState=u.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lw,lastRenderedState:i},u.queue=m,u=r1.bind(null,dt,m),m.dispatch=u,m=hg(!1),N=bg.bind(null,dt,!1,m.queue),m=sr(),y={state:i,dispatch:null,action:a,pending:null},m.queue=y,u=CM.bind(null,dt,y,N,u),y.dispatch=u,m.memoizedState=a,[i,u,!1]}function Pw(a){var i=xn();return Uw(i,It,a)}function Uw(a,i,u){if(i=fg(a,i,Lw)[0],a=Ud(ra)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=yc(i)}catch(D){throw D===mc?Od:D}else m=i;i=xn();var y=i.queue,N=y.dispatch;return u!==i.memoizedState&&(dt.flags|=2048,Ei(9,Fd(),EM.bind(null,y,u),null)),[m,N,a]}function EM(a,i){a.action=i}function Fw(a){var i=xn(),u=It;if(u!==null)return Uw(i,u,a);xn(),i=i.memoizedState,u=xn();var m=u.queue.dispatch;return u.memoizedState=a,[i,m,!1]}function Ei(a,i,u,m){return a={tag:a,create:u,deps:m,inst:i,next:null},i=dt.updateQueue,i===null&&(i=ug(),dt.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,i.lastEffect=a),a}function Fd(){return{destroy:void 0,resource:void 0}}function Vw(){return xn().memoizedState}function Vd(a,i,u,m){var y=sr();m=m===void 0?null:m,dt.flags|=a,y.memoizedState=Ei(1|i,Fd(),u,m)}function bc(a,i,u,m){var y=xn();m=m===void 0?null:m;var N=y.memoizedState.inst;It!==null&&m!==null&&ag(m,It.memoizedState.deps)?y.memoizedState=Ei(i,N,u,m):(dt.flags|=a,y.memoizedState=Ei(1|i,N,u,m))}function Hw(a,i){Vd(8390656,8,a,i)}function Bw(a,i){bc(2048,8,a,i)}function qw(a,i){return bc(4,2,a,i)}function Zw(a,i){return bc(4,4,a,i)}function Yw(a,i){if(typeof i=="function"){a=a();var u=i(a);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Ww(a,i,u){u=u!=null?u.concat([a]):null,bc(4,4,Yw.bind(null,i,a),u)}function gg(){}function Gw(a,i){var u=xn();i=i===void 0?null:i;var m=u.memoizedState;return i!==null&&ag(i,m[1])?m[0]:(u.memoizedState=[a,i],a)}function Xw(a,i){var u=xn();i=i===void 0?null:i;var m=u.memoizedState;if(i!==null&&ag(i,m[1]))return m[0];if(m=a(),ko){xe(!0);try{a()}finally{xe(!1)}}return u.memoizedState=[m,i],m}function xg(a,i,u){return u===void 0||(Da&1073741824)!==0?a.memoizedState=i:(a.memoizedState=u,a=J1(),dt.lanes|=a,Ua|=a,u)}function Kw(a,i,u,m){return dr(u,i)?u:_i.current!==null?(a=xg(a,u,m),dr(a,i)||(Tn=!0),a):(Da&42)===0?(Tn=!0,a.memoizedState=u):(a=J1(),dt.lanes|=a,Ua|=a,i)}function Qw(a,i,u,m,y){var N=L.p;L.p=N!==0&&8>N?N:8;var D=A.T,P={};A.T=P,bg(a,!1,i,u);try{var G=y(),ce=A.S;if(ce!==null&&ce(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var we=NM(G,m);wc(a,i,we,gr(a))}else wc(a,i,m,gr(a))}catch(_e){wc(a,i,{then:function(){},status:"rejected",reason:_e},gr())}finally{L.p=N,A.T=D}}function kM(){}function vg(a,i,u,m){if(a.tag!==5)throw Error(s(476));var y=Jw(a).queue;Qw(a,y,i,F,u===null?kM:function(){return e1(a),u(m)})}function Jw(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:F},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:u},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function e1(a){var i=Jw(a).next.queue;wc(a,i,{},gr())}function yg(){return qn(Pc)}function t1(){return xn().memoizedState}function n1(){return xn().memoizedState}function AM(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var u=gr();a=Ta(u);var m=Ra(i,a,u);m!==null&&(xr(m,i,u),pc(m,i,u)),i={cache:Gp()},a.payload=i;return}i=i.return}}function MM(a,i,u){var m=gr();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Hd(a)?s1(i,u):(u=Pp(a,i,u,m),u!==null&&(xr(u,a,m),a1(u,i,m)))}function r1(a,i,u){var m=gr();wc(a,i,u,m)}function wc(a,i,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hd(a))s1(i,y);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var D=i.lastRenderedState,P=N(D,u);if(y.hasEagerState=!0,y.eagerState=P,dr(P,D))return Cd(a,i,y,0),qt===null&&Sd(),!1}catch{}finally{}if(u=Pp(a,i,y,m),u!==null)return xr(u,a,m),a1(u,i,m),!0}return!1}function bg(a,i,u,m){if(m={lane:2,revertLane:Qg(),action:m,hasEagerState:!1,eagerState:null,next:null},Hd(a)){if(i)throw Error(s(479))}else i=Pp(a,u,m,2),i!==null&&xr(i,a,2)}function Hd(a){var i=a.alternate;return a===dt||i!==null&&i===dt}function s1(a,i){Si=Ld=!0;var u=a.pending;u===null?i.next=i:(i.next=u.next,u.next=i),a.pending=i}function a1(a,i,u){if((u&4194048)!==0){var m=i.lanes;m&=a.pendingLanes,u|=m,i.lanes=u,an(a,u)}}var Bd={readContext:qn,use:Pd,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},o1={readContext:qn,use:Pd,useCallback:function(a,i){return sr().memoizedState=[a,i===void 0?null:i],a},useContext:qn,useEffect:Hw,useImperativeHandle:function(a,i,u){u=u!=null?u.concat([a]):null,Vd(4194308,4,Yw.bind(null,i,a),u)},useLayoutEffect:function(a,i){return Vd(4194308,4,a,i)},useInsertionEffect:function(a,i){Vd(4,2,a,i)},useMemo:function(a,i){var u=sr();i=i===void 0?null:i;var m=a();if(ko){xe(!0);try{a()}finally{xe(!1)}}return u.memoizedState=[m,i],m},useReducer:function(a,i,u){var m=sr();if(u!==void 0){var y=u(i);if(ko){xe(!0);try{u(i)}finally{xe(!1)}}}else y=i;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=MM.bind(null,dt,a),[m.memoizedState,a]},useRef:function(a){var i=sr();return a={current:a},i.memoizedState=a},useState:function(a){a=hg(a);var i=a.queue,u=r1.bind(null,dt,i);return i.dispatch=u,[a.memoizedState,u]},useDebugValue:gg,useDeferredValue:function(a,i){var u=sr();return xg(u,a,i)},useTransition:function(){var a=hg(!1);return a=Qw.bind(null,dt,a.queue,!0,!1),sr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,u){var m=dt,y=sr();if(Et){if(u===void 0)throw Error(s(407));u=u()}else{if(u=i(),qt===null)throw Error(s(349));(jt&124)!==0||Ew(m,i,u)}y.memoizedState=u;var N={value:u,getSnapshot:i};return y.queue=N,Hw(Aw.bind(null,m,N,a),[a]),m.flags|=2048,Ei(9,Fd(),kw.bind(null,m,N,u,i),null),u},useId:function(){var a=sr(),i=qt.identifierPrefix;if(Et){var u=ea,m=Js;u=(m&~(1<<32-ve(m)-1)).toString(32)+u,i=""+i+"R"+u,u=$d++,0<u&&(i+="H"+u.toString(32)),i+=""}else u=_M++,i=""+i+"r"+u.toString(32)+"";return a.memoizedState=i},useHostTransitionStatus:yg,useFormState:$w,useActionState:$w,useOptimistic:function(a){var i=sr();i.memoizedState=i.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=bg.bind(null,dt,!0,u),u.dispatch=i,[a,i]},useMemoCache:dg,useCacheRefresh:function(){return sr().memoizedState=AM.bind(null,dt)}},i1={readContext:qn,use:Pd,useCallback:Gw,useContext:qn,useEffect:Bw,useImperativeHandle:Ww,useInsertionEffect:qw,useLayoutEffect:Zw,useMemo:Xw,useReducer:Ud,useRef:Vw,useState:function(){return Ud(ra)},useDebugValue:gg,useDeferredValue:function(a,i){var u=xn();return Kw(u,It.memoizedState,a,i)},useTransition:function(){var a=Ud(ra)[0],i=xn().memoizedState;return[typeof a=="boolean"?a:yc(a),i]},useSyncExternalStore:Cw,useId:t1,useHostTransitionStatus:yg,useFormState:Pw,useActionState:Pw,useOptimistic:function(a,i){var u=xn();return Rw(u,It,a,i)},useMemoCache:dg,useCacheRefresh:n1},TM={readContext:qn,use:Pd,useCallback:Gw,useContext:qn,useEffect:Bw,useImperativeHandle:Ww,useInsertionEffect:qw,useLayoutEffect:Zw,useMemo:Xw,useReducer:mg,useRef:Vw,useState:function(){return mg(ra)},useDebugValue:gg,useDeferredValue:function(a,i){var u=xn();return It===null?xg(u,a,i):Kw(u,It.memoizedState,a,i)},useTransition:function(){var a=mg(ra)[0],i=xn().memoizedState;return[typeof a=="boolean"?a:yc(a),i]},useSyncExternalStore:Cw,useId:t1,useHostTransitionStatus:yg,useFormState:Fw,useActionState:Fw,useOptimistic:function(a,i){var u=xn();return It!==null?Rw(u,It,a,i):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:dg,useCacheRefresh:n1},ki=null,jc=0;function qd(a){var i=jc;return jc+=1,ki===null&&(ki=[]),vw(ki,a,i)}function Nc(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function Zd(a,i){throw i.$$typeof===g?Error(s(525)):(a=Object.prototype.toString.call(i),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function l1(a){var i=a._init;return i(a._payload)}function c1(a){function i(re,ee){if(a){var le=re.deletions;le===null?(re.deletions=[ee],re.flags|=16):le.push(ee)}}function u(re,ee){if(!a)return null;for(;ee!==null;)i(re,ee),ee=ee.sibling;return null}function m(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function y(re,ee){return re=Qs(re,ee),re.index=0,re.sibling=null,re}function N(re,ee,le){return re.index=le,a?(le=re.alternate,le!==null?(le=le.index,le<ee?(re.flags|=67108866,ee):le):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function D(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function P(re,ee,le,je){return ee===null||ee.tag!==6?(ee=Fp(le,re.mode,je),ee.return=re,ee):(ee=y(ee,le),ee.return=re,ee)}function G(re,ee,le,je){var Ue=le.type;return Ue===j?we(re,ee,le.props.children,je,le.key):ee!==null&&(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&l1(Ue)===ee.type)?(ee=y(ee,le.props),Nc(ee,le),ee.return=re,ee):(ee=kd(le.type,le.key,le.props,null,re.mode,je),Nc(ee,le),ee.return=re,ee)}function ce(re,ee,le,je){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=Vp(le,re.mode,je),ee.return=re,ee):(ee=y(ee,le.children||[]),ee.return=re,ee)}function we(re,ee,le,je,Ue){return ee===null||ee.tag!==7?(ee=bo(le,re.mode,je,Ue),ee.return=re,ee):(ee=y(ee,le),ee.return=re,ee)}function _e(re,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Fp(""+ee,re.mode,le),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return le=kd(ee.type,ee.key,ee.props,null,re.mode,le),Nc(le,ee),le.return=re,le;case b:return ee=Vp(ee,re.mode,le),ee.return=re,ee;case I:var je=ee._init;return ee=je(ee._payload),_e(re,ee,le)}if($(ee)||Y(ee))return ee=bo(ee,re.mode,le,null),ee.return=re,ee;if(typeof ee.then=="function")return _e(re,qd(ee),le);if(ee.$$typeof===C)return _e(re,Rd(re,ee),le);Zd(re,ee)}return null}function ue(re,ee,le,je){var Ue=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ue!==null?null:P(re,ee,""+le,je);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===Ue?G(re,ee,le,je):null;case b:return le.key===Ue?ce(re,ee,le,je):null;case I:return Ue=le._init,le=Ue(le._payload),ue(re,ee,le,je)}if($(le)||Y(le))return Ue!==null?null:we(re,ee,le,je,null);if(typeof le.then=="function")return ue(re,ee,qd(le),je);if(le.$$typeof===C)return ue(re,ee,Rd(re,le),je);Zd(re,le)}return null}function fe(re,ee,le,je,Ue){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return re=re.get(le)||null,P(ee,re,""+je,Ue);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case x:return re=re.get(je.key===null?le:je.key)||null,G(ee,re,je,Ue);case b:return re=re.get(je.key===null?le:je.key)||null,ce(ee,re,je,Ue);case I:var ht=je._init;return je=ht(je._payload),fe(re,ee,le,je,Ue)}if($(je)||Y(je))return re=re.get(le)||null,we(ee,re,je,Ue,null);if(typeof je.then=="function")return fe(re,ee,le,qd(je),Ue);if(je.$$typeof===C)return fe(re,ee,le,Rd(ee,je),Ue);Zd(ee,je)}return null}function tt(re,ee,le,je){for(var Ue=null,ht=null,Ze=ee,Je=ee=0,Dn=null;Ze!==null&&Je<le.length;Je++){Ze.index>Je?(Dn=Ze,Ze=null):Dn=Ze.sibling;var Ct=ue(re,Ze,le[Je],je);if(Ct===null){Ze===null&&(Ze=Dn);break}a&&Ze&&Ct.alternate===null&&i(re,Ze),ee=N(Ct,ee,Je),ht===null?Ue=Ct:ht.sibling=Ct,ht=Ct,Ze=Dn}if(Je===le.length)return u(re,Ze),Et&&jo(re,Je),Ue;if(Ze===null){for(;Je<le.length;Je++)Ze=_e(re,le[Je],je),Ze!==null&&(ee=N(Ze,ee,Je),ht===null?Ue=Ze:ht.sibling=Ze,ht=Ze);return Et&&jo(re,Je),Ue}for(Ze=m(Ze);Je<le.length;Je++)Dn=fe(Ze,re,Je,le[Je],je),Dn!==null&&(a&&Dn.alternate!==null&&Ze.delete(Dn.key===null?Je:Dn.key),ee=N(Dn,ee,Je),ht===null?Ue=Dn:ht.sibling=Dn,ht=Dn);return a&&Ze.forEach(function(Ga){return i(re,Ga)}),Et&&jo(re,Je),Ue}function Ke(re,ee,le,je){if(le==null)throw Error(s(151));for(var Ue=null,ht=null,Ze=ee,Je=ee=0,Dn=null,Ct=le.next();Ze!==null&&!Ct.done;Je++,Ct=le.next()){Ze.index>Je?(Dn=Ze,Ze=null):Dn=Ze.sibling;var Ga=ue(re,Ze,Ct.value,je);if(Ga===null){Ze===null&&(Ze=Dn);break}a&&Ze&&Ga.alternate===null&&i(re,Ze),ee=N(Ga,ee,Je),ht===null?Ue=Ga:ht.sibling=Ga,ht=Ga,Ze=Dn}if(Ct.done)return u(re,Ze),Et&&jo(re,Je),Ue;if(Ze===null){for(;!Ct.done;Je++,Ct=le.next())Ct=_e(re,Ct.value,je),Ct!==null&&(ee=N(Ct,ee,Je),ht===null?Ue=Ct:ht.sibling=Ct,ht=Ct);return Et&&jo(re,Je),Ue}for(Ze=m(Ze);!Ct.done;Je++,Ct=le.next())Ct=fe(Ze,re,Je,Ct.value,je),Ct!==null&&(a&&Ct.alternate!==null&&Ze.delete(Ct.key===null?Je:Ct.key),ee=N(Ct,ee,Je),ht===null?Ue=Ct:ht.sibling=Ct,ht=Ct);return a&&Ze.forEach(function(RT){return i(re,RT)}),Et&&jo(re,Je),Ue}function $t(re,ee,le,je){if(typeof le=="object"&&le!==null&&le.type===j&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var Ue=le.key;ee!==null;){if(ee.key===Ue){if(Ue=le.type,Ue===j){if(ee.tag===7){u(re,ee.sibling),je=y(ee,le.props.children),je.return=re,re=je;break e}}else if(ee.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&l1(Ue)===ee.type){u(re,ee.sibling),je=y(ee,le.props),Nc(je,le),je.return=re,re=je;break e}u(re,ee);break}else i(re,ee);ee=ee.sibling}le.type===j?(je=bo(le.props.children,re.mode,je,le.key),je.return=re,re=je):(je=kd(le.type,le.key,le.props,null,re.mode,je),Nc(je,le),je.return=re,re=je)}return D(re);case b:e:{for(Ue=le.key;ee!==null;){if(ee.key===Ue)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){u(re,ee.sibling),je=y(ee,le.children||[]),je.return=re,re=je;break e}else{u(re,ee);break}else i(re,ee);ee=ee.sibling}je=Vp(le,re.mode,je),je.return=re,re=je}return D(re);case I:return Ue=le._init,le=Ue(le._payload),$t(re,ee,le,je)}if($(le))return tt(re,ee,le,je);if(Y(le)){if(Ue=Y(le),typeof Ue!="function")throw Error(s(150));return le=Ue.call(le),Ke(re,ee,le,je)}if(typeof le.then=="function")return $t(re,ee,qd(le),je);if(le.$$typeof===C)return $t(re,ee,Rd(re,le),je);Zd(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ee!==null&&ee.tag===6?(u(re,ee.sibling),je=y(ee,le),je.return=re,re=je):(u(re,ee),je=Fp(le,re.mode,je),je.return=re,re=je),D(re)):u(re,ee)}return function(re,ee,le,je){try{jc=0;var Ue=$t(re,ee,le,je);return ki=null,Ue}catch(Ze){if(Ze===mc||Ze===Od)throw Ze;var ht=fr(29,Ze,null,re.mode);return ht.lanes=je,ht.return=re,ht}finally{}}}var Ai=c1(!0),u1=c1(!1),Ir=H(null),js=null;function Oa(a){var i=a.alternate;K(Nn,Nn.current&1),K(Ir,a),js===null&&(i===null||_i.current!==null||i.memoizedState!==null)&&(js=a)}function d1(a){if(a.tag===22){if(K(Nn,Nn.current),K(Ir,a),js===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(js=a)}}else za()}function za(){K(Nn,Nn.current),K(Ir,Ir.current)}function sa(a){J(Ir),js===a&&(js=null),J(Nn)}var Nn=H(0);function Yd(a){for(var i=a;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ux(u)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function wg(a,i,u,m){i=a.memoizedState,u=u(m,i),u=u==null?i:p({},i,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var jg={enqueueSetState:function(a,i,u){a=a._reactInternals;var m=gr(),y=Ta(m);y.payload=i,u!=null&&(y.callback=u),i=Ra(a,y,m),i!==null&&(xr(i,a,m),pc(i,a,m))},enqueueReplaceState:function(a,i,u){a=a._reactInternals;var m=gr(),y=Ta(m);y.tag=1,y.payload=i,u!=null&&(y.callback=u),i=Ra(a,y,m),i!==null&&(xr(i,a,m),pc(i,a,m))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var u=gr(),m=Ta(u);m.tag=2,i!=null&&(m.callback=i),i=Ra(a,m,u),i!==null&&(xr(i,a,u),pc(i,a,u))}};function f1(a,i,u,m,y,N,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,N,D):i.prototype&&i.prototype.isPureReactComponent?!ac(u,m)||!ac(y,N):!0}function m1(a,i,u,m){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==a&&jg.enqueueReplaceState(i,i.state,null)}function Ao(a,i){var u=i;if("ref"in i){u={};for(var m in i)m!=="ref"&&(u[m]=i[m])}if(a=a.defaultProps){u===i&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var Wd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function h1(a){Wd(a)}function p1(a){console.error(a)}function g1(a){Wd(a)}function Gd(a,i){try{var u=a.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function x1(a,i,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ng(a,i,u){return u=Ta(u),u.tag=3,u.payload={element:null},u.callback=function(){Gd(a,i)},u}function v1(a){return a=Ta(a),a.tag=3,a}function y1(a,i,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var N=m.value;a.payload=function(){return y(N)},a.callback=function(){x1(i,u,m)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){x1(i,u,m),typeof y!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function RM(a,i,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=u.alternate,i!==null&&uc(i,u,y,!0),u=Ir.current,u!==null){switch(u.tag){case 13:return js===null?Yg():u.alternate===null&&ln===0&&(ln=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===Qp?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([m]):i.add(m),Gg(a,m,y)),!1;case 22:return u.flags|=65536,m===Qp?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([m]):u.add(m)),Gg(a,m,y)),!1}throw Error(s(435,u.tag))}return Gg(a,m,y),Yg(),!1}if(Et)return i=Ir.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,m!==qp&&(a=Error(s(422),{cause:m}),cc(Rr(a,u)))):(m!==qp&&(i=Error(s(423),{cause:m}),cc(Rr(i,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Rr(m,u),y=Ng(a.stateNode,m,y),tg(a,y),ln!==4&&(ln=2)),!1;var N=Error(s(520),{cause:m});if(N=Rr(N,u),Mc===null?Mc=[N]:Mc.push(N),ln!==4&&(ln=2),i===null)return!0;m=Rr(m,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Ng(u.stateNode,m,a),tg(u,a),!1;case 1:if(i=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Fa===null||!Fa.has(N))))return u.flags|=65536,y&=-y,u.lanes|=y,y=v1(y),y1(y,a,u,m),tg(u,y),!1}u=u.return}while(u!==null);return!1}var b1=Error(s(461)),Tn=!1;function Ln(a,i,u,m){i.child=a===null?u1(i,null,u,m):Ai(i,a.child,u,m)}function w1(a,i,u,m,y){u=u.render;var N=i.ref;if("ref"in m){var D={};for(var P in m)P!=="ref"&&(D[P]=m[P])}else D=m;return Co(i),m=og(a,i,u,D,N,y),P=ig(),a!==null&&!Tn?(lg(a,i,y),aa(a,i,y)):(Et&&P&&Hp(i),i.flags|=1,Ln(a,i,m,y),i.child)}function j1(a,i,u,m,y){if(a===null){var N=u.type;return typeof N=="function"&&!Up(N)&&N.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=N,N1(a,i,N,m,y)):(a=kd(u.type,null,m,i,i.mode,y),a.ref=i.ref,a.return=i,i.child=a)}if(N=a.child,!Tg(a,y)){var D=N.memoizedProps;if(u=u.compare,u=u!==null?u:ac,u(D,m)&&a.ref===i.ref)return aa(a,i,y)}return i.flags|=1,a=Qs(N,m),a.ref=i.ref,a.return=i,i.child=a}function N1(a,i,u,m,y){if(a!==null){var N=a.memoizedProps;if(ac(N,m)&&a.ref===i.ref)if(Tn=!1,i.pendingProps=m=N,Tg(a,y))(a.flags&131072)!==0&&(Tn=!0);else return i.lanes=a.lanes,aa(a,i,y)}return _g(a,i,u,m,y)}function _1(a,i,u){var m=i.pendingProps,y=m.children,N=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=N!==null?N.baseLanes|u:u,a!==null){for(y=i.child=a.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;i.childLanes=N&~m}else i.childLanes=0,i.child=null;return S1(a,i,m,u)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Dd(i,N!==null?N.cachePool:null),N!==null?Nw(i,N):rg(),d1(i);else return i.lanes=i.childLanes=536870912,S1(a,i,N!==null?N.baseLanes|u:u,u)}else N!==null?(Dd(i,N.cachePool),Nw(i,N),za(),i.memoizedState=null):(a!==null&&Dd(i,null),rg(),za());return Ln(a,i,y,u),i.child}function S1(a,i,u,m){var y=Kp();return y=y===null?null:{parent:jn._currentValue,pool:y},i.memoizedState={baseLanes:u,cachePool:y},a!==null&&Dd(i,null),rg(),d1(i),a!==null&&uc(a,i,m,!0),null}function Xd(a,i){var u=i.ref;if(u===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(a===null||a.ref!==u)&&(i.flags|=4194816)}}function _g(a,i,u,m,y){return Co(i),u=og(a,i,u,m,void 0,y),m=ig(),a!==null&&!Tn?(lg(a,i,y),aa(a,i,y)):(Et&&m&&Hp(i),i.flags|=1,Ln(a,i,u,y),i.child)}function C1(a,i,u,m,y,N){return Co(i),i.updateQueue=null,u=Sw(i,m,u,y),_w(a),m=ig(),a!==null&&!Tn?(lg(a,i,N),aa(a,i,N)):(Et&&m&&Hp(i),i.flags|=1,Ln(a,i,u,N),i.child)}function E1(a,i,u,m,y){if(Co(i),i.stateNode===null){var N=yi,D=u.contextType;typeof D=="object"&&D!==null&&(N=qn(D)),N=new u(m,N),i.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=jg,i.stateNode=N,N._reactInternals=i,N=i.stateNode,N.props=m,N.state=i.memoizedState,N.refs={},Jp(i),D=u.contextType,N.context=typeof D=="object"&&D!==null?qn(D):yi,N.state=i.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(wg(i,u,D,m),N.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&jg.enqueueReplaceState(N,N.state,null),xc(i,m,N,y),gc(),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(a===null){N=i.stateNode;var P=i.memoizedProps,G=Ao(u,P);N.props=G;var ce=N.context,we=u.contextType;D=yi,typeof we=="object"&&we!==null&&(D=qn(we));var _e=u.getDerivedStateFromProps;we=typeof _e=="function"||typeof N.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,we||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(P||ce!==D)&&m1(i,N,m,D),Ma=!1;var ue=i.memoizedState;N.state=ue,xc(i,m,N,y),gc(),ce=i.memoizedState,P||ue!==ce||Ma?(typeof _e=="function"&&(wg(i,u,_e,m),ce=i.memoizedState),(G=Ma||f1(i,u,G,m,ue,ce,D))?(we||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=ce),N.props=m,N.state=ce,N.context=D,m=G):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{N=i.stateNode,eg(a,i),D=i.memoizedProps,we=Ao(u,D),N.props=we,_e=i.pendingProps,ue=N.context,ce=u.contextType,G=yi,typeof ce=="object"&&ce!==null&&(G=qn(ce)),P=u.getDerivedStateFromProps,(ce=typeof P=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==_e||ue!==G)&&m1(i,N,m,G),Ma=!1,ue=i.memoizedState,N.state=ue,xc(i,m,N,y),gc();var fe=i.memoizedState;D!==_e||ue!==fe||Ma||a!==null&&a.dependencies!==null&&Td(a.dependencies)?(typeof P=="function"&&(wg(i,u,P,m),fe=i.memoizedState),(we=Ma||f1(i,u,we,m,ue,fe,G)||a!==null&&a.dependencies!==null&&Td(a.dependencies))?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,fe,G),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,fe,G)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=fe),N.props=m,N.state=fe,N.context=G,m=we):(typeof N.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(i.flags|=1024),m=!1)}return N=m,Xd(a,i),m=(i.flags&128)!==0,N||m?(N=i.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:N.render(),i.flags|=1,a!==null&&m?(i.child=Ai(i,a.child,null,y),i.child=Ai(i,null,u,y)):Ln(a,i,u,y),i.memoizedState=N.state,a=i.child):a=aa(a,i,y),a}function k1(a,i,u,m){return lc(),i.flags|=256,Ln(a,i,u,m),i.child}var Sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cg(a){return{baseLanes:a,cachePool:pw()}}function Eg(a,i,u){return a=a!==null?a.childLanes&~u:0,i&&(a|=Lr),a}function A1(a,i,u){var m=i.pendingProps,y=!1,N=(i.flags&128)!==0,D;if((D=N)||(D=a!==null&&a.memoizedState===null?!1:(Nn.current&2)!==0),D&&(y=!0,i.flags&=-129),D=(i.flags&32)!==0,i.flags&=-33,a===null){if(Et){if(y?Oa(i):za(),Et){var P=on,G;if(G=P){e:{for(G=P,P=ws;G.nodeType!==8;){if(!P){P=null;break e}if(G=Kr(G.nextSibling),G===null){P=null;break e}}P=G}P!==null?(i.memoizedState={dehydrated:P,treeContext:wo!==null?{id:Js,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},G=fr(18,null,null,0),G.stateNode=P,G.return=i,i.child=G,Wn=i,on=null,G=!0):G=!1}G||_o(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return ux(P)?i.lanes=32:i.lanes=536870912,null;sa(i)}return P=m.children,m=m.fallback,y?(za(),y=i.mode,P=Kd({mode:"hidden",children:P},y),m=bo(m,y,u,null),P.return=i,m.return=i,P.sibling=m,i.child=P,y=i.child,y.memoizedState=Cg(u),y.childLanes=Eg(a,D,u),i.memoizedState=Sg,m):(Oa(i),kg(i,P))}if(G=a.memoizedState,G!==null&&(P=G.dehydrated,P!==null)){if(N)i.flags&256?(Oa(i),i.flags&=-257,i=Ag(a,i,u)):i.memoizedState!==null?(za(),i.child=a.child,i.flags|=128,i=null):(za(),y=m.fallback,P=i.mode,m=Kd({mode:"visible",children:m.children},P),y=bo(y,P,u,null),y.flags|=2,m.return=i,y.return=i,m.sibling=y,i.child=m,Ai(i,a.child,null,u),m=i.child,m.memoizedState=Cg(u),m.childLanes=Eg(a,D,u),i.memoizedState=Sg,i=y);else if(Oa(i),ux(P)){if(D=P.nextSibling&&P.nextSibling.dataset,D)var ce=D.dgst;D=ce,m=Error(s(419)),m.stack="",m.digest=D,cc({value:m,source:null,stack:null}),i=Ag(a,i,u)}else if(Tn||uc(a,i,u,!1),D=(u&a.childLanes)!==0,Tn||D){if(D=qt,D!==null&&(m=u&-u,m=(m&42)!==0?1:Ht(m),m=(m&(D.suspendedLanes|u))!==0?0:m,m!==0&&m!==G.retryLane))throw G.retryLane=m,vi(a,m),xr(D,a,m),b1;P.data==="$?"||Yg(),i=Ag(a,i,u)}else P.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=G.treeContext,on=Kr(P.nextSibling),Wn=i,Et=!0,No=null,ws=!1,a!==null&&(Or[zr++]=Js,Or[zr++]=ea,Or[zr++]=wo,Js=a.id,ea=a.overflow,wo=i),i=kg(i,m.children),i.flags|=4096);return i}return y?(za(),y=m.fallback,P=i.mode,G=a.child,ce=G.sibling,m=Qs(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ce!==null?y=Qs(ce,y):(y=bo(y,P,u,null),y.flags|=2),y.return=i,m.return=i,m.sibling=y,i.child=m,m=y,y=i.child,P=a.child.memoizedState,P===null?P=Cg(u):(G=P.cachePool,G!==null?(ce=jn._currentValue,G=G.parent!==ce?{parent:ce,pool:ce}:G):G=pw(),P={baseLanes:P.baseLanes|u,cachePool:G}),y.memoizedState=P,y.childLanes=Eg(a,D,u),i.memoizedState=Sg,m):(Oa(i),u=a.child,a=u.sibling,u=Qs(u,{mode:"visible",children:m.children}),u.return=i,u.sibling=null,a!==null&&(D=i.deletions,D===null?(i.deletions=[a],i.flags|=16):D.push(a)),i.child=u,i.memoizedState=null,u)}function kg(a,i){return i=Kd({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Kd(a,i){return a=fr(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Ag(a,i,u){return Ai(i,a.child,null,u),a=kg(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function M1(a,i,u){a.lanes|=i;var m=a.alternate;m!==null&&(m.lanes|=i),Yp(a.return,i,u)}function Mg(a,i,u,m,y){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y)}function T1(a,i,u){var m=i.pendingProps,y=m.revealOrder,N=m.tail;if(Ln(a,i,m.children,u),m=Nn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&M1(a,u,i);else if(a.tag===19)M1(a,u,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(K(Nn,m),y){case"forwards":for(u=i.child,y=null;u!==null;)a=u.alternate,a!==null&&Yd(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),Mg(i,!1,y,u,N);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(a=y.alternate,a!==null&&Yd(a)===null){i.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Mg(i,!0,u,null,N);break;case"together":Mg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function aa(a,i,u){if(a!==null&&(i.dependencies=a.dependencies),Ua|=i.lanes,(u&i.childLanes)===0)if(a!==null){if(uc(a,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(s(153));if(i.child!==null){for(a=i.child,u=Qs(a,a.pendingProps),i.child=u,u.return=i;a.sibling!==null;)a=a.sibling,u=u.sibling=Qs(a,a.pendingProps),u.return=i;u.sibling=null}return i.child}function Tg(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Td(a)))}function DM(a,i,u){switch(i.tag){case 3:de(i,i.stateNode.containerInfo),Aa(i,jn,a.memoizedState.cache),lc();break;case 27:case 5:pe(i);break;case 4:de(i,i.stateNode.containerInfo);break;case 10:Aa(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(Oa(i),i.flags|=128,null):(u&i.child.childLanes)!==0?A1(a,i,u):(Oa(i),a=aa(a,i,u),a!==null?a.sibling:null);Oa(i);break;case 19:var y=(a.flags&128)!==0;if(m=(u&i.childLanes)!==0,m||(uc(a,i,u,!1),m=(u&i.childLanes)!==0),y){if(m)return T1(a,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Nn,Nn.current),m)break;return null;case 22:case 23:return i.lanes=0,_1(a,i,u);case 24:Aa(i,jn,a.memoizedState.cache)}return aa(a,i,u)}function R1(a,i,u){if(a!==null)if(a.memoizedProps!==i.pendingProps)Tn=!0;else{if(!Tg(a,u)&&(i.flags&128)===0)return Tn=!1,DM(a,i,u);Tn=(a.flags&131072)!==0}else Tn=!1,Et&&(i.flags&1048576)!==0&&lw(i,Md,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var m=i.elementType,y=m._init;if(m=y(m._payload),i.type=m,typeof m=="function")Up(m)?(a=Ao(m,a),i.tag=1,i=E1(null,i,m,a,u)):(i.tag=0,i=_g(null,i,m,a,u));else{if(m!=null){if(y=m.$$typeof,y===k){i.tag=11,i=w1(null,i,m,a,u);break e}else if(y===O){i.tag=14,i=j1(null,i,m,a,u);break e}}throw i=R(m)||m,Error(s(306,i,""))}}return i;case 0:return _g(a,i,i.type,i.pendingProps,u);case 1:return m=i.type,y=Ao(m,i.pendingProps),E1(a,i,m,y,u);case 3:e:{if(de(i,i.stateNode.containerInfo),a===null)throw Error(s(387));m=i.pendingProps;var N=i.memoizedState;y=N.element,eg(a,i),xc(i,m,null,u);var D=i.memoizedState;if(m=D.cache,Aa(i,jn,m),m!==N.cache&&Wp(i,[jn],u,!0),gc(),m=D.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:D.cache},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){i=k1(a,i,m,u);break e}else if(m!==y){y=Rr(Error(s(424)),i),cc(y),i=k1(a,i,m,u);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(on=Kr(a.firstChild),Wn=i,Et=!0,No=null,ws=!0,u=u1(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(lc(),m===y){i=aa(a,i,u);break e}Ln(a,i,m,u)}i=i.child}return i;case 26:return Xd(a,i),a===null?(u=Ij(i.type,null,i.pendingProps,null))?i.memoizedState=u:Et||(u=i.type,a=i.pendingProps,m=ff(ye.current).createElement(u),m[Ut]=i,m[Ft]=a,Pn(m,u,a),pn(m),i.stateNode=m):i.memoizedState=Ij(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return pe(i),a===null&&Et&&(m=i.stateNode=Dj(i.type,i.pendingProps,ye.current),Wn=i,ws=!0,y=on,Ba(i.type)?(dx=y,on=Kr(m.firstChild)):on=y),Ln(a,i,i.pendingProps.children,u),Xd(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&Et&&((y=m=on)&&(m=iT(m,i.type,i.pendingProps,ws),m!==null?(i.stateNode=m,Wn=i,on=Kr(m.firstChild),ws=!1,y=!0):y=!1),y||_o(i)),pe(i),y=i.type,N=i.pendingProps,D=a!==null?a.memoizedProps:null,m=N.children,ix(y,N)?m=null:D!==null&&ix(y,D)&&(i.flags|=32),i.memoizedState!==null&&(y=og(a,i,SM,null,null,u),Pc._currentValue=y),Xd(a,i),Ln(a,i,m,u),i.child;case 6:return a===null&&Et&&((a=u=on)&&(u=lT(u,i.pendingProps,ws),u!==null?(i.stateNode=u,Wn=i,on=null,a=!0):a=!1),a||_o(i)),null;case 13:return A1(a,i,u);case 4:return de(i,i.stateNode.containerInfo),m=i.pendingProps,a===null?i.child=Ai(i,null,m,u):Ln(a,i,m,u),i.child;case 11:return w1(a,i,i.type,i.pendingProps,u);case 7:return Ln(a,i,i.pendingProps,u),i.child;case 8:return Ln(a,i,i.pendingProps.children,u),i.child;case 12:return Ln(a,i,i.pendingProps.children,u),i.child;case 10:return m=i.pendingProps,Aa(i,i.type,m.value),Ln(a,i,m.children,u),i.child;case 9:return y=i.type._context,m=i.pendingProps.children,Co(i),y=qn(y),m=m(y),i.flags|=1,Ln(a,i,m,u),i.child;case 14:return j1(a,i,i.type,i.pendingProps,u);case 15:return N1(a,i,i.type,i.pendingProps,u);case 19:return T1(a,i,u);case 31:return m=i.pendingProps,u=i.mode,m={mode:m.mode,children:m.children},a===null?(u=Kd(m,u),u.ref=i.ref,i.child=u,u.return=i,i=u):(u=Qs(a.child,m),u.ref=i.ref,i.child=u,u.return=i,i=u),i;case 22:return _1(a,i,u);case 24:return Co(i),m=qn(jn),a===null?(y=Kp(),y===null&&(y=qt,N=Gp(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=u),y=N),i.memoizedState={parent:m,cache:y},Jp(i),Aa(i,jn,y)):((a.lanes&u)!==0&&(eg(a,i),xc(i,null,null,u),gc()),y=a.memoizedState,N=i.memoizedState,y.parent!==m?(y={parent:m,cache:m},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),Aa(i,jn,m)):(m=N.cache,Aa(i,jn,m),m!==y.cache&&Wp(i,[jn],u,!0))),Ln(a,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oa(a){a.flags|=4}function D1(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Fj(i)){if(i=Ir.current,i!==null&&((jt&4194048)===jt?js!==null:(jt&62914560)!==jt&&(jt&536870912)===0||i!==js))throw hc=Qp,gw;a.flags|=8192}}function Qd(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Ye():536870912,a.lanes|=i,Di|=i)}function _c(a,i){if(!Et)switch(a.tailMode){case"hidden":i=a.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function nn(a){var i=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(i)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=u,i}function OM(a,i,u){var m=i.pendingProps;switch(Bp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(i),null;case 1:return nn(i),null;case 3:return u=i.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),na(jn),te(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ic(i)?oa(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dw())),nn(i),null;case 26:return u=i.memoizedState,a===null?(oa(i),u!==null?(nn(i),D1(i,u)):(nn(i),i.flags&=-16777217)):u?u!==a.memoizedState?(oa(i),nn(i),D1(i,u)):(nn(i),i.flags&=-16777217):(a.memoizedProps!==m&&oa(i),nn(i),i.flags&=-16777217),null;case 27:Se(i),u=ye.current;var y=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==m&&oa(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return nn(i),null}a=ie.current,ic(i)?cw(i):(a=Dj(y,m,u),i.stateNode=a,oa(i))}return nn(i),null;case 5:if(Se(i),u=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==m&&oa(i);else{if(!m){if(i.stateNode===null)throw Error(s(166));return nn(i),null}if(a=ie.current,ic(i))cw(i);else{switch(y=ff(ye.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}a[Ut]=i,a[Ft]=m;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=a;e:switch(Pn(a,u,m),u){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oa(i)}}return nn(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==m&&oa(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(a=ye.current,ic(i)){if(a=i.stateNode,u=i.memoizedProps,m=null,y=Wn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[Ut]=i,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Cj(a.nodeValue,u)),a||_o(i)}else a=ff(a).createTextNode(m),a[Ut]=i,i.stateNode=a}return nn(i),null;case 13:if(m=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ic(i),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ut]=i}else lc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),y=!1}else y=dw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(sa(i),i):(sa(i),null)}if(sa(i),(i.flags&128)!==0)return i.lanes=u,i;if(u=m!==null,a=a!==null&&a.memoizedState!==null,u){m=i.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==y&&(m.flags|=2048)}return u!==a&&u&&(i.child.flags|=8192),Qd(i,i.updateQueue),nn(i),null;case 4:return te(),a===null&&nx(i.stateNode.containerInfo),nn(i),null;case 10:return na(i.type),nn(i),null;case 19:if(J(Nn),y=i.memoizedState,y===null)return nn(i),null;if(m=(i.flags&128)!==0,N=y.rendering,N===null)if(m)_c(y,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(N=Yd(a),N!==null){for(i.flags|=128,_c(y,!1),a=N.updateQueue,i.updateQueue=a,Qd(i,a),i.subtreeFlags=0,a=u,u=i.child;u!==null;)iw(u,a),u=u.sibling;return K(Nn,Nn.current&1|2),i.child}a=a.sibling}y.tail!==null&&xt()>tf&&(i.flags|=128,m=!0,_c(y,!1),i.lanes=4194304)}else{if(!m)if(a=Yd(N),a!==null){if(i.flags|=128,m=!0,a=a.updateQueue,i.updateQueue=a,Qd(i,a),_c(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!Et)return nn(i),null}else 2*xt()-y.renderingStartTime>tf&&u!==536870912&&(i.flags|=128,m=!0,_c(y,!1),i.lanes=4194304);y.isBackwards?(N.sibling=i.child,i.child=N):(a=y.last,a!==null?a.sibling=N:i.child=N,y.last=N)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=xt(),i.sibling=null,a=Nn.current,K(Nn,m?a&1|2:a&1),i):(nn(i),null);case 22:case 23:return sa(i),sg(),m=i.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(u&536870912)!==0&&(i.flags&128)===0&&(nn(i),i.subtreeFlags&6&&(i.flags|=8192)):nn(i),u=i.updateQueue,u!==null&&Qd(i,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==u&&(i.flags|=2048),a!==null&&J(Eo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),na(jn),nn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function zM(a,i){switch(Bp(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return na(jn),te(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Se(i),null;case 13:if(sa(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(s(340));lc()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return J(Nn),null;case 4:return te(),null;case 10:return na(i.type),null;case 22:case 23:return sa(i),sg(),a!==null&&J(Eo),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return na(jn),null;case 25:return null;default:return null}}function O1(a,i){switch(Bp(i),i.tag){case 3:na(jn),te();break;case 26:case 27:case 5:Se(i);break;case 4:te();break;case 13:sa(i);break;case 19:J(Nn);break;case 10:na(i.type);break;case 22:case 23:sa(i),sg(),a!==null&&J(Eo);break;case 24:na(jn)}}function Sc(a,i){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&a)===a){m=void 0;var N=u.create,D=u.inst;m=N(),D.destroy=m}u=u.next}while(u!==y)}}catch(P){Vt(i,i.return,P)}}function Ia(a,i,u){try{var m=i.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var N=y.next;m=N;do{if((m.tag&a)===a){var D=m.inst,P=D.destroy;if(P!==void 0){D.destroy=void 0,y=i;var G=u,ce=P;try{ce()}catch(we){Vt(y,G,we)}}}m=m.next}while(m!==N)}}catch(we){Vt(i,i.return,we)}}function z1(a){var i=a.updateQueue;if(i!==null){var u=a.stateNode;try{jw(i,u)}catch(m){Vt(a,a.return,m)}}}function I1(a,i,u){u.props=Ao(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Vt(a,i,m)}}function Cc(a,i){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(y){Vt(a,i,y)}}function Ns(a,i){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){Vt(a,i,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Vt(a,i,y)}else u.current=null}function L1(a){var i=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){Vt(a,a.return,y)}}function Rg(a,i,u){try{var m=a.stateNode;nT(m,a.type,u,i),m[Ft]=i}catch(y){Vt(a,a.return,y)}}function $1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ba(a.type)||a.tag===4}function Dg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ba(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Og(a,i,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(a),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=df));else if(m!==4&&(m===27&&Ba(a.type)&&(u=a.stateNode,i=null),a=a.child,a!==null))for(Og(a,i,u),a=a.sibling;a!==null;)Og(a,i,u),a=a.sibling}function Jd(a,i,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?u.insertBefore(a,i):u.appendChild(a);else if(m!==4&&(m===27&&Ba(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Jd(a,i,u),a=a.sibling;a!==null;)Jd(a,i,u),a=a.sibling}function P1(a){var i=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);Pn(i,m,u),i[Ut]=a,i[Ft]=u}catch(N){Vt(a,a.return,N)}}var ia=!1,fn=!1,zg=!1,U1=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function IM(a,i){if(a=a.containerInfo,ax=vf,a=Kb(a),Dp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var D=0,P=-1,G=-1,ce=0,we=0,_e=a,ue=null;t:for(;;){for(var fe;_e!==u||y!==0&&_e.nodeType!==3||(P=D+y),_e!==N||m!==0&&_e.nodeType!==3||(G=D+m),_e.nodeType===3&&(D+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)ue=_e,_e=fe;for(;;){if(_e===a)break t;if(ue===u&&++ce===y&&(P=D),ue===N&&++we===m&&(G=D),(fe=_e.nextSibling)!==null)break;_e=ue,ue=_e.parentNode}_e=fe}u=P===-1||G===-1?null:{start:P,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(ox={focusedElem:a,selectionRange:u},vf=!1,Rn=i;Rn!==null;)if(i=Rn,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,Rn=a;else for(;Rn!==null;){switch(i=Rn,N=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,u=i,y=N.memoizedProps,N=N.memoizedState,m=u.stateNode;try{var tt=Ao(u.type,y,u.elementType===u.type);a=m.getSnapshotBeforeUpdate(tt,N),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){Vt(u,u.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,u=a.nodeType,u===9)cx(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=i.sibling,a!==null){a.return=i.return,Rn=a;break}Rn=i.return}}function F1(a,i,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:La(a,u),m&4&&Sc(5,u);break;case 1:if(La(a,u),m&4)if(a=u.stateNode,i===null)try{a.componentDidMount()}catch(D){Vt(u,u.return,D)}else{var y=Ao(u.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(y,i,a.__reactInternalSnapshotBeforeUpdate)}catch(D){Vt(u,u.return,D)}}m&64&&z1(u),m&512&&Cc(u,u.return);break;case 3:if(La(a,u),m&64&&(a=u.updateQueue,a!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{jw(a,i)}catch(D){Vt(u,u.return,D)}}break;case 27:i===null&&m&4&&P1(u);case 26:case 5:La(a,u),i===null&&m&4&&L1(u),m&512&&Cc(u,u.return);break;case 12:La(a,u);break;case 13:La(a,u),m&4&&B1(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=qM.bind(null,u),cT(a,u))));break;case 22:if(m=u.memoizedState!==null||ia,!m){i=i!==null&&i.memoizedState!==null||fn,y=ia;var N=fn;ia=m,(fn=i)&&!N?$a(a,u,(u.subtreeFlags&8772)!==0):La(a,u),ia=y,fn=N}break;case 30:break;default:La(a,u)}}function V1(a){var i=a.alternate;i!==null&&(a.alternate=null,V1(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&ql(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qt=null,ar=!1;function la(a,i,u){for(u=u.child;u!==null;)H1(a,i,u),u=u.sibling}function H1(a,i,u){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(oe,u)}catch{}switch(u.tag){case 26:fn||Ns(u,i),la(a,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:fn||Ns(u,i);var m=Qt,y=ar;Ba(u.type)&&(Qt=u.stateNode,ar=!1),la(a,i,u),zc(u.stateNode),Qt=m,ar=y;break;case 5:fn||Ns(u,i);case 6:if(m=Qt,y=ar,Qt=null,la(a,i,u),Qt=m,ar=y,Qt!==null)if(ar)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(u.stateNode)}catch(N){Vt(u,i,N)}else try{Qt.removeChild(u.stateNode)}catch(N){Vt(u,i,N)}break;case 18:Qt!==null&&(ar?(a=Qt,Tj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Hc(a)):Tj(Qt,u.stateNode));break;case 4:m=Qt,y=ar,Qt=u.stateNode.containerInfo,ar=!0,la(a,i,u),Qt=m,ar=y;break;case 0:case 11:case 14:case 15:fn||Ia(2,u,i),fn||Ia(4,u,i),la(a,i,u);break;case 1:fn||(Ns(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"&&I1(u,i,m)),la(a,i,u);break;case 21:la(a,i,u);break;case 22:fn=(m=fn)||u.memoizedState!==null,la(a,i,u),fn=m;break;default:la(a,i,u)}}function B1(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Hc(a)}catch(u){Vt(i,i.return,u)}}function LM(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new U1),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new U1),i;default:throw Error(s(435,a.tag))}}function Ig(a,i){var u=LM(a);i.forEach(function(m){var y=ZM.bind(null,a,m);u.has(m)||(u.add(m),m.then(y,y))})}function mr(a,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],N=a,D=i,P=D;e:for(;P!==null;){switch(P.tag){case 27:if(Ba(P.type)){Qt=P.stateNode,ar=!1;break e}break;case 5:Qt=P.stateNode,ar=!1;break e;case 3:case 4:Qt=P.stateNode.containerInfo,ar=!0;break e}P=P.return}if(Qt===null)throw Error(s(160));H1(N,D,y),Qt=null,ar=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)q1(i,a),i=i.sibling}var Xr=null;function q1(a,i){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mr(i,a),hr(a),m&4&&(Ia(3,a,a.return),Sc(3,a),Ia(5,a,a.return));break;case 1:mr(i,a),hr(a),m&512&&(fn||u===null||Ns(u,u.return)),m&64&&ia&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=Xr;if(mr(i,a),hr(a),m&512&&(fn||u===null||Ns(u,u.return)),m&4){var N=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":N=y.getElementsByTagName("title")[0],(!N||N[Yr]||N[Ut]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(m),y.head.insertBefore(N,y.querySelector("head > title"))),Pn(N,m,u),N[Ut]=a,pn(N),m=N;break e;case"link":var D=Pj("link","href",y).get(m+(u.href||""));if(D){for(var P=0;P<D.length;P++)if(N=D[P],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(P,1);break t}}N=y.createElement(m),Pn(N,m,u),y.head.appendChild(N);break;case"meta":if(D=Pj("meta","content",y).get(m+(u.content||""))){for(P=0;P<D.length;P++)if(N=D[P],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(P,1);break t}}N=y.createElement(m),Pn(N,m,u),y.head.appendChild(N);break;default:throw Error(s(468,m))}N[Ut]=a,pn(N),m=N}a.stateNode=m}else Uj(y,a.type,a.stateNode);else a.stateNode=$j(y,m,a.memoizedProps);else N!==m?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,m===null?Uj(y,a.type,a.stateNode):$j(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Rg(a,a.memoizedProps,u.memoizedProps)}break;case 27:mr(i,a),hr(a),m&512&&(fn||u===null||Ns(u,u.return)),u!==null&&m&4&&Rg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(mr(i,a),hr(a),m&512&&(fn||u===null||Ns(u,u.return)),a.flags&32){y=a.stateNode;try{di(y,"")}catch(fe){Vt(a,a.return,fe)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Rg(a,y,u!==null?u.memoizedProps:y)),m&1024&&(zg=!0);break;case 6:if(mr(i,a),hr(a),m&4){if(a.stateNode===null)throw Error(s(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(fe){Vt(a,a.return,fe)}}break;case 3:if(pf=null,y=Xr,Xr=mf(i.containerInfo),mr(i,a),Xr=y,hr(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Hc(i.containerInfo)}catch(fe){Vt(a,a.return,fe)}zg&&(zg=!1,Z1(a));break;case 4:m=Xr,Xr=mf(a.stateNode.containerInfo),mr(i,a),hr(a),Xr=m;break;case 12:mr(i,a),hr(a);break;case 13:mr(i,a),hr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vg=xt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ig(a,m)));break;case 22:y=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ce=ia,we=fn;if(ia=ce||y,fn=we||G,mr(i,a),fn=we,ia=ce,hr(a),m&8192)e:for(i=a.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(u===null||G||ia||fn||Mo(a)),u=null,i=a;;){if(i.tag===5||i.tag===26){if(u===null){G=u=i;try{if(N=G.stateNode,y)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{P=G.stateNode;var _e=G.memoizedProps.style,ue=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;P.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(fe){Vt(G,G.return,fe)}}}else if(i.tag===6){if(u===null){G=i;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(fe){Vt(G,G.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ig(a,u))));break;case 19:mr(i,a),hr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ig(a,m)));break;case 30:break;case 21:break;default:mr(i,a),hr(a)}}function hr(a){var i=a.flags;if(i&2){try{for(var u,m=a.return;m!==null;){if($1(m)){u=m;break}m=m.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var y=u.stateNode,N=Dg(a);Jd(a,N,y);break;case 5:var D=u.stateNode;u.flags&32&&(di(D,""),u.flags&=-33);var P=Dg(a);Jd(a,P,D);break;case 3:case 4:var G=u.stateNode.containerInfo,ce=Dg(a);Og(a,ce,G);break;default:throw Error(s(161))}}catch(we){Vt(a,a.return,we)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Z1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Z1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function La(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)F1(a,i.alternate,i),i=i.sibling}function Mo(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),Mo(i);break;case 1:Ns(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&I1(i,i.return,u),Mo(i);break;case 27:zc(i.stateNode);case 26:case 5:Ns(i,i.return),Mo(i);break;case 22:i.memoizedState===null&&Mo(i);break;case 30:Mo(i);break;default:Mo(i)}a=a.sibling}}function $a(a,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,y=a,N=i,D=N.flags;switch(N.tag){case 0:case 11:case 15:$a(y,N,u),Sc(4,N);break;case 1:if($a(y,N,u),m=N,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ce){Vt(m,m.return,ce)}if(m=N,y=m.updateQueue,y!==null){var P=m.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)ww(G[y],P)}catch(ce){Vt(m,m.return,ce)}}u&&D&64&&z1(N),Cc(N,N.return);break;case 27:P1(N);case 26:case 5:$a(y,N,u),u&&m===null&&D&4&&L1(N),Cc(N,N.return);break;case 12:$a(y,N,u);break;case 13:$a(y,N,u),u&&D&4&&B1(y,N);break;case 22:N.memoizedState===null&&$a(y,N,u),Cc(N,N.return);break;case 30:break;default:$a(y,N,u)}i=i.sibling}}function Lg(a,i){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&dc(u))}function $g(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&dc(a))}function _s(a,i,u,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y1(a,i,u,m),i=i.sibling}function Y1(a,i,u,m){var y=i.flags;switch(i.tag){case 0:case 11:case 15:_s(a,i,u,m),y&2048&&Sc(9,i);break;case 1:_s(a,i,u,m);break;case 3:_s(a,i,u,m),y&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&dc(a)));break;case 12:if(y&2048){_s(a,i,u,m),a=i.stateNode;try{var N=i.memoizedProps,D=N.id,P=N.onPostCommit;typeof P=="function"&&P(D,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Vt(i,i.return,G)}}else _s(a,i,u,m);break;case 13:_s(a,i,u,m);break;case 23:break;case 22:N=i.stateNode,D=i.alternate,i.memoizedState!==null?N._visibility&2?_s(a,i,u,m):Ec(a,i):N._visibility&2?_s(a,i,u,m):(N._visibility|=2,Mi(a,i,u,m,(i.subtreeFlags&10256)!==0)),y&2048&&Lg(D,i);break;case 24:_s(a,i,u,m),y&2048&&$g(i.alternate,i);break;default:_s(a,i,u,m)}}function Mi(a,i,u,m,y){for(y=y&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var N=a,D=i,P=u,G=m,ce=D.flags;switch(D.tag){case 0:case 11:case 15:Mi(N,D,P,G,y),Sc(8,D);break;case 23:break;case 22:var we=D.stateNode;D.memoizedState!==null?we._visibility&2?Mi(N,D,P,G,y):Ec(N,D):(we._visibility|=2,Mi(N,D,P,G,y)),y&&ce&2048&&Lg(D.alternate,D);break;case 24:Mi(N,D,P,G,y),y&&ce&2048&&$g(D.alternate,D);break;default:Mi(N,D,P,G,y)}i=i.sibling}}function Ec(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=a,m=i,y=m.flags;switch(m.tag){case 22:Ec(u,m),y&2048&&Lg(m.alternate,m);break;case 24:Ec(u,m),y&2048&&$g(m.alternate,m);break;default:Ec(u,m)}i=i.sibling}}var kc=8192;function Ti(a){if(a.subtreeFlags&kc)for(a=a.child;a!==null;)W1(a),a=a.sibling}function W1(a){switch(a.tag){case 26:Ti(a),a.flags&kc&&a.memoizedState!==null&&jT(Xr,a.memoizedState,a.memoizedProps);break;case 5:Ti(a);break;case 3:case 4:var i=Xr;Xr=mf(a.stateNode.containerInfo),Ti(a),Xr=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=kc,kc=16777216,Ti(a),kc=i):Ti(a));break;default:Ti(a)}}function G1(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Ac(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];Rn=m,K1(m,a)}G1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)X1(a),a=a.sibling}function X1(a){switch(a.tag){case 0:case 11:case 15:Ac(a),a.flags&2048&&Ia(9,a,a.return);break;case 3:Ac(a);break;case 12:Ac(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,ef(a)):Ac(a);break;default:Ac(a)}}function ef(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var m=i[u];Rn=m,K1(m,a)}G1(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),ef(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,ef(i));break;default:ef(i)}a=a.sibling}}function K1(a,i){for(;Rn!==null;){var u=Rn;switch(u.tag){case 0:case 11:case 15:Ia(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:dc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Rn=m;else e:for(u=a;Rn!==null;){m=Rn;var y=m.sibling,N=m.return;if(V1(m),m===u){Rn=null;break e}if(y!==null){y.return=N,Rn=y;break e}Rn=N}}}var $M={getCacheForType:function(a){var i=qn(jn),u=i.data.get(a);return u===void 0&&(u=a(),i.data.set(a,u)),u}},PM=typeof WeakMap=="function"?WeakMap:Map,Mt=0,qt=null,pt=null,jt=0,Tt=0,pr=null,Pa=!1,Ri=!1,Pg=!1,ca=0,ln=0,Ua=0,To=0,Ug=0,Lr=0,Di=0,Mc=null,or=null,Fg=!1,Vg=0,tf=1/0,nf=null,Fa=null,$n=0,Va=null,Oi=null,zi=0,Hg=0,Bg=null,Q1=null,Tc=0,qg=null;function gr(){if((Mt&2)!==0&&jt!==0)return jt&-jt;if(A.T!==null){var a=ji;return a!==0?a:Qg()}return hn()}function J1(){Lr===0&&(Lr=(jt&536870912)===0||Et?et():536870912);var a=Ir.current;return a!==null&&(a.flags|=32),Lr}function xr(a,i,u){(a===qt&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)&&(Ii(a,0),Ha(a,jt,Lr,!1)),We(a,u),((Mt&2)===0||a!==qt)&&(a===qt&&((Mt&2)===0&&(To|=u),ln===4&&Ha(a,jt,Lr,!1)),Ss(a))}function ej(a,i,u){if((Mt&6)!==0)throw Error(s(327));var m=!u&&(i&124)===0&&(i&a.expiredLanes)===0||Ie(a,i),y=m?VM(a,i):Wg(a,i,!0),N=m;do{if(y===0){Ri&&!m&&Ha(a,i,0,!1);break}else{if(u=a.current.alternate,N&&!UM(u)){y=Wg(a,i,!1),N=!1;continue}if(y===2){if(N=i,a.errorRecoveryDisabledLanes&N)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){i=D;e:{var P=a;y=Mc;var G=P.current.memoizedState.isDehydrated;if(G&&(Ii(P,D).flags|=256),D=Wg(P,D,!1),D!==2){if(Pg&&!G){P.errorRecoveryDisabledLanes|=N,To|=N,y=4;break e}N=or,or=y,N!==null&&(or===null?or=N:or.push.apply(or,N))}y=D}if(N=!1,y!==2)continue}}if(y===1){Ii(a,0),Ha(a,i,0,!0);break}e:{switch(m=a,N=y,N){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ha(m,i,Lr,!Pa);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(y=Vg+300-xt(),10<y)){if(Ha(m,i,Lr,!Pa),At(m,0,!0)!==0)break e;m.timeoutHandle=Aj(tj.bind(null,m,u,or,nf,Fg,i,Lr,To,Di,Pa,N,2,-0,0),y);break e}tj(m,u,or,nf,Fg,i,Lr,To,Di,Pa,N,0,-0,0)}}break}while(!0);Ss(a)}function tj(a,i,u,m,y,N,D,P,G,ce,we,_e,ue,fe){if(a.timeoutHandle=-1,_e=i.subtreeFlags,(_e&8192||(_e&16785408)===16785408)&&($c={stylesheets:null,count:0,unsuspend:wT},W1(i),_e=NT(),_e!==null)){a.cancelPendingCommit=_e(lj.bind(null,a,i,N,u,m,y,D,P,G,we,1,ue,fe)),Ha(a,N,D,!ce);return}lj(a,i,N,u,m,y,D,P,G)}function UM(a){for(var i=a;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],N=y.getSnapshot;y=y.value;try{if(!dr(N(),y))return!1}catch{return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ha(a,i,u,m){i&=~Ug,i&=~To,a.suspendedLanes|=i,a.pingedLanes&=~i,m&&(a.warmLanes|=i),m=a.expirationTimes;for(var y=i;0<y;){var N=31-ve(y),D=1<<N;m[N]=-1,y&=~D}u!==0&&wt(a,u,i)}function rf(){return(Mt&6)===0?(Rc(0),!1):!0}function Zg(){if(pt!==null){if(Tt===0)var a=pt.return;else a=pt,ta=So=null,cg(a),ki=null,jc=0,a=pt;for(;a!==null;)O1(a.alternate,a),a=a.return;pt=null}}function Ii(a,i){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,sT(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Zg(),qt=a,pt=u=Qs(a.current,null),jt=i,Tt=0,pr=null,Pa=!1,Ri=Ie(a,i),Pg=!1,Di=Lr=Ug=To=Ua=ln=0,or=Mc=null,Fg=!1,(i&8)!==0&&(i|=i&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=i;0<m;){var y=31-ve(m),N=1<<y;i|=a[y],m&=~N}return ca=i,Sd(),u}function nj(a,i){dt=null,A.H=Bd,i===mc||i===Od?(i=yw(),Tt=3):i===gw?(i=yw(),Tt=4):Tt=i===b1?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pr=i,pt===null&&(ln=1,Gd(a,Rr(i,a.current)))}function rj(){var a=A.H;return A.H=Bd,a===null?Bd:a}function sj(){var a=A.A;return A.A=$M,a}function Yg(){ln=4,Pa||(jt&4194048)!==jt&&Ir.current!==null||(Ri=!0),(Ua&134217727)===0&&(To&134217727)===0||qt===null||Ha(qt,jt,Lr,!1)}function Wg(a,i,u){var m=Mt;Mt|=2;var y=rj(),N=sj();(qt!==a||jt!==i)&&(nf=null,Ii(a,i)),i=!1;var D=ln;e:do try{if(Tt!==0&&pt!==null){var P=pt,G=pr;switch(Tt){case 8:Zg(),D=6;break e;case 3:case 2:case 9:case 6:Ir.current===null&&(i=!0);var ce=Tt;if(Tt=0,pr=null,Li(a,P,G,ce),u&&Ri){D=0;break e}break;default:ce=Tt,Tt=0,pr=null,Li(a,P,G,ce)}}FM(),D=ln;break}catch(we){nj(a,we)}while(!0);return i&&a.shellSuspendCounter++,ta=So=null,Mt=m,A.H=y,A.A=N,pt===null&&(qt=null,jt=0,Sd()),D}function FM(){for(;pt!==null;)aj(pt)}function VM(a,i){var u=Mt;Mt|=2;var m=rj(),y=sj();qt!==a||jt!==i?(nf=null,tf=xt()+500,Ii(a,i)):Ri=Ie(a,i);e:do try{if(Tt!==0&&pt!==null){i=pt;var N=pr;t:switch(Tt){case 1:Tt=0,pr=null,Li(a,i,N,1);break;case 2:case 9:if(xw(N)){Tt=0,pr=null,oj(i);break}i=function(){Tt!==2&&Tt!==9||qt!==a||(Tt=7),Ss(a)},N.then(i,i);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:xw(N)?(Tt=0,pr=null,oj(i)):(Tt=0,pr=null,Li(a,i,N,7));break;case 5:var D=null;switch(pt.tag){case 26:D=pt.memoizedState;case 5:case 27:var P=pt;if(!D||Fj(D)){Tt=0,pr=null;var G=P.sibling;if(G!==null)pt=G;else{var ce=P.return;ce!==null?(pt=ce,sf(ce)):pt=null}break t}}Tt=0,pr=null,Li(a,i,N,5);break;case 6:Tt=0,pr=null,Li(a,i,N,6);break;case 8:Zg(),ln=6;break e;default:throw Error(s(462))}}HM();break}catch(we){nj(a,we)}while(!0);return ta=So=null,A.H=m,A.A=y,Mt=u,pt!==null?0:(qt=null,jt=0,Sd(),ln)}function HM(){for(;pt!==null&&!Pe();)aj(pt)}function aj(a){var i=R1(a.alternate,a,ca);a.memoizedProps=a.pendingProps,i===null?sf(a):pt=i}function oj(a){var i=a,u=i.alternate;switch(i.tag){case 15:case 0:i=C1(u,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=C1(u,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:cg(i);default:O1(u,i),i=pt=iw(i,ca),i=R1(u,i,ca)}a.memoizedProps=a.pendingProps,i===null?sf(a):pt=i}function Li(a,i,u,m){ta=So=null,cg(i),ki=null,jc=0;var y=i.return;try{if(RM(a,y,i,u,jt)){ln=1,Gd(a,Rr(u,a.current)),pt=null;return}}catch(N){if(y!==null)throw pt=y,N;ln=1,Gd(a,Rr(u,a.current)),pt=null;return}i.flags&32768?(Et||m===1?a=!0:Ri||(jt&536870912)!==0?a=!1:(Pa=a=!0,(m===2||m===9||m===3||m===6)&&(m=Ir.current,m!==null&&m.tag===13&&(m.flags|=16384))),ij(i,a)):sf(i)}function sf(a){var i=a;do{if((i.flags&32768)!==0){ij(i,Pa);return}a=i.return;var u=OM(i.alternate,i,ca);if(u!==null){pt=u;return}if(i=i.sibling,i!==null){pt=i;return}pt=i=a}while(i!==null);ln===0&&(ln=5)}function ij(a,i){do{var u=zM(a.alternate,a);if(u!==null){u.flags&=32767,pt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(a=a.sibling,a!==null)){pt=a;return}pt=a=u}while(a!==null);ln=6,pt=null}function lj(a,i,u,m,y,N,D,P,G){a.cancelPendingCommit=null;do af();while($n!==0);if((Mt&6)!==0)throw Error(s(327));if(i!==null){if(i===a.current)throw Error(s(177));if(N=i.lanes|i.childLanes,N|=$p,vt(a,u,N,D,P,G),a===qt&&(pt=qt=null,jt=0),Oi=i,Va=a,zi=u,Hg=N,Bg=y,Q1=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,YM(se,function(){return mj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=A.T,A.T=null,y=L.p,L.p=2,D=Mt,Mt|=4;try{IM(a,i,u)}finally{Mt=D,L.p=y,A.T=m}}$n=1,cj(),uj(),dj()}}function cj(){if($n===1){$n=0;var a=Va,i=Oi,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=A.T,A.T=null;var m=L.p;L.p=2;var y=Mt;Mt|=4;try{q1(i,a);var N=ox,D=Kb(a.containerInfo),P=N.focusedElem,G=N.selectionRange;if(D!==P&&P&&P.ownerDocument&&Xb(P.ownerDocument.documentElement,P)){if(G!==null&&Dp(P)){var ce=G.start,we=G.end;if(we===void 0&&(we=ce),"selectionStart"in P)P.selectionStart=ce,P.selectionEnd=Math.min(we,P.value.length);else{var _e=P.ownerDocument||document,ue=_e&&_e.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),tt=P.textContent.length,Ke=Math.min(G.start,tt),$t=G.end===void 0?Ke:Math.min(G.end,tt);!fe.extend&&Ke>$t&&(D=$t,$t=Ke,Ke=D);var re=Gb(P,Ke),ee=Gb(P,$t);if(re&&ee&&(fe.rangeCount!==1||fe.anchorNode!==re.node||fe.anchorOffset!==re.offset||fe.focusNode!==ee.node||fe.focusOffset!==ee.offset)){var le=_e.createRange();le.setStart(re.node,re.offset),fe.removeAllRanges(),Ke>$t?(fe.addRange(le),fe.extend(ee.node,ee.offset)):(le.setEnd(ee.node,ee.offset),fe.addRange(le))}}}}for(_e=[],fe=P;fe=fe.parentNode;)fe.nodeType===1&&_e.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<_e.length;P++){var je=_e[P];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}vf=!!ax,ox=ax=null}finally{Mt=y,L.p=m,A.T=u}}a.current=i,$n=2}}function uj(){if($n===2){$n=0;var a=Va,i=Oi,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=A.T,A.T=null;var m=L.p;L.p=2;var y=Mt;Mt|=4;try{F1(a,i.alternate,i)}finally{Mt=y,L.p=m,A.T=u}}$n=3}}function dj(){if($n===4||$n===3){$n=0,at();var a=Va,i=Oi,u=zi,m=Q1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$n=5:($n=0,Oi=Va=null,fj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Fa=null),Bt(u),i=i.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(m!==null){i=A.T,y=L.p,L.p=2,A.T=null;try{for(var N=a.onRecoverableError,D=0;D<m.length;D++){var P=m[D];N(P.value,{componentStack:P.stack})}}finally{A.T=i,L.p=y}}(zi&3)!==0&&af(),Ss(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===qg?Tc++:(Tc=0,qg=a):Tc=0,Rc(0)}}function fj(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,dc(i)))}function af(a){return cj(),uj(),dj(),mj()}function mj(){if($n!==5)return!1;var a=Va,i=Hg;Hg=0;var u=Bt(zi),m=A.T,y=L.p;try{L.p=32>u?32:u,A.T=null,u=Bg,Bg=null;var N=Va,D=zi;if($n=0,Oi=Va=null,zi=0,(Mt&6)!==0)throw Error(s(331));var P=Mt;if(Mt|=4,X1(N.current),Y1(N,N.current,D,u),Mt=P,Rc(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(oe,N)}catch{}return!0}finally{L.p=y,A.T=m,fj(a,i)}}function hj(a,i,u){i=Rr(u,i),i=Ng(a.stateNode,i,2),a=Ra(a,i,2),a!==null&&(We(a,2),Ss(a))}function Vt(a,i,u){if(a.tag===3)hj(a,a,u);else for(;i!==null;){if(i.tag===3){hj(i,a,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Fa===null||!Fa.has(m))){a=Rr(u,a),u=v1(2),m=Ra(i,u,2),m!==null&&(y1(u,m,i,a),We(m,2),Ss(m));break}}i=i.return}}function Gg(a,i,u){var m=a.pingCache;if(m===null){m=a.pingCache=new PM;var y=new Set;m.set(i,y)}else y=m.get(i),y===void 0&&(y=new Set,m.set(i,y));y.has(u)||(Pg=!0,y.add(u),a=BM.bind(null,a,i,u),i.then(a,a))}function BM(a,i,u){var m=a.pingCache;m!==null&&m.delete(i),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,qt===a&&(jt&u)===u&&(ln===4||ln===3&&(jt&62914560)===jt&&300>xt()-Vg?(Mt&2)===0&&Ii(a,0):Ug|=u,Di===jt&&(Di=0)),Ss(a)}function pj(a,i){i===0&&(i=Ye()),a=vi(a,i),a!==null&&(We(a,i),Ss(a))}function qM(a){var i=a.memoizedState,u=0;i!==null&&(u=i.retryLane),pj(a,u)}function ZM(a,i){var u=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(s(314))}m!==null&&m.delete(i),pj(a,u)}function YM(a,i){return Ne(a,i)}var of=null,$i=null,Xg=!1,lf=!1,Kg=!1,Ro=0;function Ss(a){a!==$i&&a.next===null&&($i===null?of=$i=a:$i=$i.next=a),lf=!0,Xg||(Xg=!0,GM())}function Rc(a,i){if(!Kg&&lf){Kg=!0;do for(var u=!1,m=of;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var N=0;else{var D=m.suspendedLanes,P=m.pingedLanes;N=(1<<31-ve(42|a)+1)-1,N&=y&~(D&~P),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,yj(m,N))}else N=jt,N=At(m,m===qt?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||Ie(m,N)||(u=!0,yj(m,N));m=m.next}while(u);Kg=!1}}function WM(){gj()}function gj(){lf=Xg=!1;var a=0;Ro!==0&&(rT()&&(a=Ro),Ro=0);for(var i=xt(),u=null,m=of;m!==null;){var y=m.next,N=xj(m,i);N===0?(m.next=null,u===null?of=y:u.next=y,y===null&&($i=u)):(u=m,(a!==0||(N&3)!==0)&&(lf=!0)),m=y}Rc(a)}function xj(a,i){for(var u=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var D=31-ve(N),P=1<<D,G=y[D];G===-1?((P&u)===0||(P&m)!==0)&&(y[D]=Ot(P,i)):G<=i&&(a.expiredLanes|=P),N&=~P}if(i=qt,u=jt,u=At(a,a===i?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===i&&(Tt===2||Tt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Re(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ie(a,u)){if(i=u&-u,i===a.callbackPriority)return i;switch(m!==null&&Re(m),Bt(u)){case 2:case 8:u=W;break;case 32:u=se;break;case 268435456:u=Me;break;default:u=se}return m=vj.bind(null,a),u=Ne(u,m),a.callbackPriority=i,a.callbackNode=u,i}return m!==null&&m!==null&&Re(m),a.callbackPriority=2,a.callbackNode=null,2}function vj(a,i){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(af()&&a.callbackNode!==u)return null;var m=jt;return m=At(a,a===qt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(ej(a,m,i),xj(a,xt()),a.callbackNode!=null&&a.callbackNode===u?vj.bind(null,a):null)}function yj(a,i){if(af())return null;ej(a,i,!0)}function GM(){aT(function(){(Mt&6)!==0?Ne(wn,WM):gj()})}function Qg(){return Ro===0&&(Ro=et()),Ro}function bj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:vd(""+a)}function wj(a,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,a.id&&u.setAttribute("form",a.id),i.parentNode.insertBefore(u,i),a=new FormData(a),u.parentNode.removeChild(u),a}function XM(a,i,u,m,y){if(i==="submit"&&u&&u.stateNode===y){var N=bj((y[Ft]||null).action),D=m.submitter;D&&(i=(i=D[Ft]||null)?bj(i.formAction):D.getAttribute("formAction"),i!==null&&(N=i,D=null));var P=new jd("action","action",null,m,y);a.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ro!==0){var G=D?wj(y,D):new FormData(y);vg(u,{pending:!0,data:G,method:y.method,action:N},null,G)}}else typeof N=="function"&&(P.preventDefault(),G=D?wj(y,D):new FormData(y),vg(u,{pending:!0,data:G,method:y.method,action:N},N,G))},currentTarget:y}]})}}for(var Jg=0;Jg<Lp.length;Jg++){var ex=Lp[Jg],KM=ex.toLowerCase(),QM=ex[0].toUpperCase()+ex.slice(1);Gr(KM,"on"+QM)}Gr(ew,"onAnimationEnd"),Gr(tw,"onAnimationIteration"),Gr(nw,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(pM,"onTransitionRun"),Gr(gM,"onTransitionStart"),Gr(xM,"onTransitionCancel"),Gr(rw,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function jj(a,i){i=(i&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],y=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var D=m.length-1;0<=D;D--){var P=m[D],G=P.instance,ce=P.currentTarget;if(P=P.listener,G!==N&&y.isPropagationStopped())break e;N=P,y.currentTarget=ce;try{N(y)}catch(we){Wd(we)}y.currentTarget=null,N=G}else for(D=0;D<m.length;D++){if(P=m[D],G=P.instance,ce=P.currentTarget,P=P.listener,G!==N&&y.isPropagationStopped())break e;N=P,y.currentTarget=ce;try{N(y)}catch(we){Wd(we)}y.currentTarget=null,N=G}}}}function gt(a,i){var u=i[Zr];u===void 0&&(u=i[Zr]=new Set);var m=a+"__bubble";u.has(m)||(Nj(i,a,2,!1),u.add(m))}function tx(a,i,u){var m=0;i&&(m|=4),Nj(u,a,m,i)}var cf="_reactListening"+Math.random().toString(36).slice(2);function nx(a){if(!a[cf]){a[cf]=!0,dd.forEach(function(u){u!=="selectionchange"&&(JM.has(u)||tx(u,!1,a),tx(u,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[cf]||(i[cf]=!0,tx("selectionchange",!1,i))}}function Nj(a,i,u,m){switch(Yj(i)){case 2:var y=CT;break;case 8:y=ET;break;default:y=gx}u=y.bind(null,i,u,a),y=void 0,!_p||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(i,u,{capture:!0,passive:y}):a.addEventListener(i,u,!0):y!==void 0?a.addEventListener(i,u,{passive:y}):a.addEventListener(i,u,!1)}function rx(a,i,u,m,y){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var P=m.stateNode.containerInfo;if(P===y)break;if(D===4)for(D=m.return;D!==null;){var G=D.tag;if((G===3||G===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;P!==null;){if(D=Sa(P),D===null)return;if(G=D.tag,G===5||G===6||G===26||G===27){m=N=D;continue e}P=P.parentNode}}m=m.return}Mb(function(){var ce=N,we=jp(u),_e=[];e:{var ue=sw.get(a);if(ue!==void 0){var fe=jd,tt=a;switch(a){case"keypress":if(bd(u)===0)break e;case"keydown":case"keyup":fe=Y5;break;case"focusin":tt="focus",fe=kp;break;case"focusout":tt="blur",fe=kp;break;case"beforeblur":case"afterblur":fe=kp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=X5;break;case ew:case tw:case nw:fe=$5;break;case rw:fe=Q5;break;case"scroll":case"scrollend":fe=D5;break;case"wheel":fe=eM;break;case"copy":case"cut":case"paste":fe=U5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=zb;break;case"toggle":case"beforetoggle":fe=nM}var Ke=(i&4)!==0,$t=!Ke&&(a==="scroll"||a==="scrollend"),re=Ke?ue!==null?ue+"Capture":null:ue;Ke=[];for(var ee=ce,le;ee!==null;){var je=ee;if(le=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||le===null||re===null||(je=Ql(ee,re),je!=null&&Ke.push(Oc(ee,je,le))),$t)break;ee=ee.return}0<Ke.length&&(ue=new fe(ue,tt,null,u,we),_e.push({event:ue,listeners:Ke}))}}if((i&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",ue&&u!==wp&&(tt=u.relatedTarget||u.fromElement)&&(Sa(tt)||tt[Mn]))break e;if((fe||ue)&&(ue=we.window===we?we:(ue=we.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(tt=u.relatedTarget||u.toElement,fe=ce,tt=tt?Sa(tt):null,tt!==null&&($t=l(tt),Ke=tt.tag,tt!==$t||Ke!==5&&Ke!==27&&Ke!==6)&&(tt=null)):(fe=null,tt=ce),fe!==tt)){if(Ke=Db,je="onMouseLeave",re="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=zb,je="onPointerLeave",re="onPointerEnter",ee="pointer"),$t=fe==null?ue:Ca(fe),le=tt==null?ue:Ca(tt),ue=new Ke(je,ee+"leave",fe,u,we),ue.target=$t,ue.relatedTarget=le,je=null,Sa(we)===ce&&(Ke=new Ke(re,ee+"enter",tt,u,we),Ke.target=le,Ke.relatedTarget=$t,je=Ke),$t=je,fe&&tt)t:{for(Ke=fe,re=tt,ee=0,le=Ke;le;le=Pi(le))ee++;for(le=0,je=re;je;je=Pi(je))le++;for(;0<ee-le;)Ke=Pi(Ke),ee--;for(;0<le-ee;)re=Pi(re),le--;for(;ee--;){if(Ke===re||re!==null&&Ke===re.alternate)break t;Ke=Pi(Ke),re=Pi(re)}Ke=null}else Ke=null;fe!==null&&_j(_e,ue,fe,Ke,!1),tt!==null&&$t!==null&&_j(_e,$t,tt,Ke,!0)}}e:{if(ue=ce?Ca(ce):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var Ue=Hb;else if(Fb(ue))if(Bb)Ue=fM;else{Ue=uM;var ht=cM}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ce&&bp(ce.elementType)&&(Ue=Hb):Ue=dM;if(Ue&&(Ue=Ue(a,ce))){Vb(_e,Ue,u,we);break e}ht&&ht(a,ue,ce),a==="focusout"&&ce&&ue.type==="number"&&ce.memoizedProps.value!=null&&Kl(ue,"number",ue.value)}switch(ht=ce?Ca(ce):window,a){case"focusin":(Fb(ht)||ht.contentEditable==="true")&&(pi=ht,Op=ce,oc=null);break;case"focusout":oc=Op=pi=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,Qb(_e,u,we);break;case"selectionchange":if(hM)break;case"keydown":case"keyup":Qb(_e,u,we)}var Ze;if(Mp)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else hi?Pb(a,u)&&(Je="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(Ib&&u.locale!=="ko"&&(hi||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&hi&&(Ze=Tb()):(ka=we,Sp="value"in ka?ka.value:ka.textContent,hi=!0)),ht=uf(ce,Je),0<ht.length&&(Je=new Ob(Je,a,null,u,we),_e.push({event:Je,listeners:ht}),Ze?Je.data=Ze:(Ze=Ub(u),Ze!==null&&(Je.data=Ze)))),(Ze=sM?aM(a,u):oM(a,u))&&(Je=uf(ce,"onBeforeInput"),0<Je.length&&(ht=new Ob("onBeforeInput","beforeinput",null,u,we),_e.push({event:ht,listeners:Je}),ht.data=Ze)),XM(_e,a,ce,u,we)}jj(_e,i)})}function Oc(a,i,u){return{instance:a,listener:i,currentTarget:u}}function uf(a,i){for(var u=i+"Capture",m=[];a!==null;){var y=a,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=Ql(a,u),y!=null&&m.unshift(Oc(a,y,N)),y=Ql(a,i),y!=null&&m.push(Oc(a,y,N))),a.tag===3)return m;a=a.return}return[]}function Pi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _j(a,i,u,m,y){for(var N=i._reactName,D=[];u!==null&&u!==m;){var P=u,G=P.alternate,ce=P.stateNode;if(P=P.tag,G!==null&&G===m)break;P!==5&&P!==26&&P!==27||ce===null||(G=ce,y?(ce=Ql(u,N),ce!=null&&D.unshift(Oc(u,ce,G))):y||(ce=Ql(u,N),ce!=null&&D.push(Oc(u,ce,G)))),u=u.return}D.length!==0&&a.push({event:i,listeners:D})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function Sj(a){return(typeof a=="string"?a:""+a).replace(eT,`
`).replace(tT,"")}function Cj(a,i){return i=Sj(i),Sj(a)===i}function df(){}function Lt(a,i,u,m,y,N){switch(u){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||di(a,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&di(a,""+m);break;case"className":li(a,"class",m);break;case"tabIndex":li(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":li(a,u,m);break;case"style":kb(a,m,N);break;case"data":if(i!=="object"){li(a,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=vd(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(i!=="input"&&Lt(a,i,"name",y.name,y,null),Lt(a,i,"formEncType",y.formEncType,y,null),Lt(a,i,"formMethod",y.formMethod,y,null),Lt(a,i,"formTarget",y.formTarget,y,null)):(Lt(a,i,"encType",y.encType,y,null),Lt(a,i,"method",y.method,y,null),Lt(a,i,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=vd(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=df);break;case"onScroll":m!=null&&gt("scroll",a);break;case"onScrollEnd":m!=null&&gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(s(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=vd(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":gt("beforetoggle",a),gt("toggle",a),ii(a,"popover",m);break;case"xlinkActuate":Wr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Wr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Wr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Wr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Wr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Wr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Wr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ii(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=T5.get(u)||u,ii(a,u,m))}}function sx(a,i,u,m,y,N){switch(u){case"style":kb(a,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(s(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(s(60));a.innerHTML=u}}break;case"children":typeof m=="string"?di(a,m):(typeof m=="number"||typeof m=="bigint")&&di(a,""+m);break;case"onScroll":m!=null&&gt("scroll",a);break;case"onScrollEnd":m!=null&&gt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),i=u.slice(2,y?u.length-7:void 0),N=a[Ft]||null,N=N!=null?N[u]:null,typeof N=="function"&&a.removeEventListener(i,N,y),typeof m=="function")){typeof N!="function"&&N!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(i,m,y);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):ii(a,u,m)}}}function Pn(a,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",a),gt("load",a);var m=!1,y=!1,N;for(N in u)if(u.hasOwnProperty(N)){var D=u[N];if(D!=null)switch(N){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Lt(a,i,N,D,u,null)}}y&&Lt(a,i,"srcSet",u.srcSet,u,null),m&&Lt(a,i,"src",u.src,u,null);return;case"input":gt("invalid",a);var P=N=D=y=null,G=null,ce=null;for(m in u)if(u.hasOwnProperty(m)){var we=u[m];if(we!=null)switch(m){case"name":y=we;break;case"type":D=we;break;case"checked":G=we;break;case"defaultChecked":ce=we;break;case"value":N=we;break;case"defaultValue":P=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,i));break;default:Lt(a,i,m,we,u,null)}}xd(a,N,P,G,ce,D,y,!1),ci(a);return;case"select":gt("invalid",a),m=D=N=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":N=P;break;case"defaultValue":D=P;break;case"multiple":m=P;default:Lt(a,i,y,P,u,null)}i=N,u=D,a.multiple=!!m,i!=null?Xs(a,!!m,i,!1):u!=null&&Xs(a,!!m,u,!0);return;case"textarea":gt("invalid",a),N=y=m=null;for(D in u)if(u.hasOwnProperty(D)&&(P=u[D],P!=null))switch(D){case"value":m=P;break;case"defaultValue":y=P;break;case"children":N=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:Lt(a,i,D,P,u,null)}Cb(a,m,y,N),ci(a);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Lt(a,i,G,m,u,null)}return;case"dialog":gt("beforetoggle",a),gt("toggle",a),gt("cancel",a),gt("close",a);break;case"iframe":case"object":gt("load",a);break;case"video":case"audio":for(m=0;m<Dc.length;m++)gt(Dc[m],a);break;case"image":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"embed":case"source":case"link":gt("error",a),gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(m=u[ce],m!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Lt(a,i,ce,m,u,null)}return;default:if(bp(i)){for(we in u)u.hasOwnProperty(we)&&(m=u[we],m!==void 0&&sx(a,i,we,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&Lt(a,i,P,m,u,null))}function nT(a,i,u,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,D=null,P=null,G=null,ce=null,we=null;for(fe in u){var _e=u[fe];if(u.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=_e;default:m.hasOwnProperty(fe)||Lt(a,i,fe,null,m,_e)}}for(var ue in m){var fe=m[ue];if(_e=u[ue],m.hasOwnProperty(ue)&&(fe!=null||_e!=null))switch(ue){case"type":N=fe;break;case"name":y=fe;break;case"checked":ce=fe;break;case"defaultChecked":we=fe;break;case"value":D=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,i));break;default:fe!==_e&&Lt(a,i,ue,fe,m,_e)}}go(a,D,P,G,ce,we,N,y);return;case"select":fe=D=P=ue=null;for(N in u)if(G=u[N],u.hasOwnProperty(N)&&G!=null)switch(N){case"value":break;case"multiple":fe=G;default:m.hasOwnProperty(N)||Lt(a,i,N,null,m,G)}for(y in m)if(N=m[y],G=u[y],m.hasOwnProperty(y)&&(N!=null||G!=null))switch(y){case"value":ue=N;break;case"defaultValue":P=N;break;case"multiple":D=N;default:N!==G&&Lt(a,i,y,N,m,G)}i=P,u=D,m=fe,ue!=null?Xs(a,!!u,ue,!1):!!m!=!!u&&(i!=null?Xs(a,!!u,i,!0):Xs(a,!!u,u?[]:"",!1));return;case"textarea":fe=ue=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Lt(a,i,P,null,m,y)}for(D in m)if(y=m[D],N=u[D],m.hasOwnProperty(D)&&(y!=null||N!=null))switch(D){case"value":ue=y;break;case"defaultValue":fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==N&&Lt(a,i,D,y,m,N)}Sb(a,ue,fe);return;case"option":for(var tt in u)if(ue=u[tt],u.hasOwnProperty(tt)&&ue!=null&&!m.hasOwnProperty(tt))switch(tt){case"selected":a.selected=!1;break;default:Lt(a,i,tt,null,m,ue)}for(G in m)if(ue=m[G],fe=u[G],m.hasOwnProperty(G)&&ue!==fe&&(ue!=null||fe!=null))switch(G){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Lt(a,i,G,ue,m,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ue=u[Ke],u.hasOwnProperty(Ke)&&ue!=null&&!m.hasOwnProperty(Ke)&&Lt(a,i,Ke,null,m,ue);for(ce in m)if(ue=m[ce],fe=u[ce],m.hasOwnProperty(ce)&&ue!==fe&&(ue!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,i));break;default:Lt(a,i,ce,ue,m,fe)}return;default:if(bp(i)){for(var $t in u)ue=u[$t],u.hasOwnProperty($t)&&ue!==void 0&&!m.hasOwnProperty($t)&&sx(a,i,$t,void 0,m,ue);for(we in m)ue=m[we],fe=u[we],!m.hasOwnProperty(we)||ue===fe||ue===void 0&&fe===void 0||sx(a,i,we,ue,m,fe);return}}for(var re in u)ue=u[re],u.hasOwnProperty(re)&&ue!=null&&!m.hasOwnProperty(re)&&Lt(a,i,re,null,m,ue);for(_e in m)ue=m[_e],fe=u[_e],!m.hasOwnProperty(_e)||ue===fe||ue==null&&fe==null||Lt(a,i,_e,ue,m,fe)}var ax=null,ox=null;function ff(a){return a.nodeType===9?a:a.ownerDocument}function Ej(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kj(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function ix(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lx=null;function rT(){var a=window.event;return a&&a.type==="popstate"?a===lx?!1:(lx=a,!0):(lx=null,!1)}var Aj=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,Mj=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mj<"u"?function(a){return Mj.resolve(null).then(a).catch(oT)}:Aj;function oT(a){setTimeout(function(){throw a})}function Ba(a){return a==="head"}function Tj(a,i){var u=i,m=0,y=0;do{var N=u.nextSibling;if(a.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<m&&8>m){u=m;var D=a.ownerDocument;if(u&1&&zc(D.documentElement),u&2&&zc(D.body),u&4)for(u=D.head,zc(u),D=u.firstChild;D;){var P=D.nextSibling,G=D.nodeName;D[Yr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||u.removeChild(D),D=P}}if(y===0){a.removeChild(N),Hc(i);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=N}while(u);Hc(i)}function cx(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cx(u),ql(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function iT(a,i,u,m){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Yr])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=Kr(a.nextSibling),a===null)break}return null}function lT(a,i,u){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Kr(a.nextSibling),a===null))return null;return a}function ux(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cT(a,i){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")i();else{var m=function(){i(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Kr(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var dx=null;function Rj(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return a;i--}else u==="/$"&&i++}a=a.previousSibling}return null}function Dj(a,i,u){switch(i=ff(u),a){case"html":if(a=i.documentElement,!a)throw Error(s(452));return a;case"head":if(a=i.head,!a)throw Error(s(453));return a;case"body":if(a=i.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function zc(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ql(a)}var $r=new Map,Oj=new Set;function mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ua=L.d;L.d={f:uT,r:dT,D:fT,C:mT,L:hT,m:pT,X:xT,S:gT,M:vT};function uT(){var a=ua.f(),i=rf();return a||i}function dT(a){var i=Zs(a);i!==null&&i.tag===5&&i.type==="form"?e1(i):ua.r(a)}var Ui=typeof document>"u"?null:document;function zj(a,i,u){var m=Ui;if(m&&typeof i=="string"&&i){var y=nr(i);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Oj.has(y)||(Oj.add(y),a={rel:a,crossOrigin:u,href:i},m.querySelector(y)===null&&(i=m.createElement("link"),Pn(i,"link",a),pn(i),m.head.appendChild(i)))}}function fT(a){ua.D(a),zj("dns-prefetch",a,null)}function mT(a,i){ua.C(a,i),zj("preconnect",a,i)}function hT(a,i,u){ua.L(a,i,u);var m=Ui;if(m&&a&&i){var y='link[rel="preload"][as="'+nr(i)+'"]';i==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+nr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+nr(u.imageSizes)+'"]')):y+='[href="'+nr(a)+'"]';var N=y;switch(i){case"style":N=Fi(a);break;case"script":N=Vi(a)}$r.has(N)||(a=p({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:a,as:i},u),$r.set(N,a),m.querySelector(y)!==null||i==="style"&&m.querySelector(Ic(N))||i==="script"&&m.querySelector(Lc(N))||(i=m.createElement("link"),Pn(i,"link",a),pn(i),m.head.appendChild(i)))}}function pT(a,i){ua.m(a,i);var u=Ui;if(u&&a){var m=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+nr(m)+'"][href="'+nr(a)+'"]',N=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Vi(a)}if(!$r.has(N)&&(a=p({rel:"modulepreload",href:a},i),$r.set(N,a),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Lc(N)))return}m=u.createElement("link"),Pn(m,"link",a),pn(m),u.head.appendChild(m)}}}function gT(a,i,u){ua.S(a,i,u);var m=Ui;if(m&&a){var y=Ys(m).hoistableStyles,N=Fi(a);i=i||"default";var D=y.get(N);if(!D){var P={loading:0,preload:null};if(D=m.querySelector(Ic(N)))P.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":i},u),(u=$r.get(N))&&fx(a,u);var G=D=m.createElement("link");pn(G),Pn(G,"link",a),G._p=new Promise(function(ce,we){G.onload=ce,G.onerror=we}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,hf(D,i,m)}D={type:"stylesheet",instance:D,count:1,state:P},y.set(N,D)}}}function xT(a,i){ua.X(a,i);var u=Ui;if(u&&a){var m=Ys(u).hoistableScripts,y=Vi(a),N=m.get(y);N||(N=u.querySelector(Lc(y)),N||(a=p({src:a,async:!0},i),(i=$r.get(y))&&mx(a,i),N=u.createElement("script"),pn(N),Pn(N,"link",a),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(y,N))}}function vT(a,i){ua.M(a,i);var u=Ui;if(u&&a){var m=Ys(u).hoistableScripts,y=Vi(a),N=m.get(y);N||(N=u.querySelector(Lc(y)),N||(a=p({src:a,async:!0,type:"module"},i),(i=$r.get(y))&&mx(a,i),N=u.createElement("script"),pn(N),Pn(N,"link",a),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(y,N))}}function Ij(a,i,u,m){var y=(y=ye.current)?mf(y):null;if(!y)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=Fi(u.href),u=Ys(y).hoistableStyles,m=u.get(i),m||(m={type:"style",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Fi(u.href);var N=Ys(y).hoistableStyles,D=N.get(a);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,D),(N=y.querySelector(Ic(a)))&&!N._p&&(D.instance=N,D.state.loading=5),$r.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},$r.set(a,u),N||yT(y,a,u,D.state))),i&&m===null)throw Error(s(528,""));return D}if(i&&m!==null)throw Error(s(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vi(u),u=Ys(y).hoistableScripts,m=u.get(i),m||(m={type:"script",instance:null,count:0,state:null},u.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function Fi(a){return'href="'+nr(a)+'"'}function Ic(a){return'link[rel="stylesheet"]['+a+"]"}function Lj(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function yT(a,i,u,m){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=a.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),Pn(i,"link",u),pn(i),a.head.appendChild(i))}function Vi(a){return'[src="'+nr(a)+'"]'}function Lc(a){return"script[async]"+a}function $j(a,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var m=a.querySelector('style[data-href~="'+nr(u.href)+'"]');if(m)return i.instance=m,pn(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),pn(m),Pn(m,"style",y),hf(m,u.precedence,a),i.instance=m;case"stylesheet":y=Fi(u.href);var N=a.querySelector(Ic(y));if(N)return i.state.loading|=4,i.instance=N,pn(N),N;m=Lj(u),(y=$r.get(y))&&fx(m,y),N=(a.ownerDocument||a).createElement("link"),pn(N);var D=N;return D._p=new Promise(function(P,G){D.onload=P,D.onerror=G}),Pn(N,"link",m),i.state.loading|=4,hf(N,u.precedence,a),i.instance=N;case"script":return N=Vi(u.src),(y=a.querySelector(Lc(N)))?(i.instance=y,pn(y),y):(m=u,(y=$r.get(N))&&(m=p({},u),mx(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),pn(y),Pn(y,"link",m),a.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,hf(m,u.precedence,a));return i.instance}function hf(a,i,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,N=y,D=0;D<m.length;D++){var P=m[D];if(P.dataset.precedence===i)N=P;else if(N!==y)break}N?N.parentNode.insertBefore(a,N.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(a,i.firstChild))}function fx(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function mx(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var pf=null;function Pj(a,i,u){if(pf===null){var m=new Map,y=pf=new Map;y.set(u,m)}else y=pf,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var N=u[y];if(!(N[Yr]||N[Ut]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(i)||"";D=a+D;var P=m.get(D);P?P.push(N):m.set(D,[N])}}return m}function Uj(a,i,u){a=a.ownerDocument||a,a.head.insertBefore(u,i==="title"?a.querySelector("head > title"):null)}function bT(a,i,u){if(u===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var $c=null;function wT(){}function jT(a,i,u){if($c===null)throw Error(s(475));var m=$c;if(i.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var y=Fi(u.href),N=a.querySelector(Ic(y));if(N){a=N._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=gf.bind(m),a.then(m,m)),i.state.loading|=4,i.instance=N,pn(N);return}N=a.ownerDocument||a,u=Lj(u),(y=$r.get(y))&&fx(u,y),N=N.createElement("link"),pn(N);var D=N;D._p=new Promise(function(P,G){D.onload=P,D.onerror=G}),Pn(N,"link",u),i.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=gf.bind(m),a.addEventListener("load",i),a.addEventListener("error",i))}}function NT(){if($c===null)throw Error(s(475));var a=$c;return a.stylesheets&&a.count===0&&hx(a,a.stylesheets),0<a.count?function(i){var u=setTimeout(function(){if(a.stylesheets&&hx(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(u)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)hx(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var xf=null;function hx(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,xf=new Map,i.forEach(_T,a),xf=null,gf.call(a))}function _T(a,i){if(!(i.state.loading&4)){var u=xf.get(a);if(u)var m=u.get(null);else{u=new Map,xf.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var D=y[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),m=D)}m&&u.set(null,m)}y=i.instance,D=y.getAttribute("data-precedence"),N=u.get(D)||m,N===m&&u.set(null,y),u.set(D,y),this.count++,m=gf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),N?N.parentNode.insertBefore(y,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),i.state.loading|=4}}var Pc={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function ST(a,i,u,m,y,N,D,P){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Vj(a,i,u,m,y,N,D,P,G,ce,we,_e){return a=new ST(a,i,u,D,P,G,ce,_e),i=1,N===!0&&(i|=24),N=fr(3,null,null,i),a.current=N,N.stateNode=a,i=Gp(),i.refCount++,a.pooledCache=i,i.refCount++,N.memoizedState={element:m,isDehydrated:u,cache:i},Jp(N),a}function Hj(a){return a?(a=yi,a):yi}function Bj(a,i,u,m,y,N){y=Hj(y),m.context===null?m.context=y:m.pendingContext=y,m=Ta(i),m.payload={element:u},N=N===void 0?null:N,N!==null&&(m.callback=N),u=Ra(a,m,i),u!==null&&(xr(u,a,i),pc(u,a,i))}function qj(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<i?u:i}}function px(a,i){qj(a,i),(a=a.alternate)&&qj(a,i)}function Zj(a){if(a.tag===13){var i=vi(a,67108864);i!==null&&xr(i,a,67108864),px(a,67108864)}}var vf=!0;function CT(a,i,u,m){var y=A.T;A.T=null;var N=L.p;try{L.p=2,gx(a,i,u,m)}finally{L.p=N,A.T=y}}function ET(a,i,u,m){var y=A.T;A.T=null;var N=L.p;try{L.p=8,gx(a,i,u,m)}finally{L.p=N,A.T=y}}function gx(a,i,u,m){if(vf){var y=xx(m);if(y===null)rx(a,i,m,yf,u),Wj(a,m);else if(AT(y,a,i,u,m))m.stopPropagation();else if(Wj(a,m),i&4&&-1<kT.indexOf(a)){for(;y!==null;){var N=Zs(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=ct(N.pendingLanes);if(D!==0){var P=N;for(P.pendingLanes|=2,P.entangledLanes|=2;D;){var G=1<<31-ve(D);P.entanglements[1]|=G,D&=~G}Ss(N),(Mt&6)===0&&(tf=xt()+500,Rc(0))}}break;case 13:P=vi(N,2),P!==null&&xr(P,N,2),rf(),px(N,2)}if(N=xx(m),N===null&&rx(a,i,m,yf,u),N===y)break;y=N}y!==null&&m.stopPropagation()}else rx(a,i,m,null,u)}}function xx(a){return a=jp(a),vx(a)}var yf=null;function vx(a){if(yf=null,a=Sa(a),a!==null){var i=l(a);if(i===null)a=null;else{var u=i.tag;if(u===13){if(a=c(i),a!==null)return a;a=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return yf=a,null}function Yj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case wn:return 2;case W:return 8;case se:case he:return 32;case Me:return 268435456;default:return 32}default:return 32}}var yx=!1,qa=null,Za=null,Ya=null,Uc=new Map,Fc=new Map,Wa=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wj(a,i){switch(a){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Uc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(i.pointerId)}}function Vc(a,i,u,m,y,N){return a===null||a.nativeEvent!==N?(a={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},i!==null&&(i=Zs(i),i!==null&&Zj(i)),a):(a.eventSystemFlags|=m,i=a.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),a)}function AT(a,i,u,m,y){switch(i){case"focusin":return qa=Vc(qa,a,i,u,m,y),!0;case"dragenter":return Za=Vc(Za,a,i,u,m,y),!0;case"mouseover":return Ya=Vc(Ya,a,i,u,m,y),!0;case"pointerover":var N=y.pointerId;return Uc.set(N,Vc(Uc.get(N)||null,a,i,u,m,y)),!0;case"gotpointercapture":return N=y.pointerId,Fc.set(N,Vc(Fc.get(N)||null,a,i,u,m,y)),!0}return!1}function Gj(a){var i=Sa(a.target);if(i!==null){var u=l(i);if(u!==null){if(i=u.tag,i===13){if(i=c(u),i!==null){a.blockedOn=i,ys(a.priority,function(){if(u.tag===13){var m=gr();m=Ht(m);var y=vi(u,m);y!==null&&xr(y,u,m),px(u,m)}});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bf(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var u=xx(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);wp=m,u.target.dispatchEvent(m),wp=null}else return i=Zs(u),i!==null&&Zj(i),a.blockedOn=u,!1;i.shift()}return!0}function Xj(a,i,u){bf(a)&&u.delete(i)}function MT(){yx=!1,qa!==null&&bf(qa)&&(qa=null),Za!==null&&bf(Za)&&(Za=null),Ya!==null&&bf(Ya)&&(Ya=null),Uc.forEach(Xj),Fc.forEach(Xj)}function wf(a,i){a.blockedOn===i&&(a.blockedOn=null,yx||(yx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MT)))}var jf=null;function Kj(a){jf!==a&&(jf=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jf===a&&(jf=null);for(var i=0;i<a.length;i+=3){var u=a[i],m=a[i+1],y=a[i+2];if(typeof m!="function"){if(vx(m||u)===null)continue;break}var N=Zs(u);N!==null&&(a.splice(i,3),i-=3,vg(N,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function Hc(a){function i(G){return wf(G,a)}qa!==null&&wf(qa,a),Za!==null&&wf(Za,a),Ya!==null&&wf(Ya,a),Uc.forEach(i),Fc.forEach(i);for(var u=0;u<Wa.length;u++){var m=Wa[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Wa.length&&(u=Wa[0],u.blockedOn===null);)Gj(u),u.blockedOn===null&&Wa.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],N=u[m+1],D=y[Ft]||null;if(typeof N=="function")D||Kj(u);else if(D){var P=null;if(N&&N.hasAttribute("formAction")){if(y=N,D=N[Ft]||null)P=D.formAction;else if(vx(y)!==null)continue}else P=D.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),Kj(u)}}}function bx(a){this._internalRoot=a}Nf.prototype.render=bx.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(s(409));var u=i.current,m=gr();Bj(u,m,a,i,null,null)},Nf.prototype.unmount=bx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Bj(a.current,2,null,a,null,null),rf(),i[Mn]=null}};function Nf(a){this._internalRoot=a}Nf.prototype.unstable_scheduleHydration=function(a){if(a){var i=hn();a={blockedOn:null,target:a,priority:i};for(var u=0;u<Wa.length&&i!==0&&i<Wa[u].priority;u++);Wa.splice(u,0,a),u===0&&Gj(a)}};var Qj=t.version;if(Qj!=="19.1.1")throw Error(s(527,Qj,"19.1.1"));L.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=f(i),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var TT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{oe=_f.inject(TT),ne=_f}catch{}}return qc.createRoot=function(a,i){if(!o(a))throw Error(s(299));var u=!1,m="",y=h1,N=p1,D=g1,P=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(D=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=Vj(a,1,!1,null,null,u,m,y,N,D,P,null),a[Mn]=i.current,nx(a),new bx(i)},qc.hydrateRoot=function(a,i,u){if(!o(a))throw Error(s(299));var m=!1,y="",N=h1,D=p1,P=g1,G=null,ce=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(G=u.unstable_transitionCallbacks),u.formState!==void 0&&(ce=u.formState)),i=Vj(a,1,!0,i,u??null,m,y,N,D,P,G,ce),i.context=Hj(null),u=i.current,m=gr(),m=Ht(m),y=Ta(m),y.callback=null,Ra(u,y,m),u=m,i.current.lanes=u,We(i,u),Ss(i),a[Mn]=i.current,nx(a),new Nf(i)},qc.version="19.1.1",qc}var lN;function FT(){if(lN)return Nx.exports;lN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nx.exports=UT(),Nx.exports}var VT=FT();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cN="popstate";function HT(e={}){function t(s,o){let{pathname:l,search:c,hash:d}=s.location;return p0("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:gu(o)}return qT(t,n,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Er(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BT(){return Math.random().toString(36).substring(2,10)}function uN(e,t){return{usr:e.state,key:e.key,idx:t}}function p0(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:n,key:t&&t.key||s||BT()}}function gu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function qT(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let _=p(),S=_==null?null:_-h;h=_,f&&f({action:d,location:w.location,delta:S})}function x(_,S){d="PUSH";let E=p0(w.location,_,S);h=p()+1;let C=uN(E,h),k=w.createHref(E);try{c.pushState(C,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(k)}l&&f&&f({action:d,location:w.location,delta:1})}function b(_,S){d="REPLACE";let E=p0(w.location,_,S);h=p();let C=uN(E,h),k=w.createHref(E);c.replaceState(C,"",k),l&&f&&f({action:d,location:w.location,delta:0})}function j(_){return ZT(_)}let w={get action(){return d},get location(){return e(o,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(cN,g),f=_,()=>{o.removeEventListener(cN,g),f=null}},createHref(_){return t(o,_)},createURL:j,encodeLocation(_){let S=j(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:b,go(_){return c.go(_)}};return w}function ZT(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:gu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pS(e,t,n="/"){return YT(e,t,n,!1)}function YT(e,t,n,s){let o=typeof t=="string"?Sl(t):t,l=va(o.pathname||"/",n);if(l==null)return null;let c=gS(e);WT(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=aR(l);d=rR(c[f],h,s)}return d}function gS(e,t=[],n=[],s="",o=!1){let l=(c,d,f=o,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&f)return;Jt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let g=ga([s,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(Jt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),gS(c.children,t,x,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:tR(g,c.index),routesMeta:x})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of xS(c.path))l(c,d,!0,f)}),t}function xS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=xS(s.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function WT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nR(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var GT=/^:[\w-]+$/,XT=3,KT=2,QT=1,JT=10,eR=-2,dN=e=>e==="*";function tR(e,t){let n=e.split("/"),s=n.length;return n.some(dN)&&(s+=eR),t&&(s+=KT),n.filter(o=>!dN(o)).reduce((o,l)=>o+(GT.test(l)?XT:l===""?QT:JT),s)}function nR(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function rR(e,t,n=!1){let{routesMeta:s}=e,o={},l="/",c=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=jm({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=jm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:ga([l,g.pathname]),pathnameBase:uR(ga([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=ga([l,g.pathnameBase]))}return c}function jm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=sR(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let j=d[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[x];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function sR(e,t=!1,n=!0){Er(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function aR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Er(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function va(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iR=e=>oR.test(e);function lR(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Sl(e):e,l;if(n)if(iR(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Er(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=fN(n.substring(1),"/"):l=fN(n,t)}else l=t;return{pathname:l,search:dR(s),hash:fR(o)}}function fN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ex(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nv(e){let t=cR(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function _v(e,t,n,s=!1){let o;typeof e=="string"?o=Sl(e):(o={...e},Jt(!o.pathname||!o.pathname.includes("?"),Ex("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),Ex("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),Ex("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;o.pathname=x.join("/")}d=g>=0?t[g]:"/"}let f=lR(o,d),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var ga=e=>e.join("/").replace(/\/\/+/g,"/"),uR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vS=["POST","PUT","PATCH","DELETE"];new Set(vS);var hR=["GET",...vS];new Set(hR);var Cl=v.createContext(null);Cl.displayName="DataRouter";var oh=v.createContext(null);oh.displayName="DataRouterState";v.createContext(!1);var yS=v.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var pR=v.createContext(new Map);pR.displayName="Fetchers";var gR=v.createContext(null);gR.displayName="Await";var ds=v.createContext(null);ds.displayName="Navigation";var Fu=v.createContext(null);Fu.displayName="Location";var fs=v.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var Sv=v.createContext(null);Sv.displayName="RouteError";function xR(e,{relative:t}={}){Jt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=v.useContext(ds),{hash:o,pathname:l,search:c}=Hu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ga([n,l])),s.createHref({pathname:d,search:c,hash:o})}function El(){return v.useContext(Fu)!=null}function Us(){return Jt(El(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Fu).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wS(e){v.useContext(ds).static||v.useLayoutEffect(e)}function Vu(){let{isDataRoute:e}=v.useContext(fs);return e?RR():vR()}function vR(){Jt(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Cl),{basename:t,navigator:n}=v.useContext(ds),{matches:s}=v.useContext(fs),{pathname:o}=Us(),l=JSON.stringify(Nv(s)),c=v.useRef(!1);return wS(()=>{c.current=!0}),v.useCallback((f,h={})=>{if(Er(c.current,bS),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=_v(f,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ga([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,l,o,e])}var yR=v.createContext(null);function bR(e){let t=v.useContext(fs).outlet;return v.useMemo(()=>t&&v.createElement(yR.Provider,{value:e},t),[t,e])}function Hu(e,{relative:t}={}){let{matches:n}=v.useContext(fs),{pathname:s}=Us(),o=JSON.stringify(Nv(n));return v.useMemo(()=>_v(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function wR(e,t){return jS(e,t)}function jS(e,t,n,s,o){Jt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=v.useContext(ds),{matches:c}=v.useContext(fs),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let E=g&&g.path||"";NS(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=Us(),b;if(t){let E=typeof t=="string"?Sl(t):t;Jt(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),b=E}else b=x;let j=b.pathname||"/",w=j;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=pS(e,{pathname:w});Er(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Er(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=CR(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:ga([p,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:ga([p,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,n,s,o);return t&&S?v.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function jR(){let e=TR(),t=mR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:o},n):null,c)}var NR=v.createElement(jR,null),_R=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(fs.Provider,{value:this.props.routeContext},v.createElement(Sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SR({routeContext:e,match:t,children:n}){let s=v.useContext(Cl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(fs.Provider,{value:e},n)}function CR(e,t=[],n=null,s=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Jt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:b}=n,j=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let h=n&&s?(p,g)=>{s(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:g})}:void 0;return l.reduceRight((p,g,x)=>{let b,j=!1,w=null,_=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,w=g.route.errorElement||NR,d&&(f<0&&x===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,_=null):f===x&&(j=!0,_=g.route.hydrateFallbackElement||null)));let S=t.concat(l.slice(0,x+1)),E=()=>{let C;return b?C=w:j?C=_:g.route.Component?C=v.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,v.createElement(SR,{match:g,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?v.createElement(_R,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:h}):E()},null)}function Cv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ER(e){let t=v.useContext(Cl);return Jt(t,Cv(e)),t}function kR(e){let t=v.useContext(oh);return Jt(t,Cv(e)),t}function AR(e){let t=v.useContext(fs);return Jt(t,Cv(e)),t}function Ev(e){let t=AR(e),n=t.matches[t.matches.length-1];return Jt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function MR(){return Ev("useRouteId")}function TR(){let e=v.useContext(Sv),t=kR("useRouteError"),n=Ev("useRouteError");return e!==void 0?e:t.errors?.[n]}function RR(){let{router:e}=ER("useNavigate"),t=Ev("useNavigate"),n=v.useRef(!1);return wS(()=>{n.current=!0}),v.useCallback(async(o,l={})=>{Er(n.current,bS),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var mN={};function NS(e,t,n){!t&&!mN[e]&&(mN[e]=!0,Er(!1,n))}v.memo(DR);function DR({routes:e,future:t,state:n,unstable_onError:s}){return jS(e,void 0,n,s,t)}function kx({to:e,replace:t,state:n,relative:s}){Jt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(ds);Er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=v.useContext(fs),{pathname:c}=Us(),d=Vu(),f=_v(e,Nv(l),c,s==="path"),h=JSON.stringify(f);return v.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:s})},[d,h,s,t,n]),null}function OR(e){return bR(e.context)}function Gn(e){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zR({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){Jt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Sl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,b=v.useMemo(()=>{let j=va(f,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:g,key:x},navigationType:s}},[c,f,h,p,g,x,s]);return Er(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(ds.Provider,{value:d},v.createElement(Fu.Provider,{children:t,value:b}))}function IR({children:e,location:t}){return wR(g0(e),t)}function g0(e,t=[]){let n=[];return v.Children.forEach(e,(s,o)=>{if(!v.isValidElement(s))return;let l=[...t,o];if(s.type===v.Fragment){n.push.apply(n,g0(s.props.children,l));return}Jt(s.type===Gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=g0(s.props.children,l)),n.push(c)}),n}var tm="get",nm="application/x-www-form-urlencoded";function ih(e){return e!=null&&typeof e.tagName=="string"}function LR(e){return ih(e)&&e.tagName.toLowerCase()==="button"}function $R(e){return ih(e)&&e.tagName.toLowerCase()==="form"}function PR(e){return ih(e)&&e.tagName.toLowerCase()==="input"}function UR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FR(e,t){return e.button===0&&(!t||t==="_self")&&!UR(e)}function x0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function VR(e,t){let n=x0(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Sf=null;function HR(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var BR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ax(e){return e!=null&&!BR.has(e)?(Er(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nm}"`),null):e}function qR(e,t){let n,s,o,l,c;if($R(e)){let d=e.getAttribute("action");s=d?va(d,t):null,n=e.getAttribute("method")||tm,o=Ax(e.getAttribute("enctype"))||nm,l=new FormData(e)}else if(LR(e)||PR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(s=f?va(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||tm,o=Ax(e.getAttribute("formenctype"))||Ax(d.getAttribute("enctype"))||nm,l=new FormData(d,e),!HR()){let{name:h,type:p,value:g}=e;if(p==="image"){let x=h?`${h}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else h&&l.append(h,g)}}else{if(ih(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tm,s=null,o=nm,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZR(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&va(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function GR(e,t,n){let s=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await YR(l,n);return c.links?c.links():[]}return[]}));return JR(s.flat(1).filter(WR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hN(e,t,n,s,o,l){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,h)=>c(f,h)||d(f,h)):l==="data"?t.filter((f,h)=>{let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function XR(e,t,{includeHydrateFallback:n}={}){return KR(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function KR(e){return[...new Set(e)]}function QR(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function JR(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let l=JSON.stringify(QR(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function _S(){let e=v.useContext(Cl);return kv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eD(){let e=v.useContext(oh);return kv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Av=v.createContext(void 0);Av.displayName="FrameworkContext";function SS(){let e=v.useContext(Av);return kv(e,"You must render this element inside a <HydratedRouter> element"),e}function tD(e,t){let n=v.useContext(Av),[s,o]=v.useState(!1),[l,c]=v.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,x=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=S=>{S.forEach(E=>{c(E.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[e]),v.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let b=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?e!=="intent"?[l,x,{}]:[l,x,{onFocus:Zc(d,b),onBlur:Zc(f,j),onMouseEnter:Zc(h,b),onMouseLeave:Zc(p,j),onTouchStart:Zc(g,b)}]:[!1,x,{}]}function Zc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nD({page:e,...t}){let{router:n}=_S(),s=v.useMemo(()=>pS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?v.createElement(sD,{page:e,matches:s,...t}):null}function rD(e){let{manifest:t,routeModules:n}=SS(),[s,o]=v.useState([]);return v.useEffect(()=>{let l=!1;return GR(e,t,n).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,n]),s}function sD({page:e,matches:t,...n}){let s=Us(),{manifest:o,routeModules:l}=SS(),{basename:c}=_S(),{loaderData:d,matches:f}=eD(),h=v.useMemo(()=>hN(e,t,f,o,s,"data"),[e,t,f,o,s]),p=v.useMemo(()=>hN(e,t,f,o,s,"assets"),[e,t,f,o,s]),g=v.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,w=!1;if(t.forEach(S=>{let E=o.routes[S.route.id];!E||!E.hasLoader||(!h.some(C=>C.route.id===S.route.id)&&S.route.id in d&&l[S.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:j.add(S.route.id))}),j.size===0)return[];let _=ZR(e,c,"data");return w&&j.size>0&&_.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[c,d,s,o,h,t,e,l]),x=v.useMemo(()=>XR(p,o),[p,o]),b=rD(p);return v.createElement(v.Fragment,null,g.map(j=>v.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>v.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:w})=>v.createElement("link",{key:j,nonce:n.nonce,...w})))}function aD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CS&&(window.__reactRouterVersion="7.9.6")}catch{}function oD({basename:e,children:t,window:n}){let s=v.useRef();s.current==null&&(s.current=HT({window:n,v5Compat:!0}));let o=s.current,[l,c]=v.useState({action:o.action,location:o.location}),d=v.useCallback(f=>{v.startTransition(()=>c(f))},[c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(zR,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kn=v.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},b){let{basename:j}=v.useContext(ds),w=typeof h=="string"&&ES.test(h),_,S=!1;if(typeof h=="string"&&w&&(_=h,CS))try{let U=new URL(window.location.href),Z=h.startsWith("//")?new URL(U.protocol+h):new URL(h),X=va(Z.pathname,j);Z.origin===U.origin&&X!=null?h=X+Z.search+Z.hash:S=!0}catch{Er(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=xR(h,{relative:o}),[C,k,T]=tD(s,x),M=uD(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:o,viewTransition:g});function O(U){t&&t(U),U.defaultPrevented||M(U)}let I=v.createElement("a",{...x,...T,href:_||E,onClick:S||l?t:O,ref:aD(b,k),target:f,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?v.createElement(v.Fragment,null,I,v.createElement(nD,{page:E})):I});Kn.displayName="Link";var iD=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:f,...h},p){let g=Hu(c,{relative:h.relative}),x=Us(),b=v.useContext(oh),{navigator:j,basename:w}=v.useContext(ds),_=b!=null&&pD(g)&&d===!0,S=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,E=x.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&w&&(C=va(C,w)||C);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=E===S||!o&&E.startsWith(S)&&E.charAt(k)==="/",M=C!=null&&(C===S||!o&&C.startsWith(S)&&C.charAt(S.length)==="/"),O={isActive:T,isPending:M,isTransitioning:_},I=T?t:void 0,U;typeof s=="function"?U=s(O):U=[s,T?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(O):l;return v.createElement(Kn,{...h,"aria-current":I,className:U,ref:p,style:Z,to:c,viewTransition:d},typeof f=="function"?f(O):f)});iD.displayName="NavLink";var lD=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:l,method:c=tm,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},b)=>{let j=mD(),w=hD(d,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",S=typeof d=="string"&&ES.test(d),E=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let k=C.nativeEvent.submitter,T=k?.getAttribute("formmethod")||c;j(k||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:o,state:l,relative:h,preventScrollReset:p,viewTransition:g})};return v.createElement("form",{ref:b,method:_,action:w,onSubmit:s?f:E,...x,"data-discover":!S&&e==="render"?"true":void 0})});lD.displayName="Form";function cD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(e){let t=v.useContext(Cl);return Jt(t,cD(e)),t}function uD(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Vu(),f=Us(),h=Hu(e,{relative:l});return v.useCallback(p=>{if(FR(p,t)){p.preventDefault();let g=n!==void 0?n:gu(f)===gu(h);d(e,{replace:g,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[f,d,h,n,s,t,e,o,l,c])}function AS(e){Er(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(x0(e)),n=v.useRef(!1),s=Us(),o=v.useMemo(()=>VR(s.search,n.current?null:t.current),[s.search]),l=Vu(),c=v.useCallback((d,f)=>{const h=x0(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,l("?"+h,f)},[l,o]);return[o,c]}var dD=0,fD=()=>`__${String(++dD)}__`;function mD(){let{router:e}=kS("useSubmit"),{basename:t}=v.useContext(ds),n=MR();return v.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:f,body:h}=qR(s,t);if(o.navigate===!1){let p=o.fetcherKey||fD();await e.fetch(p,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function hD(e,{relative:t}={}){let{basename:n}=v.useContext(ds),s=v.useContext(fs);Jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Hu(e||".",{relative:t})},c=Us();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ga([n,l.pathname])),gu(l)}function pD(e,{relative:t}={}){let n=v.useContext(yS);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kS("useViewTransitionState"),o=Hu(e,{relative:t});if(!n.isTransitioning)return!1;let l=va(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=va(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jm(o.pathname,c)!=null||jm(o.pathname,l)!=null}var Ms=hS();const gD=jv(Ms);function pN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lh(...e){return t=>{let n=!1;const s=e.map(o=>{const l=pN(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():pN(e[o],null)}}}}function lt(...e){return v.useCallback(lh(...e),e)}function Uo(e){const t=xD(e),n=v.forwardRef((s,o)=>{const{children:l,...c}=s,d=v.Children.toArray(l),f=d.find(vD);if(f){const h=f.props.children,p=d.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return r.jsx(t,{...c,ref:o,children:v.isValidElement(h)?v.cloneElement(h,void 0,p):null})}return r.jsx(t,{...c,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var MS=Uo("Slot");function xD(e){const t=v.forwardRef((n,s)=>{const{children:o,...l}=n;if(v.isValidElement(o)){const c=bD(o),d=yD(l,o.props);return o.type!==v.Fragment&&(d.ref=s?lh(s,c):c),v.cloneElement(o,d)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TS=Symbol("radix.slottable");function RS(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=TS,t}function vD(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TS}function yD(e,t){const n={...t};for(const s in t){const o=e[s],l=t[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function bD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function DS(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=DS(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function OS(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=DS(e))&&(s&&(s+=" "),s+=t);return s}const gN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xN=OS,zS=(e,t)=>n=>{var s;if(t?.variants==null)return xN(e,n?.class,n?.className);const{variants:o,defaultVariants:l}=t,c=Object.keys(o).map(h=>{const p=n?.[h],g=l?.[h];if(p===null)return null;const x=gN(p)||gN(g);return o[h][x]}),d=n&&Object.entries(n).reduce((h,p)=>{let[g,x]=p;return x===void 0||(h[g]=x),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let{class:g,className:x,...b}=p;return Object.entries(b).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...l,...d}[w]):{...l,...d}[w]===_})?[...h,g,x]:h},[]);return xN(e,c,f,n?.class,n?.className)},Mv="-",wD=e=>{const t=ND(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const d=c.split(Mv);return d[0]===""&&d.length!==1&&d.shift(),IS(d,t)||jD(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},IS=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?IS(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(Mv);return t.validators.find(({validator:c})=>c(l))?.classGroupId},vN=/^\[(.+)\]$/,jD=e=>{if(vN.test(e)){const t=vN.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ND=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const o in n)v0(n[o],s,o,t);return s},v0=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:yN(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(_D(o)){v0(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,c])=>{v0(c,yN(t,l),n,s)})})},yN=(e,t)=>{let n=e;return t.split(Mv).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},_D=e=>e.isThemeGetter,SD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(l,c)=>{n.set(l,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return o(l,c),c},set(l,c){n.has(l)?n.set(l,c):o(l,c)}}},y0="!",b0=":",CD=b0.length,ED=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const l=[];let c=0,d=0,f=0,h;for(let j=0;j<o.length;j++){let w=o[j];if(c===0&&d===0){if(w===b0){l.push(o.slice(f,j)),f=j+CD;continue}if(w==="/"){h=j;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const p=l.length===0?o:o.substring(f),g=kD(p),x=g!==p,b=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const o=t+b0,l=s;s=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=l=>n({className:l,parseClassName:o})}return s},kD=e=>e.endsWith(y0)?e.substring(0,e.length-1):e.startsWith(y0)?e.substring(1):e,AD=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(c=>{c[0]==="["||t[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},MD=e=>({cache:SD(e.cacheSize),parseClassName:ED(e),sortModifiers:AD(e),...wD(e)}),TD=/\s+/,RD=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=t,c=[],d=e.trim().split(TD);let f="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:w}=n(p);if(g){f=p+(f.length>0?" "+f:f);continue}let _=!!w,S=s(_?j.substring(0,w):j);if(!S){if(!_){f=p+(f.length>0?" "+f:f);continue}if(S=s(j),!S){f=p+(f.length>0?" "+f:f);continue}_=!1}const E=l(x).join(":"),C=b?E+y0:E,k=C+S;if(c.includes(k))continue;c.push(k);const T=o(S,_);for(let M=0;M<T.length;++M){const O=T[M];c.push(C+O)}f=p+(f.length>0?" "+f:f)}return f};function DD(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=LS(t))&&(s&&(s+=" "),s+=n);return s}const LS=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=LS(e[s]))&&(n&&(n+=" "),n+=t);return n};function OD(e,...t){let n,s,o,l=c;function c(f){const h=t.reduce((p,g)=>g(p),e());return n=MD(h),s=n.cache.get,o=n.cache.set,l=d,d(f)}function d(f){const h=s(f);if(h)return h;const p=RD(f,n);return o(f,p),p}return function(){return l(DD.apply(null,arguments))}}const _n=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$S=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zD=/^\d+\/\d+$/,ID=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$D=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,PD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=e=>zD.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),Xa=e=>!!e&&Number.isInteger(Number(e)),Mx=e=>e.endsWith("%")&&ft(e.slice(0,-1)),da=e=>ID.test(e),FD=()=>!0,VD=e=>LD.test(e)&&!$D.test(e),US=()=>!1,HD=e=>PD.test(e),BD=e=>UD.test(e),qD=e=>!Fe(e)&&!Ve(e),ZD=e=>kl(e,HS,US),Fe=e=>$S.test(e),Do=e=>kl(e,BS,VD),Tx=e=>kl(e,KD,ft),bN=e=>kl(e,FS,US),YD=e=>kl(e,VS,BD),Cf=e=>kl(e,qS,HD),Ve=e=>PS.test(e),Yc=e=>Al(e,BS),WD=e=>Al(e,QD),wN=e=>Al(e,FS),GD=e=>Al(e,HS),XD=e=>Al(e,VS),Ef=e=>Al(e,qS,!0),kl=(e,t,n)=>{const s=$S.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Al=(e,t,n=!1)=>{const s=PS.exec(e);return s?s[1]?t(s[1]):n:!1},FS=e=>e==="position"||e==="percentage",VS=e=>e==="image"||e==="url",HS=e=>e==="length"||e==="size"||e==="bg-size",BS=e=>e==="length",KD=e=>e==="number",QD=e=>e==="family-name",qS=e=>e==="shadow",JD=()=>{const e=_n("color"),t=_n("font"),n=_n("text"),s=_n("font-weight"),o=_n("tracking"),l=_n("leading"),c=_n("breakpoint"),d=_n("container"),f=_n("spacing"),h=_n("radius"),p=_n("shadow"),g=_n("inset-shadow"),x=_n("text-shadow"),b=_n("drop-shadow"),j=_n("blur"),w=_n("perspective"),_=_n("aspect"),S=_n("ease"),E=_n("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...k(),Ve,Fe],M=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[Ve,Fe,f],U=()=>[Hi,"full","auto",...I()],Z=()=>[Xa,"none","subgrid",Ve,Fe],X=()=>["auto",{span:["full",Xa,Ve,Fe]},Xa,Ve,Fe],Y=()=>[Xa,"auto",Ve,Fe],q=()=>["auto","min","max","fr",Ve,Fe],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...I()],L=()=>[Hi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],F=()=>[e,Ve,Fe],B=()=>[...k(),wN,bN,{position:[Ve,Fe]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",GD,ZD,{size:[Ve,Fe]}],J=()=>[Mx,Yc,Do],K=()=>["","none","full",h,Ve,Fe],ie=()=>["",ft,Yc,Do],ge=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ft,Mx,wN,bN],de=()=>["","none",j,Ve,Fe],te=()=>["none",ft,Ve,Fe],pe=()=>["none",ft,Ve,Fe],Se=()=>[ft,Ve,Fe],Q=()=>[Hi,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[da],breakpoint:[da],color:[FD],container:[da],"drop-shadow":[da],ease:["in","out","in-out"],font:[qD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[da],shadow:[da],spacing:["px",ft],text:[da],"text-shadow":[da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hi,Fe,Ve,_]}],container:["container"],columns:[{columns:[ft,Fe,Ve,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Xa,"auto",Ve,Fe]}],basis:[{basis:[Hi,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Hi,"auto","initial","none",Fe]}],grow:[{grow:["",ft,Ve,Fe]}],shrink:[{shrink:["",ft,Ve,Fe]}],order:[{order:[Xa,"first","last","none",Ve,Fe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[d,"screen",...L()]}],"min-w":[{"min-w":[d,"screen","none",...L()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,Yc,Do]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ve,Tx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mx,Fe]}],"font-family":[{font:[WD,Fe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ve,Fe]}],"line-clamp":[{"line-clamp":[ft,"none",Ve,Tx]}],leading:[{leading:[l,...I()]}],"list-image":[{"list-image":["none",Ve,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Ve,Do]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[ft,"auto",Ve,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xa,Ve,Fe],radial:["",Ve,Fe],conic:[Xa,Ve,Fe]},XD,YD]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Ve,Fe]}],"outline-w":[{outline:["",ft,Yc,Do]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",p,Ef,Cf]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",g,Ef,Cf]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[ft,Do]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,Ef,Cf]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[ft,Ve,Fe]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ve,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,Fe]}],filter:[{filter:["","none",Ve,Fe]}],blur:[{blur:de()}],brightness:[{brightness:[ft,Ve,Fe]}],contrast:[{contrast:[ft,Ve,Fe]}],"drop-shadow":[{"drop-shadow":["","none",b,Ef,Cf]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",ft,Ve,Fe]}],"hue-rotate":[{"hue-rotate":[ft,Ve,Fe]}],invert:[{invert:["",ft,Ve,Fe]}],saturate:[{saturate:[ft,Ve,Fe]}],sepia:[{sepia:["",ft,Ve,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,Fe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Ve,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Ve,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Ve,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Ve,Fe]}],"backdrop-invert":[{"backdrop-invert":["",ft,Ve,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Ve,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Ve,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Ve,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Ve,Fe]}],ease:[{ease:["linear","initial",S,Ve,Fe]}],delay:[{delay:[ft,Ve,Fe]}],animate:[{animate:["none",E,Ve,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ve,Fe]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:te()}],"rotate-x":[{"rotate-x":te()}],"rotate-y":[{"rotate-y":te()}],"rotate-z":[{"rotate-z":te()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Ve,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,Fe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[ft,Yc,Do,Tx]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},e6=OD(JD);function $e(...e){return e6(OS(e))}const Tv=zS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function me({className:e,variant:t,size:n,asChild:s=!1,...o}){const l=s?MS:"button";return r.jsx(l,{"data-slot":"button",className:$e(Tv({variant:t,size:n,className:e})),...o})}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),jN=e=>{const t=n6(e);return t.charAt(0).toUpperCase()+t.slice(1)},ZS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),r6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},f)=>v.createElement("svg",{ref:f,...s6,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ZS("lucide",o),...!l&&!r6(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>v.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const n=v.forwardRef(({className:s,...o},l)=>v.createElement(a6,{ref:l,iconNode:t,className:ZS(`lucide-${t6(jN(e))}`,`lucide-${e}`,s),...o}));return n.displayName=jN(e),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rv=Ce("activity",o6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],l6=Ce("arrow-down",i6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],u6=Ce("arrow-left-right",c6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f6=Ce("arrow-left",d6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],fl=Ce("arrow-right-left",m6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],as=Ce("arrow-right",h6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ch=Ce("book-open",p6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],bt=Ce("bot",g6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],v6=Ce("boxes",x6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Nm=Ce("brain",y6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],w6=Ce("calendar",b6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],N6=Ce("check-check",j6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ml=Ce("check",_6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zn=Ce("chevron-down",S6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YS=Ce("chevron-left",C6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kr=Ce("chevron-right",E6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_m=Ce("chevron-up",k6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sr=Ce("circle-alert",A6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uh=Ce("circle-check-big",M6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cn=Ce("circle-check",T6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D6=Ce("circle-play",R6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tl=Ce("circle-x",O6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WS=Ce("clock",z6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],NN=Ce("cloud-upload",I6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$6=Ce("cloud",L6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],dh=Ce("code",P6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],F6=Ce("container",U6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],so=Ce("copy",V6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_N=Ce("crown",H6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Qn=Ce("database",B6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fo=Ce("download",q6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Dv=Ce("ellipsis-vertical",Z6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],W6=Ce("ellipsis",Y6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xu=Ce("external-link",G6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K6=Ce("eye",X6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 17h6",key:"r8uit2"}]],J6=Ce("file-diff",Q6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],GS=Ce("file-json",eO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vn=Ce("file-text",tO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],rO=Ce("file",nO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ov=Ce("folder-open",sO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],oO=Ce("folder-plus",aO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],lO=Ce("folder",iO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uO=Ce("funnel",cO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Sm=Ce("git-branch",dO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],el=Ce("git-fork",fO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],SN=Ce("git-merge",mO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],XS=Ce("globe",hO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gO=Ce("grid-3x3",pO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vO=Ce("grip-vertical",xO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ml=Ce("hash",yO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],wO=Ce("headphones",bO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],NO=Ce("heart",jO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],SO=Ce("house",_O);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],EO=Ce("image",CO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fr=Ce("info",kO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MO=Ce("key",AO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RO=Ce("layout-dashboard",TO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],au=Ce("layers",DO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],zO=Ce("lightbulb",OO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M10 6H3",key:"lf8lx7"}],["path",{d:"M21 18V8a2 2 0 0 0-2-2h-5",key:"1hghli"}],["path",{d:"m16 8-2-2 2-2",key:"160uvd"}]],LO=Ce("list-start",IO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cr=Ce("loader-circle",$O);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],UO=Ce("lock",PO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VO=Ce("log-out",FO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BO=Ce("mail",HO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ZO=Ce("map",qO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],WO=Ce("maximize",YO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],XO=Ce("message-circle",GO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ni=Ce("message-square",KO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M5 12h14",key:"1ays0h"}]],w0=Ce("minus",QO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],e8=Ce("moon",JO);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],KS=Ce("music",t8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],j0=Ce("package",n8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],s8=Ce("panel-right-open",r8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],o8=Ce("paperclip",a8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fh=Ce("pencil",i8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mh=Ce("play",l8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_t=Ce("plus",c8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],d8=Ce("quote",u8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],io=Ce("refresh-cw",f8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],N0=Ce("rocket",m8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zv=Ce("rotate-ccw",h8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],g8=Ce("scale",p8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_0=Ce("save",x8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],is=Ce("search",v8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],b8=Ce("send-horizontal",y8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rm=Ce("send",w8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5",key:"bt2siv"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z",key:"1hjrv1"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1",key:"1iynyr"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z",key:"161ggg"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N8=Ce("server-off",j8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],tl=Ce("settings-2",_8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cm=Ce("settings",S8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S0=Ce("shield",C8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],k8=Ce("shuffle",E8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ts=Ce("sparkles",A8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],T8=Ce("split",M8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],D8=Ce("sun",R8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CN=Ce("target",O8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jn=Ce("trash-2",z8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L8=Ce("triangle-alert",I8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Iv=Ce("upload",$8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lv=Ce("user",P8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vo=Ce("users",U8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Rs=Ce("workflow",F8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ho=Ce("wrench",V8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bo=Ce("x",H8);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hh=Ce("zap",B8);function q8(){return r.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground overflow-x-hidden",children:[r.jsx("header",{className:"fixed top-0 w-full z-50 bg-background/80 backdrop-blur-md border-b border-border/40",children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[r.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_landing)"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"paint0_landing",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#E6331A"}),r.jsx("stop",{offset:"1",stopColor:"#003366"})]})})]}),r.jsx("span",{className:"text-xl font-bold tracking-tight text-primary",children:"MAIA"})]}),r.jsxs("nav",{className:"flex gap-4 items-center",children:[r.jsx(Kn,{to:"/login",children:r.jsx(me,{variant:"ghost",className:"font-medium",children:"Login"})}),r.jsx(Kn,{to:"/platform/dashboard",children:r.jsx(me,{className:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20",children:"Acessar Plataforma"})})]})]})}),r.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 -z-10",children:[r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[500px] bg-primary/5 rounded-full blur-3xl opacity-50"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-[800px] h-[600px] bg-accent/5 rounded-full blur-3xl opacity-30"})]}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent/10 text-accent text-sm font-medium mb-6 border border-accent/20",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-accent"})]}),"Mapfre Inteligncia Artificial"]}),r.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary via-primary/90 to-accent",children:"MAIA"}),r.jsxs("p",{className:"text-2xl md:text-4xl font-medium text-foreground/80 mb-8 max-w-3xl mx-auto leading-tight",children:["Inteligncia que antecipa. ",r.jsx("br",{className:"hidden md:block"}),r.jsx("span",{className:"text-primary",children:"Proteo que evolui."})]}),r.jsx("p",{className:"text-lg text-muted-foreground mb-10 max-w-2xl mx-auto",children:"A plataforma oficial para colaboradores criarem, testarem e publicarem agentes de IA que transformam o dia a dia da Mapfre."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[r.jsx(Kn,{to:"/platform/dashboard",children:r.jsxs(me,{size:"lg",className:"h-12 px-8 text-lg rounded-full bg-primary hover:bg-primary/90 text-white shadow-xl shadow-primary/20 transition-all hover:scale-105",children:["Comear a Criar ",r.jsx(as,{className:"ml-2 h-5 w-5"})]})}),r.jsx(Kn,{to:"/login",children:r.jsx(me,{variant:"outline",size:"lg",className:"h-12 px-8 text-lg rounded-full border-primary/20 hover:bg-primary/5",children:"Fazer Login"})})]})]})]}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Nossos Valores"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A MAIA foi construda sobre pilares fundamentais que garantem uma tecnologia humana, segura e eficiente."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border/50 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 group",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center mb-6 group-hover:bg-primary/20 transition-colors",children:r.jsx(S0,{className:"h-6 w-6 text-primary"})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Confivel"}),r.jsx("p",{className:"text-muted-foreground",children:"Segurana e robustez em cada interao. A base slida da Mapfre aplicada  tecnologia de ponta."})]}),r.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border/50 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 group",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent/10 flex items-center justify-center mb-6 group-hover:bg-accent/20 transition-colors",children:r.jsx(Nm,{className:"h-6 w-6 text-accent"})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Inovador"}),r.jsx("p",{className:"text-muted-foreground",children:"Antecipando o futuro com solues criativas e eficientes que transformam dados em insights acionveis."})]}),r.jsxs("div",{className:"bg-card p-8 rounded-2xl border border-border/50 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 group",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-destructive/10 flex items-center justify-center mb-6 group-hover:bg-destructive/20 transition-colors",children:r.jsx(NO,{className:"h-6 w-6 text-destructive"})}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:"Emptico"}),r.jsx("p",{className:"text-muted-foreground",children:"Tecnologia centrada no humano. Uma IA que entende, cuida e evolui junto com as necessidades das pessoas."})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold",children:["Agent Studio: ",r.jsx("span",{className:"text-primary",children:"Sua Fbrica de Inteligncia"})]}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"Um ambiente intuitivo onde colaboradores podem configurar prompts, definir ferramentas e escolher modelos de IA sem escrever uma linha de cdigo."}),r.jsx("ul",{className:"space-y-4",children:["Interface visual para definio de persona e instrues","Biblioteca de ferramentas seguras da Mapfre","Teste em tempo real com feedback imediato","Controle total sobre criatividade e temperatura"].map((e,t)=>r.jsxs("li",{className:"flex items-center gap-3",children:[r.jsx(Cn,{className:"h-5 w-5 text-accent flex-shrink-0"}),r.jsx("span",{children:e})]},t))}),r.jsx("div",{className:"pt-4",children:r.jsx(Kn,{to:"/platform/studio",children:r.jsxs(me,{variant:"outline",className:"gap-2",children:["Explorar o Studio ",r.jsx(as,{className:"h-4 w-4"})]})})})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary/20 to-accent/20 rounded-2xl blur-2xl -z-10"}),r.jsxs("div",{className:"bg-card border border-border rounded-2xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-muted/50 p-3 border-b flex gap-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500/50"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500/50"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500/50"})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-24 bg-muted rounded"}),r.jsx("div",{className:"h-10 w-full bg-background border rounded-md p-2 flex items-center text-sm",children:"Analista de Sinistros Snior"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-32 bg-muted rounded"}),r.jsx("div",{className:"h-32 w-full bg-background border rounded-md p-3 text-sm text-muted-foreground font-mono",children:"Voc  um especialista em anlise de sinistros automotivos. Sua funo  validar documentos, identificar danos em imagens e sugerir aprovaes baseadas nas regras da aplice..."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 w-20 bg-muted rounded"}),r.jsxs("div",{className:"h-10 bg-background border rounded-md flex items-center px-3 text-xs gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"GPT-4 Turbo"]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 w-20 bg-muted rounded"}),r.jsx("div",{className:"h-10 bg-background border rounded-md flex items-center px-3 text-xs",children:"Temperatura: 0.3"})]})]})]}),r.jsx("div",{className:"flex justify-end pt-2",children:r.jsx(me,{size:"sm",className:"bg-primary text-white",children:"Salvar Agente"})})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-muted/30",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-12",children:[r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold",children:["Workflow Builder: ",r.jsx("span",{className:"text-accent",children:"Poder de Orquestrao"})]}),r.jsx("p",{className:"text-lg text-muted-foreground",children:"A plataforma suporta nativamente os padres de arquitetura de agentes mais avanados do mercado, prontos para uso."}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"flex gap-4 items-start p-3 rounded-lg hover:bg-background/50 transition-colors border border-transparent hover:border-border/50",children:[r.jsx("div",{className:"mt-1 bg-primary/10 p-2 rounded-md",children:r.jsx(LO,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-foreground",children:"Sequencial"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:'Execuo linear e determinstica. Ideal para processos com etapas bem definidas, como "Pesquisar  Resumir  Traduzir".'})]})]}),r.jsxs("div",{className:"flex gap-4 items-start p-3 rounded-lg hover:bg-background/50 transition-colors border border-transparent hover:border-border/50",children:[r.jsx("div",{className:"mt-1 bg-accent/10 p-2 rounded-md",children:r.jsx(SN,{className:"h-5 w-5 text-accent"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-foreground",children:"Roteamento (Router)"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:'Classificao inteligente de inteno. Um agente "porteiro" analisa o pedido e direciona para o especialista correto (ex: Sinistro vs. Vendas).'})]})]}),r.jsxs("div",{className:"flex gap-4 items-start p-3 rounded-lg hover:bg-background/50 transition-colors border border-transparent hover:border-border/50",children:[r.jsx("div",{className:"mt-1 bg-orange-500/10 p-2 rounded-md",children:r.jsx(Vo,{className:"h-5 w-5 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-foreground",children:"Group Chat"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Colaborao dinmica. Mltiplos agentes (ex: Escritor, Revisor, Pesquisador) conversam entre si para resolver problemas complexos."})]})]}),r.jsxs("div",{className:"flex gap-4 items-start p-3 rounded-lg hover:bg-background/50 transition-colors border border-transparent hover:border-border/50",children:[r.jsx("div",{className:"mt-1 bg-green-500/10 p-2 rounded-md",children:r.jsx(fl,{className:"h-5 w-5 text-green-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-foreground",children:"Handoff (Transferncia)"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuidade fluida. Um agente transfere a conversa para outro (ou para um humano) mantendo todo o contexto e histrico."})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsxs(me,{variant:"outline",className:"gap-2",children:["Criar Workflow ",r.jsx(as,{className:"h-4 w-4"})]})})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-accent/20 to-primary/20 rounded-2xl blur-2xl -z-10"}),r.jsxs("div",{className:"bg-card border border-border rounded-2xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-muted/50 p-3 border-b flex gap-2",children:[r.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500/50"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500/50"}),r.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500/50"})]}),r.jsx("div",{className:"p-8 relative h-[400px] bg-grid-slate-100 dark:bg-grid-slate-900/50 flex items-center justify-center overflow-hidden",children:r.jsxs("div",{className:"relative w-[500px] h-[350px]",children:[r.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0 overflow-visible",children:[r.jsx("defs",{children:r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:r.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"currentColor",className:"text-muted-foreground/50"})})}),r.jsx("path",{d:"M 250 40 C 250 80, 100 80, 100 120",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/50",markerEnd:"url(#arrowhead)"}),r.jsx("path",{d:"M 250 40 C 250 80, 400 80, 400 120",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/50",markerEnd:"url(#arrowhead)"}),r.jsx("path",{d:"M 100 160 L 100 200",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/50",markerEnd:"url(#arrowhead)"}),r.jsx("path",{d:"M 100 240 C 100 280, 250 280, 250 300",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-muted-foreground/50",strokeDasharray:"4",markerEnd:"url(#arrowhead)"}),r.jsx("path",{d:"M 370 140 L 430 140",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-accent/50"}),r.jsx("path",{d:"M 430 140 L 400 190",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-accent/50"}),r.jsx("path",{d:"M 400 190 L 370 140",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-accent/50"})]}),r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 bg-background border-2 border-primary rounded-lg p-2 shadow-lg z-20 flex flex-col items-center text-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(SN,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"text-xs font-bold",children:"Roteador"})]})}),r.jsxs("div",{className:"absolute top-[120px] left-[50px] w-28 bg-background border border-border rounded-lg p-2 shadow-md z-10 text-center",children:[r.jsx("div",{className:"text-[10px] font-bold mb-1",children:"Agente Pesquisa"}),r.jsx("div",{className:"h-1 w-full bg-primary/20 rounded-full"})]}),r.jsxs("div",{className:"absolute top-[200px] left-[50px] w-28 bg-background border border-border rounded-lg p-2 shadow-md z-10 text-center",children:[r.jsx("div",{className:"text-[10px] font-bold mb-1",children:"Agente Resumo"}),r.jsx("div",{className:"h-1 w-full bg-primary/20 rounded-full"})]}),r.jsx("div",{className:"absolute top-[110px] right-[50px] w-40 h-40 rounded-full border-2 border-dashed border-accent/30 flex items-center justify-center bg-accent/5",children:r.jsx("div",{className:"absolute top-2 text-[10px] font-bold text-accent",children:"Group Chat"})}),r.jsx("div",{className:"absolute top-[130px] right-[120px] w-10 h-10 rounded-full bg-background border border-accent flex items-center justify-center shadow-sm z-10",children:r.jsx(Vo,{className:"h-4 w-4 text-accent"})}),r.jsx("div",{className:"absolute top-[130px] right-[60px] w-10 h-10 rounded-full bg-background border border-accent flex items-center justify-center shadow-sm z-10",children:r.jsx(Nm,{className:"h-4 w-4 text-accent"})}),r.jsx("div",{className:"absolute top-[180px] right-[90px] w-10 h-10 rounded-full bg-background border border-accent flex items-center justify-center shadow-sm z-10",children:r.jsx(ni,{className:"h-4 w-4 text-accent"})}),r.jsxs("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-36 bg-background border-2 border-green-500 rounded-lg p-2 shadow-lg z-20 flex flex-col items-center text-center animate-pulse",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fl,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-xs font-bold text-green-600",children:"Handoff Humano"})]}),r.jsx("div",{className:"text-[9px] text-muted-foreground mt-1",children:"Transferindo contexto..."})]})]})})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O que voc pode construir?"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto mb-12",children:"Da automao de tarefas rotineiras  anlise complexa de riscos, a MAIA oferece os blocos de construo para transformar a operao da Mapfre."}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-primary/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:r.jsx(J6,{className:"h-6 w-6 text-primary"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Comparador de Contratos"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"Identifica divergncias entre verses de aplices ou contratos de resseguro, destacando alteraes de clusulas e valores automaticamente."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:[r.jsxs("div",{className:"flex gap-2 mb-1",children:[r.jsx("span",{className:"text-green-600",children:"+"}),r.jsx("span",{children:"Clusula 4.2 (Adicionada)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-red-500",children:"-"}),r.jsx("span",{children:"Franquia: R$ 2.000 (Removida)"})]})]})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-accent/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent/10 flex items-center justify-center mb-4",children:r.jsx(Qn,{className:"h-6 w-6 text-accent"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Extrator de Dados"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"Transforma documentos no estruturados (e-mails, PDFs, imagens) em JSON estruturado pronto para integrao com sistemas legados."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:[r.jsx("span",{className:"text-blue-500",children:"{"}),r.jsx("br",{}),'"placa": "ABC-1234",',r.jsx("br",{}),'"valor": 1500.00',r.jsx("br",{}),r.jsx("span",{className:"text-blue-500",children:"}"})]})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-orange-500/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-orange-500/10 flex items-center justify-center mb-4",children:r.jsx(g8,{className:"h-6 w-6 text-orange-500"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Assistente de Subscrio"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"Analisa perfis de risco complexos cruzando dados internos, bureaus de crdito e notcias de mercado para sugerir um score de aceitao."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:["> Score de Risco: 85/100",r.jsx("br",{}),"> Recomendao: ",r.jsx("span",{className:"text-green-600 font-bold",children:"Aprovar"})]})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-purple-500/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-4",children:r.jsx(wO,{className:"h-6 w-6 text-purple-500"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Auditoria de Atendimento"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"Transcreve e analisa 100% das chamadas do contact center, identificando sentimento do cliente e conformidade com scripts regulatrios."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:["> Sentimento: ",r.jsx("span",{className:"text-red-500",children:"Negativo"}),r.jsx("br",{}),"> Alerta: Protocolo no informado.",r.jsx("br",{}),"> Risco Legal: ",r.jsx("span",{className:"text-yellow-600",children:"Mdio"})]})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-blue-400/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-400/10 flex items-center justify-center mb-4",children:r.jsx(BO,{className:"h-6 w-6 text-blue-400"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Triagem Inteligente"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"L caixas de entrada departamentais, classifica a urgncia, extrai nmeros de aplice e encaminha para a fila correta automaticamente."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:['> Assunto: "Sinistro Urgente"',r.jsx("br",{}),"> Classificao: ",r.jsx("span",{className:"text-primary font-bold",children:"Perda Total"}),r.jsx("br",{}),"> Ao: Fila Prioritria"]})]}),r.jsxs("div",{className:"bg-card border rounded-xl p-6 text-left hover:border-red-500/50 transition-all hover:-translate-y-1 shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-red-500/10 flex items-center justify-center mb-4",children:r.jsx(is,{className:"h-6 w-6 text-red-500"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Investigador de Fraudes"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-4 h-20",children:"Cruza dados do relato do sinistro com metadados de fotos, condies climticas histricas e redes sociais para apontar inconsistncias."}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-xs font-mono text-muted-foreground border border-border/50",children:['> Relato: "Chuva forte"',r.jsx("br",{}),"> Clima (API): ",r.jsx("span",{className:"text-yellow-600",children:"Ensolarado"}),r.jsx("br",{}),"> Score Fraude: ",r.jsx("span",{className:"text-red-600 font-bold",children:"Alta Probabilidade"})]})]})]})]})}),r.jsx("footer",{className:"border-t border-border/40 py-8 mt-auto bg-muted/20",children:r.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-bold text-primary",children:"MAIA"}),r.jsx("span",{className:"text-muted-foreground text-sm",children:" 2025 Mapfre Inteligncia Artificial"})]}),r.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[r.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Termos de Uso"}),r.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Privacidade"}),r.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Suporte"})]})]})})]})}function nt({className:e,type:t,...n}){return r.jsx("input",{type:t,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}function Ge({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded border py-6 shadow-sm",e),...t})}function Pt({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Dt({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:$e("leading-none font-semibold",e),...t})}function Vr({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:$e("text-muted-foreground text-sm",e),...t})}function Xe({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:$e("px-6",e),...t})}function Z8({className:e,...t}){return r.jsx("div",{"data-slot":"card-footer",className:$e("flex items-center px-6 [.border-t]:pt-6",e),...t})}function Y8(){const e=Vu(),t=n=>{n.preventDefault(),e("/platform/dashboard")};return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/50",children:r.jsxs(Ge,{className:"w-[350px]",children:[r.jsx(Pt,{children:r.jsx(Dt,{children:"Login to AI Platform"})}),r.jsx(Xe,{children:r.jsxs("form",{onSubmit:t,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",children:"Email"}),r.jsx(nt,{id:"email",type:"email",placeholder:"user@example.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",children:"Password"}),r.jsx(nt,{id:"password",type:"password"})]}),r.jsx(me,{type:"submit",className:"w-full",children:"Sign In"})]})})]})})}const W8=1,G8=1e6;let Rx=0;function X8(){return Rx=(Rx+1)%Number.MAX_SAFE_INTEGER,Rx.toString()}const Dx=new Map,EN=e=>{if(Dx.has(e))return;const t=setTimeout(()=>{Dx.delete(e),ou({type:"REMOVE_TOAST",toastId:e})},G8);Dx.set(e,t)},K8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,W8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?EN(n):e.toasts.forEach(s=>{EN(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},sm=[];let am={toasts:[]};function ou(e){am=K8(am,e),sm.forEach(t=>{t(am)})}function Q8({...e}){const t=X8(),n=o=>ou({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>ou({type:"DISMISS_TOAST",toastId:t});return ou({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function Bu(){const[e,t]=v.useState(am);return v.useEffect(()=>(sm.push(t),()=>{const n=sm.indexOf(t);n>-1&&sm.splice(n,1)}),[e]),{...e,toast:Q8,dismiss:n=>ou({type:"DISMISS_TOAST",toastId:n})}}function $v({message:e,type:t="info",duration:n=4e3,onClose:s}){const[o,l]=v.useState(!0);v.useEffect(()=>{const f=setTimeout(()=>{l(!1),setTimeout(s,300)},n);return()=>clearTimeout(f)},[n,s]);const c={info:"bg-primary/10 border-primary/20",success:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",warning:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",error:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}[t],d={info:"text-primary",success:"text-green-800 dark:text-green-200",warning:"text-orange-800 dark:text-orange-200",error:"text-red-800 dark:text-red-200"}[t];return r.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-md transition-all duration-300 ${o?"opacity-100 translate-x-0":"opacity-0 translate-x-4"} ${c}`,children:[r.jsx("p",{className:`text-sm flex-1 ${d}`,children:e}),r.jsx("button",{onClick:()=>{l(!1),setTimeout(s,300)},className:`flex-shrink-0 hover:opacity-70 transition-opacity ${d}`,children:r.jsx(Bo,{className:"h-4 w-4"})})]})}function J8({toasts:e,onRemove:t}){return r.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(n=>r.jsx($v,{message:n.message,type:n.type,duration:n.duration,onClose:()=>t(n.id)},n.id))})}function ez(){const{toasts:e,dismiss:t}=Bu();return r.jsx(r.Fragment,{children:e.map(function({id:n,title:s,description:o,variant:l,...c}){const d=o?`${s} - ${o}`:s,f=l==="destructive"?"error":"info";return r.jsx($v,{message:d,type:f,onClose:()=>t(n),...c},n)})})}const tz=zS("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:e,variant:t,...n}){return r.jsx("div",{className:$e(tz({variant:t}),e),...n})}function ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function nz(e,t){const n=v.createContext(t),s=l=>{const{children:c,...d}=l,f=v.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:f,children:c})};s.displayName=e+"Provider";function o(l){const c=v.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,o]}function Mr(e,t=[]){let n=[];function s(l,c){const d=v.createContext(c),f=n.length;n=[...n,c];const h=g=>{const{scope:x,children:b,...j}=g,w=x?.[e]?.[f]||d,_=v.useMemo(()=>j,Object.values(j));return r.jsx(w.Provider,{value:_,children:b})};h.displayName=l+"Provider";function p(g,x){const b=x?.[e]?.[f]||d,j=v.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[h,p]}const o=()=>{const l=n.map(c=>v.createContext(c));return function(d){const f=d?.[e]||l;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return o.scopeName=e,[s,rz(o,...t)]}function rz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((d,{useScope:f,scopeName:h})=>{const g=f(l)[`__scope${h}`];return{...d,...g}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var Hn=globalThis?.document?v.useLayoutEffect:()=>{},sz=mS[" useInsertionEffect ".trim().toString()]||Hn;function ya({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,l,c]=az({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:o;{const p=v.useRef(e!==void 0);v.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const h=v.useCallback(p=>{if(d){const g=oz(p)?p(e):p;g!==e&&c.current?.(g)}else l(p)},[d,e,l,c]);return[f,h]}function az({defaultProp:e,onChange:t}){const[n,s]=v.useState(e),o=v.useRef(n),l=v.useRef(t);return sz(()=>{l.current=t},[t]),v.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,s,l]}function oz(e){return typeof e=="function"}var iz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=iz.reduce((e,t)=>{const n=Uo(`Primitive.${t}`),s=v.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...d,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function QS(e,t){e&&Ms.flushSync(()=>e.dispatchEvent(t))}function Pv(e){const t=e+"CollectionProvider",[n,s]=Mr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:_,children:S}=w,E=Le.useRef(null),C=Le.useRef(new Map).current;return r.jsx(o,{scope:_,itemMap:C,collectionRef:E,children:S})};c.displayName=t;const d=e+"CollectionSlot",f=Uo(d),h=Le.forwardRef((w,_)=>{const{scope:S,children:E}=w,C=l(d,S),k=lt(_,C.collectionRef);return r.jsx(f,{ref:k,children:E})});h.displayName=d;const p=e+"CollectionItemSlot",g="data-radix-collection-item",x=Uo(p),b=Le.forwardRef((w,_)=>{const{scope:S,children:E,...C}=w,k=Le.useRef(null),T=lt(_,k),M=l(p,S);return Le.useEffect(()=>(M.itemMap.set(k,{ref:k,...C}),()=>void M.itemMap.delete(k))),r.jsx(x,{[g]:"",ref:T,children:E})});b.displayName=p;function j(w){const _=l(e+"CollectionConsumer",w);return Le.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((M,O)=>C.indexOf(M.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:b},j,s]}var lz=v.createContext(void 0);function qu(e){const t=v.useContext(lz);return e||t||"ltr"}function Un(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>t.current?.(...n),[])}function cz(e,t=globalThis?.document){const n=Un(e);v.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var uz="DismissableLayer",C0="dismissableLayer.update",dz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",kN,JS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zu=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,h=v.useContext(JS),[p,g]=v.useState(null),x=p?.ownerDocument??globalThis?.document,[,b]=v.useState({}),j=lt(t,O=>g(O)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(_),E=p?w.indexOf(p):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,k=E>=S,T=pz(O=>{const I=O.target,U=[...h.branches].some(Z=>Z.contains(I));!k||U||(o?.(O),c?.(O),O.defaultPrevented||d?.())},x),M=gz(O=>{const I=O.target;[...h.branches].some(Z=>Z.contains(I))||(l?.(O),c?.(O),O.defaultPrevented||d?.())},x);return cz(O=>{E===h.layers.size-1&&(s?.(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},x),v.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(kN=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),AN(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=kN)}},[p,x,n,h]),v.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),AN())},[p,h]),v.useEffect(()=>{const O=()=>b({});return document.addEventListener(C0,O),()=>document.removeEventListener(C0,O)},[]),r.jsx(Qe.div,{...f,ref:j,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,T.onPointerDownCapture)})});Zu.displayName=uz;var mz="DismissableLayerBranch",hz=v.forwardRef((e,t)=>{const n=v.useContext(JS),s=v.useRef(null),o=lt(t,s);return v.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),r.jsx(Qe.div,{...e,ref:o})});hz.displayName=mz;function pz(e,t=globalThis?.document){const n=Un(e),s=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let f=function(){eC(dz,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}else t.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function gz(e,t=globalThis?.document){const n=Un(e),s=v.useRef(!1);return v.useEffect(()=>{const o=l=>{l.target&&!s.current&&eC(fz,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function AN(){const e=new CustomEvent(C0);document.dispatchEvent(e)}function eC(e,t,n,{discrete:s}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?QS(o,l):o.dispatchEvent(l)}var Ox=0;function Uv(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MN()),document.body.insertAdjacentElement("beforeend",e[1]??MN()),Ox++,()=>{Ox===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ox--}},[])}function MN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zx="focusScope.autoFocusOnMount",Ix="focusScope.autoFocusOnUnmount",TN={bubbles:!1,cancelable:!0},xz="FocusScope",ph=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=e,[d,f]=v.useState(null),h=Un(o),p=Un(l),g=v.useRef(null),x=lt(t,w=>f(w)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let w=function(C){if(b.paused||!d)return;const k=C.target;d.contains(k)?g.current=k:eo(g.current,{select:!0})},_=function(C){if(b.paused||!d)return;const k=C.relatedTarget;k!==null&&(d.contains(k)||eo(g.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&eo(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const E=new MutationObserver(S);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),E.disconnect()}}},[s,d,b.paused]),v.useEffect(()=>{if(d){DN.add(b);const w=document.activeElement;if(!d.contains(w)){const S=new CustomEvent(zx,TN);d.addEventListener(zx,h),d.dispatchEvent(S),S.defaultPrevented||(vz(Nz(tC(d)),{select:!0}),document.activeElement===w&&eo(d))}return()=>{d.removeEventListener(zx,h),setTimeout(()=>{const S=new CustomEvent(Ix,TN);d.addEventListener(Ix,p),d.dispatchEvent(S),S.defaultPrevented||eo(w??document.body,{select:!0}),d.removeEventListener(Ix,p),DN.remove(b)},0)}}},[d,h,p,b]);const j=v.useCallback(w=>{if(!n&&!s||b.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(_&&S){const E=w.currentTarget,[C,k]=yz(E);C&&k?!w.shiftKey&&S===k?(w.preventDefault(),n&&eo(C,{select:!0})):w.shiftKey&&S===C&&(w.preventDefault(),n&&eo(k,{select:!0})):S===E&&w.preventDefault()}},[n,s,b.paused]);return r.jsx(Qe.div,{tabIndex:-1,...c,ref:x,onKeyDown:j})});ph.displayName=xz;function vz(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(eo(s,{select:t}),document.activeElement!==n)return}function yz(e){const t=tC(e),n=RN(t,e),s=RN(t.reverse(),e);return[n,s]}function tC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function RN(e,t){for(const n of e)if(!bz(n,{upTo:t}))return n}function bz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wz(e){return e instanceof HTMLInputElement&&"select"in e}function eo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wz(e)&&t&&e.select()}}var DN=jz();function jz(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=ON(e,t),e.unshift(t)},remove(t){e=ON(e,t),e[0]?.resume()}}}function ON(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Nz(e){return e.filter(t=>t.tagName!=="A")}var _z=mS[" useId ".trim().toString()]||(()=>{}),Sz=0;function os(e){const[t,n]=v.useState(_z());return Hn(()=>{n(s=>s??String(Sz++))},[e]),t?`radix-${t}`:""}const Cz=["top","right","bottom","left"],lo=Math.min,br=Math.max,Em=Math.round,kf=Math.floor,zs=e=>({x:e,y:e}),Ez={left:"right",right:"left",bottom:"top",top:"bottom"},kz={start:"end",end:"start"};function E0(e,t,n){return br(e,lo(t,n))}function ba(e,t){return typeof e=="function"?e(t):e}function wa(e){return e.split("-")[0]}function Rl(e){return e.split("-")[1]}function Fv(e){return e==="x"?"y":"x"}function Vv(e){return e==="y"?"height":"width"}const Az=new Set(["top","bottom"]);function Ds(e){return Az.has(wa(e))?"y":"x"}function Hv(e){return Fv(Ds(e))}function Mz(e,t,n){n===void 0&&(n=!1);const s=Rl(e),o=Hv(e),l=Vv(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=km(c)),[c,km(c)]}function Tz(e){const t=km(e);return[k0(e),t,k0(t)]}function k0(e){return e.replace(/start|end/g,t=>kz[t])}const zN=["left","right"],IN=["right","left"],Rz=["top","bottom"],Dz=["bottom","top"];function Oz(e,t,n){switch(e){case"top":case"bottom":return n?t?IN:zN:t?zN:IN;case"left":case"right":return t?Rz:Dz;default:return[]}}function zz(e,t,n,s){const o=Rl(e);let l=Oz(wa(e),n==="start",s);return o&&(l=l.map(c=>c+"-"+o),t&&(l=l.concat(l.map(k0)))),l}function km(e){return e.replace(/left|right|bottom|top/g,t=>Ez[t])}function Iz(e){return{top:0,right:0,bottom:0,left:0,...e}}function nC(e){return typeof e!="number"?Iz(e):{top:e,right:e,bottom:e,left:e}}function Am(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function LN(e,t,n){let{reference:s,floating:o}=e;const l=Ds(t),c=Hv(t),d=Vv(c),f=wa(t),h=l==="y",p=s.x+s.width/2-o.width/2,g=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let b;switch(f){case"top":b={x:p,y:s.y-o.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-o.width,y:g};break;default:b={x:s.x,y:s.y}}switch(Rl(t)){case"start":b[c]-=x*(n&&h?-1:1);break;case"end":b[c]+=x*(n&&h?-1:1);break}return b}const Lz=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:g}=LN(h,s,f),x=s,b={},j=0;for(let w=0;w<d.length;w++){const{name:_,fn:S}=d[w],{x:E,y:C,data:k,reset:T}=await S({x:p,y:g,initialPlacement:s,placement:x,strategy:o,middlewareData:b,rects:h,platform:c,elements:{reference:e,floating:t}});p=E??p,g=C??g,b={...b,[_]:{...b[_],...k}},T&&j<=50&&(j++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(h=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:p,y:g}=LN(h,x,f)),w=-1)}return{x:p,y:g,placement:x,strategy:o,middlewareData:b}};async function vu(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=ba(t,e),j=nC(b),_=d[x?g==="floating"?"reference":"floating":g],S=Am(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(_)))==null||n?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:f})),E=g==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),k=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Am(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:C,strategy:f}):E);return{top:(S.top-T.top+j.top)/k.y,bottom:(T.bottom-S.bottom+j.bottom)/k.y,left:(S.left-T.left+j.left)/k.x,right:(T.right-S.right+j.right)/k.x}}const $z=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:h,padding:p=0}=ba(e,t)||{};if(h==null)return{};const g=nC(p),x={x:n,y:s},b=Hv(o),j=Vv(b),w=await c.getDimensions(h),_=b==="y",S=_?"top":"left",E=_?"bottom":"right",C=_?"clientHeight":"clientWidth",k=l.reference[j]+l.reference[b]-x[b]-l.floating[j],T=x[b]-l.reference[b],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let O=M?M[C]:0;(!O||!await(c.isElement==null?void 0:c.isElement(M)))&&(O=d.floating[C]||l.floating[j]);const I=k/2-T/2,U=O/2-w[j]/2-1,Z=lo(g[S],U),X=lo(g[E],U),Y=Z,q=O-w[j]-X,R=O/2-w[j]/2+I,$=E0(Y,R,q),A=!f.arrow&&Rl(o)!=null&&R!==$&&l.reference[j]/2-(R<Y?Z:X)-w[j]/2<0,L=A?R<Y?R-Y:R-q:0;return{[b]:x[b]+L,data:{[b]:$,centerOffset:R-$-L,...A&&{alignmentOffset:L}},reset:A}}}),Pz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:h}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=ba(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=wa(o),E=Ds(d),C=wa(d)===d,k=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=x||(C||!w?[km(d)]:Tz(d)),M=j!=="none";!x&&M&&T.push(...zz(d,w,j,k));const O=[d,...T],I=await vu(t,_),U=[];let Z=((s=l.flip)==null?void 0:s.overflows)||[];if(p&&U.push(I[S]),g){const R=Mz(o,c,k);U.push(I[R[0]],I[R[1]])}if(Z=[...Z,{placement:o,overflows:U}],!U.every(R=>R<=0)){var X,Y;const R=(((X=l.flip)==null?void 0:X.index)||0)+1,$=O[R];if($&&(!(g==="alignment"?E!==Ds($):!1)||Z.every(F=>Ds(F.placement)===E?F.overflows[0]>0:!0)))return{data:{index:R,overflows:Z},reset:{placement:$}};let A=(Y=Z.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:Y.placement;if(!A)switch(b){case"bestFit":{var q;const L=(q=Z.filter(F=>{if(M){const B=Ds(F.placement);return B===E||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,z)=>B+z,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:q[0];L&&(A=L);break}case"initialPlacement":A=d;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function $N(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PN(e){return Cz.some(t=>e[t]>=0)}const Uz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=ba(e,t);switch(s){case"referenceHidden":{const l=await vu(t,{...o,elementContext:"reference"}),c=$N(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:PN(c)}}}case"escaped":{const l=await vu(t,{...o,altBoundary:!0}),c=$N(l,n.floating);return{data:{escapedOffsets:c,escaped:PN(c)}}}default:return{}}}}},rC=new Set(["left","top"]);async function Fz(e,t){const{placement:n,platform:s,elements:o}=e,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=wa(n),d=Rl(n),f=Ds(n)==="y",h=rC.has(c)?-1:1,p=l&&f?-1:1,g=ba(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),f?{x:b*p,y:x*h}:{x:x*h,y:b*p}}const Vz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:l,placement:c,middlewareData:d}=t,f=await Fz(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},Hz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:_=>{let{x:S,y:E}=_;return{x:S,y:E}}},...f}=ba(e,t),h={x:n,y:s},p=await vu(t,f),g=Ds(wa(o)),x=Fv(g);let b=h[x],j=h[g];if(l){const _=x==="y"?"top":"left",S=x==="y"?"bottom":"right",E=b+p[_],C=b-p[S];b=E0(E,b,C)}if(c){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",E=j+p[_],C=j-p[S];j=E0(E,j,C)}const w=d.fn({...t,[x]:b,[g]:j});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[x]:l,[g]:c}}}}}},Bz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=ba(e,t),p={x:n,y:s},g=Ds(o),x=Fv(g);let b=p[x],j=p[g];const w=ba(d,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const C=x==="y"?"height":"width",k=l.reference[x]-l.floating[C]+_.mainAxis,T=l.reference[x]+l.reference[C]-_.mainAxis;b<k?b=k:b>T&&(b=T)}if(h){var S,E;const C=x==="y"?"width":"height",k=rC.has(wa(o)),T=l.reference[g]-l.floating[C]+(k&&((S=c.offset)==null?void 0:S[g])||0)+(k?0:_.crossAxis),M=l.reference[g]+l.reference[C]+(k?0:((E=c.offset)==null?void 0:E[g])||0)-(k?_.crossAxis:0);j<T?j=T:j>M&&(j=M)}return{[x]:b,[g]:j}}}},qz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...h}=ba(e,t),p=await vu(t,h),g=wa(o),x=Rl(o),b=Ds(o)==="y",{width:j,height:w}=l.floating;let _,S;g==="top"||g==="bottom"?(_=g,S=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(S=g,_=x==="end"?"top":"bottom");const E=w-p.top-p.bottom,C=j-p.left-p.right,k=lo(w-p[_],E),T=lo(j-p[S],C),M=!t.middlewareData.shift;let O=k,I=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(O=E),M&&!x){const Z=br(p.left,0),X=br(p.right,0),Y=br(p.top,0),q=br(p.bottom,0);b?I=j-2*(Z!==0||X!==0?Z+X:br(p.left,p.right)):O=w-2*(Y!==0||q!==0?Y+q:br(p.top,p.bottom))}await f({...t,availableWidth:I,availableHeight:O});const U=await c.getDimensions(d.floating);return j!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function gh(){return typeof window<"u"}function Dl(e){return sC(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fs(e){var t;return(t=(sC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sC(e){return gh()?e instanceof Node||e instanceof Cr(e).Node:!1}function ls(e){return gh()?e instanceof Element||e instanceof Cr(e).Element:!1}function Ls(e){return gh()?e instanceof HTMLElement||e instanceof Cr(e).HTMLElement:!1}function UN(e){return!gh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cr(e).ShadowRoot}const Zz=new Set(["inline","contents"]);function Yu(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Zz.has(o)}const Yz=new Set(["table","td","th"]);function Wz(e){return Yz.has(Dl(e))}const Gz=[":popover-open",":modal"];function xh(e){return Gz.some(t=>{try{return e.matches(t)}catch{return!1}})}const Xz=["transform","translate","scale","rotate","perspective"],Kz=["transform","translate","scale","rotate","perspective","filter"],Qz=["paint","layout","strict","content"];function Bv(e){const t=qv(),n=ls(e)?cs(e):e;return Xz.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Kz.some(s=>(n.willChange||"").includes(s))||Qz.some(s=>(n.contain||"").includes(s))}function Jz(e){let t=co(e);for(;Ls(t)&&!hl(t);){if(Bv(t))return t;if(xh(t))return null;t=co(t)}return null}function qv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e9=new Set(["html","body","#document"]);function hl(e){return e9.has(Dl(e))}function cs(e){return Cr(e).getComputedStyle(e)}function vh(e){return ls(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Dl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||UN(e)&&e.host||Fs(e);return UN(t)?t.host:t}function aC(e){const t=co(e);return hl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ls(t)&&Yu(t)?t:aC(t)}function yu(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=aC(e),l=o===((s=e.ownerDocument)==null?void 0:s.body),c=Cr(o);if(l){const d=A0(c);return t.concat(c,c.visualViewport||[],Yu(o)?o:[],d&&n?yu(d):[])}return t.concat(o,yu(o,[],n))}function A0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oC(e){const t=cs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Ls(e),l=o?e.offsetWidth:n,c=o?e.offsetHeight:s,d=Em(n)!==l||Em(s)!==c;return d&&(n=l,s=c),{width:n,height:s,$:d}}function Zv(e){return ls(e)?e:e.contextElement}function nl(e){const t=Zv(e);if(!Ls(t))return zs(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:l}=oC(t);let c=(l?Em(n.width):n.width)/s,d=(l?Em(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const t9=zs(0);function iC(e){const t=Cr(e);return!qv()||!t.visualViewport?t9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function n9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cr(e)?!1:t}function qo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Zv(e);let c=zs(1);t&&(s?ls(s)&&(c=nl(s)):c=nl(e));const d=n9(l,n,s)?iC(l):zs(0);let f=(o.left+d.x)/c.x,h=(o.top+d.y)/c.y,p=o.width/c.x,g=o.height/c.y;if(l){const x=Cr(l),b=s&&ls(s)?Cr(s):s;let j=x,w=A0(j);for(;w&&s&&b!==j;){const _=nl(w),S=w.getBoundingClientRect(),E=cs(w),C=S.left+(w.clientLeft+parseFloat(E.paddingLeft))*_.x,k=S.top+(w.clientTop+parseFloat(E.paddingTop))*_.y;f*=_.x,h*=_.y,p*=_.x,g*=_.y,f+=C,h+=k,j=Cr(w),w=A0(j)}}return Am({width:p,height:g,x:f,y:h})}function yh(e,t){const n=vh(e).scrollLeft;return t?t.left+n:qo(Fs(e)).left+n}function lC(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-yh(e,n),o=n.top+t.scrollTop;return{x:s,y:o}}function r9(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const l=o==="fixed",c=Fs(s),d=t?xh(t.floating):!1;if(s===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},h=zs(1);const p=zs(0),g=Ls(s);if((g||!g&&!l)&&((Dl(s)!=="body"||Yu(c))&&(f=vh(s)),Ls(s))){const b=qo(s);h=nl(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const x=c&&!g&&!l?lC(c,f):zs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+x.x,y:n.y*h.y-f.scrollTop*h.y+p.y+x.y}}function s9(e){return Array.from(e.getClientRects())}function a9(e){const t=Fs(e),n=vh(e),s=e.ownerDocument.body,o=br(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),l=br(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+yh(e);const d=-n.scrollTop;return cs(s).direction==="rtl"&&(c+=br(t.clientWidth,s.clientWidth)-o),{width:o,height:l,x:c,y:d}}const FN=25;function o9(e,t){const n=Cr(e),s=Fs(e),o=n.visualViewport;let l=s.clientWidth,c=s.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const p=qv();(!p||p&&t==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const h=yh(s);if(h<=0){const p=s.ownerDocument,g=p.body,x=getComputedStyle(g),b=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(s.clientWidth-g.clientWidth-b);j<=FN&&(l-=j)}else h<=FN&&(l+=h);return{width:l,height:c,x:d,y:f}}const i9=new Set(["absolute","fixed"]);function l9(e,t){const n=qo(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,l=Ls(e)?nl(e):zs(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=o*l.x,h=s*l.y;return{width:c,height:d,x:f,y:h}}function VN(e,t,n){let s;if(t==="viewport")s=o9(e,n);else if(t==="document")s=a9(Fs(e));else if(ls(t))s=l9(t,n);else{const o=iC(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Am(s)}function cC(e,t){const n=co(e);return n===t||!ls(n)||hl(n)?!1:cs(n).position==="fixed"||cC(n,t)}function c9(e,t){const n=t.get(e);if(n)return n;let s=yu(e,[],!1).filter(d=>ls(d)&&Dl(d)!=="body"),o=null;const l=cs(e).position==="fixed";let c=l?co(e):e;for(;ls(c)&&!hl(c);){const d=cs(c),f=Bv(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&i9.has(o.position)||Yu(c)&&!f&&cC(e,c))?s=s.filter(p=>p!==c):o=d,c=co(c)}return t.set(e,s),s}function u9(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const c=[...n==="clippingAncestors"?xh(t)?[]:c9(t,this._c):[].concat(n),s],d=c[0],f=c.reduce((h,p)=>{const g=VN(t,p,o);return h.top=br(g.top,h.top),h.right=lo(g.right,h.right),h.bottom=lo(g.bottom,h.bottom),h.left=br(g.left,h.left),h},VN(t,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function d9(e){const{width:t,height:n}=oC(e);return{width:t,height:n}}function f9(e,t,n){const s=Ls(t),o=Fs(t),l=n==="fixed",c=qo(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=zs(0);function h(){f.x=yh(o)}if(s||!s&&!l)if((Dl(t)!=="body"||Yu(o))&&(d=vh(t)),s){const b=qo(t,!0,l,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else o&&h();l&&!s&&o&&h();const p=o&&!s&&!l?lC(o,d):zs(0),g=c.left+d.scrollLeft-f.x-p.x,x=c.top+d.scrollTop-f.y-p.y;return{x:g,y:x,width:c.width,height:c.height}}function Lx(e){return cs(e).position==="static"}function HN(e,t){if(!Ls(e)||cs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fs(e)===n&&(n=n.ownerDocument.body),n}function uC(e,t){const n=Cr(e);if(xh(e))return n;if(!Ls(e)){let o=co(e);for(;o&&!hl(o);){if(ls(o)&&!Lx(o))return o;o=co(o)}return n}let s=HN(e,t);for(;s&&Wz(s)&&Lx(s);)s=HN(s,t);return s&&hl(s)&&Lx(s)&&!Bv(s)?n:s||Jz(e)||n}const m9=async function(e){const t=this.getOffsetParent||uC,n=this.getDimensions,s=await n(e.floating);return{reference:f9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function h9(e){return cs(e).direction==="rtl"}const p9={convertOffsetParentRelativeRectToViewportRelativeRect:r9,getDocumentElement:Fs,getClippingRect:u9,getOffsetParent:uC,getElementRects:m9,getClientRects:s9,getDimensions:d9,getScale:nl,isElement:ls,isRTL:h9};function dC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function g9(e,t){let n=null,s;const o=Fs(e);function l(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const h=e.getBoundingClientRect(),{left:p,top:g,width:x,height:b}=h;if(d||t(),!x||!b)return;const j=kf(g),w=kf(o.clientWidth-(p+x)),_=kf(o.clientHeight-(g+b)),S=kf(p),C={rootMargin:-j+"px "+-w+"px "+-_+"px "+-S+"px",threshold:br(0,lo(1,f))||1};let k=!0;function T(M){const O=M[0].intersectionRatio;if(O!==f){if(!k)return c();O?c(!1,O):s=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!dC(h,e.getBoundingClientRect())&&c(),k=!1}try{n=new IntersectionObserver(T,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(e)}return c(!0),l}function x9(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,h=Zv(e),p=o||l?[...h?yu(h):[],...yu(t)]:[];p.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const g=h&&d?g9(h,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(S=>{let[E]=S;E&&E.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),h&&!f&&b.observe(h),b.observe(t));let j,w=f?qo(e):null;f&&_();function _(){const S=qo(e);w&&!dC(w,S)&&n(),w=S,j=requestAnimationFrame(_)}return n(),()=>{var S;p.forEach(E=>{o&&E.removeEventListener("scroll",n),l&&E.removeEventListener("resize",n)}),g?.(),(S=b)==null||S.disconnect(),b=null,f&&cancelAnimationFrame(j)}}const v9=Vz,y9=Hz,b9=Pz,w9=qz,j9=Uz,BN=$z,N9=Bz,_9=(e,t,n)=>{const s=new Map,o={platform:p9,...n},l={...o.platform,_c:s};return Lz(e,t,{...o,platform:l})};var S9=typeof document<"u",C9=function(){},om=S9?v.useLayoutEffect:C9;function Mm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Mm(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!Mm(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function fC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qN(e,t){const n=fC(e);return Math.round(t*n)/n}function $x(e){const t=v.useRef(e);return om(()=>{t.current=e}),t}function E9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[p,g]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=v.useState(s);Mm(x,s)||b(s);const[j,w]=v.useState(null),[_,S]=v.useState(null),E=v.useCallback(F=>{F!==M.current&&(M.current=F,w(F))},[]),C=v.useCallback(F=>{F!==O.current&&(O.current=F,S(F))},[]),k=l||j,T=c||_,M=v.useRef(null),O=v.useRef(null),I=v.useRef(p),U=f!=null,Z=$x(f),X=$x(o),Y=$x(h),q=v.useCallback(()=>{if(!M.current||!O.current)return;const F={placement:t,strategy:n,middleware:x};X.current&&(F.platform=X.current),_9(M.current,O.current,F).then(B=>{const z={...B,isPositioned:Y.current!==!1};R.current&&!Mm(I.current,z)&&(I.current=z,Ms.flushSync(()=>{g(z)}))})},[x,t,n,X,Y]);om(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(F=>({...F,isPositioned:!1})))},[h]);const R=v.useRef(!1);om(()=>(R.current=!0,()=>{R.current=!1}),[]),om(()=>{if(k&&(M.current=k),T&&(O.current=T),k&&T){if(Z.current)return Z.current(k,T,q);q()}},[k,T,q,Z,U]);const $=v.useMemo(()=>({reference:M,floating:O,setReference:E,setFloating:C}),[E,C]),A=v.useMemo(()=>({reference:k,floating:T}),[k,T]),L=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!A.floating)return F;const B=qN(A.floating,p.x),z=qN(A.floating,p.y);return d?{...F,transform:"translate("+B+"px, "+z+"px)",...fC(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:z}},[n,d,A.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:q,refs:$,elements:A,floatingStyles:L}),[p,q,$,A,L])}const k9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?BN({element:s.current,padding:o}).fn(n):{}:s?BN({element:s,padding:o}).fn(n):{}}}},A9=(e,t)=>({...v9(e),options:[e,t]}),M9=(e,t)=>({...y9(e),options:[e,t]}),T9=(e,t)=>({...N9(e),options:[e,t]}),R9=(e,t)=>({...b9(e),options:[e,t]}),D9=(e,t)=>({...w9(e),options:[e,t]}),O9=(e,t)=>({...j9(e),options:[e,t]}),z9=(e,t)=>({...k9(e),options:[e,t]});var I9="Arrow",mC=v.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...l}=e;return r.jsx(Qe.svg,{...l,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});mC.displayName=I9;var L9=mC;function Yv(e){const[t,n]=v.useState(void 0);return Hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Wv="Popper",[hC,Ol]=Mr(Wv),[$9,pC]=hC(Wv),gC=e=>{const{__scopePopper:t,children:n}=e,[s,o]=v.useState(null);return r.jsx($9,{scope:t,anchor:s,onAnchorChange:o,children:n})};gC.displayName=Wv;var xC="PopperAnchor",vC=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,l=pC(xC,n),c=v.useRef(null),d=lt(t,c),f=v.useRef(null);return v.useEffect(()=>{const h=f.current;f.current=s?.current||c.current,h!==f.current&&l.onAnchorChange(f.current)}),s?null:r.jsx(Qe.div,{...o,ref:d})});vC.displayName=xC;var Gv="PopperContent",[P9,U9]=hC(Gv),yC=v.forwardRef((e,t)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,...w}=e,_=pC(Gv,n),[S,E]=v.useState(null),C=lt(t,ae=>E(ae)),[k,T]=v.useState(null),M=Yv(k),O=M?.width??0,I=M?.height??0,U=s+(l!=="center"?"-"+l:""),Z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(h)?h:[h],Y=X.length>0,q={padding:Z,boundary:X.filter(V9),altBoundary:Y},{refs:R,floatingStyles:$,placement:A,isPositioned:L,middlewareData:F}=E9({strategy:"fixed",placement:U,whileElementsMounted:(...ae)=>x9(...ae,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[A9({mainAxis:o+I,alignmentAxis:c}),f&&M9({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?T9():void 0,...q}),f&&R9({...q}),D9({...q,apply:({elements:ae,rects:de,availableWidth:te,availableHeight:pe})=>{const{width:Se,height:Q}=de.reference,Ne=ae.floating.style;Ne.setProperty("--radix-popper-available-width",`${te}px`),Ne.setProperty("--radix-popper-available-height",`${pe}px`),Ne.setProperty("--radix-popper-anchor-width",`${Se}px`),Ne.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),k&&z9({element:k,padding:d}),H9({arrowWidth:O,arrowHeight:I}),x&&O9({strategy:"referenceHidden",...q})]}),[B,z]=jC(A),H=Un(j);Hn(()=>{L&&H?.()},[L,H]);const J=F.arrow?.x,K=F.arrow?.y,ie=F.arrow?.centerOffset!==0,[ge,ye]=v.useState();return Hn(()=>{S&&ye(window.getComputedStyle(S).zIndex)},[S]),r.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:L?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(P9,{scope:n,placedSide:B,onArrowChange:T,arrowX:J,arrowY:K,shouldHideArrow:ie,children:r.jsx(Qe.div,{"data-side":B,"data-align":z,...w,ref:C,style:{...w.style,animation:L?void 0:"none"}})})})});yC.displayName=Gv;var bC="PopperArrow",F9={top:"bottom",right:"left",bottom:"top",left:"right"},wC=v.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,l=U9(bC,s),c=F9[l.placedSide];return r.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:r.jsx(L9,{...o,ref:n,style:{...o.style,display:"block"}})})});wC.displayName=bC;function V9(e){return e!==null}var H9=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:s,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,p]=jC(n),g={start:"0%",center:"50%",end:"100%"}[p],x=(o.arrow?.x??0)+d/2,b=(o.arrow?.y??0)+f/2;let j="",w="";return h==="bottom"?(j=c?g:`${x}px`,w=`${-f}px`):h==="top"?(j=c?g:`${x}px`,w=`${s.floating.height+f}px`):h==="right"?(j=`${-f}px`,w=c?g:`${b}px`):h==="left"&&(j=`${s.floating.width+f}px`,w=c?g:`${b}px`),{data:{x:j,y:w}}}});function jC(e){const[t,n="center"]=e.split("-");return[t,n]}var Xv=gC,Kv=vC,Qv=yC,Jv=wC,B9="Portal",Wu=v.forwardRef((e,t)=>{const{container:n,...s}=e,[o,l]=v.useState(!1);Hn(()=>l(!0),[]);const c=n||o&&globalThis?.document?.body;return c?gD.createPortal(r.jsx(Qe.div,{...s,ref:t}),c):null});Wu.displayName=B9;function q9(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var Yn=e=>{const{present:t,children:n}=e,s=Z9(t),o=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),l=lt(s.ref,Y9(o));return typeof n=="function"||s.isPresent?v.cloneElement(o,{ref:l}):null};Yn.displayName="Presence";function Z9(e){const[t,n]=v.useState(),s=v.useRef(null),o=v.useRef(e),l=v.useRef("none"),c=e?"mounted":"unmounted",[d,f]=q9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Af(s.current);l.current=d==="mounted"?h:"none"},[d]),Hn(()=>{const h=s.current,p=o.current;if(p!==e){const x=l.current,b=Af(h);e?f("MOUNT"):b==="none"||h?.display==="none"?f("UNMOUNT"):f(p&&x!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,f]),Hn(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,g=b=>{const w=Af(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&w&&(f("ANIMATION_END"),!o.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=b=>{b.target===t&&(l.current=Af(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Af(e){return e?.animationName||"none"}function Y9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Px="rovingFocusGroup.onEntryFocus",W9={bubbles:!1,cancelable:!0},Gu="RovingFocusGroup",[M0,NC,G9]=Pv(Gu),[X9,bh]=Mr(Gu,[G9]),[K9,Q9]=X9(Gu),_C=v.forwardRef((e,t)=>r.jsx(M0.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(M0.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(J9,{...e,ref:t})})}));_C.displayName=Gu;var J9=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=e,x=v.useRef(null),b=lt(t,x),j=qu(l),[w,_]=ya({prop:c,defaultProp:d??null,onChange:f,caller:Gu}),[S,E]=v.useState(!1),C=Un(h),k=NC(n),T=v.useRef(!1),[M,O]=v.useState(0);return v.useEffect(()=>{const I=x.current;if(I)return I.addEventListener(Px,C),()=>I.removeEventListener(Px,C)},[C]),r.jsx(K9,{scope:n,orientation:s,dir:j,loop:o,currentTabStopId:w,onItemFocus:v.useCallback(I=>_(I),[_]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>O(I=>I-1),[]),children:r.jsx(Qe.div,{tabIndex:S||M===0?-1:0,"data-orientation":s,...g,ref:b,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{T.current=!0}),onFocus:ze(e.onFocus,I=>{const U=!T.current;if(I.target===I.currentTarget&&U&&!S){const Z=new CustomEvent(Px,W9);if(I.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const X=k().filter(A=>A.focusable),Y=X.find(A=>A.active),q=X.find(A=>A.id===w),$=[Y,q,...X].filter(Boolean).map(A=>A.ref.current);EC($,p)}}T.current=!1}),onBlur:ze(e.onBlur,()=>E(!1))})})}),SC="RovingFocusGroupItem",CC=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:l,children:c,...d}=e,f=os(),h=l||f,p=Q9(SC,n),g=p.currentTabStopId===h,x=NC(n),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:w}=p;return v.useEffect(()=>{if(s)return b(),()=>j()},[s,b,j]),r.jsx(M0.ItemSlot,{scope:n,id:h,focusable:s,active:o,children:r.jsx(Qe.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...d,ref:t,onMouseDown:ze(e.onMouseDown,_=>{s?p.onItemFocus(h):_.preventDefault()}),onFocus:ze(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:ze(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=nI(_,p.orientation,p.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=x().filter(k=>k.focusable).map(k=>k.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const k=C.indexOf(_.currentTarget);C=p.loop?rI(C,k+1):C.slice(k+1)}setTimeout(()=>EC(C))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});CC.displayName=SC;var eI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nI(e,t,n){const s=tI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return eI[s]}function EC(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function rI(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var kC=_C,AC=CC,sI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bi=new WeakMap,Mf=new WeakMap,Tf={},Ux=0,MC=function(e){return e&&(e.host||MC(e.parentNode))},aI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=MC(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oI=function(e,t,n,s){var o=aI(t,Array.isArray(e)?e:[e]);Tf[n]||(Tf[n]=new WeakMap);var l=Tf[n],c=[],d=new Set,f=new Set(o),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};o.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))p(x);else try{var b=x.getAttribute(s),j=b!==null&&b!=="false",w=(Bi.get(x)||0)+1,_=(l.get(x)||0)+1;Bi.set(x,w),l.set(x,_),c.push(x),w===1&&j&&Mf.set(x,!0),_===1&&x.setAttribute(n,"true"),j||x.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",x,S)}})};return p(t),d.clear(),Ux++,function(){c.forEach(function(g){var x=Bi.get(g)-1,b=l.get(g)-1;Bi.set(g,x),l.set(g,b),x||(Mf.has(g)||g.removeAttribute(s),Mf.delete(g)),b||g.removeAttribute(n)}),Ux--,Ux||(Bi=new WeakMap,Bi=new WeakMap,Mf=new WeakMap,Tf={})}},ey=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=sI(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),oI(s,o,n,"aria-hidden")):function(){return null}},Es=function(){return Es=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Es.apply(this,arguments)};function TC(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function iI(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,l;s<o;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}var im="right-scroll-bar-position",lm="width-before-scroll-bar",lI="with-scroll-bars-hidden",cI="--removed-body-scroll-bar-size";function Fx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uI(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var dI=typeof window<"u"?v.useLayoutEffect:v.useEffect,ZN=new WeakMap;function fI(e,t){var n=uI(null,function(s){return e.forEach(function(o){return Fx(o,s)})});return dI(function(){var s=ZN.get(n);if(s){var o=new Set(s),l=new Set(e),c=n.current;o.forEach(function(d){l.has(d)||Fx(d,null)}),l.forEach(function(d){o.has(d)||Fx(d,c)})}ZN.set(n,e)},[e]),n}function mI(e){return e}function hI(e,t){t===void 0&&(t=mI);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(s=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var p=c;c=[],p.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),n}}}};return o}function pI(e){e===void 0&&(e={});var t=hI(null);return t.options=Es({async:!0,ssr:!1},e),t}var RC=function(e){var t=e.sideCar,n=TC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Es({},n))};RC.isSideCarExport=!0;function gI(e,t){return e.useMedium(t),RC}var DC=pI(),Vx=function(){},wh=v.forwardRef(function(e,t){var n=v.useRef(null),s=v.useState({onScrollCapture:Vx,onWheelCapture:Vx,onTouchMoveCapture:Vx}),o=s[0],l=s[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,g=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,w=e.inert,_=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,C=e.gapMode,k=TC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=x,M=fI([n,t]),O=Es(Es({},k),o);return v.createElement(v.Fragment,null,p&&v.createElement(T,{sideCar:DC,removeScrollBar:h,shards:g,noRelative:b,noIsolation:j,inert:w,setCallbacks:l,allowPinchZoom:!!_,lockRef:n,gapMode:C}),c?v.cloneElement(v.Children.only(d),Es(Es({},O),{ref:M})):v.createElement(E,Es({},O,{className:f,ref:M}),d))});wh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wh.classNames={fullWidth:lm,zeroRight:im};var xI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vI(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xI();return t&&e.setAttribute("nonce",t),e}function yI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wI=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vI())&&(yI(t,n),bI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jI=function(){var e=wI();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},OC=function(){var e=jI(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},NI={left:0,top:0,right:0,gap:0},Hx=function(e){return parseInt(e||"",10)||0},_I=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Hx(n),Hx(s),Hx(o)]},SI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NI;var t=_I(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},CI=OC(),rl="data-scroll-locked",EI=function(e,t,n,s){var o=e.left,l=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lI,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(rl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(im,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(lm,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(im," .").concat(im,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lm," .").concat(lm,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(rl,`] {
    `).concat(cI,": ").concat(d,`px;
  }
`)},YN=function(){var e=parseInt(document.body.getAttribute(rl)||"0",10);return isFinite(e)?e:0},kI=function(){v.useEffect(function(){return document.body.setAttribute(rl,(YN()+1).toString()),function(){var e=YN()-1;e<=0?document.body.removeAttribute(rl):document.body.setAttribute(rl,e.toString())}},[])},AI=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;kI();var l=v.useMemo(function(){return SI(o)},[o]);return v.createElement(CI,{styles:EI(l,!t,o,n?"":"!important")})},T0=!1;if(typeof window<"u")try{var Rf=Object.defineProperty({},"passive",{get:function(){return T0=!0,!0}});window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{T0=!1}var qi=T0?{passive:!1}:!1,MI=function(e){return e.tagName==="TEXTAREA"},zC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!MI(e)&&n[t]==="visible")},TI=function(e){return zC(e,"overflowY")},RI=function(e){return zC(e,"overflowX")},WN=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=IC(e,s);if(o){var l=LC(e,s),c=l[1],d=l[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},DI=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},OI=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},IC=function(e,t){return e==="v"?TI(t):RI(t)},LC=function(e,t){return e==="v"?DI(t):OI(t)},zI=function(e,t){return e==="h"&&t==="rtl"?-1:1},II=function(e,t,n,s,o){var l=zI(e,window.getComputedStyle(t).direction),c=l*s,d=n.target,f=t.contains(d),h=!1,p=c>0,g=0,x=0;do{if(!d)break;var b=LC(e,d),j=b[0],w=b[1],_=b[2],S=w-_-l*j;(j||S)&&IC(e,d)&&(g+=S,x+=j);var E=d.parentNode;d=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(h=!0),h},Df=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GN=function(e){return[e.deltaX,e.deltaY]},XN=function(e){return e&&"current"in e?e.current:e},LI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$I=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PI=0,Zi=[];function UI(e){var t=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),o=v.useState(PI++)[0],l=v.useState(OC)[0],c=v.useRef(e);v.useEffect(function(){c.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=iI([e.lockRef.current],(e.shards||[]).map(XN),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var S=Df(w),E=n.current,C="deltaX"in w?w.deltaX:E[0]-S[0],k="deltaY"in w?w.deltaY:E[1]-S[1],T,M=w.target,O=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in w&&O==="h"&&M.type==="range")return!1;var I=WN(O,M);if(!I)return!0;if(I?T=O:(T=O==="v"?"h":"v",I=WN(O,M)),!I)return!1;if(!s.current&&"changedTouches"in w&&(C||k)&&(s.current=T),!T)return!0;var U=s.current||T;return II(U,_,w,U==="h"?C:k)},[]),f=v.useCallback(function(w){var _=w;if(!(!Zi.length||Zi[Zi.length-1]!==l)){var S="deltaY"in _?GN(_):Df(_),E=t.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&LI(T.delta,S)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var C=(c.current.shards||[]).map(XN).filter(Boolean).filter(function(T){return T.contains(_.target)}),k=C.length>0?d(_,C[0]):!c.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),h=v.useCallback(function(w,_,S,E){var C={name:w,delta:_,target:S,should:E,shadowParent:FI(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(k){return k!==C})},1)},[]),p=v.useCallback(function(w){n.current=Df(w),s.current=void 0},[]),g=v.useCallback(function(w){h(w.type,GN(w),w.target,d(w,e.lockRef.current))},[]),x=v.useCallback(function(w){h(w.type,Df(w),w.target,d(w,e.lockRef.current))},[]);v.useEffect(function(){return Zi.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",f,qi),document.addEventListener("touchmove",f,qi),document.addEventListener("touchstart",p,qi),function(){Zi=Zi.filter(function(w){return w!==l}),document.removeEventListener("wheel",f,qi),document.removeEventListener("touchmove",f,qi),document.removeEventListener("touchstart",p,qi)}},[]);var b=e.removeScrollBar,j=e.inert;return v.createElement(v.Fragment,null,j?v.createElement(l,{styles:$I(o)}):null,b?v.createElement(AI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VI=gI(DC,UI);var jh=v.forwardRef(function(e,t){return v.createElement(wh,Es({},e,{ref:t,sideCar:VI}))});jh.classNames=wh.classNames;var R0=["Enter"," "],HI=["ArrowDown","PageUp","Home"],$C=["ArrowUp","PageDown","End"],BI=[...HI,...$C],qI={ltr:[...R0,"ArrowRight"],rtl:[...R0,"ArrowLeft"]},ZI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xu="Menu",[bu,YI,WI]=Pv(Xu),[ri,PC]=Mr(Xu,[WI,Ol,bh]),Nh=Ol(),UC=bh(),[GI,si]=ri(Xu),[XI,Ku]=ri(Xu),FC=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:l,modal:c=!0}=e,d=Nh(t),[f,h]=v.useState(null),p=v.useRef(!1),g=Un(l),x=qu(o);return v.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(Xv,{...d,children:r.jsx(GI,{scope:t,open:n,onOpenChange:g,content:f,onContentChange:h,children:r.jsx(XI,{scope:t,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:x,modal:c,children:s})})})};FC.displayName=Xu;var KI="MenuAnchor",ty=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Nh(n);return r.jsx(Kv,{...o,...s,ref:t})});ty.displayName=KI;var ny="MenuPortal",[QI,VC]=ri(ny,{forceMount:void 0}),HC=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,l=si(ny,t);return r.jsx(QI,{scope:t,forceMount:n,children:r.jsx(Yn,{present:n||l.open,children:r.jsx(Wu,{asChild:!0,container:o,children:s})})})};HC.displayName=ny;var Hr="MenuContent",[JI,ry]=ri(Hr),BC=v.forwardRef((e,t)=>{const n=VC(Hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=si(Hr,e.__scopeMenu),c=Ku(Hr,e.__scopeMenu);return r.jsx(bu.Provider,{scope:e.__scopeMenu,children:r.jsx(Yn,{present:s||l.open,children:r.jsx(bu.Slot,{scope:e.__scopeMenu,children:c.modal?r.jsx(eL,{...o,ref:t}):r.jsx(tL,{...o,ref:t})})})})}),eL=v.forwardRef((e,t)=>{const n=si(Hr,e.__scopeMenu),s=v.useRef(null),o=lt(t,s);return v.useEffect(()=>{const l=s.current;if(l)return ey(l)},[]),r.jsx(sy,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tL=v.forwardRef((e,t)=>{const n=si(Hr,e.__scopeMenu);return r.jsx(sy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nL=Uo("MenuContent.ScrollLock"),sy=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:x,onDismiss:b,disableOutsideScroll:j,...w}=e,_=si(Hr,n),S=Ku(Hr,n),E=Nh(n),C=UC(n),k=YI(n),[T,M]=v.useState(null),O=v.useRef(null),I=lt(t,O,_.onContentChange),U=v.useRef(0),Z=v.useRef(""),X=v.useRef(0),Y=v.useRef(null),q=v.useRef("right"),R=v.useRef(0),$=j?jh:v.Fragment,A=j?{as:nL,allowPinchZoom:!0}:void 0,L=B=>{const z=Z.current+B,H=k().filter(ae=>!ae.disabled),J=document.activeElement,K=H.find(ae=>ae.ref.current===J)?.textValue,ie=H.map(ae=>ae.textValue),ge=hL(ie,z,K),ye=H.find(ae=>ae.textValue===ge)?.ref.current;(function ae(de){Z.current=de,window.clearTimeout(U.current),de!==""&&(U.current=window.setTimeout(()=>ae(""),1e3))})(z),ye&&setTimeout(()=>ye.focus())};v.useEffect(()=>()=>window.clearTimeout(U.current),[]),Uv();const F=v.useCallback(B=>q.current===Y.current?.side&&gL(B,Y.current?.area),[]);return r.jsx(JI,{scope:n,searchRef:Z,onItemEnter:v.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:v.useCallback(B=>{F(B)||(O.current?.focus(),M(null))},[F]),onTriggerLeave:v.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:X,onPointerGraceIntentChange:v.useCallback(B=>{Y.current=B},[]),children:r.jsx($,{...A,children:r.jsx(ph,{asChild:!0,trapped:o,onMountAutoFocus:ze(l,B=>{B.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:r.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:x,onDismiss:b,children:r.jsx(kC,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:M,onEntryFocus:ze(f,B=>{S.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Qv,{role:"menu","aria-orientation":"vertical","data-state":o4(_.open),"data-radix-menu-content":"",dir:S.dir,...E,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:ze(w.onKeyDown,B=>{const H=B.target.closest("[data-radix-menu-content]")===B.currentTarget,J=B.ctrlKey||B.altKey||B.metaKey,K=B.key.length===1;H&&(B.key==="Tab"&&B.preventDefault(),!J&&K&&L(B.key));const ie=O.current;if(B.target!==ie||!BI.includes(B.key))return;B.preventDefault();const ye=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);$C.includes(B.key)&&ye.reverse(),fL(ye)}),onBlur:ze(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(U.current),Z.current="")}),onPointerMove:ze(e.onPointerMove,wu(B=>{const z=B.target,H=R.current!==B.clientX;if(B.currentTarget.contains(z)&&H){const J=B.clientX>R.current?"right":"left";q.current=J,R.current=B.clientX}}))})})})})})})});BC.displayName=Hr;var rL="MenuGroup",ay=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Qe.div,{role:"group",...s,ref:t})});ay.displayName=rL;var sL="MenuLabel",qC=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Qe.div,{...s,ref:t})});qC.displayName=sL;var Tm="MenuItem",KN="menu.itemSelect",_h=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,l=v.useRef(null),c=Ku(Tm,e.__scopeMenu),d=ry(Tm,e.__scopeMenu),f=lt(t,l),h=v.useRef(!1),p=()=>{const g=l.current;if(!n&&g){const x=new CustomEvent(KN,{bubbles:!0,cancelable:!0});g.addEventListener(KN,b=>s?.(b),{once:!0}),QS(g,x),x.defaultPrevented?h.current=!1:c.onClose()}};return r.jsx(ZC,{...o,ref:f,disabled:n,onClick:ze(e.onClick,p),onPointerDown:g=>{e.onPointerDown?.(g),h.current=!0},onPointerUp:ze(e.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:ze(e.onKeyDown,g=>{const x=d.searchRef.current!=="";n||x&&g.key===" "||R0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_h.displayName=Tm;var ZC=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...l}=e,c=ry(Tm,n),d=UC(n),f=v.useRef(null),h=lt(t,f),[p,g]=v.useState(!1),[x,b]=v.useState("");return v.useEffect(()=>{const j=f.current;j&&b((j.textContent??"").trim())},[l.children]),r.jsx(bu.ItemSlot,{scope:n,disabled:s,textValue:o??x,children:r.jsx(AC,{asChild:!0,...d,focusable:!s,children:r.jsx(Qe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:h,onPointerMove:ze(e.onPointerMove,wu(j=>{s?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,wu(j=>c.onItemLeave(j))),onFocus:ze(e.onFocus,()=>g(!0)),onBlur:ze(e.onBlur,()=>g(!1))})})})}),aL="MenuCheckboxItem",YC=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(QC,{scope:e.__scopeMenu,checked:n,children:r.jsx(_h,{role:"menuitemcheckbox","aria-checked":Rm(n)?"mixed":n,...o,ref:t,"data-state":iy(n),onSelect:ze(o.onSelect,()=>s?.(Rm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YC.displayName=aL;var WC="MenuRadioGroup",[oL,iL]=ri(WC,{value:void 0,onValueChange:()=>{}}),GC=v.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,l=Un(s);return r.jsx(oL,{scope:e.__scopeMenu,value:n,onValueChange:l,children:r.jsx(ay,{...o,ref:t})})});GC.displayName=WC;var XC="MenuRadioItem",KC=v.forwardRef((e,t)=>{const{value:n,...s}=e,o=iL(XC,e.__scopeMenu),l=n===o.value;return r.jsx(QC,{scope:e.__scopeMenu,checked:l,children:r.jsx(_h,{role:"menuitemradio","aria-checked":l,...s,ref:t,"data-state":iy(l),onSelect:ze(s.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});KC.displayName=XC;var oy="MenuItemIndicator",[QC,lL]=ri(oy,{checked:!1}),JC=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,l=lL(oy,n);return r.jsx(Yn,{present:s||Rm(l.checked)||l.checked===!0,children:r.jsx(Qe.span,{...o,ref:t,"data-state":iy(l.checked)})})});JC.displayName=oy;var cL="MenuSeparator",e4=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});e4.displayName=cL;var uL="MenuArrow",t4=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=Nh(n);return r.jsx(Jv,{...o,...s,ref:t})});t4.displayName=uL;var dL="MenuSub",[Ine,n4]=ri(dL),Kc="MenuSubTrigger",r4=v.forwardRef((e,t)=>{const n=si(Kc,e.__scopeMenu),s=Ku(Kc,e.__scopeMenu),o=n4(Kc,e.__scopeMenu),l=ry(Kc,e.__scopeMenu),c=v.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=l,h={__scopeMenu:e.__scopeMenu},p=v.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),f(null)}},[d,f]),r.jsx(ty,{asChild:!0,...h,children:r.jsx(ZC,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":o4(n.open),...e,ref:lh(t,o.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,wu(g=>{l.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:ze(e.onPointerLeave,wu(g=>{p();const x=n.content?.getBoundingClientRect();if(x){const b=n.content?.dataset.side,j=b==="right",w=j?-5:5,_=x[j?"left":"right"],S=x[j?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+w,y:g.clientY},{x:_,y:x.top},{x:S,y:x.top},{x:S,y:x.bottom},{x:_,y:x.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,g=>{const x=l.searchRef.current!=="";e.disabled||x&&g.key===" "||qI[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});r4.displayName=Kc;var s4="MenuSubContent",a4=v.forwardRef((e,t)=>{const n=VC(Hr,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,l=si(Hr,e.__scopeMenu),c=Ku(Hr,e.__scopeMenu),d=n4(s4,e.__scopeMenu),f=v.useRef(null),h=lt(t,f);return r.jsx(bu.Provider,{scope:e.__scopeMenu,children:r.jsx(Yn,{present:s||l.open,children:r.jsx(bu.Slot,{scope:e.__scopeMenu,children:r.jsx(sy,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ze(e.onFocusOutside,p=>{p.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:ze(e.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),x=ZI[c.dir].includes(p.key);g&&x&&(l.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});a4.displayName=s4;function o4(e){return e?"open":"closed"}function Rm(e){return e==="indeterminate"}function iy(e){return Rm(e)?"indeterminate":e?"checked":"unchecked"}function fL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function mL(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function hL(e,t,n){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=mL(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function pL(e,t){const{x:n,y:s}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],h=d.x,p=d.y,g=f.x,x=f.y;p>s!=x>s&&n<(g-h)*(s-p)/(x-p)+h&&(o=!o)}return o}function gL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return pL(n,t)}function wu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var xL=FC,vL=ty,yL=HC,bL=BC,wL=ay,jL=qC,NL=_h,_L=YC,SL=GC,CL=KC,EL=JC,kL=e4,AL=t4,ML=r4,TL=a4,Sh="DropdownMenu",[RL,Lne]=Mr(Sh,[PC]),er=PC(),[DL,i4]=RL(Sh),l4=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:l,onOpenChange:c,modal:d=!0}=e,f=er(t),h=v.useRef(null),[p,g]=ya({prop:o,defaultProp:l??!1,onChange:c,caller:Sh});return r.jsx(DL,{scope:t,triggerId:os(),triggerRef:h,contentId:os(),open:p,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(x=>!x),[g]),modal:d,children:r.jsx(xL,{...f,open:p,onOpenChange:g,dir:s,modal:d,children:n})})};l4.displayName=Sh;var c4="DropdownMenuTrigger",u4=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,l=i4(c4,n),c=er(n);return r.jsx(vL,{asChild:!0,...c,children:r.jsx(Qe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:lh(t,l.triggerRef),onPointerDown:ze(e.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:ze(e.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});u4.displayName=c4;var OL="DropdownMenuPortal",d4=e=>{const{__scopeDropdownMenu:t,...n}=e,s=er(t);return r.jsx(yL,{...s,...n})};d4.displayName=OL;var f4="DropdownMenuContent",m4=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=i4(f4,n),l=er(n),c=v.useRef(!1);return r.jsx(bL,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...s,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,d=>{c.current||o.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!o.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m4.displayName=f4;var zL="DropdownMenuGroup",IL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(wL,{...o,...s,ref:t})});IL.displayName=zL;var LL="DropdownMenuLabel",h4=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(jL,{...o,...s,ref:t})});h4.displayName=LL;var $L="DropdownMenuItem",p4=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(NL,{...o,...s,ref:t})});p4.displayName=$L;var PL="DropdownMenuCheckboxItem",UL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(_L,{...o,...s,ref:t})});UL.displayName=PL;var FL="DropdownMenuRadioGroup",VL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(SL,{...o,...s,ref:t})});VL.displayName=FL;var HL="DropdownMenuRadioItem",BL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(CL,{...o,...s,ref:t})});BL.displayName=HL;var qL="DropdownMenuItemIndicator",ZL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(EL,{...o,...s,ref:t})});ZL.displayName=qL;var YL="DropdownMenuSeparator",g4=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(kL,{...o,...s,ref:t})});g4.displayName=YL;var WL="DropdownMenuArrow",GL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(AL,{...o,...s,ref:t})});GL.displayName=WL;var XL="DropdownMenuSubTrigger",KL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(ML,{...o,...s,ref:t})});KL.displayName=XL;var QL="DropdownMenuSubContent",JL=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=er(n);return r.jsx(TL,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JL.displayName=QL;var e7=l4,t7=u4,n7=d4,r7=m4,s7=h4,a7=p4,o7=g4;function zl({...e}){return r.jsx(e7,{"data-slot":"dropdown-menu",...e})}function Il({...e}){return r.jsx(t7,{"data-slot":"dropdown-menu-trigger",...e})}function Ll({className:e,sideOffset:t=4,...n}){return r.jsx(n7,{children:r.jsx(r7,{"data-slot":"dropdown-menu-content",sideOffset:t,className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Zt({className:e,inset:t,variant:n="default",...s}){return r.jsx(a7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:$e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function cm({className:e,inset:t,...n}){return r.jsx(s7,{"data-slot":"dropdown-menu-label","data-inset":t,className:$e("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function ao({className:e,...t}){return r.jsx(o7,{"data-slot":"dropdown-menu-separator",className:$e("bg-border -mx-1 my-1 h-px",e),...t})}function ly({size:e="md",className:t}){return r.jsx(cr,{className:$e("animate-spin",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},t)})}const i7=e=>e==="workflow"?Rs:bt;function l7({agents:e,workflows:t,entities:n,selectedItem:s,onSelect:o,onBrowseGallery:l,isLoading:c=!1}){const[d,f]=v.useState(!1),h=n||[...e,...t],p=j=>{o(j),f(!1)},g=s?i7(s.type):bt,x=s?.name||s?.id||"Select Agent or Workflow",b=s?.metadata?.lazy_loaded!==!1;return r.jsxs(zl,{open:d,onOpenChange:f,children:[r.jsx(Il,{asChild:!0,children:r.jsx(me,{variant:"outline",className:"w-64 justify-between font-mono text-sm",disabled:c,children:c?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ly,{size:"sm"}),r.jsx("span",{className:"text-muted-foreground",children:"Loading..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(g,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:x}),s&&!b&&r.jsx(cr,{className:"h-3 w-3 text-muted-foreground animate-spin ml-auto flex-shrink-0"})]}),r.jsx(zn,{className:"h-4 w-4 opacity-50"})]})})}),r.jsxs(Ll,{className:"w-80 font-mono",children:[(()=>{const j=h.filter(S=>S.type==="workflow"),w=h.filter(S=>S.type==="agent"),_=h[0]?.type;return r.jsxs(r.Fragment,{children:[_==="workflow"&&j.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs(cm,{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(S=>{const E=S.metadata?.lazy_loaded!==!1;return r.jsx(Zt,{className:"cursor-pointer group",onClick:()=>p(S),children:r.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[r.jsx(Rs,{className:"h-4 w-4 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("span",{className:"truncate font-medium block",children:S.name||S.id}),E&&S.description&&r.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:S.description})]})]})},S.id)})]}),j.length>0&&w.length>0&&r.jsx(ao,{}),w.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs(cm,{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Agents (",w.length,")"]}),w.map(S=>{const E=S.metadata?.lazy_loaded!==!1;return r.jsx(Zt,{className:"cursor-pointer group",onClick:()=>p(S),children:r.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[r.jsx(bt,{className:"h-4 w-4 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("span",{className:"truncate font-medium block",children:S.name||S.id}),E&&S.description&&r.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:S.description})]})]})},S.id)})]}),_==="agent"&&j.length>0&&r.jsxs(r.Fragment,{children:[w.length>0&&r.jsx(ao,{}),r.jsxs(cm,{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(S=>{const E=S.metadata?.lazy_loaded!==!1;return r.jsx(Zt,{className:"cursor-pointer group",onClick:()=>p(S),children:r.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[r.jsx(Rs,{className:"h-4 w-4 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("span",{className:"truncate font-medium block",children:S.name||S.id}),E&&S.description&&r.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:S.description})]})]})},S.id)})]})]})})(),h.length===0&&r.jsx(Zt,{disabled:!0,children:r.jsx("div",{className:"text-center text-muted-foreground py-2",children:c?"Loading agents and workflows...":"No agents or workflows found"})}),r.jsx(ao,{}),r.jsxs(Zt,{className:"cursor-pointer text-primary",onClick:()=>{l?.(),f(!1)},children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Browse Gallery"]})]})]})}var c7=(e,t,n,s,o,l,c,d)=>{let f=document.documentElement,h=["light","dark"];function p(b){(Array.isArray(e)?e:[e]).forEach(j=>{let w=j==="class",_=w&&l?o.map(S=>l[S]||S):o;w?(f.classList.remove(..._),f.classList.add(l&&l[b]?l[b]:b)):f.setAttribute(j,b)}),g(b)}function g(b){d&&h.includes(b)&&(f.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let b=localStorage.getItem(t)||n,j=c&&b==="system"?x():b;p(j)}catch{}},QN=["light","dark"],x4="(prefers-color-scheme: dark)",u7=typeof window>"u",cy=v.createContext(void 0),d7={setTheme:e=>{},themes:[]},f7=()=>{var e;return(e=v.useContext(cy))!=null?e:d7},m7=e=>v.useContext(cy)?v.createElement(v.Fragment,null,e.children):v.createElement(p7,{...e}),h7=["light","dark"],p7=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:o="theme",themes:l=h7,defaultTheme:c=n?"system":"light",attribute:d="data-theme",value:f,children:h,nonce:p,scriptProps:g})=>{let[x,b]=v.useState(()=>x7(o,c)),[j,w]=v.useState(()=>x==="system"?Bx():x),_=f?Object.values(f):l,S=v.useCallback(T=>{let M=T;if(!M)return;T==="system"&&n&&(M=Bx());let O=f?f[M]:M,I=t?v7(p):null,U=document.documentElement,Z=X=>{X==="class"?(U.classList.remove(..._),O&&U.classList.add(O)):X.startsWith("data-")&&(O?U.setAttribute(X,O):U.removeAttribute(X))};if(Array.isArray(d)?d.forEach(Z):Z(d),s){let X=QN.includes(c)?c:null,Y=QN.includes(M)?M:X;U.style.colorScheme=Y}I?.()},[p]),E=v.useCallback(T=>{let M=typeof T=="function"?T(x):T;b(M);try{localStorage.setItem(o,M)}catch{}},[x]),C=v.useCallback(T=>{let M=Bx(T);w(M),x==="system"&&n&&!e&&S("system")},[x,e]);v.useEffect(()=>{let T=window.matchMedia(x4);return T.addListener(C),C(T),()=>T.removeListener(C)},[C]),v.useEffect(()=>{let T=M=>{M.key===o&&(M.newValue?b(M.newValue):E(c))};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[E]),v.useEffect(()=>{S(e??x)},[e,x]);let k=v.useMemo(()=>({theme:x,setTheme:E,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:n?[...l,"system"]:l,systemTheme:n?j:void 0}),[x,E,e,j,n,l]);return v.createElement(cy.Provider,{value:k},v.createElement(g7,{forcedTheme:e,storageKey:o,attribute:d,enableSystem:n,enableColorScheme:s,defaultTheme:c,value:f,themes:l,nonce:p,scriptProps:g}),h)},g7=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:l,value:c,themes:d,nonce:f,scriptProps:h})=>{let p=JSON.stringify([n,t,l,e,d,c,s,o]).slice(1,-1);return v.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${c7.toString()})(${p})`}})}),x7=(e,t)=>{if(u7)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},v7=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Bx=e=>(e||(e=window.matchMedia(x4)),e.matches?"dark":"light");function y7(){const{setTheme:e}=f7();return r.jsxs(zl,{children:[r.jsx(Il,{asChild:!0,children:r.jsxs(me,{variant:"ghost",size:"sm",children:[r.jsx(D8,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),r.jsx(e8,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),r.jsxs(Ll,{align:"end",children:[r.jsx(Zt,{onClick:()=>e("light"),children:"Light"}),r.jsx(Zt,{onClick:()=>e("dark"),children:"Dark"}),r.jsx(Zt,{onClick:()=>e("system"),children:"System"})]})]})}const JN=e=>{let t;const n=new Set,s=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,x))}},o=()=>t,d={setState:s,getState:o,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h))},f=t=e(s,o,d);return d},b7=(e=>e?JN(e):JN),w7=e=>e;function j7(e,t=w7){const n=Le.useSyncExternalStore(e.subscribe,Le.useCallback(()=>t(e.getState()),[e,t]),Le.useCallback(()=>t(e.getInitialState()),[e,t]));return Le.useDebugValue(n),n}const e2=e=>{const t=b7(e),n=s=>j7(t,s);return Object.assign(n,t),n},uy=(e=>e?e2(e):e2),t2={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ju=new Map,Of=e=>{const t=ju.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},N7=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=ju.get(n.name);if(s)return{type:"tracked",store:e,...s};const o={connection:t.connect(n),stores:{}};return ju.set(n.name,o),{type:"tracked",store:e,...o}},_7=(e,t)=>{if(t===void 0)return;const n=ju.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&ju.delete(e))},S7=e=>{var t,n;if(!e)return;const s=e.split(`
`),o=s.findIndex(c=>c.includes("api.setState"));if(o<0)return;const l=((t=s[o+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},C7=(e,t={})=>(n,s,o)=>{const{enabled:l,anonymousActionType:c,store:d,...f}=t;let h;try{h=(l??(t2?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return e(n,s,o);const{connection:p,...g}=N7(d,h,f);let x=!0;o.setState=((w,_,S)=>{const E=n(w,_);if(!x)return E;const C=S===void 0?{type:c||S7(new Error().stack)||"anonymous"}:typeof S=="string"?{type:S}:S;return d===void 0?(p?.send(C,s()),E):(p?.send({...C,type:`${d}/${C.type}`},{...Of(f.name),[d]:o.getState()}),E)}),o.devtools={cleanup:()=>{p&&typeof p.unsubscribe=="function"&&p.unsubscribe(),_7(f.name,d)}};const b=(...w)=>{const _=x;x=!1,n(...w),x=_},j=e(o.setState,s,o);if(g.type==="untracked"?p?.init(j):(g.stores[g.store]=o,p?.init(Object.fromEntries(Object.entries(g.stores).map(([w,_])=>[w,w===g.store?j:_.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let w=!1;const _=o.dispatch;o.dispatch=(...S)=>{(t2?"production":void 0)!=="production"&&S[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),_(...S)}}return p.subscribe(w=>{var _;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return qx(w.payload,S=>{if(S.type==="__setState"){if(d===void 0){b(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=S.state[d];if(E==null)return;JSON.stringify(o.getState())!==JSON.stringify(E)&&b(E);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(S)});case"DISPATCH":switch(w.payload.type){case"RESET":return b(j),d===void 0?p?.init(o.getState()):p?.init(Of(f.name));case"COMMIT":if(d===void 0){p?.init(o.getState());return}return p?.init(Of(f.name));case"ROLLBACK":return qx(w.state,S=>{if(d===void 0){b(S),p?.init(o.getState());return}b(S[d]),p?.init(Of(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return qx(w.state,S=>{if(d===void 0){b(S);return}JSON.stringify(o.getState())!==JSON.stringify(S[d])&&b(S[d])});case"IMPORT_STATE":{const{nextLiftedState:S}=w.payload,E=(_=S.computedStates.slice(-1)[0])==null?void 0:_.state;if(!E)return;b(d===void 0?E:E[d]),p?.send(null,S);return}case"PAUSE_RECORDING":return x=!x}return}}),j},v4=C7,qx=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)};function E7(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),d=(l=n.getItem(o))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const D0=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return D0(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return D0(s)(n)}}}},k7=(e,t)=>(n,s,o)=>{let l={storage:E7(()=>localStorage),partialize:w=>w,version:0,merge:(w,_)=>({..._,...w}),...t},c=!1;const d=new Set,f=new Set;let h=l.storage;if(!h)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...w)},s,o);const p=()=>{const w=l.partialize({...s()});return h.setItem(l.name,{state:w,version:l.version})},g=o.setState;o.setState=(w,_)=>(g(w,_),p());const x=e((...w)=>(n(...w),p()),s,o);o.getInitialState=()=>x;let b;const j=()=>{var w,_;if(!h)return;c=!1,d.forEach(E=>{var C;return E((C=s())!=null?C:x)});const S=((_=l.onRehydrateStorage)==null?void 0:_.call(l,(w=s())!=null?w:x))||void 0;return D0(h.getItem.bind(h))(l.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==l.version){if(l.migrate){const C=l.migrate(E.state,E.version);return C instanceof Promise?C.then(k=>[!0,k]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var C;const[k,T]=E;if(b=l.merge(T,(C=s())!=null?C:x),n(b,!0),k)return p()}).then(()=>{S?.(b,void 0),b=s(),c=!0,f.forEach(E=>E(b))}).catch(E=>{S?.(void 0,E)})};return o.persist={setOptions:w=>{l={...l,...w},w.storage&&(h=w.storage)},clearStorage:()=>{h?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:w=>(d.add(w),()=>{d.delete(w)}),onFinishHydration:w=>(f.add(w),()=>{f.delete(w)})},l.skipHydration||j(),b||x},A7=k7,be=uy()(v4(A7(e=>({agents:[],workflows:[],entities:[],selectedAgent:void 0,isLoadingEntities:!0,entityError:null,currentConversation:void 0,availableConversations:[],chatItems:[],isStreaming:!1,isSubmitting:!1,loadingConversations:!1,inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],loadingSessions:!1,loadingCheckpoints:!1,showDebugPanel:!0,debugPanelMinimized:!1,debugPanelWidth:320,debugEvents:[],isResizing:!1,showAboutModal:!1,showGallery:!1,showDeployModal:!1,showEntityNotFoundToast:!1,toasts:[],oaiMode:{enabled:!1,model:"gpt-4o-mini"},uiMode:"developer",runtime:"python",serverCapabilities:{tracing:!1,openai_proxy:!1,deployment:!1},authRequired:!1,isDeploying:!1,deploymentLogs:[],lastDeployment:null,azureDeploymentEnabled:!1,setAgents:t=>e({agents:t}),setWorkflows:t=>e({workflows:t}),setEntities:t=>e({entities:t}),setSelectedAgent:t=>e({selectedAgent:t}),addAgent:t=>e(n=>({agents:[...n.agents,t]})),addWorkflow:t=>e(n=>({workflows:[...n.workflows,t]})),updateAgent:t=>e(n=>({agents:n.agents.map(s=>s.id===t.id?t:s),selectedAgent:n.selectedAgent?.id===t.id&&n.selectedAgent.type==="agent"?t:n.selectedAgent})),updateWorkflow:t=>e(n=>({workflows:n.workflows.map(s=>s.id===t.id?t:s),selectedAgent:n.selectedAgent?.id===t.id&&n.selectedAgent.type==="workflow"?t:n.selectedAgent})),removeEntity:t=>e(n=>({agents:n.agents.filter(s=>s.id!==t),workflows:n.workflows.filter(s=>s.id!==t),selectedAgent:n.selectedAgent?.id===t?void 0:n.selectedAgent})),setEntityError:t=>e({entityError:t}),setIsLoadingEntities:t=>e({isLoadingEntities:t}),setCurrentConversation:t=>e({currentConversation:t}),setAvailableConversations:t=>e({availableConversations:t}),setChatItems:t=>e({chatItems:t}),setIsStreaming:t=>e({isStreaming:t}),setIsSubmitting:t=>e({isSubmitting:t}),setLoadingConversations:t=>e({loadingConversations:t}),setInputValue:t=>e({inputValue:t}),setAttachments:t=>e({attachments:t}),updateConversationUsage:t=>e(n=>({conversationUsage:{total_tokens:n.conversationUsage.total_tokens+t,message_count:n.conversationUsage.message_count+1}})),setPendingApprovals:t=>e({pendingApprovals:t}),setCurrentSession:t=>e({currentSession:t}),setAvailableSessions:t=>e({availableSessions:t}),setSessionCheckpoints:t=>e({sessionCheckpoints:t}),setLoadingSessions:t=>e({loadingSessions:t}),setLoadingCheckpoints:t=>e({loadingCheckpoints:t}),addSession:t=>e(n=>({availableSessions:[t,...n.availableSessions]})),removeSession:t=>e(n=>({availableSessions:n.availableSessions.filter(s=>s.conversation_id!==t),currentSession:n.currentSession?.conversation_id===t?void 0:n.currentSession,sessionCheckpoints:n.currentSession?.conversation_id===t?[]:n.sessionCheckpoints})),setShowDebugPanel:t=>e({showDebugPanel:t}),setDebugPanelMinimized:t=>e({debugPanelMinimized:t}),setDebugPanelWidth:t=>e({debugPanelWidth:t}),addDebugEvent:t=>e(n=>{const s=Math.floor(Date.now()/1e3),o=n.debugEvents.length>0&&n.debugEvents[n.debugEvents.length-1]._uiTimestamp||0,l=Math.max(s,o+1);return{debugEvents:[...n.debugEvents,{...t,_uiTimestamp:"created_at"in t&&t.created_at?t.created_at:l}]}}),clearDebugEvents:()=>e({debugEvents:[]}),setIsResizing:t=>e({isResizing:t}),setShowAboutModal:t=>e({showAboutModal:t}),setShowGallery:t=>e({showGallery:t}),setShowDeployModal:t=>e({showDeployModal:t}),setShowEntityNotFoundToast:t=>e({showEntityNotFoundToast:t}),addToast:t=>e(n=>({toasts:[...n.toasts,{id:`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:t.type||"info",duration:t.duration||4e3,...t}]})),removeToast:t=>e(n=>({toasts:n.toasts.filter(s=>s.id!==t)})),setOAIMode:t=>e(n=>t.enabled&&!n.oaiMode.enabled?(Object.keys(localStorage).forEach(s=>{s.startsWith("devui_convs_")&&localStorage.removeItem(s)}),{oaiMode:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):!t.enabled&&n.oaiMode.enabled?(Object.keys(localStorage).forEach(s=>{s.startsWith("devui_convs_")&&localStorage.removeItem(s)}),{oaiMode:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):{oaiMode:t}),toggleOAIMode:()=>e(t=>{const n=!t.oaiMode.enabled;return{oaiMode:{...t.oaiMode,enabled:n},currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}}),setServerMeta:t=>e({uiMode:t.uiMode,runtime:t.runtime,serverCapabilities:t.capabilities,authRequired:t.authRequired}),startDeployment:()=>e({isDeploying:!0,deploymentLogs:[],lastDeployment:null}),addDeploymentLog:t=>e(n=>({deploymentLogs:[...n.deploymentLogs,t]})),setDeploymentResult:t=>e({isDeploying:!1,lastDeployment:t}),stopDeployment:()=>e({isDeploying:!1}),clearDeploymentState:()=>e({isDeploying:!1,deploymentLogs:[],lastDeployment:null}),setAzureDeploymentEnabled:t=>e({azureDeploymentEnabled:t}),selectEntity:t=>{e({selectedAgent:t,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],debugEvents:[]});const n=new URL(window.location.href);n.searchParams.set("entity_id",t.id),window.history.pushState({},"",n)}}),{name:"devui-storage",partialize:e=>({showDebugPanel:e.showDebugPanel,debugPanelMinimized:e.debugPanelMinimized,debugPanelWidth:e.debugPanelWidth,oaiMode:e.oaiMode,azureDeploymentEnabled:e.azureDeploymentEnabled})}),{name:"DevUI Store"})),Dm={enabled:!1,provider:"memory",top_k:4,min_score:.25,strategy:"last_message",context_prompt:`Os trechos a seguir so da base de conhecimento interna. Use-os para responder  pergunta do usurio.

IMPORTANTE: Ao usar informaes de um trecho, cite a fonte usando o nmero entre colchetes (por exemplo: [1], [2]). Sempre cite as fontes relevantes no final da frase ou pargrafo onde a informao  usada.`,namespace:"default",embedding:void 0},kt=uy()(v4(e=>({ragConfig:Dm,isLoading:!1,isSaving:!1,error:null,lastUpdated:null,collections:[],documents:{},searchResults:[],selectedCollectionId:null,isCollectionsLoading:!1,isDocumentsLoading:!1,isUploading:!1,isSearching:!1,setRagConfig:t=>e({ragConfig:t,error:null,lastUpdated:new Date}),updateRagConfig:t=>e(n=>({ragConfig:{...n.ragConfig,...t}})),updateEmbeddingConfig:t=>e(n=>({ragConfig:{...n.ragConfig,embedding:t}})),setIsLoading:t=>e({isLoading:t}),setIsSaving:t=>e({isSaving:t}),setError:t=>e({error:t}),setLastUpdated:t=>e({lastUpdated:t}),setCollections:t=>e({collections:t}),addCollection:t=>e(n=>({collections:[t,...n.collections]})),removeCollection:t=>e(n=>({collections:n.collections.filter(s=>s.id!==t),documents:Object.fromEntries(Object.entries(n.documents).filter(([s])=>s!==t)),searchResults:n.selectedCollectionId===t?[]:n.searchResults,selectedCollectionId:n.selectedCollectionId===t?null:n.selectedCollectionId})),setDocuments:(t,n)=>e(s=>({documents:{...s.documents,[t]:n}})),removeDocument:(t,n)=>e(s=>({documents:{...s.documents,[t]:(s.documents[t]||[]).filter(o=>o.id!==n)}})),setSearchResults:t=>e({searchResults:t}),setSelectedCollectionId:t=>e({selectedCollectionId:t}),setIsCollectionsLoading:t=>e({isCollectionsLoading:t}),setIsDocumentsLoading:t=>e({isDocumentsLoading:t}),setIsUploading:t=>e({isUploading:t}),setIsSearching:t=>e({isSearching:t}),resetToDefaults:()=>e({ragConfig:Dm,error:null})}),{name:"Knowledge Store"})),O0=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_RAG_CONFIG:Dm,useDevUIStore:be,useKnowledgeStore:kt},Symbol.toStringTag,{value:"Module"}));function n2({agents:e,workflows:t,entities:n,selectedItem:s,onSelect:o,onBrowseGallery:l,isLoading:c=!1,onSettingsClick:d,showEntitySelector:f=!1}){const{oaiMode:h}=be();return r.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4 bg-primary/5",children:[r.jsxs("div",{className:"flex items-center gap-3 font-semibold",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[r.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_maia)"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"paint0_maia",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#00BCD4"}),r.jsx("stop",{offset:"1",stopColor:"#003366"})]})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg font-bold text-primary tracking-tight",children:"MAIA"}),r.jsx("span",{className:"text-[10px] text-muted-foreground leading-none -mt-0.5",children:"A inteligncia que cuida"})]}),h.enabled&&r.jsxs(Be,{variant:"secondary",className:"gap-1 ml-2",children:[r.jsx(hh,{className:"h-3 w-3"}),"OpenAI: ",h.model]})]}),f&&!h.enabled&&r.jsx(l7,{agents:e,workflows:t,entities:n,selectedItem:s,onSelect:o,onBrowseGallery:l,isLoading:c}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[r.jsx(y7,{}),r.jsx(me,{variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),d?.()},children:r.jsx(Cm,{className:"h-4 w-4"})})]})]})}function z0(e,[t,n]){return Math.min(n,Math.max(t,e))}function M7(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var dy="ScrollArea",[y4,$ne]=Mr(dy),[T7,Br]=y4(dy),b4=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:l=600,...c}=e,[d,f]=v.useState(null),[h,p]=v.useState(null),[g,x]=v.useState(null),[b,j]=v.useState(null),[w,_]=v.useState(null),[S,E]=v.useState(0),[C,k]=v.useState(0),[T,M]=v.useState(!1),[O,I]=v.useState(!1),U=lt(t,X=>f(X)),Z=qu(o);return r.jsx(T7,{scope:n,type:s,dir:Z,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:p,content:g,onContentChange:x,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:T,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:O,onScrollbarYEnabledChange:I,onCornerWidthChange:E,onCornerHeightChange:k,children:r.jsx(Qe.div,{dir:Z,...c,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});b4.displayName=dy;var w4="ScrollAreaViewport",j4=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:o,...l}=e,c=Br(w4,n),d=v.useRef(null),f=lt(t,d,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...l,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});j4.displayName=w4;var Vs="ScrollAreaScrollbar",fy=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Br(Vs,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=o,d=e.orientation==="horizontal";return v.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),o.type==="hover"?r.jsx(R7,{...s,ref:t,forceMount:n}):o.type==="scroll"?r.jsx(D7,{...s,ref:t,forceMount:n}):o.type==="auto"?r.jsx(N4,{...s,ref:t,forceMount:n}):o.type==="always"?r.jsx(my,{...s,ref:t}):null});fy.displayName=Vs;var R7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Br(Vs,e.__scopeScrollArea),[l,c]=v.useState(!1);return v.useEffect(()=>{const d=o.scrollArea;let f=0;if(d){const h=()=>{window.clearTimeout(f),c(!0)},p=()=>{f=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(Yn,{present:n||l,children:r.jsx(N4,{"data-state":l?"visible":"hidden",...s,ref:t})})}),D7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Br(Vs,e.__scopeScrollArea),l=e.orientation==="horizontal",c=Eh(()=>f("SCROLL_END"),100),[d,f]=M7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,o.scrollHideDelay,f]),v.useEffect(()=>{const h=o.viewport,p=l?"scrollLeft":"scrollTop";if(h){let g=h[p];const x=()=>{const b=h[p];g!==b&&(f("SCROLL"),c()),g=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[o.viewport,l,f,c]),r.jsx(Yn,{present:n||d!=="hidden",children:r.jsx(my,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),N4=v.forwardRef((e,t)=>{const n=Br(Vs,e.__scopeScrollArea),{forceMount:s,...o}=e,[l,c]=v.useState(!1),d=e.orientation==="horizontal",f=Eh(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?h:p)}},10);return pl(n.viewport,f),pl(n.content,f),r.jsx(Yn,{present:s||l,children:r.jsx(my,{"data-state":l?"visible":"hidden",...o,ref:t})})}),my=v.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,o=Br(Vs,e.__scopeScrollArea),l=v.useRef(null),c=v.useRef(0),[d,f]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=k4(d.viewport,d.content),p={...s,sizes:d,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function g(x,b){return P7(x,c.current,d,b)}return n==="horizontal"?r.jsx(O7,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const x=o.viewport.scrollLeft,b=r2(x,d,o.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=g(x,o.dir))}}):n==="vertical"?r.jsx(z7,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const x=o.viewport.scrollTop,b=r2(x,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=g(x))}}):null}),O7=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,l=Br(Vs,e.__scopeScrollArea),[c,d]=v.useState(),f=v.useRef(null),h=lt(t,f,l.onScrollbarXChange);return v.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),r.jsx(S4,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ch(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(l.viewport){const x=l.viewport.scrollLeft+p.deltaX;e.onWheelScroll(x),M4(x,g)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:zm(c.paddingLeft),paddingEnd:zm(c.paddingRight)}})}})}),z7=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,l=Br(Vs,e.__scopeScrollArea),[c,d]=v.useState(),f=v.useRef(null),h=lt(t,f,l.onScrollbarYChange);return v.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),r.jsx(S4,{"data-orientation":"vertical",...o,ref:h,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ch(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(l.viewport){const x=l.viewport.scrollTop+p.deltaY;e.onWheelScroll(x),M4(x,g)&&p.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:zm(c.paddingTop),paddingEnd:zm(c.paddingBottom)}})}})}),[I7,_4]=y4(Vs),S4=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:g,...x}=e,b=Br(Vs,n),[j,w]=v.useState(null),_=lt(t,U=>w(U)),S=v.useRef(null),E=v.useRef(""),C=b.viewport,k=s.content-s.viewport,T=Un(p),M=Un(f),O=Eh(g,10);function I(U){if(S.current){const Z=U.clientX-S.current.left,X=U.clientY-S.current.top;h({x:Z,y:X})}}return v.useEffect(()=>{const U=Z=>{const X=Z.target;j?.contains(X)&&T(Z,k)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[C,j,k,T]),v.useEffect(M,[s,M]),pl(j,O),pl(b.content,O),r.jsx(I7,{scope:n,scrollbar:j,hasThumb:o,onThumbChange:Un(l),onThumbPointerUp:Un(c),onThumbPositionChange:M,onThumbPointerDown:Un(d),children:r.jsx(Qe.div,{...x,ref:_,style:{position:"absolute",...x.style},onPointerDown:ze(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),S.current=j.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),I(U))}),onPointerMove:ze(e.onPointerMove,I),onPointerUp:ze(e.onPointerUp,U=>{const Z=U.target;Z.hasPointerCapture(U.pointerId)&&Z.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),Om="ScrollAreaThumb",C4=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=_4(Om,e.__scopeScrollArea);return r.jsx(Yn,{present:n||o.hasThumb,children:r.jsx(L7,{ref:t,...s})})}),L7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...o}=e,l=Br(Om,n),c=_4(Om,n),{onThumbPositionChange:d}=c,f=lt(t,g=>c.onThumbChange(g)),h=v.useRef(void 0),p=Eh(()=>{h.current&&(h.current(),h.current=void 0)},100);return v.useEffect(()=>{const g=l.viewport;if(g){const x=()=>{if(p(),!h.current){const b=U7(g,d);h.current=b,d()}};return d(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[l.viewport,p,d]),r.jsx(Qe.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ze(e.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),j=g.clientX-b.left,w=g.clientY-b.top;c.onThumbPointerDown({x:j,y:w})}),onPointerUp:ze(e.onPointerUp,c.onThumbPointerUp)})});C4.displayName=Om;var hy="ScrollAreaCorner",E4=v.forwardRef((e,t)=>{const n=Br(hy,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx($7,{...e,ref:t}):null});E4.displayName=hy;var $7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,o=Br(hy,n),[l,c]=v.useState(0),[d,f]=v.useState(0),h=!!(l&&d);return pl(o.scrollbarX,()=>{const p=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(p),f(p)}),pl(o.scrollbarY,()=>{const p=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(p),c(p)}),h?r.jsx(Qe.div,{...s,ref:t,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zm(e){return e?parseInt(e,10):0}function k4(e,t){const n=e/t;return isNaN(n)?0:n}function Ch(e){const t=k4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function P7(e,t,n,s="ltr"){const o=Ch(n),l=o/2,c=t||l,d=o-c,f=n.scrollbar.paddingStart+c,h=n.scrollbar.size-n.scrollbar.paddingEnd-d,p=n.content-n.viewport,g=s==="ltr"?[0,p]:[p*-1,0];return A4([f,h],g)(e)}function r2(e,t,n="ltr"){const s=Ch(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,c=t.content-t.viewport,d=l-s,f=n==="ltr"?[0,c]:[c*-1,0],h=z0(e,f);return A4([0,c],[0,d])(h)}function A4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function M4(e,t){return e>0&&e<t}var U7=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},c=n.left!==l.left,d=n.top!==l.top;(c||d)&&t(),n=l,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function Eh(e,t){const n=Un(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function pl(e,t){const n=Un(t);Hn(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,n])}var T4=b4,F7=j4,V7=E4;const Fn=v.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(T4,{ref:s,className:$e("relative overflow-hidden",e),...n,children:[r.jsx(F7,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(R4,{}),r.jsx(V7,{})]}));Fn.displayName=T4.displayName;const R4=v.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(fy,{ref:s,orientation:t,className:$e("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(C4,{className:"relative flex-1 rounded-full bg-border"})}));R4.displayName=fy.displayName;var kh="Tabs",[H7,Pne]=Mr(kh,[bh]),D4=bh(),[B7,py]=H7(kh),O4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...h}=e,p=qu(d),[g,x]=ya({prop:s,onChange:o,defaultProp:l??"",caller:kh});return r.jsx(B7,{scope:n,baseId:os(),value:g,onValueChange:x,orientation:c,dir:p,activationMode:f,children:r.jsx(Qe.div,{dir:p,"data-orientation":c,...h,ref:t})})});O4.displayName=kh;var z4="TabsList",I4=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,l=py(z4,n),c=D4(n);return r.jsx(kC,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:r.jsx(Qe.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});I4.displayName=z4;var L4="TabsTrigger",$4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...l}=e,c=py(L4,n),d=D4(n),f=F4(c.baseId,s),h=V4(c.baseId,s),p=s===c.value;return r.jsx(AC,{asChild:!0,...d,focusable:!o,active:p,children:r.jsx(Qe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:ze(e.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:ze(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:ze(e.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!o&&g&&c.onValueChange(s)})})})});$4.displayName=L4;var P4="TabsContent",U4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:l,...c}=e,d=py(P4,n),f=F4(d.baseId,s),h=V4(d.baseId,s),p=s===d.value,g=v.useRef(p);return v.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Yn,{present:o||p,children:({present:x})=>r.jsx(Qe.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:x&&l})})});U4.displayName=P4;function F4(e,t){return`${e}-trigger-${t}`}function V4(e,t){return`${e}-content-${t}`}var q7=O4,H4=I4,B4=$4,q4=U4;const Ah=q7,Qu=v.forwardRef(({className:e,...t},n)=>r.jsx(H4,{ref:n,className:$e("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Qu.displayName=H4.displayName;const Nr=v.forwardRef(({className:e,...t},n)=>r.jsx(B4,{ref:n,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Nr.displayName=B4.displayName;const _r=v.forwardRef(({className:e,...t},n)=>r.jsx(q4,{ref:n,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_r.displayName=q4.displayName;function gy(){return r.jsx("div",{className:"flex items-center gap-2 py-3 px-2",children:r.jsx("div",{className:"flex-1 border-t border-border/50"})})}function xy(e){const t=[];let n=!1;for(let s=0;s<e.length;s++){const o=e[s];n&&o.type!=="response.done"&&(t.push({type:"separator",id:`sep-${s}`}),n=!1),t.push(o),(o.type==="response.done"||o.type==="response.completed")&&(n=!0)}return t}function Zo(e){if(e.type==="response.function_result.complete"){const t=e;return{call_id:t.call_id,output:t.output,status:t.status}}return null}function Z4(e){const t=[],n=new Map,s=new Map;let o="";for(const l of e){if(l.type==="response.trace.completed"||l.type==="response.trace.completed")continue;if(l.type==="response.output_item.added"){const f=l.item;if(f.type==="function_call"&&f.call_id&&f.name){const h=f.call_id;n.set(h,{name:f.name,arguments:"",callId:h,itemId:f.id,timestamp:new Date().toISOString()}),s.set(h,f.name)}t.push(l);continue}const c=Zo(l)!==null;if(l.type==="response.completed"||l.type==="response.done"||l.type==="error"||l.type==="response.workflow_event.completed"||l.type==="response.trace.completed"||l.type==="response.trace.completed"||c){if(o.trim()&&(t.push({type:"response.output_text.delta",delta:o.trim()}),o=""),(l.type==="response.trace.completed"||l.type==="response.trace.completed")&&"data"in l){const f=l.data;if(f.attributes&&f.attributes["gen_ai.output.messages"]&&typeof f.attributes["gen_ai.output.messages"]=="string")try{const h=JSON.parse(f.attributes["gen_ai.output.messages"]);for(const p of h)if(p.parts)for(const g of p.parts)g.type==="tool_call"&&g.name&&g.id&&s.set(g.id,g.name)}catch{}}const d=Zo(l);if(d){const f=d.call_id;if(f&&n.has(f)){const h=n.get(f),p=s.get(f)||h.name||"unknown";t.push({type:"response.function_call.complete",data:{name:p,arguments:h.arguments,call_id:h.callId}}),n.delete(f)}}t.push(l);continue}if(l.type==="response.function_call.delta"&&"data"in l){const d=l.data,f=d.call_id||`call_${Date.now()}`;n.has(f)||n.set(f,{name:d.name||void 0,arguments:"",callId:f,timestamp:new Date().toISOString()}),d.name&&d.name.trim()&&(n.get(f).name=d.name.trim());continue}if(l.type==="response.function_call.complete"&&"data"in l){t.push(l);continue}if(l.type==="response.function_call_arguments.delta"){let d="",f=null;if("delta"in l&&typeof l.delta=="string"&&(d=l.delta),"item_id"in l&&l.item_id){const h=l.item_id;for(const[p,g]of n.entries())if(g.itemId===h||p===h){f=p;break}}if(d&&f){const h=n.get(f);if(h){if(d==="{}"&&h.arguments==="")continue;h.arguments+=d}else console.warn(`Received argument delta for unknown call with item_id: ${"item_id"in l?l.item_id:"unknown"}`)}continue}if(l.type==="response.output_text.delta"&&"delta"in l){o+=l.delta||"",o.length>100&&(o.includes(`

`)||o.trim().match(/[.!?]\s*$/))&&(t.push({type:"response.output_text.delta",delta:o.trim()}),o="");continue}l.type!=="response.usage.complete"&&t.push(l)}for(const[,l]of n)if(l.arguments.trim()&&l.arguments.trim().length>2){const c=s.get(l.callId)||l.name||"unknown";t.push({type:"response.function_call.complete",data:{name:c,arguments:l.arguments,call_id:l.callId}})}return o.trim()&&t.push({type:"response.output_text.delta",delta:o.trim()}),t}function Z7(e){switch(e.type){case"response.output_text.delta":if("delta"in e){const t=e.delta||"";return t.length>60?`${t.slice(0,60)}...`:t}return"Text output";case"response.function_call.complete":if("data"in e&&e.data){const t=e.data;let n=t.name||"unknown";(!n||n==="unknown")&&(n="function_call");const s=t.arguments?typeof t.arguments=="string"?t.arguments.slice(0,30):JSON.stringify(t.arguments).slice(0,30):"";return`Calling ${n}(${s}${s.length>=30?"...":""})`}return"Function call";case"response.function_call_arguments.delta":return"delta"in e&&e.delta?`Function arg delta: ${e.delta.slice(0,30)}${e.delta.length>30?"...":""}`:"Function arguments...";case"response.function_result.complete":{const n=e.output.slice(0,40);return`Function result: ${n}${n.length>=40?"...":""}`}case"response.output_item.added":{const t=e;return t.item.type==="function_call"?`Tool call: ${t.item.name}`:"Output item added"}case"response.workflow_event.completed":return"data"in e&&e.data?`Executor: ${e.data.executor_id||"unknown"}`:"Workflow event";case"response.trace.completed":return"data"in e&&e.data?`Trace: ${e.data.operation_name||"unknown"}`:"Trace event";case"response.completed":if("response"in e&&e.response&&"usage"in e.response){const n=e.response.usage;if(n)return`Response complete (${n.total_tokens} tokens)`}return"Response complete";case"response.done":return"Response complete";case"error":return"message"in e&&typeof e.message=="string"?e.message:"Error occurred";default:return`${e.type}`}}function Y7(e){switch(e){case"response.output_text.delta":return ni;case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return Ho;case"response.function_result.complete":return Cn;case"response.output_item.added":return Cn;case"response.workflow_event.completed":return Rv;case"response.trace.completed":return is;case"response.completed":return Cn;case"response.done":return Cn;case"error":return Tl;default:return Sr}}function W7(e){switch(e){case"response.output_text.delta":return"text-gray-600 dark:text-gray-400";case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return"text-blue-600 dark:text-blue-400";case"response.function_result.complete":return"text-green-600 dark:text-green-400";case"response.output_item.added":return"text-green-600 dark:text-green-400";case"response.workflow_event.completed":return"text-purple-600 dark:text-purple-400";case"response.trace.completed":return"text-orange-600 dark:text-orange-400";case"response.completed":return"text-green-600 dark:text-green-400";case"response.done":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}function G7({event:e}){const[t,n]=v.useState(!1),s=e.type||"unknown",o=Y7(s),l=W7(s),c="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),d=Z7(e),f=e.type==="response.function_call.complete"&&"data"in e&&e.data||e.type==="response.function_result.complete"||e.type==="response.output_item.added"&&Zo(e)!==null||e.type==="response.workflow_event.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.output_text.delta"&&"delta"in e&&e.delta&&e.delta.length>100||e.type==="response.completed"&&"response"in e&&e.response||e.type==="error";return r.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[r.jsx(o,{className:`h-3 w-3 ${l}`}),r.jsx("span",{className:"font-mono",children:c}),r.jsx(Be,{variant:"outline",className:"text-xs py-0",children:e.type?e.type.replace("response.",""):"unknown"})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:`flex items-center gap-2 ${f?"cursor-pointer":""}`,onClick:()=>f&&n(!t),children:[f&&r.jsx("div",{className:"text-muted-foreground",children:t?r.jsx(zn,{className:"h-3 w-3"}):r.jsx(kr,{className:"h-3 w-3"})}),r.jsx("div",{className:"text-muted-foreground flex-1",children:f&&d.length>80?`${d.slice(0,80)}...`:d})]}),t&&f&&r.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:r.jsx(X7,{event:e})})]})]})}function X7({event:e}){if(e.type==="error"){const t=e;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tl,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Error Details"})]}),r.jsxs("div",{className:"text-xs",children:[t.message&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Message:"}),r.jsx("div",{className:"mt-1",children:r.jsx("pre",{className:"text-xs bg-destructive/10 border border-destructive/30 rounded p-2 text-destructive whitespace-pre-wrap break-all",children:t.message})})]}),t.code&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Code:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.code})]}),t.param&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Parameter:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.param})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Raw Event:"}),r.jsx("div",{className:"mt-1",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all max-h-32 overflow-auto",children:JSON.stringify(e,null,2)})})]})]})]})}switch(e.type){case"response.function_call.complete":if("data"in e&&e.data){const t=e.data;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Function Call"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Function:"}),r.jsx("span",{className:"ml-2 font-mono bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded",children:t.name||"unknown"})]}),t.call_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),t.arguments&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Arguments:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof t.arguments=="string"?t.arguments:JSON.stringify(t.arguments,null,1)})})]})]})]})}break;case"response.function_result.complete":{const t=e;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:t.output})})]})]})]})}case"response.output_item.added":{const t=Zo(e);if(t)return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.call_id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:t.output})})]})]})]});break}case"response.workflow_event.completed":if("data"in e&&e.data){const t=e.data;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rv,{className:"h-4 w-4 text-purple-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Workflow Event"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Event Type:"}),r.jsx("span",{className:"ml-2 font-mono bg-purple-100 dark:bg-purple-900 px-2 py-1 rounded",children:t.event_type||"unknown"})]}),t.executor_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Executor:"}),r.jsx("span",{className:"ml-2 font-mono",children:t.executor_id})]}),t.timestamp&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.timestamp})]}),t.data&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Data:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof t.data=="string"?t.data:JSON.stringify(t.data,null,1)})})]})]})]})}break;case"response.trace.completed":if("data"in e&&e.data){const t=e.data;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(is,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Trace Event"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),r.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:t.operation_name||"unknown"})]}),t.span_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.span_id})]}),t.trace_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.trace_id})]}),t.duration_ms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),r.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(t.duration_ms).toFixed(2),"ms"]})]}),t.status&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.status==="StatusCode.UNSET"||t.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:t.status||"unknown"})]}),t.entity_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),r.jsx("span",{className:"ml-2 font-mono text-xs",children:t.entity_id})]}),t.attributes&&Object.keys(t.attributes).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all",children:(()=>{try{const n={...t.attributes};return Object.keys(n).forEach(s=>{if(typeof n[s]=="string"&&n[s].startsWith("["))try{n[s]=JSON.parse(n[s])}catch{}}),JSON.stringify(n,null,2)}catch{return JSON.stringify(t.attributes,null,2)}})()})})]})]})]})}break;case"response.output_text.delta":if("delta"in e&&e.delta)return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ni,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Text Output"})]}),r.jsx("div",{className:"max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:e.delta})})]});break;case"response.completed":if("response"in e&&e.response){const n=e.response;return r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[n.usage&&r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsx("span",{className:"font-medium text-muted-foreground",children:"Usage:"})}),r.jsxs("div",{className:"ml-4 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Input tokens:"}),r.jsx("span",{className:"ml-2 font-mono",children:n.usage.input_tokens})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Output tokens:"}),r.jsx("span",{className:"ml-2 font-mono",children:n.usage.output_tokens})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Total tokens:"}),r.jsx("span",{className:"ml-2 font-mono bg-green-100 dark:bg-green-900 px-2 py-1 rounded",children:n.usage.total_tokens})]})]})]}),n.id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Response ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:n.id})]}),n.model&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Model:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:n.model})]})]})})}break;default:return r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsx("pre",{className:"bg-background border rounded p-2 overflow-auto max-h-32",children:JSON.stringify(e,null,2)})})}return null}function K7({events:e,isStreaming:t}){const n=v.useRef(null),s=Z4(e),l=[...xy(s)].reverse();return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rv,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Events"}),r.jsxs(Be,{variant:"outline",children:[s.length,e.length>s.length?` (${e.length} raw)`:""]})]}),t&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500 dark:bg-green-400"}),"Streaming"]})]}),r.jsx(Fn,{ref:n,className:"flex-1",children:r.jsx("div",{className:"p-3",children:s.length===0?r.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:e.length===0?"No events yet. Start a conversation to see real-time events.":"Processing events... Accumulated events will appear here."}):r.jsx("div",{className:"space-y-2",children:l.map((c,d)=>"type"in c&&c.type==="separator"?r.jsx(gy,{},c.id):r.jsx(G7,{event:c},`${c.type}-${d}`))})})})]})}function Q7({events:e}){const t=e.filter(o=>o.type==="response.trace.completed"||o.type==="response.trace.completed"),s=[...xy(t)].reverse();return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsx(is,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Traces"}),r.jsx(Be,{variant:"outline",children:t.length})]}),r.jsx(Fn,{className:"flex-1",children:r.jsx("div",{className:"p-3",children:t.length===0?r.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8",children:["No trace data available.",r.jsx("br",{}),e&&e.length>0&&r.jsxs("div",{className:"mt-3 text-xs border rounded p-2",children:[" ",r.jsx(Fr,{className:"inline h-4 w-4 mr-1  "}),"You may have to set the environment variable"," ",r.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"ENABLE_OTEL=true"})," ","or restart MAIA with the tracing flag"," ",r.jsx("div",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --tracing"}),"to enable tracing."]})]}):r.jsx("div",{className:"space-y-3",children:s.map((o,l)=>"type"in o&&o.type==="separator"?r.jsx(gy,{},o.id):r.jsx(J7,{event:o},l))})})})]})}function J7({event:e}){const[t,n]=v.useState(!1);if(e.type!=="response.trace.completed"&&e.type!=="response.trace.completed"||!("data"in e))return r.jsxs("div",{className:"border rounded p-3 text-red-600 dark:text-red-400 text-xs",children:["Error: Expected trace event but got ",e.type]});const s=e.data;let o;"_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?o=new Date(e._uiTimestamp*1e3).toLocaleTimeString():s.end_time?o=new Date(s.end_time*1e3).toLocaleTimeString():s.start_time?o=new Date(s.start_time*1e3).toLocaleTimeString():s.timestamp?o=new Date(s.timestamp).toLocaleTimeString():o=new Date().toLocaleTimeString();const l=s.operation_name||"Unknown Operation",c=s.duration_ms?`${Number(s.duration_ms).toFixed(1)}ms`:"",d=s.entity_id||"";return r.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[r.jsx(is,{className:"h-3 w-3 text-orange-600 dark:text-orange-400"}),r.jsx("span",{className:"font-mono",children:o}),r.jsx(Be,{variant:"outline",className:"text-xs py-0",children:"trace"}),c&&r.jsx(Be,{variant:"secondary",className:"text-xs py-0",children:c})]}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>n(!t),children:[r.jsx("div",{className:"text-muted-foreground",children:t?r.jsx(zn,{className:"h-3 w-3"}):r.jsx(kr,{className:"h-3 w-3"})}),r.jsxs("div",{className:"text-muted-foreground flex-1 break-all",children:[r.jsx("span",{className:"font-medium",children:l}),d&&r.jsxs("span",{className:"ml-2 text-xs",children:["(",d,")"]})]})]}),t&&r.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(is,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"font-semibold text-sm",children:"Trace Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),r.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:l})]}),s.span_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:s.span_id})]}),s.trace_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:s.trace_id})]}),s.parent_span_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Parent Span:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:s.parent_span_id})]}),s.duration_ms&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),r.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(s.duration_ms).toFixed(2),"ms"]})]}),s.status&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${s.status==="StatusCode.UNSET"||s.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:s.status||"unknown"})]}),s.entity_id&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),r.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:s.entity_id})]}),s.attributes&&Object.keys(s.attributes).length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),r.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:r.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:(()=>{try{const f={...s.attributes};return Object.keys(f).forEach(h=>{if(typeof f[h]=="string"&&f[h].startsWith("["))try{f[h]=JSON.parse(f[h])}catch{}}),JSON.stringify(f,null,2)}catch{return JSON.stringify(s.attributes,null,2)}})()})})]})]})]})})]})]})}function e$({events:e}){const t=Z4(e),n=[],s=t.filter(f=>f.type==="response.function_call.complete"),o=e.filter(f=>Zo(f)!==null),l=new Map;o.forEach(f=>{const h=Zo(f);h&&l.set(h.call_id,f)}),s.forEach(f=>{if(n.push(f),"data"in f&&f.data&&f.data.call_id){const h=String(f.data.call_id),p=l.get(h);p&&(n.push(p),l.delete(h))}}),l.forEach(f=>{n.push(f)});const d=[...xy(n)].reverse();return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsx(Ho,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Tools"}),r.jsx(Be,{variant:"outline",children:n.length})]}),r.jsx(Fn,{className:"flex-1",children:r.jsx("div",{className:"p-3",children:n.length===0?r.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No tool executions yet. Tool calls will appear here during conversations."}):r.jsx("div",{className:"space-y-3",children:d.map((f,h)=>"type"in f&&f.type==="separator"?r.jsx(gy,{},f.id):r.jsx(t$,{event:f},h))})})})]})}function t$({event:e}){const t="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),n=e.type==="response.function_call.complete",s=Zo(e),o=s!==null;if(!n&&!o)return null;const l=n&&"data"in e?e.data:null;return r.jsxs("div",{className:"border rounded p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),r.jsx("span",{className:"font-medium text-sm",children:n?"Tool Call":"Tool Result"}),n&&l&&l.name!==void 0&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(l.name),")"]})]}),r.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:t})]}),n&&l&&r.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ho,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),r.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"CALL"}),r.jsx("span",{className:"font-medium text-sm",children:String(l.name||"unknown")})]}),l.arguments!==void 0&&r.jsxs("div",{className:"text-xs",children:[r.jsx("span",{className:"text-muted-foreground mb-1 block",children:"Arguments:"}),r.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 max-w-full break-all whitespace-pre-wrap",children:typeof l.arguments=="string"?l.arguments:JSON.stringify(l.arguments,null,1)})]})]}),o&&s&&r.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Cn,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-xs font-mono bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded",children:"RESULT"}),s.status!=="completed"&&r.jsx("span",{className:"ml-auto px-2 py-1 rounded text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:s.status})]}),r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-muted-foreground",children:"Call ID:"}),r.jsx("span",{className:"font-mono text-xs break-all",children:s.call_id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground block mb-1",children:"Output:"}),r.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 break-all whitespace-pre-wrap",children:s.output})]})]})]})]})}function n$({events:e,isStreaming:t=!1,onMinimize:n}){return r.jsx("div",{className:"flex-1 border-l flex flex-col min-h-0",children:r.jsxs(Ah,{defaultValue:"events",className:"flex-1 flex flex-col min-h-0",children:[r.jsxs("div",{className:"px-3 pt-3 flex items-center gap-2 flex-shrink-0",children:[r.jsxs(Qu,{className:"flex-1",children:[r.jsx(Nr,{value:"events",className:"flex-1",children:"Events"}),r.jsx(Nr,{value:"traces",className:"flex-1",children:"Traces"}),r.jsx(Nr,{value:"tools",className:"flex-1",children:"Tools"})]}),n&&r.jsx(me,{variant:"ghost",size:"sm",onClick:n,className:"h-8 w-8 p-0 flex-shrink-0",title:"Minimize debug panel",children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsx(_r,{value:"events",className:"flex-1 mt-0 overflow-hidden",children:r.jsx(K7,{events:e,isStreaming:t})}),r.jsx(_r,{value:"traces",className:"flex-1 mt-0 overflow-hidden",children:r.jsx(Q7,{events:e})}),r.jsx(_r,{value:"tools",className:"flex-1 mt-0 overflow-hidden",children:r.jsx(e$,{events:e})})]})})}function ms({open:e,onOpenChange:t,children:n}){if(!e)return null;const s=o=>{o.key==="Escape"&&t(!1)};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onKeyDown:s,tabIndex:-1,children:[r.jsx("div",{className:"absolute inset-0 bg-black/50"}),r.jsx("div",{onClick:o=>o.stopPropagation(),children:n})]})}function hs({children:e,className:t=""}){const s=t.includes("w-[")||t.includes("w-full")||t.includes("max-w-")?"":"max-w-lg w-full";return r.jsx("div",{className:`relative bg-background border rounded-lg shadow-lg max-h-[90vh] overflow-hidden ${s} ${t}`,children:e})}function ps({children:e,className:t=""}){return r.jsx("div",{className:`space-y-2 ${t}`,children:e})}function gs({children:e,className:t=""}){return r.jsx("h2",{className:`text-lg font-semibold ${t}`,children:e})}function Mh({children:e,className:t=""}){return r.jsx("p",{className:`text-sm text-muted-foreground ${t}`,children:e})}function $l({onClose:e}){return r.jsx(me,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4 h-8 w-8 p-0 rounded-sm opacity-70 hover:opacity-100",children:r.jsx(Bo,{className:"h-4 w-4"})})}function Ju({children:e,className:t=""}){return r.jsx("div",{className:`flex justify-end gap-2 p-4 border-t bg-muted/50 ${t}`,children:e})}var r$="Label",Y4=v.forwardRef((e,t)=>r.jsx(Qe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Y4.displayName=r$;var W4=Y4;function Te({className:e,...t}){return r.jsx(W4,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function vy(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Th="Switch",[s$,Une]=Mr(Th),[a$,o$]=s$(Th),G4=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:h,form:p,...g}=e,[x,b]=v.useState(null),j=lt(t,C=>b(C)),w=v.useRef(!1),_=x?p||!!x.closest("form"):!0,[S,E]=ya({prop:o,defaultProp:l??!1,onChange:h,caller:Th});return r.jsxs(a$,{scope:n,checked:S,disabled:d,children:[r.jsx(Qe.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":J4(S),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:j,onClick:ze(e.onClick,C=>{E(k=>!k),_&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})}),_&&r.jsx(Q4,{control:x,bubbles:!w.current,name:s,value:f,checked:S,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});G4.displayName=Th;var X4="SwitchThumb",K4=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,o=o$(X4,n);return r.jsx(Qe.span,{"data-state":J4(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});K4.displayName=X4;var i$="SwitchBubbleInput",Q4=v.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...o},l)=>{const c=v.useRef(null),d=lt(c,l),f=vy(n),h=Yv(t);return v.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==n&&b){const j=new Event("click",{bubbles:s});b.call(p,n),p.dispatchEvent(j)}},[f,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:d,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q4.displayName=i$;function J4(e){return e?"checked":"unchecked"}var eE=G4,l$=K4;const gl=v.forwardRef(({className:e,...t},n)=>r.jsx(eE,{className:$e("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(l$,{className:$e("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));gl.displayName=eE.displayName;const c$=["gpt-4.1","gpt-4.1-mini","o1","o1-mini","o3-mini"];function I0({open:e,onOpenChange:t,onBackendUrlChange:n}){const[s,o]=v.useState("general"),{oaiMode:l,setOAIMode:c,azureDeploymentEnabled:d,setAzureDeploymentEnabled:f,authRequired:h,serverCapabilities:p}=be(),g="",[x,b]=v.useState(()=>localStorage.getItem("devui_backend_url")||g),[j,w]=v.useState(x),[_,S]=v.useState(!!localStorage.getItem("devui_auth_token")),[E,C]=v.useState(""),k=()=>{try{new URL(j),localStorage.setItem("devui_backend_url",j),b(j),n?.(j),t(!1),window.location.reload()}catch{alert("Please enter a valid URL (e.g., http://localhost:8080)")}},T=()=>{localStorage.removeItem("devui_backend_url"),w(g),b(g),n?.(g),window.location.reload()},M=()=>{E.trim()&&(localStorage.setItem("devui_auth_token",E.trim()),S(!0),C(""),window.location.reload())},O=()=>{localStorage.removeItem("devui_auth_token"),S(!1),C(""),window.location.reload()},I=j!==x,U=!localStorage.getItem("devui_backend_url");return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"w-[600px] max-w-[90vw] flex flex-col max-h-[85vh]",children:[r.jsx(ps,{className:"p-6 pb-2 flex-shrink-0",children:r.jsx(gs,{children:"Settings"})}),r.jsx($l,{onClose:()=>t(!1)}),r.jsxs("div",{className:"flex border-b px-6 flex-shrink-0",children:[r.jsxs("button",{onClick:()=>o("general"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${s==="general"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["General",s==="general"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),p.openai_proxy&&r.jsxs("button",{onClick:()=>o("proxy"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${s==="proxy"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["OpenAI Proxy",s==="proxy"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),r.jsxs("button",{onClick:()=>o("about"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${s==="about"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["About",s==="about"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),r.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 min-h-[400px]",children:[s==="general"&&r.jsxs("div",{className:"space-y-6 pt-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Te,{htmlFor:"backend-url",className:"text-sm font-medium",children:"Backend URL"}),!U&&r.jsxs(me,{variant:"ghost",size:"sm",onClick:T,className:"h-7 text-xs",title:"Reset to default",children:[r.jsx(zv,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),r.jsx(nt,{id:"backend-url",type:"url",value:j,onChange:Z=>w(Z.target.value),placeholder:"http://localhost:8080",className:"font-mono text-sm"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",r.jsx("span",{className:"font-mono",children:g})]}),r.jsx("div",{className:"flex gap-2 pt-2 min-h-[36px]",children:I&&r.jsxs(r.Fragment,{children:[r.jsx(me,{onClick:k,size:"sm",className:"flex-1",children:"Apply & Reload"}),r.jsx(me,{onClick:()=>w(x),variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})})]}),(h||_)&&r.jsxs("div",{className:"space-y-3 border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Authentication Token"}),!h&&_&&r.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not required by current backend)"})]}),_?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nt,{type:"password",value:"",disabled:!0,className:"font-mono text-sm flex-1"}),r.jsx(me,{variant:"destructive",size:"sm",onClick:O,className:"flex-shrink-0",children:"Clear"})]}),r.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:" Token configured and stored locally"})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsx(nt,{type:"password",value:E,onChange:Z=>C(Z.target.value),placeholder:"Enter bearer token",className:"font-mono text-sm",onKeyDown:Z=>{Z.key==="Enter"&&E.trim()&&M()}}),r.jsx(me,{onClick:M,size:"sm",disabled:!E.trim(),className:"w-full",children:"Save & Reload"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:h?"Required by backend (started with --auth flag)":"Not required by current backend"})]})]}),p.deployment&&r.jsxs("div",{className:"space-y-3 border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Azure Deployment"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable one-click deployment to Azure Container Apps"})]}),r.jsx(gl,{checked:d,onCheckedChange:f})]}),r.jsxs("details",{className:"group",children:[r.jsxs("summary",{className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[r.jsx(kr,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Learn more about Azure deployment"]}),r.jsxs("div",{className:"mt-3 space-y-3 pl-4",children:[r.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'When enabled, agents that support deployment will show a "Deploy to Azure" button. This allows you to deploy your agent to Azure Container Apps directly from MAIA.'}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("p",{className:"text-xs font-medium",children:"When enabled:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[r.jsx("li",{children:'Shows "Deploy to Azure" for supported agents'}),r.jsx("li",{children:"Requires Azure CLI and proper authentication"}),r.jsx("li",{children:"Backend must have deployment capabilities enabled"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("p",{className:"text-xs font-medium",children:"When disabled:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[r.jsx("li",{children:'Shows "Deployment Guide" for all agents'}),r.jsx("li",{children:"Provides Docker templates and manual deployment instructions"}),r.jsx("li",{children:"No backend deployment capabilities required"})]})]})]})]})]})]}),s==="proxy"&&p.openai_proxy&&r.jsxs("div",{className:"space-y-6 pt-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Te,{className:"text-base font-medium",children:"OpenAI Proxy Mode"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests through MAIA backend to OpenAI API"})]}),r.jsx(gl,{checked:l.enabled,onCheckedChange:Z=>c({...l,enabled:Z})})]}),!l.enabled&&r.jsx("div",{className:"bordder border-muted bg-muted/30 rounded-lg p-4 space-y-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Fr,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-blue-600 dark:text-blue-400"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:"About OpenAI Proxy Mode"}),r.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["When enabled, your chat requests are sent to your MAIA backend"," ",r.jsxs("span",{className:"font-mono font-semibold",children:["(",x,")"]}),", which then forwards them to OpenAI's API. This keeps your"," ",r.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","secure on the server instead of exposing it in the browser."]}),r.jsxs("div",{className:"space-y-1.5 pt-1",children:[r.jsx("p",{className:"text-xs font-medium",children:"Requirements:"}),r.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[r.jsxs("li",{children:["Backend must have"," ",r.jsx("span",{className:"font-mono",children:"OPENAI_API_KEY"})," ","configured"]}),r.jsx("li",{children:"Backend must support OpenAI Responses API proxying (MAIA does)"})]})]}),r.jsxs("div",{className:"space-y-1.5 pt-1",children:[r.jsx("p",{className:"text-xs font-medium",children:"Why use this?"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Quickly test and compare OpenAI models directly through the MAIA interface without creating custom agents or exposing API keys in the browser."})]})]})]})}),l.enabled&&r.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:"Model"}),r.jsx(nt,{type:"text",value:l.model,onChange:Z=>c({...l,model:Z.target.value}),placeholder:"gpt-4.1-mini",className:"font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any OpenAI model ID (e.g., gpt-4.1, o1, o3-mini)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{className:"text-xs text-muted-foreground",children:"Common presets"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c$.map(Z=>r.jsx(me,{variant:l.model===Z?"default":"outline",size:"sm",onClick:()=>c({...l,model:Z}),className:"text-xs h-7",children:Z},Z))})]}),r.jsxs("details",{className:"group",children:[r.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[r.jsx(kr,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Advanced Parameters (optional)"]}),r.jsxs("div",{className:"space-y-3 mt-3 pl-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs",children:"Temperature"}),r.jsx(nt,{type:"number",step:"0.1",min:"0",max:"2",value:l.temperature??"",onChange:Z=>c({...l,temperature:Z.target.value?parseFloat(Z.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness (0-2)"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs",children:"Max Output Tokens"}),r.jsx(nt,{type:"number",min:"1",value:l.max_output_tokens??"",onChange:Z=>c({...l,max_output_tokens:Z.target.value?parseInt(Z.target.value):void 0}),placeholder:"Auto",className:"text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum tokens in response"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs",children:"Top P"}),r.jsx(nt,{type:"number",step:"0.1",min:"0",max:"1",value:l.top_p??"",onChange:Z=>c({...l,top_p:Z.target.value?parseFloat(Z.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Nucleus sampling (0-1)"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs",children:"Reasoning Effort (o-series models)"}),r.jsxs("select",{value:l.reasoning_effort??"",onChange:Z=>c({...l,reasoning_effort:Z.target.value?Z.target.value:void 0}),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[r.jsx("option",{value:"",children:"Auto (default)"}),r.jsx("option",{value:"minimal",children:"Minimal"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Constrains reasoning effort (faster/cheaper vs thorough)"})]})]})]})]})]}),l.enabled&&r.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[r.jsx(Fr,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),r.jsx("div",{className:"space-y-1",children:r.jsxs("p",{children:["As requisies passam por"," ",r.jsx("span",{className:"font-mono font-semibold",children:x})," ","para a API OpenAI. O servidor deve ter"," ",r.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","configurado."]})})]})]}),s==="about"&&r.jsxs("div",{className:"space-y-5 pt-4",children:[r.jsx("div",{className:"text-center py-3 bg-primary/5 rounded-lg",children:r.jsx("p",{className:"text-sm font-medium text-primary italic",children:'"Inteligncia que antecipa. Proteo que evolui."'})}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Plataforma de agentes inteligentes baseada no Microsoft Agent Framework. A MAIA oferece solues de IA confiveis, inovadoras e empticas."}),r.jsx("div",{className:"flex justify-center pt-2",children:r.jsxs(me,{variant:"outline",size:"sm",onClick:()=>window.open("https://github.com/microsoft/agent-framework","_blank"),className:"text-xs border-primary/30 hover:bg-primary/5",children:[r.jsx(xu,{className:"h-3 w-3 mr-1"}),"Saiba mais sobre o Agent Framework"]})}),r.jsx("p",{className:"text-center text-xs text-accent font-medium",children:"A inteligncia que cuida."})]})]})]})})}const u$="modulepreload",d$=function(e,t){return new URL(e,t).href},s2={},L0=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=h(n.map(p=>{if(p=d$(p,s),p in s2)return;s2[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(s)for(let j=c.length-1;j>=0;j--){const w=c[j];if(w.href===p&&(!g||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":u$,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((j,w)=>{b.addEventListener("load",j),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},tE="devui_streaming_state_",nE=1440*60*1e3;function Im(e){return`${tE}${e}`}function f$(e){let t="";for(const n of e)n.type==="response.output_text.delta"&&"delta"in n&&(t+=n.delta);return t}function rE(e){try{const t=Im(e.conversationId),n=JSON.stringify(e);localStorage.setItem(t,n)}catch(t){console.error("Failed to save streaming state:",t);try{sE();const n=Im(e.conversationId),s=JSON.stringify(e);localStorage.setItem(n,s)}catch{console.error("Failed to save streaming state even after cleanup")}}}function sl(e){try{const t=Im(e),n=localStorage.getItem(t);if(!n)return null;const s=JSON.parse(n);return Date.now()-s.timestamp>nE?(um(e),null):s.completed?null:s}catch(t){return console.error("Failed to load streaming state:",t),null}}function Zx(e,t,n,s){try{const o=sl(e),l="sequence_number"in t?t.sequence_number:void 0,c=o?[...o.events,t]:[t],d={conversationId:e,responseId:n,lastMessageId:s,lastSequenceNumber:l??o?.lastSequenceNumber??-1,events:c,timestamp:Date.now(),completed:t.type==="response.completed"||t.type==="response.failed",accumulatedText:f$(c)};rE(d)}catch(o){console.error("Failed to update streaming state:",o)}}function a2(e){try{const t=sl(e);t&&(t.completed=!0,t.timestamp=Date.now(),rE(t))}catch(t){console.error("Failed to mark streaming as completed:",t)}}function um(e){try{const t=Im(e);localStorage.removeItem(t)}catch(t){console.error("Failed to clear streaming state:",t)}}function sE(){try{const e=Object.keys(localStorage),t=Date.now();for(const n of e)if(n.startsWith(tE))try{const s=localStorage.getItem(n);if(s){const o=JSON.parse(s);(t-o.timestamp>nE||o.completed)&&localStorage.removeItem(n)}}catch{localStorage.removeItem(n)}}catch(e){console.error("Failed to clear expired streaming states:",e)}}function m$(){sE()}const h$="",p$=1e3,Yx=10;function g$(){const e=localStorage.getItem("devui_backend_url");return e||h$}function x$(e){return new Promise(t=>setTimeout(t,e))}class yy{baseUrl;authToken=null;constructor(t){this.baseUrl=t||g$(),this.authToken=localStorage.getItem("devui_auth_token")}setBaseUrl(t){this.baseUrl=t}getBaseUrl(){return this.baseUrl}setAuthToken(t){this.authToken=t,t?localStorage.setItem("devui_auth_token",t):localStorage.removeItem("devui_auth_token")}getAuthToken(){return this.authToken}clearAuthToken(){this.setAuthToken(null)}async request(t,n={}){const s=`${this.baseUrl}${t}`,l={...n.headers||{}};!(typeof FormData<"u"&&n.body instanceof FormData)&&!l["Content-Type"]&&(l["Content-Type"]="application/json"),this.authToken&&(l.Authorization=`Bearer ${this.authToken}`);const d=await fetch(s,{...n,headers:l});if(!d.ok){if(d.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");let f=`API request failed: ${d.status} ${d.statusText}`;try{const h=await d.json();h.detail?typeof h.detail=="string"?f=h.detail:typeof h.detail=="object"&&h.detail.error?.message&&(f=h.detail.error.message):h.error?.message&&(f=h.error.message)}catch{}throw new Error(f)}return d.json()}async getHealth(){return this.request("/health")}async getMeta(){return this.request("/meta")}async getEntities(){const n=(await this.request("/v1/entities")).entities.map(l=>{if(l.type==="agent")return{id:l.id,name:l.name,description:l.description,type:"agent",source:l.source||"directory",tools:(l.tools||[]).map(c=>typeof c=="string"?c:JSON.stringify(c)),has_env:!!(l.required_env_vars&&l.required_env_vars.length>0),module_path:typeof l.metadata?.module_path=="string"?l.metadata.module_path:void 0,required_env_vars:l.required_env_vars,metadata:l.metadata,deployment_supported:l.deployment_supported,deployment_reason:l.deployment_reason,instructions:l.instructions,model_id:l.model_id,chat_client_type:l.chat_client_type,context_providers:l.context_providers,middleware:l.middleware};{const c=l.executors||l.tools||[];let d=l.start_executor_id||"";if(!d&&c.length>0){const f=c[0];typeof f=="string"&&(d=f)}return{id:l.id,name:l.name,description:l.description,type:"workflow",source:l.source||"directory",executors:c.map(f=>typeof f=="string"?f:JSON.stringify(f)),has_env:!!(l.required_env_vars&&l.required_env_vars.length>0),module_path:typeof l.metadata?.module_path=="string"?l.metadata.module_path:void 0,required_env_vars:l.required_env_vars,metadata:l.metadata,deployment_supported:l.deployment_supported,deployment_reason:l.deployment_reason,input_schema:l.input_schema||{type:"string"},input_type_name:l.input_type_name||"Input",start_executor_id:d,tools:[]}}}),s=n.filter(l=>l.type==="agent"),o=n.filter(l=>l.type==="workflow");return{entities:n,agents:s,workflows:o}}async getAgents(){const{agents:t}=await this.getEntities();return t}async getWorkflows(){const{workflows:t}=await this.getEntities();return t}async getSavedWorkflows(){return(await this.request("/v1/workflows")).data||[]}async deleteSavedWorkflow(t){await this.request(`/v1/workflows/${encodeURIComponent(t)}`,{method:"DELETE"})}async getAgentInfo(t){return this.request(`/v1/entities/${t}/info?type=agent`)}async getWorkflowInfo(t){return this.request(`/v1/entities/${t}/info?type=workflow`)}async deleteEntity(t){await this.request(`/v1/entities/${t}`,{method:"DELETE"})}async reloadEntity(t){return this.request(`/v1/entities/${t}/reload`,{method:"POST"})}async createConversation(t){const{oaiMode:n}=await L0(()=>Promise.resolve().then(()=>O0),[],import.meta.url).then(l=>({oaiMode:l.useDevUIStore.getState().oaiMode})),s={};n.enabled&&(s["X-Proxy-Backend"]="openai");const o=await this.request("/v1/conversations",{method:"POST",headers:s,body:JSON.stringify({metadata:t})});return{id:o.id,object:"conversation",created_at:o.created_at,metadata:o.metadata}}async listConversations(t){const n=t?`/v1/conversations?agent_id=${encodeURIComponent(t)}`:"/v1/conversations",s=await this.request(n);return{data:s.data.map(o=>({id:o.id,object:"conversation",created_at:o.created_at,metadata:o.metadata})),has_more:s.has_more}}async getConversation(t){const n=await this.request(`/v1/conversations/${t}`);return{id:n.id,object:"conversation",created_at:n.created_at,metadata:n.metadata}}async deleteConversation(t){try{return await this.request(`/v1/conversations/${t}`,{method:"DELETE"}),um(t),!0}catch{return!1}}async listConversationItems(t,n){const s=new URLSearchParams;n?.limit&&s.set("limit",n.limit.toString()),n?.after&&s.set("after",n.after),n?.order&&s.set("order",n.order);const o=s.toString(),l=`/v1/conversations/${t}/items${o?`?${o}`:""}`;return this.request(l)}async deleteConversationItem(t,n){const s=await fetch(`${this.baseUrl}/v1/conversations/${t}/items/${n}`,{method:"DELETE"});if(!s.ok)throw new Error(`Failed to delete item: ${s.statusText}`)}async*streamOpenAIResponse(t,n,s){const{oaiMode:o}=await L0(()=>Promise.resolve().then(()=>O0),void 0,import.meta.url).then(p=>({oaiMode:p.useDevUIStore.getState().oaiMode}));o.enabled&&(t.model=o.model,o.temperature!==void 0&&(t.temperature=o.temperature),o.max_output_tokens!==void 0&&(t.max_output_tokens=o.max_output_tokens),o.top_p!==void 0&&(t.top_p=o.top_p),o.instructions!==void 0&&(t.instructions=o.instructions),o.reasoning_effort!==void 0&&(t.reasoning={effort:o.reasoning_effort}));let l=-1,c=0,d=!1,f=s,h;if(n){const p=sl(n);if(p)if(s||(f=p.responseId),l=p.lastSequenceNumber,h=p.lastMessageId,s)d=p.events.length>0;else for(const g of p.events)d=!0,yield g}for(;c<=Yx;)try{let p;if(f){const j=new URLSearchParams;j.set("stream","true"),l>=0&&j.set("starting_after",l.toString());const w=`${this.baseUrl}/v1/responses/${f}?${j.toString()}`,_={Accept:"text/event-stream"};this.authToken&&(_.Authorization=`Bearer ${this.authToken}`),p=await fetch(w,{method:"GET",headers:_})}else{const j=`${this.baseUrl}/v1/responses`,w={"Content-Type":"application/json",Accept:"text/event-stream"};o.enabled&&(w["X-Proxy-Backend"]="openai"),this.authToken&&(w.Authorization=`Bearer ${this.authToken}`),p=await fetch(j,{method:"POST",headers:w,body:JSON.stringify(t)})}if(!p.ok){if(p.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");if(p.status>=400&&p.status<500){let w=`Client error ${p.status}`;try{const _=await p.json();_.error&&_.error.message?w=_.error.message:_.detail&&(w=_.detail)}catch{}throw new Error(`CLIENT_ERROR: ${w}`)}let j=`Request failed with status ${p.status}`;try{const w=await p.json();w.error&&w.error.message?j=w.error.message:w.detail&&(j=w.detail)}catch{}throw new Error(j)}const g=p.body?.getReader();if(!g)throw new Error("Response body is not readable");const x=new TextDecoder;let b="";try{for(;;){const{done:j,value:w}=await g.read();if(j){n&&a2(n);return}b+=x.decode(w,{stream:!0});const _=b.split(`

`);b=_.pop()||"";for(const S of _){const E=S.split(`
`);for(const C of E)if(C.startsWith("data: ")){const k=C.slice(6);if(k==="[DONE]"){n&&a2(n);return}try{const T=JSON.parse(k);if("response"in T&&T.response&&typeof T.response=="object"&&"id"in T.response){const I=T.response.id;(!f||f!==I)&&(f=I)}else if("id"in T&&typeof T.id=="string"&&T.id.startsWith("resp_")){const I=T.id;(!f||f!==I)&&(f=I)}"item_id"in T&&T.item_id&&(h=T.item_id);const M="sequence_number"in T?T.sequence_number:void 0,O=T.type==="response.completed"||T.type==="response.failed";if(M!==void 0)if(d&&M<=1&&l>1)n&&um(n),yield{type:"error",message:"Connection lost - previous response failed. Starting new response."},l=M,d=!0,n&&f&&Zx(n,T,f,h),yield T;else{if(M<=l&&!O)continue;M>l&&(l=M),d=!0,n&&f&&Zx(n,T,f,h),yield T}else d=!0,n&&f&&Zx(n,T,f,h),yield T}catch(T){console.error("Failed to parse OpenAI SSE event:",T)}}}}}finally{g.releaseLock()}}catch(p){const g=p instanceof Error?p.message:String(p);if(g==="UNAUTHORIZED"||g.startsWith("CLIENT_ERROR:"))throw p;if(c++,c>Yx)throw new Error(`Connection failed after ${Yx} retry attempts: ${g}`);const x=Math.min(p$*Math.pow(2,c-1),3e4);await x$(x)}}async*streamAgentExecutionOpenAI(t,n,s){const o={metadata:{entity_id:t},input:n.input,stream:!0,conversation:n.conversation_id};return yield*this.streamAgentExecutionOpenAIDirect(t,o,n.conversation_id,s)}async*streamAgentExecutionOpenAIDirect(t,n,s,o){yield*this.streamOpenAIResponse(n,s,o)}async*streamWorkflowExecutionOpenAI(t,n){const s={metadata:{entity_id:t},input:JSON.stringify(n.input_data||{}),stream:!0,conversation:n.conversation_id,extra_body:{...n.checkpoint_id?{checkpoint_id:n.checkpoint_id}:{},...n.workflow_config?{workflow_config:n.workflow_config}:{},entity_id:t}};yield*this.streamOpenAIResponse(s,n.conversation_id)}async runAgent(t,n){return this.request(`/agents/${t}/run`,{method:"POST",body:JSON.stringify(n)})}async runWorkflow(t,n){return this.request(`/workflows/${t}/run`,{method:"POST",body:JSON.stringify(n)})}clearStreamingState(t){um(t)}async*streamDeployment(t){const n=await fetch(`${this.baseUrl}/v1/deployments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,stream:!0})});if(!n.ok)throw new Error(`Deployment failed: ${n.statusText}`);const s=n.body?.getReader();if(!s)throw new Error("No response body");const o=new TextDecoder;let l="";try{for(;;){const{done:c,value:d}=await s.read();if(c)break;l+=o.decode(d,{stream:!0});const f=l.split(`
`);l=f.pop()||"";for(const h of f)if(h.startsWith("data: ")){const p=h.slice(6);if(p==="[DONE]")return;try{yield JSON.parse(p)}catch(g){yield{type:"deploy.error",message:`Failed to parse deployment event: ${g instanceof Error?g.message:"Unknown error"}`}}}}}catch(c){throw yield{type:"deploy.failed",message:`Stream interrupted: ${c instanceof Error?c.message:"Unknown error"}`},c}finally{s.releaseLock()}}async listWorkflowSessions(t){const n=`/v1/conversations?entity_id=${encodeURIComponent(t)}&type=workflow_session`;return{data:(await this.request(n)).data.map(l=>({conversation_id:l.id,entity_id:l.metadata?.entity_id||t,created_at:l.created_at,metadata:{name:l.metadata?.name||`Session ${new Date(l.created_at*1e3).toLocaleString()}`,description:l.metadata?.description,type:"workflow_session"}}))}}async createWorkflowSession(t,n){const s={entity_id:t,type:"workflow_session",name:n?.name||`Session ${new Date().toLocaleString()}`,...n?.description&&{description:n.description}},o=await this.createConversation(s);return{conversation_id:o.id,entity_id:t,created_at:o.created_at,metadata:{name:s.name,description:s.description,type:"workflow_session"}}}async deleteWorkflowSession(t,n){if(!await this.deleteConversation(n))throw new Error("Failed to delete workflow session")}async listTools(){return(await this.request("/v1/tools")).data}async getRagConfig(){return this.request("/v1/rag")}async updateRagConfig(t){return this.request("/v1/rag",{method:"POST",body:JSON.stringify(t)})}async getKnowledgeCollections(){return(await this.request("/v1/knowledge/collections")).data||[]}async createKnowledgeCollection(t){return this.request("/v1/knowledge/collections",{method:"POST",body:JSON.stringify(t)})}async deleteKnowledgeCollection(t){await this.request(`/v1/knowledge/collections/${t}`,{method:"DELETE"})}async getKnowledgeDocuments(t){return(await this.request(`/v1/knowledge/collections/${t}/documents`)).data||[]}async deleteKnowledgeDocument(t){await this.request(`/v1/knowledge/documents/${t}`,{method:"DELETE"})}async ingestKnowledgeDocuments(t,n,s){const o=new FormData;return n.forEach(c=>o.append("files",c)),s&&Object.keys(s).length>0&&o.append("metadata",JSON.stringify(s)),await this.request(`/v1/knowledge/collections/${t}/ingest`,{method:"POST",body:o})}async searchKnowledge(t){return(await this.request("/v1/knowledge/search",{method:"POST",body:JSON.stringify(t)})).data||[]}}const rt=new yy;function v$({open:e,onClose:t,agentName:n="Agent",entity:s}){const l=be(z=>z.azureDeploymentEnabled)&&(s?.deployment_supported??!1),[c,d]=v.useState(l?"azure":"docker"),[f,h]=v.useState(null),p=v.useRef(null),g=v.useRef(null),x=be(z=>z.isDeploying),b=be(z=>z.deploymentLogs),j=be(z=>z.lastDeployment),w=be(z=>z.startDeployment),_=be(z=>z.addDeploymentLog),S=be(z=>z.setDeploymentResult),E=be(z=>z.stopDeployment),C=be(z=>z.clearDeploymentState),k=z=>{const H=z.toLowerCase().replace(/[_\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^[^a-z]+/,"").replace(/-$/,"");return(H.match(/^[a-z]/)?H:`app-${H}`).substring(0,31)},T=s?k(s.id):"",[M,O]=v.useState("my-test-rg"),[I,U]=v.useState(T),[Z,X]=v.useState("eastus"),[Y,q]=v.useState(null);v.useEffect(()=>{if(s){const z=k(s.id);U(z);const H=R(z);q(H)}},[s?.id]),v.useEffect(()=>{g.current&&b.length>0&&(g.current.scrollTop=g.current.scrollHeight)},[b]);const R=z=>z?z.length>=32?"App name must be less than 32 characters":/^[a-z0-9-]+$/.test(z)?/^[a-z]/.test(z)?/[a-z0-9]$/.test(z)?z.includes("--")?"App name cannot contain consecutive hyphens (--)":null:"App name must end with a letter or number":"App name must start with a lowercase letter":"App name must contain only lowercase letters, numbers, and hyphens (no underscores or uppercase)":null;v.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const $=async()=>{if(!s?.id||!M||!I)return;const z=M.trim(),H=I.trim(),J=R(H);if(J){q(J);return}try{w();for await(const K of rt.streamDeployment({entity_id:s.id,resource_group:z,app_name:H,region:Z,ui_mode:"user"}))_(K.message),K.type==="deploy.completed"&&K.url&&K.auth_token?S({url:K.url,authToken:K.auth_token}):K.type==="deploy.failed"&&E()}catch(K){_(`Error: ${K instanceof Error?K.message:"Deployment failed"}`),E()}},A=async(z,H)=>{try{await navigator.clipboard.writeText(z),h(H),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{h(null),p.current=null},2e3)}catch{h(null)}},L=`# Dockerfile for ${n}
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy agent/workflow directories
COPY . .

# Expose MAIA default port
EXPOSE 8080

# Run MAIA server
CMD ["devui", ".", "--port", "8080", "--host", "0.0.0.0"]
`,F=`# docker-compose.yml
version: '3.8'

services:
  ${n.toLowerCase().replace(/\s+/g,"-")}:
    build: .
    environment:
      # OpenAI
      - OPENAI_API_KEY=\${OPENAI_API_KEY}
      - OPENAI_CHAT_MODEL_ID=\${OPENAI_CHAT_MODEL_ID:-gpt-4o-mini}
      # Or Azure OpenAI
      - AZURE_OPENAI_API_KEY=\${AZURE_OPENAI_API_KEY}
      - AZURE_OPENAI_ENDPOINT=\${AZURE_OPENAI_ENDPOINT}
      - AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=\${AZURE_OPENAI_CHAT_DEPLOYMENT_NAME}
      # Optional: Enable tracing
      - ENABLE_OTEL=\${ENABLE_OTEL:-false}
    ports:
      - "8080:8080"
    restart: unless-stopped
`,B=`# requirements.txt
agent-framework-devui>=0.1.0
agent-framework>=0.1.0
# Chat clients (install what you need)
openai>=1.0.0
# azure-openai
# anthropic
`;return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"w-[800px] max-w-[90vw]",children:[r.jsx($l,{onClose:t}),r.jsxs(ps,{className:"p-6 pb-2",children:[r.jsxs(gs,{className:"flex items-center gap-2",children:[r.jsx(N0,{className:"h-5 w-5"}),"Deploy ",n]}),r.jsx("p",{className:"text-sm text-muted-foreground pt-1",children:"Get started with containerizing your agent for deployment."})]}),r.jsxs("div",{className:"flex border-b px-6",children:[r.jsxs("button",{onClick:()=>d("docker"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${c==="docker"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[r.jsx(F6,{className:"h-4 w-4 mr-2 inline"}),"Docker",c==="docker"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),l&&r.jsxs("button",{onClick:()=>d("azure"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${c==="azure"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[r.jsx($6,{className:"h-4 w-4 mr-2 inline"}),"Azure",c==="azure"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),r.jsx("div",{className:"px-6 pb-6 min-h-[400px]",children:r.jsx(Fn,{className:"h-[500px]",children:r.jsxs("div",{className:"pr-4",children:[c==="docker"&&r.jsxs("div",{className:"space-y-4 pt-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Containerize with Docker"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Package your agent as a Docker container for consistent deployment anywhere."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Dockerfile"}),r.jsx(me,{size:"sm",variant:"ghost",onClick:()=>A(L,"dockerfile"),children:f==="dockerfile"?r.jsxs(r.Fragment,{children:[r.jsx(Cn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(so,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),r.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:L})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"docker-compose.yml"}),r.jsx(me,{size:"sm",variant:"ghost",onClick:()=>A(F,"compose"),children:f==="compose"?r.jsxs(r.Fragment,{children:[r.jsx(Cn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(so,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),r.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:F})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"requirements.txt"}),r.jsx(me,{size:"sm",variant:"ghost",onClick:()=>A(B,"requirements"),children:f==="requirements"?r.jsxs(r.Fragment,{children:[r.jsx(Cn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(so,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),r.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:B})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[r.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Quick Start"}),r.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside text-muted-foreground",children:[r.jsx("li",{children:"Save the files above to your project directory"}),r.jsxs("li",{children:["Build:"," ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:["docker build -t ",n.toLowerCase(),"-agent ."]})]}),r.jsxs("li",{children:["Run:"," ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"docker-compose up"})]}),r.jsx("li",{children:"Your agent is now running in a container!"})]})]}),r.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[r.jsx("h4",{className:"text-sm font-semibold mb-2 text-amber-900 dark:text-amber-100",children:" Production Considerations"}),r.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-amber-800 dark:text-amber-200",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"In-memory state:"})," Conversations are lost when container restarts"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"No authentication:"})," Add reverse proxy (nginx, Caddy) with auth for production"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Security:"})," Use Azure Key Vault for secrets management"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Scaling:"})," Single instance only due to in-memory conversation store"]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Pre-Deployment Checklist"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),r.jsx("span",{className:"text-muted-foreground",children:"Set environment variables (API keys, secrets)"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),r.jsx("span",{className:"text-muted-foreground",children:"Test agent locally in container"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),r.jsx("span",{className:"text-muted-foreground",children:"Configure logging and monitoring"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Cn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),r.jsx("span",{className:"text-muted-foreground",children:"Set up error handling and retries"})]})]})]})]}),c==="azure"&&r.jsxs("div",{className:"space-y-4 pt-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Deploy to Azure Container Apps"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:l?"One-click deployment to Azure with automatic containerization and authentication.":"Azure Container Apps provides serverless containers with auto-scaling and integrated monitoring."})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[r.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:"Prerequisites for Azure Deployment"}),r.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-blue-800 dark:text-blue-200",children:[r.jsxs("li",{children:["Azure CLI installed and authenticated (",r.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"az login"}),")"]}),r.jsx("li",{children:"Docker installed and running"}),r.jsxs("li",{children:["Azure subscription with the following providers registered:",r.jsxs("ul",{className:"ml-4 mt-1 space-y-0.5",children:[r.jsxs("li",{className:"list-none",children:[" ",r.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.App"})," (Container Apps)"]}),r.jsxs("li",{className:"list-none",children:[" ",r.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.ContainerRegistry"})," (ACR)"]}),r.jsxs("li",{className:"list-none",children:[" ",r.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.OperationalInsights"})," (Logging)"]})]})]})]}),r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"text-xs cursor-pointer hover:underline text-blue-700 dark:text-blue-300",children:"How to register providers?"}),r.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900 rounded text-xs",children:[r.jsx("p",{className:"mb-1",children:"Run these commands once per subscription:"}),r.jsxs("code",{className:"block font-mono",children:["az provider register -n Microsoft.App --wait",r.jsx("br",{}),"az provider register -n Microsoft.ContainerRegistry --wait",r.jsx("br",{}),"az provider register -n Microsoft.OperationalInsights --wait"]})]})]})]}),l&&s&&!j&&r.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[x?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(cr,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}),r.jsx("div",{ref:g,className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((z,H)=>r.jsx("div",{className:z.includes("failed")||z.includes("Error")?"text-red-600":"",children:z},H))})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Resource Group"}),r.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",placeholder:"my-test-rg",value:M,onChange:z=>O(z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"App Name"}),r.jsx("input",{type:"text",className:`w-full mt-1 px-3 py-2 border rounded-md text-sm ${Y?"border-red-500":""}`,placeholder:"my-agent-app",value:I,onChange:z=>{const H=z.target.value;U(H);const J=R(H.trim());q(J)}}),Y&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:Y})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Region"}),r.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",value:Z,onChange:z=>X(z.target.value),children:[r.jsx("option",{value:"eastus",children:"East US"}),r.jsx("option",{value:"westus",children:"West US"}),r.jsx("option",{value:"westeurope",children:"West Europe"}),r.jsx("option",{value:"eastasia",children:"East Asia"})]})]})]}),r.jsxs(me,{onClick:$,disabled:!M||!I||!!Y,className:"w-full",children:[r.jsx(N0,{className:"h-4 w-4 mr-2"}),"Deploy to Azure"]})]}),!x&&b.length>0&&!j&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-600",children:[r.jsx(Sr,{className:"h-4 w-4"}),"Deployment Failed"]}),r.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((z,H)=>r.jsx("div",{className:z.includes("failed")||z.includes("Error")?"text-red-600":"",children:z},H))}),r.jsx(me,{onClick:C,variant:"outline",className:"w-full",children:"Try Again"})]})]}),j&&r.jsxs("div",{className:"border-2 border-green-200 bg-green-50 dark:bg-green-950/50 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cn,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Deployment Successful!"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Deployment URL"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm",children:j.url}),r.jsx(me,{size:"sm",variant:"outline",onClick:()=>window.open(j.url,"_blank"),children:r.jsx(xu,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Auth Token (save this - shown only once)"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm font-mono",children:j.authToken}),r.jsx(me,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(j.authToken),children:r.jsx(so,{className:"h-4 w-4"})})]})]})]}),r.jsx(me,{onClick:C,variant:"outline",className:"w-full",children:"Deploy Another"})]}),!l&&s?.deployment_reason&&r.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Sr,{className:"h-4 w-4 mt-0.5 text-amber-600 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[r.jsx("strong",{children:"Deployment not available:"})," ",s.deployment_reason]})]})}),!l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Prerequisites"}),r.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-muted-foreground",children:[r.jsx("li",{children:"Azure subscription"}),r.jsxs("li",{children:["Azure CLI installed (",r.jsx("code",{className:"bg-muted px-1 rounded",children:"az --version"}),")"]}),r.jsx("li",{children:"Docker installed and running"}),r.jsxs("li",{children:["Logged in to Azure:"," ",r.jsx("code",{className:"bg-muted px-1 rounded",children:"az login"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Deployment Steps"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"1"}),r.jsx("h5",{className:"font-medium text-sm",children:"Create Azure Container Registry"})]}),r.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Create resource group
az group create --name myResourceGroup --location eastus

# Create container registry
az acr create --resource-group myResourceGroup \\
  --name myregistry --sku Basic`})]}),r.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"2"}),r.jsx("h5",{className:"font-medium text-sm",children:"Build and Push Docker Image"})]}),r.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Build and push in one command
az acr build --registry myregistry \\
  --image ${n.toLowerCase()}-agent:latest .`})]}),r.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"3"}),r.jsx("h5",{className:"font-medium text-sm",children:"Create Container Apps Environment"})]}),r.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp env create --name myEnvironment \\
  --resource-group myResourceGroup \\
  --location eastus`})]}),r.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"4"}),r.jsx("h5",{className:"font-medium text-sm",children:"Deploy Container App"})]}),r.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp create --name ${n.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --environment myEnvironment \\
  --image myregistry.azurecr.io/${n.toLowerCase()}-agent:latest \\
  --target-port 8080 \\
  --ingress 'external' \\
  --registry-server myregistry.azurecr.io \\
  --env-vars OPENAI_API_KEY=secretref:openai-key OPENAI_CHAT_MODEL_ID=gpt-4o-mini`})]}),r.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"5"}),r.jsx("h5",{className:"font-medium text-sm",children:"Get Application URL"})]}),r.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp show --name ${n.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --query properties.configuration.ingress.fqdn`})]})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[r.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Learn More"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Explore Azure Container Apps documentation for advanced features like scaling, monitoring, and CI/CD integration."}),r.jsx(me,{size:"sm",variant:"outline",className:"w-full",asChild:!0,children:r.jsxs("a",{href:"https://learn.microsoft.com/azure/container-apps/",target:"_blank",rel:"noopener noreferrer",children:[r.jsx(xu,{className:"h-3 w-3 mr-1"}),"View Azure Container Apps Documentation"]})})]})]})]})]})})})]})})}function y$(){const e=Us(),[t]=AS(),[n,s]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(!1),[f,h]=v.useState(""),p=be($=>$.agents),g=be($=>$.workflows),x=be($=>$.entities),b=be($=>$.selectedAgent),j=be($=>$.isLoadingEntities),w=be($=>$.entityError),_=be($=>$.setAgents),S=be($=>$.setWorkflows),E=be($=>$.setEntities),C=be($=>$.selectEntity),k=be($=>$.updateAgent),T=be($=>$.updateWorkflow),M=be($=>$.setIsLoadingEntities),O=be($=>$.setEntityError),I=be($=>$.setShowEntityNotFoundToast),U=be($=>$.showAboutModal),Z=be($=>$.setShowAboutModal),X=be($=>$.setShowGallery),Y=$=>e.pathname.startsWith($);v.useEffect(()=>{(async()=>{try{const A=await rt.getMeta();if(A.auth_required&&(s(!0),!rt.getAuthToken())){O("UNAUTHORIZED"),M(!1);return}be.getState().setServerMeta({uiMode:A.ui_mode,runtime:A.runtime,capabilities:A.capabilities,authRequired:A.auth_required});const{entities:L,agents:F,workflows:B}=await rt.getEntities();E(L),_(F),S(B);const z=t.get("entity_id");let H;if(z&&(H=L.find(J=>J.id===z),H||I(!0)),H||(H=L.length>0?L[0]:void 0),H&&(C(H),H.metadata?.lazy_loaded===!1))try{if(H.type==="agent"){const J=await rt.getAgentInfo(H.id);k(J)}else{const J=await rt.getWorkflowInfo(H.id);T(J)}}catch(J){console.error(`Failed to load full info for first entity ${H.id}:`,J)}M(!1)}catch(A){console.error("Failed to load agents/workflows:",A);const L=A instanceof Error?A.message:"Failed to load data";L==="UNAUTHORIZED"&&s(!0),O(L),M(!1)}})()},[t,_,S,E,C,k,T,M,O,I]);const q=v.useCallback(async()=>{if(o.trim()){d(!0),h("");try{rt.setAuthToken(o.trim()),await rt.getEntities(),window.location.reload()}catch($){rt.clearAuthToken(),d(!1);const A=$ instanceof Error?$.message:"Unknown error";h(A==="UNAUTHORIZED"?"Invalid token. Please check and try again.":`Failed to connect: ${A}`)}}},[o]),R=v.useCallback(async $=>{if(C($),$.metadata?.lazy_loaded===!1)try{if($.type==="agent"){const A=await rt.getAgentInfo($.id);k(A)}else{const A=await rt.getWorkflowInfo($.id);T(A)}}catch(A){console.error(`Failed to load full info for ${$.id}:`,A)}},[C,k,T]);if(j)return r.jsxs("div",{className:"flex h-screen bg-background",children:[r.jsxs("aside",{className:"w-64 border-r bg-muted/30 flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("div",{className:"w-32 h-6 bg-muted animate-pulse rounded-md"})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[1,2,3,4,5].map($=>r.jsx("div",{className:"w-full h-9 bg-muted animate-pulse rounded-md"},$))})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[r.jsx("div",{className:"w-64 h-9 bg-muted animate-pulse rounded-md"}),r.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[r.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"}),r.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"})]})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-medium",children:"Initializing MAIA..."}),r.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Loading agents and workflows from your configuration"})]})})]})]});if(w){const $=rt.getBaseUrl(),A=w==="UNAUTHORIZED"||n;let L="8080";try{if($){const F=new URL($);L=F.port||(F.protocol==="https:"?"443":"80")}}catch{}return r.jsxs("div",{className:"flex h-screen bg-background",children:[r.jsx("aside",{className:"w-64 border-r bg-muted/30 flex flex-col",children:r.jsx("div",{className:"p-6 border-b",children:r.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(bt,{className:"h-6 w-6"}),"MAIA"]})})}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx(n2,{agents:[],workflows:[],entities:[],selectedItem:void 0,onSelect:()=>{},isLoading:!1,onSettingsClick:()=>Z(!0)}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"rounded-full bg-muted p-4 animate-pulse",children:A?r.jsx(UO,{className:"h-12 w-12 text-muted-foreground"}):r.jsx(N8,{className:"h-12 w-12 text-muted-foreground"})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:A?"Authentication Required":"Can't Connect to Backend"}),r.jsx("p",{className:"text-muted-foreground text-base",children:A?"This backend requires a bearer token to access.":"No worries! Just start the DevUI backend server and you'll be good to go."})]}),A?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enter Authentication Token"}),r.jsx(nt,{type:"password",placeholder:"Paste token from server logs",value:o,onChange:F=>l(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!c&&q()},disabled:c,className:"font-mono text-sm"}),r.jsx(me,{onClick:q,disabled:!o.trim()||c,className:"w-full",children:c?"Verifying...":"Connect"}),f&&r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:f})]}),r.jsxs("details",{className:"text-left group",children:[r.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2 justify-center",children:[r.jsx(zn,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Where do I find the token?"]}),r.jsxs("div",{className:"mt-3 text-left bg-muted/30 rounded-lg p-3 space-y-2",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:"Look for this in your DevUI server startup logs:"}),r.jsxs("code",{className:"block bg-background px-2 py-1 rounded text-xs font-mono text-foreground",children:[" DEV TOKEN (localhost only, shown once):",r.jsx("br",{})," abc123xyz..."]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:"Start the backend:"}),r.jsxs("code",{className:"block bg-background px-3 py-2 rounded border text-sm font-mono text-foreground",children:["devui ./agents --port ",L]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or launch programmatically with"," ",r.jsx("code",{className:"text-xs",children:"serve(entities=[agent])"})]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default:"," ",r.jsx("span",{className:"font-mono",children:$})]})]}),w&&r.jsxs("details",{className:"text-left group",children:[r.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2",children:[r.jsx(zn,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Error details"]}),r.jsx("p",{className:"mt-2 text-xs text-muted-foreground font-mono bg-muted/30 p-3 rounded border",children:w})]}),r.jsx(me,{onClick:()=>window.location.reload(),variant:"default",className:"mt-2",children:"Retry Connection"})]})]})})]}),r.jsx(I0,{open:U,onOpenChange:Z})]})}return r.jsxs("div",{className:"flex h-screen bg-background",children:[r.jsxs("aside",{className:"w-64 border-r bg-muted/30 flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Menu"})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[r.jsx(Kn,{to:"/platform/dashboard",children:r.jsxs(me,{variant:Y("/platform/dashboard")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(RO,{className:"h-4 w-4"}),"Dashboard"]})}),r.jsx(Kn,{to:"/platform/agents",children:r.jsxs(me,{variant:Y("/platform/agents")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(v6,{className:"h-4 w-4"}),"Agentes"]})}),r.jsx(Kn,{to:"/platform/workflows",children:r.jsxs(me,{variant:Y("/platform/workflows")||Y("/platform/studio")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(Rs,{className:"h-4 w-4"}),"Workflows"]})}),r.jsx(Kn,{to:"/platform/knowledge",children:r.jsxs(me,{variant:Y("/platform/knowledge")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Knowledge"]})}),r.jsxs("div",{className:"pt-4 mt-4 border-t",children:[r.jsx("p",{className:"px-4 text-xs font-medium text-muted-foreground mb-2",children:"Interao"}),r.jsx(Kn,{to:"/platform/playground",children:r.jsxs(me,{variant:Y("/platform/playground")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(mh,{className:"h-4 w-4"}),"Playground"]})}),r.jsx(Kn,{to:"/platform/chat",children:r.jsxs(me,{variant:Y("/platform/chat")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(ni,{className:"h-4 w-4"}),"Chat"]})})]}),r.jsxs("div",{className:"pt-4 mt-4 border-t",children:[r.jsx("p",{className:"px-4 text-xs font-medium text-muted-foreground mb-2",children:"Admin"}),r.jsx(Kn,{to:"/platform/users",children:r.jsxs(me,{variant:Y("/platform/users")?"secondary":"ghost",className:"w-full justify-start gap-2",children:[r.jsx(Vo,{className:"h-4 w-4"}),"Users"]})})]})]}),r.jsxs("div",{className:"p-4 border-t space-y-2",children:[r.jsxs(me,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>Z(!0),children:[r.jsx(Cm,{className:"h-4 w-4"}),"Settings"]}),r.jsx(Kn,{to:"/",children:r.jsxs(me,{variant:"ghost",className:"w-full justify-start gap-2 text-red-500 hover:text-red-600 hover:bg-red-50",children:[r.jsx(VO,{className:"h-4 w-4"}),"Logout"]})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(n2,{agents:p,workflows:g,entities:x,selectedItem:b,onSelect:R,onBrowseGallery:()=>X(!0),isLoading:j,onSettingsClick:()=>Z(!0),showEntitySelector:Y("/platform/playground")||Y("/platform/chat")}),r.jsx("main",{className:"flex-1 overflow-auto",children:r.jsx(OR,{})})]}),r.jsx(I0,{open:U,onOpenChange:Z}),r.jsx(ez,{})]})}function b$(){return r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(Ge,{children:[r.jsx(Pt,{children:r.jsx(Dt,{children:"My Agents"})}),r.jsxs(Xe,{children:[r.jsx("p",{className:"text-2xl font-bold",children:"3"}),r.jsx("p",{className:"text-muted-foreground",children:"Active agents"})]})]}),r.jsxs(Ge,{children:[r.jsx(Pt,{children:r.jsx(Dt,{children:"Total Executions"})}),r.jsxs(Xe,{children:[r.jsx("p",{className:"text-2xl font-bold",children:"1,234"}),r.jsx("p",{className:"text-muted-foreground",children:"This month"})]})]}),r.jsxs(Ge,{children:[r.jsx(Pt,{children:r.jsx(Dt,{children:"System Status"})}),r.jsx(Xe,{children:r.jsx("p",{className:"text-green-500 font-bold",children:"Operational"})})]})]})]})}function bn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=bn(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var w$={value:()=>{}};function Rh(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new dm(n)}function dm(e){this._=e}function j$(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}dm.prototype=Rh.prototype={constructor:dm,on:function(e,t){var n=this._,s=j$(e+"",n),o,l=-1,c=s.length;if(arguments.length<2){for(;++l<c;)if((o=(e=s[l]).type)&&(o=N$(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<c;)if(o=(e=s[l]).type)n[o]=o2(n[o],e.name,t);else if(t==null)for(o in n)n[o]=o2(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dm(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,l;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,o=l.length;s<o;++s)l[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],o=0,l=s.length;o<l;++o)s[o].value.apply(t,n)}};function N$(e,t){for(var n=0,s=e.length,o;n<s;++n)if((o=e[n]).name===t)return o.value}function o2(e,t,n){for(var s=0,o=e.length;s<o;++s)if(e[s].name===t){e[s]=w$,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var $0="http://www.w3.org/1999/xhtml";const i2={svg:"http://www.w3.org/2000/svg",xhtml:$0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),i2.hasOwnProperty(t)?{space:i2[t],local:e}:e}function _$(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$0&&t.documentElement.namespaceURI===$0?t.createElement(e):t.createElementNS(n,e)}}function S$(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function aE(e){var t=Dh(e);return(t.local?S$:_$)(t)}function C$(){}function by(e){return e==null?C$:function(){return this.querySelector(e)}}function E$(e){typeof e!="function"&&(e=by(e));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var l=t[o],c=l.length,d=s[o]=new Array(c),f,h,p=0;p<c;++p)(f=l[p])&&(h=e.call(f,f.__data__,p,l))&&("__data__"in f&&(h.__data__=f.__data__),d[p]=h);return new Ar(s,this._parents)}function k$(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function A$(){return[]}function oE(e){return e==null?A$:function(){return this.querySelectorAll(e)}}function M$(e){return function(){return k$(e.apply(this,arguments))}}function T$(e){typeof e=="function"?e=M$(e):e=oE(e);for(var t=this._groups,n=t.length,s=[],o=[],l=0;l<n;++l)for(var c=t[l],d=c.length,f,h=0;h<d;++h)(f=c[h])&&(s.push(e.call(f,f.__data__,h,c)),o.push(f));return new Ar(s,o)}function iE(e){return function(){return this.matches(e)}}function lE(e){return function(t){return t.matches(e)}}var R$=Array.prototype.find;function D$(e){return function(){return R$.call(this.children,e)}}function O$(){return this.firstElementChild}function z$(e){return this.select(e==null?O$:D$(typeof e=="function"?e:lE(e)))}var I$=Array.prototype.filter;function L$(){return Array.from(this.children)}function $$(e){return function(){return I$.call(this.children,e)}}function P$(e){return this.selectAll(e==null?L$:$$(typeof e=="function"?e:lE(e)))}function U$(e){typeof e!="function"&&(e=iE(e));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var l=t[o],c=l.length,d=s[o]=[],f,h=0;h<c;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new Ar(s,this._parents)}function cE(e){return new Array(e.length)}function F$(){return new Ar(this._enter||this._groups.map(cE),this._parents)}function Lm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lm.prototype={constructor:Lm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function V$(e){return function(){return e}}function H$(e,t,n,s,o,l){for(var c=0,d,f=t.length,h=l.length;c<h;++c)(d=t[c])?(d.__data__=l[c],s[c]=d):n[c]=new Lm(e,l[c]);for(;c<f;++c)(d=t[c])&&(o[c]=d)}function B$(e,t,n,s,o,l,c){var d,f,h=new Map,p=t.length,g=l.length,x=new Array(p),b;for(d=0;d<p;++d)(f=t[d])&&(x[d]=b=c.call(f,f.__data__,d,t)+"",h.has(b)?o[d]=f:h.set(b,f));for(d=0;d<g;++d)b=c.call(e,l[d],d,l)+"",(f=h.get(b))?(s[d]=f,f.__data__=l[d],h.delete(b)):n[d]=new Lm(e,l[d]);for(d=0;d<p;++d)(f=t[d])&&h.get(x[d])===f&&(o[d]=f)}function q$(e){return e.__data__}function Z$(e,t){if(!arguments.length)return Array.from(this,q$);var n=t?B$:H$,s=this._parents,o=this._groups;typeof e!="function"&&(e=V$(e));for(var l=o.length,c=new Array(l),d=new Array(l),f=new Array(l),h=0;h<l;++h){var p=s[h],g=o[h],x=g.length,b=Y$(e.call(p,p&&p.__data__,h,s)),j=b.length,w=d[h]=new Array(j),_=c[h]=new Array(j),S=f[h]=new Array(x);n(p,g,w,_,S,b,t);for(var E=0,C=0,k,T;E<j;++E)if(k=w[E]){for(E>=C&&(C=E+1);!(T=_[C])&&++C<j;);k._next=T||null}}return c=new Ar(c,s),c._enter=d,c._exit=f,c}function Y$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W$(){return new Ar(this._exit||this._groups.map(cE),this._parents)}function G$(e,t,n){var s=this.enter(),o=this,l=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?l.remove():n(l),s&&o?s.merge(o).order():o}function X$(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,o=n.length,l=s.length,c=Math.min(o,l),d=new Array(o),f=0;f<c;++f)for(var h=n[f],p=s[f],g=h.length,x=d[f]=new Array(g),b,j=0;j<g;++j)(b=h[j]||p[j])&&(x[j]=b);for(;f<o;++f)d[f]=n[f];return new Ar(d,this._parents)}function K$(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],o=s.length-1,l=s[o],c;--o>=0;)(c=s[o])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function Q$(e){e||(e=J$);function t(g,x){return g&&x?e(g.__data__,x.__data__):!g-!x}for(var n=this._groups,s=n.length,o=new Array(s),l=0;l<s;++l){for(var c=n[l],d=c.length,f=o[l]=new Array(d),h,p=0;p<d;++p)(h=c[p])&&(f[p]=h);f.sort(t)}return new Ar(o,this._parents).order()}function J$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function eP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tP(){return Array.from(this)}function nP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],o=0,l=s.length;o<l;++o){var c=s[o];if(c)return c}return null}function rP(){let e=0;for(const t of this)++e;return e}function sP(){return!this.node()}function aP(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],l=0,c=o.length,d;l<c;++l)(d=o[l])&&e.call(d,d.__data__,l,o);return this}function oP(e){return function(){this.removeAttribute(e)}}function iP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lP(e,t){return function(){this.setAttribute(e,t)}}function cP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dP(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function fP(e,t){var n=Dh(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?iP:oP:typeof t=="function"?n.local?dP:uP:n.local?cP:lP)(n,t))}function uE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function mP(e){return function(){this.style.removeProperty(e)}}function hP(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pP(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function gP(e,t,n){return arguments.length>1?this.each((t==null?mP:typeof t=="function"?pP:hP)(e,t,n??"")):xl(this.node(),e)}function xl(e,t){return e.style.getPropertyValue(t)||uE(e).getComputedStyle(e,null).getPropertyValue(t)}function xP(e){return function(){delete this[e]}}function vP(e,t){return function(){this[e]=t}}function yP(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function bP(e,t){return arguments.length>1?this.each((t==null?xP:typeof t=="function"?yP:vP)(e,t)):this.node()[e]}function dE(e){return e.trim().split(/^|\s+/)}function wy(e){return e.classList||new fE(e)}function fE(e){this._node=e,this._names=dE(e.getAttribute("class")||"")}fE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mE(e,t){for(var n=wy(e),s=-1,o=t.length;++s<o;)n.add(t[s])}function hE(e,t){for(var n=wy(e),s=-1,o=t.length;++s<o;)n.remove(t[s])}function wP(e){return function(){mE(this,e)}}function jP(e){return function(){hE(this,e)}}function NP(e,t){return function(){(t.apply(this,arguments)?mE:hE)(this,e)}}function _P(e,t){var n=dE(e+"");if(arguments.length<2){for(var s=wy(this.node()),o=-1,l=n.length;++o<l;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?NP:t?wP:jP)(n,t))}function SP(){this.textContent=""}function CP(e){return function(){this.textContent=e}}function EP(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function kP(e){return arguments.length?this.each(e==null?SP:(typeof e=="function"?EP:CP)(e)):this.node().textContent}function AP(){this.innerHTML=""}function MP(e){return function(){this.innerHTML=e}}function TP(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function RP(e){return arguments.length?this.each(e==null?AP:(typeof e=="function"?TP:MP)(e)):this.node().innerHTML}function DP(){this.nextSibling&&this.parentNode.appendChild(this)}function OP(){return this.each(DP)}function zP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IP(){return this.each(zP)}function LP(e){var t=typeof e=="function"?e:aE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $P(){return null}function PP(e,t){var n=typeof e=="function"?e:aE(e),s=t==null?$P:typeof t=="function"?t:by(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function UP(){var e=this.parentNode;e&&e.removeChild(this)}function FP(){return this.each(UP)}function VP(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function HP(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function BP(e){return this.select(e?HP:VP)}function qP(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZP(e){return function(t){e.call(this,t,this.__data__)}}function YP(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function WP(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,l;n<o;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++s]=l;++s?t.length=s:delete this.__on}}}function GP(e,t,n){return function(){var s=this.__on,o,l=ZP(t);if(s){for(var c=0,d=s.length;c<d;++c)if((o=s[c]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=t;return}}this.addEventListener(e.type,l,n),o={type:e.type,name:e.name,value:t,listener:l,options:n},s?s.push(o):this.__on=[o]}}function XP(e,t,n){var s=YP(e+""),o,l=s.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,h=d.length,p;f<h;++f)for(o=0,p=d[f];o<l;++o)if((c=s[o]).type===p.type&&c.name===p.name)return p.value}return}for(d=t?GP:WP,o=0;o<l;++o)this.each(d(s[o],t,n));return this}function pE(e,t,n){var s=uE(e),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function KP(e,t){return function(){return pE(this,e,t)}}function QP(e,t){return function(){return pE(this,e,t.apply(this,arguments))}}function JP(e,t){return this.each((typeof t=="function"?QP:KP)(e,t))}function*eU(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],o=0,l=s.length,c;o<l;++o)(c=s[o])&&(yield c)}var gE=[null];function Ar(e,t){this._groups=e,this._parents=t}function ed(){return new Ar([[document.documentElement]],gE)}function tU(){return this}Ar.prototype=ed.prototype={constructor:Ar,select:E$,selectAll:T$,selectChild:z$,selectChildren:P$,filter:U$,data:Z$,enter:F$,exit:W$,join:G$,merge:X$,selection:tU,order:K$,sort:Q$,call:eP,nodes:tP,node:nP,size:rP,empty:sP,each:aP,attr:fP,style:gP,property:bP,classed:_P,text:kP,html:RP,raise:OP,lower:IP,append:LP,insert:PP,remove:FP,clone:BP,datum:qP,on:XP,dispatch:JP,[Symbol.iterator]:eU};function wr(e){return typeof e=="string"?new Ar([[document.querySelector(e)]],[document.documentElement]):new Ar([[e]],gE)}function nU(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jr(e,t){if(e=nU(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const rU={passive:!1},Nu={capture:!0,passive:!1};function Wx(e){e.stopImmediatePropagation()}function al(e){e.preventDefault(),e.stopImmediatePropagation()}function xE(e){var t=e.document.documentElement,n=wr(e).on("dragstart.drag",al,Nu);"onselectstart"in t?n.on("selectstart.drag",al,Nu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vE(e,t){var n=e.document.documentElement,s=wr(e).on("dragstart.drag",null);t&&(s.on("click.drag",al,Nu),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zf=e=>()=>e;function P0(e,{sourceEvent:t,subject:n,target:s,identifier:o,active:l,x:c,y:d,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}P0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function sU(e){return!e.ctrlKey&&!e.button}function aU(){return this.parentNode}function oU(e,t){return t??{x:e.x,y:e.y}}function iU(){return navigator.maxTouchPoints||"ontouchstart"in this}function yE(){var e=sU,t=aU,n=oU,s=iU,o={},l=Rh("start","drag","end"),c=0,d,f,h,p,g=0;function x(k){k.on("mousedown.drag",b).filter(s).on("touchstart.drag",_).on("touchmove.drag",S,rU).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(k,T){if(!(p||!e.call(this,k,T))){var M=C(this,t.call(this,k,T),k,T,"mouse");M&&(wr(k.view).on("mousemove.drag",j,Nu).on("mouseup.drag",w,Nu),xE(k.view),Wx(k),h=!1,d=k.clientX,f=k.clientY,M("start",k))}}function j(k){if(al(k),!h){var T=k.clientX-d,M=k.clientY-f;h=T*T+M*M>g}o.mouse("drag",k)}function w(k){wr(k.view).on("mousemove.drag mouseup.drag",null),vE(k.view,h),al(k),o.mouse("end",k)}function _(k,T){if(e.call(this,k,T)){var M=k.changedTouches,O=t.call(this,k,T),I=M.length,U,Z;for(U=0;U<I;++U)(Z=C(this,O,k,T,M[U].identifier,M[U]))&&(Wx(k),Z("start",k,M[U]))}}function S(k){var T=k.changedTouches,M=T.length,O,I;for(O=0;O<M;++O)(I=o[T[O].identifier])&&(al(k),I("drag",k,T[O]))}function E(k){var T=k.changedTouches,M=T.length,O,I;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),O=0;O<M;++O)(I=o[T[O].identifier])&&(Wx(k),I("end",k,T[O]))}function C(k,T,M,O,I,U){var Z=l.copy(),X=Jr(U||M,T),Y,q,R;if((R=n.call(k,new P0("beforestart",{sourceEvent:M,target:x,identifier:I,active:c,x:X[0],y:X[1],dx:0,dy:0,dispatch:Z}),O))!=null)return Y=R.x-X[0]||0,q=R.y-X[1]||0,function $(A,L,F){var B=X,z;switch(A){case"start":o[I]=$,z=c++;break;case"end":delete o[I],--c;case"drag":X=Jr(F||L,T),z=c;break}Z.call(A,k,new P0(A,{sourceEvent:L,subject:R,target:x,identifier:I,active:z,x:X[0]+Y,y:X[1]+q,dx:X[0]-B[0],dy:X[1]-B[1],dispatch:Z}),O)}}return x.filter=function(k){return arguments.length?(e=typeof k=="function"?k:zf(!!k),x):e},x.container=function(k){return arguments.length?(t=typeof k=="function"?k:zf(k),x):t},x.subject=function(k){return arguments.length?(n=typeof k=="function"?k:zf(k),x):n},x.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:zf(!!k),x):s},x.on=function(){var k=l.on.apply(l,arguments);return k===l?x:k},x.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,x):Math.sqrt(g)},x}function jy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bE(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function td(){}var _u=.7,$m=1/_u,ol="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lU=/^#([0-9a-f]{3,8})$/,cU=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),uU=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),dU=new RegExp(`^rgba\\(${ol},${ol},${ol},${Su}\\)$`),fU=new RegExp(`^rgba\\(${Is},${Is},${Is},${Su}\\)$`),mU=new RegExp(`^hsl\\(${Su},${Is},${Is}\\)$`),hU=new RegExp(`^hsla\\(${Su},${Is},${Is},${Su}\\)$`),l2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jy(td,Yo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c2,formatHex:c2,formatHex8:pU,formatHsl:gU,formatRgb:u2,toString:u2});function c2(){return this.rgb().formatHex()}function pU(){return this.rgb().formatHex8()}function gU(){return wE(this).formatHsl()}function u2(){return this.rgb().formatRgb()}function Yo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?d2(t):n===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?If(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?If(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cU.exec(e))?new lr(t[1],t[2],t[3],1):(t=uU.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dU.exec(e))?If(t[1],t[2],t[3],t[4]):(t=fU.exec(e))?If(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mU.exec(e))?h2(t[1],t[2]/100,t[3]/100,1):(t=hU.exec(e))?h2(t[1],t[2]/100,t[3]/100,t[4]):l2.hasOwnProperty(e)?d2(l2[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function d2(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function If(e,t,n,s){return s<=0&&(e=t=n=NaN),new lr(e,t,n,s)}function xU(e){return e instanceof td||(e=Yo(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function U0(e,t,n,s){return arguments.length===1?xU(e):new lr(e,t,n,s??1)}function lr(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}jy(lr,U0,bE(td,{brighter(e){return e=e==null?$m:Math.pow($m,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_u:Math.pow(_u,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr($o(this.r),$o(this.g),$o(this.b),Pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f2,formatHex:f2,formatHex8:vU,formatRgb:m2,toString:m2}));function f2(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function vU(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function m2(){const e=Pm(this.opacity);return`${e===1?"rgb(":"rgba("}${$o(this.r)}, ${$o(this.g)}, ${$o(this.b)}${e===1?")":`, ${e})`}`}function Pm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Io(e){return e=$o(e),(e<16?"0":"")+e.toString(16)}function h2(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new es(e,t,n,s)}function wE(e){if(e instanceof es)return new es(e.h,e.s,e.l,e.opacity);if(e instanceof td||(e=Yo(e)),!e)return new es;if(e instanceof es)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,o=Math.min(t,n,s),l=Math.max(t,n,s),c=NaN,d=l-o,f=(l+o)/2;return d?(t===l?c=(n-s)/d+(n<s)*6:n===l?c=(s-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+o:2-l-o,c*=60):d=f>0&&f<1?0:c,new es(c,d,f,e.opacity)}function yU(e,t,n,s){return arguments.length===1?wE(e):new es(e,t,n,s??1)}function es(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}jy(es,yU,bE(td,{brighter(e){return e=e==null?$m:Math.pow($m,e),new es(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_u:Math.pow(_u,e),new es(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new lr(Gx(e>=240?e-240:e+120,o,s),Gx(e,o,s),Gx(e<120?e+240:e-120,o,s),this.opacity)},clamp(){return new es(p2(this.h),Lf(this.s),Lf(this.l),Pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pm(this.opacity);return`${e===1?"hsl(":"hsla("}${p2(this.h)}, ${Lf(this.s)*100}%, ${Lf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p2(e){return e=(e||0)%360,e<0?e+360:e}function Lf(e){return Math.max(0,Math.min(1,e||0))}function Gx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ny=e=>()=>e;function bU(e,t){return function(n){return e+n*t}}function wU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function jU(e){return(e=+e)==1?jE:function(t,n){return n-t?wU(t,n,e):Ny(isNaN(t)?n:t)}}function jE(e,t){var n=t-e;return n?bU(e,n):Ny(isNaN(e)?t:e)}const Um=(function e(t){var n=jU(t);function s(o,l){var c=n((o=U0(o)).r,(l=U0(l)).r),d=n(o.g,l.g),f=n(o.b,l.b),h=jE(o.opacity,l.opacity);return function(p){return o.r=c(p),o.g=d(p),o.b=f(p),o.opacity=h(p),o+""}}return s.gamma=e,s})(1);function NU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),o;return function(l){for(o=0;o<n;++o)s[o]=e[o]*(1-l)+t[o]*l;return s}}function _U(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SU(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,o=new Array(s),l=new Array(n),c;for(c=0;c<s;++c)o[c]=iu(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<s;++c)l[c]=o[c](d);return l}}function CU(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function Cs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function EU(e,t){var n={},s={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=iu(e[o],t[o]):s[o]=t[o];return function(l){for(o in n)s[o]=n[o](l);return s}}var F0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xx=new RegExp(F0.source,"g");function kU(e){return function(){return e}}function AU(e){return function(t){return e(t)+""}}function NE(e,t){var n=F0.lastIndex=Xx.lastIndex=0,s,o,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(s=F0.exec(e))&&(o=Xx.exec(t));)(l=o.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(s=s[0])===(o=o[0])?d[c]?d[c]+=o:d[++c]=o:(d[++c]=null,f.push({i:c,x:Cs(s,o)})),n=Xx.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?AU(f[0].x):kU(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function iu(e,t){var n=typeof t,s;return t==null||n==="boolean"?Ny(t):(n==="number"?Cs:n==="string"?(s=Yo(t))?(t=s,Um):NE:t instanceof Yo?Um:t instanceof Date?CU:_U(t)?NU:Array.isArray(t)?SU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EU:Cs)(e,t)}var g2=180/Math.PI,V0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _E(e,t,n,s,o,l){var c,d,f;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(f=e*n+t*s)&&(n-=e*f,s-=t*f),(d=Math.sqrt(n*n+s*s))&&(n/=d,s/=d,f/=d),e*s<t*n&&(e=-e,t=-t,f=-f,c=-c),{translateX:o,translateY:l,rotate:Math.atan2(t,e)*g2,skewX:Math.atan(f)*g2,scaleX:c,scaleY:d}}var $f;function MU(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?V0:_E(t.a,t.b,t.c,t.d,t.e,t.f)}function TU(e){return e==null||($f||($f=document.createElementNS("http://www.w3.org/2000/svg","g")),$f.setAttribute("transform",e),!(e=$f.transform.baseVal.consolidate()))?V0:(e=e.matrix,_E(e.a,e.b,e.c,e.d,e.e,e.f))}function SE(e,t,n,s){function o(h){return h.length?h.pop()+" ":""}function l(h,p,g,x,b,j){if(h!==g||p!==x){var w=b.push("translate(",null,t,null,n);j.push({i:w-4,x:Cs(h,g)},{i:w-2,x:Cs(p,x)})}else(g||x)&&b.push("translate("+g+t+x+n)}function c(h,p,g,x){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),x.push({i:g.push(o(g)+"rotate(",null,s)-2,x:Cs(h,p)})):p&&g.push(o(g)+"rotate("+p+s)}function d(h,p,g,x){h!==p?x.push({i:g.push(o(g)+"skewX(",null,s)-2,x:Cs(h,p)}):p&&g.push(o(g)+"skewX("+p+s)}function f(h,p,g,x,b,j){if(h!==g||p!==x){var w=b.push(o(b)+"scale(",null,",",null,")");j.push({i:w-4,x:Cs(h,g)},{i:w-2,x:Cs(p,x)})}else(g!==1||x!==1)&&b.push(o(b)+"scale("+g+","+x+")")}return function(h,p){var g=[],x=[];return h=e(h),p=e(p),l(h.translateX,h.translateY,p.translateX,p.translateY,g,x),c(h.rotate,p.rotate,g,x),d(h.skewX,p.skewX,g,x),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,g,x),h=p=null,function(b){for(var j=-1,w=x.length,_;++j<w;)g[(_=x[j]).i]=_.x(b);return g.join("")}}}var RU=SE(MU,"px, ","px)","deg)"),DU=SE(TU,", ",")",")"),OU=1e-12;function x2(e){return((e=Math.exp(e))+1/e)/2}function zU(e){return((e=Math.exp(e))-1/e)/2}function IU(e){return((e=Math.exp(2*e))-1)/(e+1)}const fm=(function e(t,n,s){function o(l,c){var d=l[0],f=l[1],h=l[2],p=c[0],g=c[1],x=c[2],b=p-d,j=g-f,w=b*b+j*j,_,S;if(w<OU)S=Math.log(x/h)/t,_=function(O){return[d+O*b,f+O*j,h*Math.exp(t*O*S)]};else{var E=Math.sqrt(w),C=(x*x-h*h+s*w)/(2*h*n*E),k=(x*x-h*h-s*w)/(2*x*n*E),T=Math.log(Math.sqrt(C*C+1)-C),M=Math.log(Math.sqrt(k*k+1)-k);S=(M-T)/t,_=function(O){var I=O*S,U=x2(T),Z=h/(n*E)*(U*IU(t*I+T)-zU(T));return[d+Z*b,f+Z*j,h*U/x2(t*I+T)]}}return _.duration=S*1e3*t/Math.SQRT2,_}return o.rho=function(l){var c=Math.max(.001,+l),d=c*c,f=d*d;return e(c,d,f)},o})(Math.SQRT2,2,4);var vl=0,Qc=0,Wc=0,CE=1e3,Fm,Jc,Vm=0,Wo=0,Oh=0,Cu=typeof performance=="object"&&performance.now?performance:Date,EE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _y(){return Wo||(EE(LU),Wo=Cu.now()+Oh)}function LU(){Wo=0}function Hm(){this._call=this._time=this._next=null}Hm.prototype=kE.prototype={constructor:Hm,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_y():+n)+(t==null?0:+t),!this._next&&Jc!==this&&(Jc?Jc._next=this:Fm=this,Jc=this),this._call=e,this._time=n,H0()},stop:function(){this._call&&(this._call=null,this._time=1/0,H0())}};function kE(e,t,n){var s=new Hm;return s.restart(e,t,n),s}function $U(){_y(),++vl;for(var e=Fm,t;e;)(t=Wo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vl}function v2(){Wo=(Vm=Cu.now())+Oh,vl=Qc=0;try{$U()}finally{vl=0,UU(),Wo=0}}function PU(){var e=Cu.now(),t=e-Vm;t>CE&&(Oh-=t,Vm=e)}function UU(){for(var e,t=Fm,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fm=n);Jc=e,H0(s)}function H0(e){if(!vl){Qc&&(Qc=clearTimeout(Qc));var t=e-Wo;t>24?(e<1/0&&(Qc=setTimeout(v2,e-Cu.now()-Oh)),Wc&&(Wc=clearInterval(Wc))):(Wc||(Vm=Cu.now(),Wc=setInterval(PU,CE)),vl=1,EE(v2))}}function y2(e,t,n){var s=new Hm;return t=t==null?0:+t,s.restart(o=>{s.stop(),e(o+t)},t,n),s}var FU=Rh("start","end","cancel","interrupt"),VU=[],AE=0,b2=1,B0=2,mm=3,w2=4,q0=5,hm=6;function zh(e,t,n,s,o,l){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;HU(e,n,{name:t,index:s,group:o,on:FU,tween:VU,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:AE})}function Sy(e,t){var n=xs(e,t);if(n.state>AE)throw new Error("too late; already scheduled");return n}function Hs(e,t){var n=xs(e,t);if(n.state>mm)throw new Error("too late; already running");return n}function xs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HU(e,t,n){var s=e.__transition,o;s[t]=n,n.timer=kE(l,0,n.time);function l(h){n.state=b2,n.timer.restart(c,n.delay,n.time),n.delay<=h&&c(h-n.delay)}function c(h){var p,g,x,b;if(n.state!==b2)return f();for(p in s)if(b=s[p],b.name===n.name){if(b.state===mm)return y2(c);b.state===w2?(b.state=hm,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete s[p]):+p<t&&(b.state=hm,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete s[p])}if(y2(function(){n.state===mm&&(n.state=w2,n.timer.restart(d,n.delay,n.time),d(h))}),n.state=B0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===B0){for(n.state=mm,o=new Array(x=n.tween.length),p=0,g=-1;p<x;++p)(b=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(o[++g]=b);o.length=g+1}}function d(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=q0,1),g=-1,x=o.length;++g<x;)o[g].call(e,p);n.state===q0&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=hm,n.timer.stop(),delete s[t];for(var h in s)return;delete e.__transition}}function pm(e,t){var n=e.__transition,s,o,l=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){l=!1;continue}o=s.state>B0&&s.state<q0,s.state=hm,s.timer.stop(),s.on.call(o?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[c]}l&&delete e.__transition}}function BU(e){return this.each(function(){pm(this,e)})}function qU(e,t){var n,s;return function(){var o=Hs(this,e),l=o.tween;if(l!==n){s=n=l;for(var c=0,d=s.length;c<d;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function ZU(e,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var l=Hs(this,e),c=l.tween;if(c!==s){o=(s=c).slice();for(var d={name:t,value:n},f=0,h=o.length;f<h;++f)if(o[f].name===t){o[f]=d;break}f===h&&o.push(d)}l.tween=o}}function YU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=xs(this.node(),n).tween,o=0,l=s.length,c;o<l;++o)if((c=s[o]).name===e)return c.value;return null}return this.each((t==null?qU:ZU)(n,e,t))}function Cy(e,t,n){var s=e._id;return e.each(function(){var o=Hs(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return xs(o,s).value[t]}}function ME(e,t){var n;return(typeof t=="number"?Cs:t instanceof Yo?Um:(n=Yo(t))?(t=n,Um):NE)(e,t)}function WU(e){return function(){this.removeAttribute(e)}}function GU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XU(e,t,n){var s,o=n+"",l;return function(){var c=this.getAttribute(e);return c===o?null:c===s?l:l=t(s=c,n)}}function KU(e,t,n){var s,o=n+"",l;return function(){var c=this.getAttributeNS(e.space,e.local);return c===o?null:c===s?l:l=t(s=c,n)}}function QU(e,t,n){var s,o,l;return function(){var c,d=n(this),f;return d==null?void this.removeAttribute(e):(c=this.getAttribute(e),f=d+"",c===f?null:c===s&&f===o?l:(o=f,l=t(s=c,d)))}}function JU(e,t,n){var s,o,l;return function(){var c,d=n(this),f;return d==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),f=d+"",c===f?null:c===s&&f===o?l:(o=f,l=t(s=c,d)))}}function eF(e,t){var n=Dh(e),s=n==="transform"?DU:ME;return this.attrTween(e,typeof t=="function"?(n.local?JU:QU)(n,s,Cy(this,"attr."+e,t)):t==null?(n.local?GU:WU)(n):(n.local?KU:XU)(n,s,t))}function tF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function nF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rF(e,t){var n,s;function o(){var l=t.apply(this,arguments);return l!==s&&(n=(s=l)&&nF(e,l)),n}return o._value=t,o}function sF(e,t){var n,s;function o(){var l=t.apply(this,arguments);return l!==s&&(n=(s=l)&&tF(e,l)),n}return o._value=t,o}function aF(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Dh(e);return this.tween(n,(s.local?rF:sF)(s,t))}function oF(e,t){return function(){Sy(this,e).delay=+t.apply(this,arguments)}}function iF(e,t){return t=+t,function(){Sy(this,e).delay=t}}function lF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?oF:iF)(t,e)):xs(this.node(),t).delay}function cF(e,t){return function(){Hs(this,e).duration=+t.apply(this,arguments)}}function uF(e,t){return t=+t,function(){Hs(this,e).duration=t}}function dF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cF:uF)(t,e)):xs(this.node(),t).duration}function fF(e,t){if(typeof t!="function")throw new Error;return function(){Hs(this,e).ease=t}}function mF(e){var t=this._id;return arguments.length?this.each(fF(t,e)):xs(this.node(),t).ease}function hF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hs(this,e).ease=n}}function pF(e){if(typeof e!="function")throw new Error;return this.each(hF(this._id,e))}function gF(e){typeof e!="function"&&(e=iE(e));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var l=t[o],c=l.length,d=s[o]=[],f,h=0;h<c;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new ja(s,this._parents,this._name,this._id)}function xF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,o=n.length,l=Math.min(s,o),c=new Array(s),d=0;d<l;++d)for(var f=t[d],h=n[d],p=f.length,g=c[d]=new Array(p),x,b=0;b<p;++b)(x=f[b]||h[b])&&(g[b]=x);for(;d<s;++d)c[d]=t[d];return new ja(c,this._parents,this._name,this._id)}function vF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yF(e,t,n){var s,o,l=vF(t)?Sy:Hs;return function(){var c=l(this,e),d=c.on;d!==s&&(o=(s=d).copy()).on(t,n),c.on=o}}function bF(e,t){var n=this._id;return arguments.length<2?xs(this.node(),n).on.on(e):this.each(yF(n,e,t))}function wF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function jF(){return this.on("end.remove",wF(this._id))}function NF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=by(e));for(var s=this._groups,o=s.length,l=new Array(o),c=0;c<o;++c)for(var d=s[c],f=d.length,h=l[c]=new Array(f),p,g,x=0;x<f;++x)(p=d[x])&&(g=e.call(p,p.__data__,x,d))&&("__data__"in p&&(g.__data__=p.__data__),h[x]=g,zh(h[x],t,n,x,h,xs(p,n)));return new ja(l,this._parents,t,n)}function _F(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oE(e));for(var s=this._groups,o=s.length,l=[],c=[],d=0;d<o;++d)for(var f=s[d],h=f.length,p,g=0;g<h;++g)if(p=f[g]){for(var x=e.call(p,p.__data__,g,f),b,j=xs(p,n),w=0,_=x.length;w<_;++w)(b=x[w])&&zh(b,t,n,w,x,j);l.push(x),c.push(p)}return new ja(l,c,t,n)}var SF=ed.prototype.constructor;function CF(){return new SF(this._groups,this._parents)}function EF(e,t){var n,s,o;return function(){var l=xl(this,e),c=(this.style.removeProperty(e),xl(this,e));return l===c?null:l===n&&c===s?o:o=t(n=l,s=c)}}function TE(e){return function(){this.style.removeProperty(e)}}function kF(e,t,n){var s,o=n+"",l;return function(){var c=xl(this,e);return c===o?null:c===s?l:l=t(s=c,n)}}function AF(e,t,n){var s,o,l;return function(){var c=xl(this,e),d=n(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(e),xl(this,e))),c===f?null:c===s&&f===o?l:(o=f,l=t(s=c,d))}}function MF(e,t){var n,s,o,l="style."+t,c="end."+l,d;return function(){var f=Hs(this,e),h=f.on,p=f.value[l]==null?d||(d=TE(t)):void 0;(h!==n||o!==p)&&(s=(n=h).copy()).on(c,o=p),f.on=s}}function TF(e,t,n){var s=(e+="")=="transform"?RU:ME;return t==null?this.styleTween(e,EF(e,s)).on("end.style."+e,TE(e)):typeof t=="function"?this.styleTween(e,AF(e,s,Cy(this,"style."+e,t))).each(MF(this._id,e)):this.styleTween(e,kF(e,s,t),n).on("end.style."+e,null)}function RF(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function DF(e,t,n){var s,o;function l(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&RF(e,c,n)),s}return l._value=t,l}function OF(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,DF(e,t,n??""))}function zF(e){return function(){this.textContent=e}}function IF(e){return function(){var t=e(this);this.textContent=t??""}}function LF(e){return this.tween("text",typeof e=="function"?IF(Cy(this,"text",e)):zF(e==null?"":e+""))}function $F(e){return function(t){this.textContent=e.call(this,t)}}function PF(e){var t,n;function s(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&$F(o)),t}return s._value=e,s}function UF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,PF(e))}function FF(){for(var e=this._name,t=this._id,n=RE(),s=this._groups,o=s.length,l=0;l<o;++l)for(var c=s[l],d=c.length,f,h=0;h<d;++h)if(f=c[h]){var p=xs(f,t);zh(f,e,n,h,c,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new ja(s,this._parents,e,n)}function VF(){var e,t,n=this,s=n._id,o=n.size();return new Promise(function(l,c){var d={value:c},f={value:function(){--o===0&&l()}};n.each(function(){var h=Hs(this,s),p=h.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(f)),h.on=t}),o===0&&l()})}var HF=0;function ja(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function RE(){return++HF}var fa=ed.prototype;ja.prototype={constructor:ja,select:NF,selectAll:_F,selectChild:fa.selectChild,selectChildren:fa.selectChildren,filter:gF,merge:xF,selection:CF,transition:FF,call:fa.call,nodes:fa.nodes,node:fa.node,size:fa.size,empty:fa.empty,each:fa.each,on:bF,attr:eF,attrTween:aF,style:TF,styleTween:OF,text:LF,textTween:UF,remove:jF,tween:YU,delay:lF,duration:dF,ease:mF,easeVarying:pF,end:VF,[Symbol.iterator]:fa[Symbol.iterator]};function BF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qF={time:null,delay:0,duration:250,ease:BF};function ZF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function YF(e){var t,n;e instanceof ja?(t=e._id,e=e._name):(t=RE(),(n=qF).time=_y(),e=e==null?null:e+"");for(var s=this._groups,o=s.length,l=0;l<o;++l)for(var c=s[l],d=c.length,f,h=0;h<d;++h)(f=c[h])&&zh(f,e,t,h,c,n||ZF(f,t));return new ja(s,this._parents,e,t)}ed.prototype.interrupt=BU;ed.prototype.transition=YF;const Pf=e=>()=>e;function WF(e,{sourceEvent:t,target:n,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function ha(e,t,n){this.k=e,this.x=t,this.y=n}ha.prototype={constructor:ha,scale:function(e){return e===1?this:new ha(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ha(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ih=new ha(1,0,0);DE.prototype=ha.prototype;function DE(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ih;return e.__zoom}function Kx(e){e.stopImmediatePropagation()}function Gc(e){e.preventDefault(),e.stopImmediatePropagation()}function GF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function XF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function j2(){return this.__zoom||Ih}function KF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function QF(){return navigator.maxTouchPoints||"ontouchstart"in this}function JF(e,t,n){var s=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function OE(){var e=GF,t=XF,n=JF,s=KF,o=QF,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,f=fm,h=Rh("start","zoom","end"),p,g,x,b=500,j=150,w=0,_=10;function S(R){R.property("__zoom",j2).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",Z).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(R,$,A,L){var F=R.selection?R.selection():R;F.property("__zoom",j2),R!==F?T(R,$,A,L):F.interrupt().each(function(){M(this,arguments).event(L).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},S.scaleBy=function(R,$,A,L){S.scaleTo(R,function(){var F=this.__zoom.k,B=typeof $=="function"?$.apply(this,arguments):$;return F*B},A,L)},S.scaleTo=function(R,$,A,L){S.transform(R,function(){var F=t.apply(this,arguments),B=this.__zoom,z=A==null?k(F):typeof A=="function"?A.apply(this,arguments):A,H=B.invert(z),J=typeof $=="function"?$.apply(this,arguments):$;return n(C(E(B,J),z,H),F,c)},A,L)},S.translateBy=function(R,$,A,L){S.transform(R,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),c)},null,L)},S.translateTo=function(R,$,A,L,F){S.transform(R,function(){var B=t.apply(this,arguments),z=this.__zoom,H=L==null?k(B):typeof L=="function"?L.apply(this,arguments):L;return n(Ih.translate(H[0],H[1]).scale(z.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof A=="function"?-A.apply(this,arguments):-A),B,c)},L,F)};function E(R,$){return $=Math.max(l[0],Math.min(l[1],$)),$===R.k?R:new ha($,R.x,R.y)}function C(R,$,A){var L=$[0]-A[0]*R.k,F=$[1]-A[1]*R.k;return L===R.x&&F===R.y?R:new ha(R.k,L,F)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function T(R,$,A,L){R.on("start.zoom",function(){M(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(L).end()}).tween("zoom",function(){var F=this,B=arguments,z=M(F,B).event(L),H=t.apply(F,B),J=A==null?k(H):typeof A=="function"?A.apply(F,B):A,K=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),ie=F.__zoom,ge=typeof $=="function"?$.apply(F,B):$,ye=f(ie.invert(J).concat(K/ie.k),ge.invert(J).concat(K/ge.k));return function(ae){if(ae===1)ae=ge;else{var de=ye(ae),te=K/de[2];ae=new ha(te,J[0]-de[0]*te,J[1]-de[1]*te)}z.zoom(null,ae)}})}function M(R,$,A){return!A&&R.__zooming||new O(R,$)}function O(R,$){this.that=R,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(R,$),this.taps=0}O.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,$){return this.mouse&&R!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var $=wr(this.that).datum();h.call(R,this.that,new WF(R,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:h}),$)}};function I(R,...$){if(!e.apply(this,arguments))return;var A=M(this,$).event(R),L=this.__zoom,F=Math.max(l[0],Math.min(l[1],L.k*Math.pow(2,s.apply(this,arguments)))),B=Jr(R);if(A.wheel)(A.mouse[0][0]!==B[0]||A.mouse[0][1]!==B[1])&&(A.mouse[1]=L.invert(A.mouse[0]=B)),clearTimeout(A.wheel);else{if(L.k===F)return;A.mouse=[B,L.invert(B)],pm(this),A.start()}Gc(R),A.wheel=setTimeout(z,j),A.zoom("mouse",n(C(E(L,F),A.mouse[0],A.mouse[1]),A.extent,c));function z(){A.wheel=null,A.end()}}function U(R,...$){if(x||!e.apply(this,arguments))return;var A=R.currentTarget,L=M(this,$,!0).event(R),F=wr(R.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",K,!0),B=Jr(R,A),z=R.clientX,H=R.clientY;xE(R.view),Kx(R),L.mouse=[B,this.__zoom.invert(B)],pm(this),L.start();function J(ie){if(Gc(ie),!L.moved){var ge=ie.clientX-z,ye=ie.clientY-H;L.moved=ge*ge+ye*ye>w}L.event(ie).zoom("mouse",n(C(L.that.__zoom,L.mouse[0]=Jr(ie,A),L.mouse[1]),L.extent,c))}function K(ie){F.on("mousemove.zoom mouseup.zoom",null),vE(ie.view,L.moved),Gc(ie),L.event(ie).end()}}function Z(R,...$){if(e.apply(this,arguments)){var A=this.__zoom,L=Jr(R.changedTouches?R.changedTouches[0]:R,this),F=A.invert(L),B=A.k*(R.shiftKey?.5:2),z=n(C(E(A,B),L,F),t.apply(this,$),c);Gc(R),d>0?wr(this).transition().duration(d).call(T,z,L,R):wr(this).call(S.transform,z,L,R)}}function X(R,...$){if(e.apply(this,arguments)){var A=R.touches,L=A.length,F=M(this,$,R.changedTouches.length===L).event(R),B,z,H,J;for(Kx(R),z=0;z<L;++z)H=A[z],J=Jr(H,this),J=[J,this.__zoom.invert(J),H.identifier],F.touch0?!F.touch1&&F.touch0[2]!==J[2]&&(F.touch1=J,F.taps=0):(F.touch0=J,B=!0,F.taps=1+!!p);p&&(p=clearTimeout(p)),B&&(F.taps<2&&(g=J[0],p=setTimeout(function(){p=null},b)),pm(this),F.start())}}function Y(R,...$){if(this.__zooming){var A=M(this,$).event(R),L=R.changedTouches,F=L.length,B,z,H,J;for(Gc(R),B=0;B<F;++B)z=L[B],H=Jr(z,this),A.touch0&&A.touch0[2]===z.identifier?A.touch0[0]=H:A.touch1&&A.touch1[2]===z.identifier&&(A.touch1[0]=H);if(z=A.that.__zoom,A.touch1){var K=A.touch0[0],ie=A.touch0[1],ge=A.touch1[0],ye=A.touch1[1],ae=(ae=ge[0]-K[0])*ae+(ae=ge[1]-K[1])*ae,de=(de=ye[0]-ie[0])*de+(de=ye[1]-ie[1])*de;z=E(z,Math.sqrt(ae/de)),H=[(K[0]+ge[0])/2,(K[1]+ge[1])/2],J=[(ie[0]+ye[0])/2,(ie[1]+ye[1])/2]}else if(A.touch0)H=A.touch0[0],J=A.touch0[1];else return;A.zoom("touch",n(C(z,H,J),A.extent,c))}}function q(R,...$){if(this.__zooming){var A=M(this,$).event(R),L=R.changedTouches,F=L.length,B,z;for(Kx(R),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),B=0;B<F;++B)z=L[B],A.touch0&&A.touch0[2]===z.identifier?delete A.touch0:A.touch1&&A.touch1[2]===z.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(z=Jr(z,this),Math.hypot(g[0]-z[0],g[1]-z[1])<_)){var H=wr(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return S.wheelDelta=function(R){return arguments.length?(s=typeof R=="function"?R:Pf(+R),S):s},S.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Pf(!!R),S):e},S.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:Pf(!!R),S):o},S.extent=function(R){return arguments.length?(t=typeof R=="function"?R:Pf([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),S):t},S.scaleExtent=function(R){return arguments.length?(l[0]=+R[0],l[1]=+R[1],S):[l[0],l[1]]},S.translateExtent=function(R){return arguments.length?(c[0][0]=+R[0][0],c[1][0]=+R[1][0],c[0][1]=+R[0][1],c[1][1]=+R[1][1],S):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},S.constrain=function(R){return arguments.length?(n=R,S):n},S.duration=function(R){return arguments.length?(d=+R,S):d},S.interpolate=function(R){return arguments.length?(f=R,S):f},S.on=function(){var R=h.on.apply(h,arguments);return R===h?S:R},S.clickDistance=function(R){return arguments.length?(w=(R=+R)*R,S):Math.sqrt(w)},S.tapDistance=function(R){return arguments.length?(_=+R,S):_},S}const $s={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Eu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zE=["Enter"," ","Escape"],IE={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var yl;(function(e){e.Strict="strict",e.Loose="loose"})(yl||(yl={}));var Po;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Po||(Po={}));var ku;(function(e){e.Partial="partial",e.Full="full"})(ku||(ku={}));const LE={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var no;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(no||(no={}));var Bm;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bm||(Bm={}));var qe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(qe||(qe={}));const N2={[qe.Left]:qe.Right,[qe.Right]:qe.Left,[qe.Top]:qe.Bottom,[qe.Bottom]:qe.Top};function $E(e){return e===null?null:e?"valid":"invalid"}const PE=e=>"id"in e&&"source"in e&&"target"in e,eV=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ey=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nd=(e,t=[0,0])=>{const{width:n,height:s}=Na(e),o=e.origin??t,l=n*o[0],c=s*o[1];return{x:e.position.x-l,y:e.position.y-c}},tV=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,o)=>{const l=typeof o=="string";let c=!t.nodeLookup&&!l?o:void 0;t.nodeLookup&&(c=l?t.nodeLookup.get(o):Ey(o)?o:t.nodeLookup.get(o.id));const d=c?qm(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Lh(s,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $h(n)},rd=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const o=qm(s);n=Lh(n,o)}}),$h(n)},ky=(e,t,[n,s,o]=[0,0,1],l=!1,c=!1)=>{const d={...ad(t,[n,s,o]),width:t.width/o,height:t.height/o},f=[];for(const h of e.values()){const{measured:p,selectable:g=!0,hidden:x=!1}=h;if(c&&!g||x)continue;const b=p.width??h.width??h.initialWidth??null,j=p.height??h.height??h.initialHeight??null,w=Au(d,wl(h)),_=(b??0)*(j??0),S=l&&w>0;(!h.internals.handleBounds||S||w>=_||h.dragging)&&f.push(h)}return f},nV=(e,t)=>{const n=new Set;return e.forEach(s=>{n.add(s.id)}),t.filter(s=>n.has(s.source)||n.has(s.target))};function rV(e,t){const n=new Map,s=t?.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(t?.includeHiddenNodes||!o.hidden)&&(!s||s.has(o.id))&&n.set(o.id,o)}),n}async function sV({nodes:e,width:t,height:n,panZoom:s,minZoom:o,maxZoom:l},c){if(e.size===0)return Promise.resolve(!0);const d=rV(e,c),f=rd(d),h=Ay(f,t,n,c?.minZoom??o,c?.maxZoom??l,c?.padding??.1);return await s.setViewport(h,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function UE({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:o,onError:l}){const c=n.get(e),d=c.parentId?n.get(c.parentId):void 0,{x:f,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=c.origin??s;let g=c.extent||o;if(c.extent==="parent"&&!c.expandParent)if(!d)l?.("005",$s.error005());else{const b=d.measured.width,j=d.measured.height;b&&j&&(g=[[f,h],[f+b,h+j]])}else d&&jl(c.extent)&&(g=[[c.extent[0][0]+f,c.extent[0][1]+h],[c.extent[1][0]+f,c.extent[1][1]+h]]);const x=jl(g)?Go(t,g,c.measured):t;return(c.measured.width===void 0||c.measured.height===void 0)&&l?.("015",$s.error015()),{position:{x:x.x-f+(c.measured.width??0)*p[0],y:x.y-h+(c.measured.height??0)*p[1]},positionAbsolute:x}}async function aV({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:s,onBeforeDelete:o}){const l=new Set(e.map(x=>x.id)),c=[];for(const x of n){if(x.deletable===!1)continue;const b=l.has(x.id),j=!b&&x.parentId&&c.find(w=>w.id===x.parentId);(b||j)&&c.push(x)}const d=new Set(t.map(x=>x.id)),f=s.filter(x=>x.deletable!==!1),p=nV(c,f);for(const x of f)d.has(x.id)&&!p.find(j=>j.id===x.id)&&p.push(x);if(!o)return{edges:p,nodes:c};const g=await o({nodes:c,edges:p});return typeof g=="boolean"?g?{edges:p,nodes:c}:{edges:[],nodes:[]}:g}const bl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Go=(e={x:0,y:0},t,n)=>({x:bl(e.x,t[0][0],t[1][0]-(n?.width??0)),y:bl(e.y,t[0][1],t[1][1]-(n?.height??0))});function FE(e,t,n){const{width:s,height:o}=Na(n),{x:l,y:c}=n.internals.positionAbsolute;return Go(e,[[l,c],[l+s,c+o]],t)}const _2=(e,t,n)=>e<t?bl(Math.abs(e-t),1,t)/t:e>n?-bl(Math.abs(e-n),1,t)/t:0,VE=(e,t,n=15,s=40)=>{const o=_2(e.x,s,t.width-s)*n,l=_2(e.y,s,t.height-s)*n;return[o,l]},Lh=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Z0=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),$h=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),wl=(e,t=[0,0])=>{const{x:n,y:s}=Ey(e)?e.internals.positionAbsolute:nd(e,t);return{x:n,y:s,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},qm=(e,t=[0,0])=>{const{x:n,y:s}=Ey(e)?e.internals.positionAbsolute:nd(e,t);return{x:n,y:s,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:s+(e.measured?.height??e.height??e.initialHeight??0)}},HE=(e,t)=>$h(Lh(Z0(e),Z0(t))),Au=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},S2=e=>ss(e.width)&&ss(e.height)&&ss(e.x)&&ss(e.y),ss=e=>!isNaN(e)&&isFinite(e),oV=(e,t)=>{},sd=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ad=({x:e,y:t},[n,s,o],l=!1,c=[1,1])=>{const d={x:(e-n)/o,y:(t-s)/o};return l?sd(d,c):d},Zm=({x:e,y:t},[n,s,o])=>({x:e*o+n,y:t*o+s});function Yi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function iV(e,t,n){if(typeof e=="string"||typeof e=="number"){const s=Yi(e,n),o=Yi(e,t);return{top:s,right:o,bottom:s,left:o,x:o*2,y:s*2}}if(typeof e=="object"){const s=Yi(e.top??e.y??0,n),o=Yi(e.bottom??e.y??0,n),l=Yi(e.left??e.x??0,t),c=Yi(e.right??e.x??0,t);return{top:s,right:c,bottom:o,left:l,x:l+c,y:s+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function lV(e,t,n,s,o,l){const{x:c,y:d}=Zm(e,[t,n,s]),{x:f,y:h}=Zm({x:e.x+e.width,y:e.y+e.height},[t,n,s]),p=o-f,g=l-h;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(g)}}const Ay=(e,t,n,s,o,l)=>{const c=iV(l,t,n),d=(t-c.x)/e.width,f=(n-c.y)/e.height,h=Math.min(d,f),p=bl(h,s,o),g=e.x+e.width/2,x=e.y+e.height/2,b=t/2-g*p,j=n/2-x*p,w=lV(e,b,j,p,t,n),_={left:Math.min(w.left-c.left,0),top:Math.min(w.top-c.top,0),right:Math.min(w.right-c.right,0),bottom:Math.min(w.bottom-c.bottom,0)};return{x:b-_.left+_.right,y:j-_.top+_.bottom,zoom:p}},Mu=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function jl(e){return e!=null&&e!=="parent"}function Na(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function BE(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function qE(e,t={width:0,height:0},n,s,o){const l={...e},c=s.get(n);if(c){const d=c.origin||o;l.x+=c.internals.positionAbsolute.x-(t.width??0)*d[0],l.y+=c.internals.positionAbsolute.y-(t.height??0)*d[1]}return l}function C2(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function cV(){let e,t;return{promise:new Promise((s,o)=>{e=s,t=o}),resolve:e,reject:t}}function uV(e){return{...IE,...e||{}}}function lu(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:s,containerBounds:o}){const{x:l,y:c}=Os(e),d=ad({x:l-(o?.left??0),y:c-(o?.top??0)},s),{x:f,y:h}=n?sd(d,t):d;return{xSnapped:f,ySnapped:h,...d}}const My=e=>({width:e.offsetWidth,height:e.offsetHeight}),ZE=e=>e?.getRootNode?.()||window?.document,dV=["INPUT","SELECT","TEXTAREA"];function YE(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:dV.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const WE=e=>"clientX"in e,Os=(e,t)=>{const n=WE(e),s=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:s-(t?.left??0),y:o-(t?.top??0)}},E2=(e,t,n,s,o)=>{const l=t.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:o,position:c.getAttribute("data-handlepos"),x:(d.left-n.left)/s,y:(d.top-n.top)/s,...My(c)}})};function GE({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d}){const f=e*.125+o*.375+c*.375+n*.125,h=t*.125+l*.375+d*.375+s*.125,p=Math.abs(f-e),g=Math.abs(h-t);return[f,h,p,g]}function Uf(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function k2({pos:e,x1:t,y1:n,x2:s,y2:o,c:l}){switch(e){case qe.Left:return[t-Uf(t-s,l),n];case qe.Right:return[t+Uf(s-t,l),n];case qe.Top:return[t,n-Uf(n-o,l)];case qe.Bottom:return[t,n+Uf(o-n,l)]}}function XE({sourceX:e,sourceY:t,sourcePosition:n=qe.Bottom,targetX:s,targetY:o,targetPosition:l=qe.Top,curvature:c=.25}){const[d,f]=k2({pos:n,x1:e,y1:t,x2:s,y2:o,c}),[h,p]=k2({pos:l,x1:s,y1:o,x2:e,y2:t,c}),[g,x,b,j]=GE({sourceX:e,sourceY:t,targetX:s,targetY:o,sourceControlX:d,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${e},${t} C${d},${f} ${h},${p} ${s},${o}`,g,x,b,j]}function KE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const o=Math.abs(n-e)/2,l=n<e?n+o:n-o,c=Math.abs(s-t)/2,d=s<t?s+c:s-c;return[l,d,o,c]}function fV({sourceNode:e,targetNode:t,selected:n=!1,zIndex:s,elevateOnSelect:o=!1}){if(s!==void 0)return s;const l=o&&n?1e3:0,c=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return l+c}function mV({sourceNode:e,targetNode:t,width:n,height:s,transform:o}){const l=Lh(qm(e),qm(t));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:s/o[2]};return Au(c,$h(l))>0}const hV=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`xy-edge__${e}${t||""}-${n}${s||""}`,pV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),QE=(e,t)=>{if(!e.source||!e.target)return t;let n;return PE(e)?n={...e}:n={...e,id:hV(e)},pV(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function JE({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[o,l,c,d]=KE({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,o,l,c,d]}const A2={[qe.Left]:{x:-1,y:0},[qe.Right]:{x:1,y:0},[qe.Top]:{x:0,y:-1},[qe.Bottom]:{x:0,y:1}},gV=({source:e,sourcePosition:t=qe.Bottom,target:n})=>t===qe.Left||t===qe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},M2=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function xV({source:e,sourcePosition:t=qe.Bottom,target:n,targetPosition:s=qe.Top,center:o,offset:l,stepPosition:c}){const d=A2[t],f=A2[s],h={x:e.x+d.x*l,y:e.y+d.y*l},p={x:n.x+f.x*l,y:n.y+f.y*l},g=gV({source:h,sourcePosition:t,target:p}),x=g.x!==0?"x":"y",b=g[x];let j=[],w,_;const S={x:0,y:0},E={x:0,y:0},[,,C,k]=KE({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(d[x]*f[x]===-1){x==="x"?(w=o.x??h.x+(p.x-h.x)*c,_=o.y??(h.y+p.y)/2):(w=o.x??(h.x+p.x)/2,_=o.y??h.y+(p.y-h.y)*c);const M=[{x:w,y:h.y},{x:w,y:p.y}],O=[{x:h.x,y:_},{x:p.x,y:_}];d[x]===b?j=x==="x"?M:O:j=x==="x"?O:M}else{const M=[{x:h.x,y:p.y}],O=[{x:p.x,y:h.y}];if(x==="x"?j=d.x===b?O:M:j=d.y===b?M:O,t===s){const Y=Math.abs(e[x]-n[x]);if(Y<=l){const q=Math.min(l-1,l-Y);d[x]===b?S[x]=(h[x]>e[x]?-1:1)*q:E[x]=(p[x]>n[x]?-1:1)*q}}if(t!==s){const Y=x==="x"?"y":"x",q=d[x]===f[Y],R=h[Y]>p[Y],$=h[Y]<p[Y];(d[x]===1&&(!q&&R||q&&$)||d[x]!==1&&(!q&&$||q&&R))&&(j=x==="x"?M:O)}const I={x:h.x+S.x,y:h.y+S.y},U={x:p.x+E.x,y:p.y+E.y},Z=Math.max(Math.abs(I.x-j[0].x),Math.abs(U.x-j[0].x)),X=Math.max(Math.abs(I.y-j[0].y),Math.abs(U.y-j[0].y));Z>=X?(w=(I.x+U.x)/2,_=j[0].y):(w=j[0].x,_=(I.y+U.y)/2)}return[[e,{x:h.x+S.x,y:h.y+S.y},...j,{x:p.x+E.x,y:p.y+E.y},n],w,_,C,k]}function vV(e,t,n,s){const o=Math.min(M2(e,t)/2,M2(t,n)/2,s),{x:l,y:c}=t;if(e.x===l&&l===n.x||e.y===c&&c===n.y)return`L${l} ${c}`;if(e.y===c){const h=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${l+o*h},${c}Q ${l},${c} ${l},${c+o*p}`}const d=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${l},${c+o*f}Q ${l},${c} ${l+o*d},${c}`}function Y0({sourceX:e,sourceY:t,sourcePosition:n=qe.Bottom,targetX:s,targetY:o,targetPosition:l=qe.Top,borderRadius:c=5,centerX:d,centerY:f,offset:h=20,stepPosition:p=.5}){const[g,x,b,j,w]=xV({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:o},targetPosition:l,center:{x:d,y:f},offset:h,stepPosition:p});return[g.reduce((S,E,C)=>{let k="";return C>0&&C<g.length-1?k=vV(g[C-1],E,g[C+1],c):k=`${C===0?"M":"L"}${E.x} ${E.y}`,S+=k,S},""),x,b,j,w]}function T2(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function yV(e){const{sourceNode:t,targetNode:n}=e;if(!T2(t)||!T2(n))return null;const s=t.internals.handleBounds||R2(t.handles),o=n.internals.handleBounds||R2(n.handles),l=D2(s?.source??[],e.sourceHandle),c=D2(e.connectionMode===yl.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!l||!c)return e.onError?.("008",$s.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=l?.position||qe.Bottom,f=c?.position||qe.Top,h=Tu(t,l,d),p=Tu(n,c,f);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:f}}function R2(e){if(!e)return null;const t=[],n=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&n.push(s);return{source:t,target:n}}function Tu(e,t,n=qe.Left,s=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,l=(t?.y??0)+e.internals.positionAbsolute.y,{width:c,height:d}=t??Na(e);if(s)return{x:o+c/2,y:l+d/2};switch(t?.position??n){case qe.Top:return{x:o+c/2,y:l};case qe.Right:return{x:o+c,y:l+d/2};case qe.Bottom:return{x:o+c/2,y:l+d};case qe.Left:return{x:o,y:l+d/2}}}function D2(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function W0(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function bV(e,{id:t,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:o}){const l=new Set;return e.reduce((c,d)=>([d.markerStart||s,d.markerEnd||o].forEach(f=>{if(f&&typeof f=="object"){const h=W0(f,t);l.has(h)||(c.push({id:h,color:f.color||n,...f}),l.add(h))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const Ty={nodeOrigin:[0,0],nodeExtent:Eu,elevateNodesOnSelect:!0,defaults:{}},wV={...Ty,checkEquality:!0};function Ry(e,t){const n={...e};for(const s in t)t[s]!==void 0&&(n[s]=t[s]);return n}function jV(e,t,n){const s=Ry(Ty,n);for(const o of e.values())if(o.parentId)Dy(o,e,t,s);else{const l=nd(o,s.nodeOrigin),c=jl(o.extent)?o.extent:s.nodeExtent,d=Go(l,c,Na(o));o.internals.positionAbsolute=d}}function G0(e,t,n,s){const o=Ry(wV,s);let l=e.length>0;const c=new Map(t),d=o?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const f of e){let h=c.get(f.id);if(o.checkEquality&&f===h?.internals.userNode)t.set(f.id,h);else{const p=nd(f,o.nodeOrigin),g=jl(f.extent)?f.extent:o.nodeExtent,x=Go(p,g,Na(f));h={...o.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:x,handleBounds:f.measured?h?.internals.handleBounds:void 0,z:ek(f,d),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(l=!1),f.parentId&&Dy(h,t,n,s)}return l}function NV(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Dy(e,t,n,s){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:c}=Ry(Ty,s),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}NV(e,n);const h=o?1e3:0,{x:p,y:g,z:x}=_V(e,f,l,c,h),{positionAbsolute:b}=e.internals,j=p!==b.x||g!==b.y;(j||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:p,y:g}:b,z:x}})}function ek(e,t){return(ss(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function _V(e,t,n,s,o){const{x:l,y:c}=t.internals.positionAbsolute,d=Na(e),f=nd(e,n),h=jl(e.extent)?Go(f,e.extent,d):f;let p=Go({x:l+h.x,y:c+h.y},s,d);e.extent==="parent"&&(p=FE(p,d,t));const g=ek(e,o),x=t.internals.z??0;return{x:p.x,y:p.y,z:x>=g?x+1:g}}function Oy(e,t,n,s=[0,0]){const o=[],l=new Map;for(const c of e){const d=t.get(c.parentId);if(!d)continue;const f=l.get(c.parentId)?.expandedRect??wl(d),h=HE(f,c.rect);l.set(c.parentId,{expandedRect:h,parent:d})}return l.size>0&&l.forEach(({expandedRect:c,parent:d},f)=>{const h=d.internals.positionAbsolute,p=Na(d),g=d.origin??s,x=c.x<h.x?Math.round(Math.abs(h.x-c.x)):0,b=c.y<h.y?Math.round(Math.abs(h.y-c.y)):0,j=Math.max(p.width,Math.round(c.width)),w=Math.max(p.height,Math.round(c.height)),_=(j-p.width)*g[0],S=(w-p.height)*g[1];(x>0||b>0||_||S)&&(o.push({id:f,type:"position",position:{x:d.position.x-x+_,y:d.position.y-b+S}}),n.get(f)?.forEach(E=>{e.some(C=>C.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+x,y:E.position.y+b}})})),(p.width<c.width||p.height<c.height||x||b)&&o.push({id:f,type:"dimensions",setAttributes:!0,dimensions:{width:j+(x?g[0]*x-_:0),height:w+(b?g[1]*b-S:0)}})}),o}function SV(e,t,n,s,o,l){const c=s?.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const f=[],h=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=[];for(const x of e.values()){const b=t.get(x.id);if(!b)continue;if(b.hidden){t.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),d=!0;continue}const j=My(x.nodeElement),w=b.measured.width!==j.width||b.measured.height!==j.height;if(!!(j.width&&j.height&&(w||!b.internals.handleBounds||x.force))){const S=x.nodeElement.getBoundingClientRect(),E=jl(b.extent)?b.extent:l;let{positionAbsolute:C}=b.internals;b.parentId&&b.extent==="parent"?C=FE(C,j,t.get(b.parentId)):E&&(C=Go(C,E,j));const k={...b,measured:j,internals:{...b.internals,positionAbsolute:C,handleBounds:{source:E2("source",x.nodeElement,S,p,b.id),target:E2("target",x.nodeElement,S,p,b.id)}}};t.set(b.id,k),b.parentId&&Dy(k,t,n,{nodeOrigin:o}),d=!0,w&&(f.push({id:b.id,type:"dimensions",dimensions:j}),b.expandParent&&b.parentId&&g.push({id:b.id,parentId:b.parentId,rect:wl(k,o)}))}}if(g.length>0){const x=Oy(g,t,n,o);f.push(...x)}return{changes:f,updatedInternals:d}}async function CV({delta:e,panZoom:t,transform:n,translateExtent:s,width:o,height:l}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,l]],s),d=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(d)}function O2(e,t,n,s,o,l){let c=o;const d=s.get(c)||new Map;s.set(c,d.set(n,t)),c=`${o}-${e}`;const f=s.get(c)||new Map;if(s.set(c,f.set(n,t)),l){c=`${o}-${e}-${l}`;const h=s.get(c)||new Map;s.set(c,h.set(n,t))}}function tk(e,t,n){e.clear(),t.clear();for(const s of n){const{source:o,target:l,sourceHandle:c=null,targetHandle:d=null}=s,f={edgeId:s.id,source:o,target:l,sourceHandle:c,targetHandle:d},h=`${o}-${c}--${l}-${d}`,p=`${l}-${d}--${o}-${c}`;O2("source",f,p,e,o,c),O2("target",f,h,e,l,d),t.set(s.id,s)}}function nk(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:nk(n,t):!1}function z2(e,t,n){let s=e;do{if(s?.matches?.(t))return!0;if(s===n)return!1;s=s?.parentElement}while(s);return!1}function EV(e,t,n,s){const o=new Map;for(const[l,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!nk(c,e))&&(c.draggable||t&&typeof c.draggable>"u")){const d=e.get(l);d&&o.set(l,{id:l,position:d.position||{x:0,y:0},distance:{x:n.x-d.internals.positionAbsolute.x,y:n.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return o}function Qx({nodeId:e,dragItems:t,nodeLookup:n,dragging:s=!0}){const o=[];for(const[c,d]of t){const f=n.get(c)?.internals.userNode;f&&o.push({...f,position:d.position,dragging:s})}if(!e)return[o[0],o];const l=n.get(e)?.internals.userNode;return[l?{...l,position:t.get(e)?.position||l.position,dragging:s}:o[0],o]}function kV({dragItems:e,snapGrid:t,x:n,y:s}){const o=e.values().next().value;if(!o)return null;const l={x:n-o.distance.x,y:s-o.distance.y},c=sd(l,t);return{x:c.x-l.x,y:c.y-l.y}}function AV({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:s,onDragStop:o}){let l={x:null,y:null},c=0,d=new Map,f=!1,h={x:0,y:0},p=null,g=!1,x=null,b=!1,j=!1,w=null;function _({noDragClassName:E,handleSelector:C,domNode:k,isSelectable:T,nodeId:M,nodeClickDistance:O=0}){x=wr(k);function I({x:Y,y:q}){const{nodeLookup:R,nodeExtent:$,snapGrid:A,snapToGrid:L,nodeOrigin:F,onNodeDrag:B,onSelectionDrag:z,onError:H,updateNodePositions:J}=t();l={x:Y,y:q};let K=!1;const ie=d.size>1,ge=ie&&$?Z0(rd(d)):null,ye=ie&&L?kV({dragItems:d,snapGrid:A,x:Y,y:q}):null;for(const[ae,de]of d){if(!R.has(ae))continue;let te={x:Y-de.distance.x,y:q-de.distance.y};L&&(te=ye?{x:Math.round(te.x+ye.x),y:Math.round(te.y+ye.y)}:sd(te,A));let pe=null;if(ie&&$&&!de.extent&&ge){const{positionAbsolute:Ne}=de.internals,Re=Ne.x-ge.x+$[0][0],Pe=Ne.x+de.measured.width-ge.x2+$[1][0],at=Ne.y-ge.y+$[0][1],xt=Ne.y+de.measured.height-ge.y2+$[1][1];pe=[[Re,at],[Pe,xt]]}const{position:Se,positionAbsolute:Q}=UE({nodeId:ae,nextPosition:te,nodeLookup:R,nodeExtent:pe||$,nodeOrigin:F,onError:H});K=K||de.position.x!==Se.x||de.position.y!==Se.y,de.position=Se,de.internals.positionAbsolute=Q}if(j=j||K,!!K&&(J(d,!0),w&&(s||B||!M&&z))){const[ae,de]=Qx({nodeId:M,dragItems:d,nodeLookup:R});s?.(w,d,ae,de),B?.(w,ae,de),M||z?.(w,de)}}async function U(){if(!p)return;const{transform:Y,panBy:q,autoPanSpeed:R,autoPanOnNodeDrag:$}=t();if(!$){f=!1,cancelAnimationFrame(c);return}const[A,L]=VE(h,p,R);(A!==0||L!==0)&&(l.x=(l.x??0)-A/Y[2],l.y=(l.y??0)-L/Y[2],await q({x:A,y:L})&&I(l)),c=requestAnimationFrame(U)}function Z(Y){const{nodeLookup:q,multiSelectionActive:R,nodesDraggable:$,transform:A,snapGrid:L,snapToGrid:F,selectNodesOnDrag:B,onNodeDragStart:z,onSelectionDragStart:H,unselectNodesAndEdges:J}=t();g=!0,(!B||!T)&&!R&&M&&(q.get(M)?.selected||J()),T&&B&&M&&e?.(M);const K=lu(Y.sourceEvent,{transform:A,snapGrid:L,snapToGrid:F,containerBounds:p});if(l=K,d=EV(q,$,K,M),d.size>0&&(n||z||!M&&H)){const[ie,ge]=Qx({nodeId:M,dragItems:d,nodeLookup:q});n?.(Y.sourceEvent,d,ie,ge),z?.(Y.sourceEvent,ie,ge),M||H?.(Y.sourceEvent,ge)}}const X=yE().clickDistance(O).on("start",Y=>{const{domNode:q,nodeDragThreshold:R,transform:$,snapGrid:A,snapToGrid:L}=t();p=q?.getBoundingClientRect()||null,b=!1,j=!1,w=Y.sourceEvent,R===0&&Z(Y),l=lu(Y.sourceEvent,{transform:$,snapGrid:A,snapToGrid:L,containerBounds:p}),h=Os(Y.sourceEvent,p)}).on("drag",Y=>{const{autoPanOnNodeDrag:q,transform:R,snapGrid:$,snapToGrid:A,nodeDragThreshold:L,nodeLookup:F}=t(),B=lu(Y.sourceEvent,{transform:R,snapGrid:$,snapToGrid:A,containerBounds:p});if(w=Y.sourceEvent,(Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||M&&!F.has(M))&&(b=!0),!b){if(!f&&q&&g&&(f=!0,U()),!g){const z=B.xSnapped-(l.x??0),H=B.ySnapped-(l.y??0);Math.sqrt(z*z+H*H)>L&&Z(Y)}(l.x!==B.xSnapped||l.y!==B.ySnapped)&&d&&g&&(h=Os(Y.sourceEvent,p),I(B))}}).on("end",Y=>{if(!(!g||b)&&(f=!1,g=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:q,updateNodePositions:R,onNodeDragStop:$,onSelectionDragStop:A}=t();if(j&&(R(d,!1),j=!1),o||$||!M&&A){const[L,F]=Qx({nodeId:M,dragItems:d,nodeLookup:q,dragging:!1});o?.(Y.sourceEvent,d,L,F),$?.(Y.sourceEvent,L,F),M||A?.(Y.sourceEvent,F)}}}).filter(Y=>{const q=Y.target;return!Y.button&&(!E||!z2(q,`.${E}`,k))&&(!C||z2(q,C,k))});x.call(X)}function S(){x?.on(".drag",null)}return{update:_,destroy:S}}function MV(e,t,n){const s=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const l of t.values())Au(o,wl(l))>0&&s.push(l);return s}const TV=250;function RV(e,t,n,s){let o=[],l=1/0;const c=MV(e,n,t+TV);for(const d of c){const f=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const h of f){if(s.nodeId===h.nodeId&&s.type===h.type&&s.id===h.id)continue;const{x:p,y:g}=Tu(d,h,h.position,!0),x=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(g-e.y,2));x>t||(x<l?(o=[{...h,x:p,y:g}],l=x):x===l&&o.push({...h,x:p,y:g}))}}if(!o.length)return null;if(o.length>1){const d=s.type==="source"?"target":"source";return o.find(f=>f.type===d)??o[0]}return o[0]}function rk(e,t,n,s,o,l=!1){const c=s.get(e);if(!c)return null;const d=o==="strict"?c.internals.handleBounds?.[t]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],f=(n?d?.find(h=>h.id===n):d?.[0])??null;return f&&l?{...f,...Tu(c,f,f.position,!0)}:f}function sk(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function DV(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const ak=()=>!0;function OV(e,{connectionMode:t,connectionRadius:n,handleId:s,nodeId:o,edgeUpdaterType:l,isTarget:c,domNode:d,nodeLookup:f,lib:h,autoPanOnConnect:p,flowId:g,panBy:x,cancelConnection:b,onConnectStart:j,onConnect:w,onConnectEnd:_,isValidConnection:S=ak,onReconnectEnd:E,updateConnection:C,getTransform:k,getFromHandle:T,autoPanSpeed:M,dragThreshold:O=1,handleDomNode:I}){const U=ZE(e.target);let Z=0,X;const{x:Y,y:q}=Os(e),R=sk(l,I),$=d?.getBoundingClientRect();let A=!1;if(!$||!R)return;const L=rk(o,R,s,f,t);if(!L)return;let F=Os(e,$),B=!1,z=null,H=!1,J=null;function K(){if(!p||!$)return;const[Se,Q]=VE(F,$,M);x({x:Se,y:Q}),Z=requestAnimationFrame(K)}const ie={...L,nodeId:o,type:R,position:L.position},ge=f.get(o);let ae={inProgress:!0,isValid:null,from:Tu(ge,ie,qe.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:ge,to:F,toHandle:null,toPosition:N2[ie.position],toNode:null};function de(){A=!0,C(ae),j?.(e,{nodeId:o,handleId:s,handleType:R})}O===0&&de();function te(Se){if(!A){const{x:Pe,y:at}=Os(Se),xt=Pe-Y,Bn=at-q;if(!(xt*xt+Bn*Bn>O*O))return;de()}if(!T()||!ie){pe(Se);return}const Q=k();F=Os(Se,$),X=RV(ad(F,Q,!1,[1,1]),n,f,ie),B||(K(),B=!0);const Ne=ok(Se,{handle:X,connectionMode:t,fromNodeId:o,fromHandleId:s,fromType:c?"target":"source",isValidConnection:S,doc:U,lib:h,flowId:g,nodeLookup:f});J=Ne.handleDomNode,z=Ne.connection,H=DV(!!X,Ne.isValid);const Re={...ae,isValid:H,to:Ne.toHandle&&H?Zm({x:Ne.toHandle.x,y:Ne.toHandle.y},Q):F,toHandle:Ne.toHandle,toPosition:H&&Ne.toHandle?Ne.toHandle.position:N2[ie.position],toNode:Ne.toHandle?f.get(Ne.toHandle.nodeId):null};H&&X&&ae.toHandle&&Re.toHandle&&ae.toHandle.type===Re.toHandle.type&&ae.toHandle.nodeId===Re.toHandle.nodeId&&ae.toHandle.id===Re.toHandle.id&&ae.to.x===Re.to.x&&ae.to.y===Re.to.y||(C(Re),ae=Re)}function pe(Se){if(A){(X||J)&&z&&H&&w?.(z);const{inProgress:Q,...Ne}=ae,Re={...Ne,toPosition:ae.toHandle?ae.toPosition:null};_?.(Se,Re),l&&E?.(Se,Re)}b(),cancelAnimationFrame(Z),B=!1,H=!1,z=null,J=null,U.removeEventListener("mousemove",te),U.removeEventListener("mouseup",pe),U.removeEventListener("touchmove",te),U.removeEventListener("touchend",pe)}U.addEventListener("mousemove",te),U.addEventListener("mouseup",pe),U.addEventListener("touchmove",te),U.addEventListener("touchend",pe)}function ok(e,{handle:t,connectionMode:n,fromNodeId:s,fromHandleId:o,fromType:l,doc:c,lib:d,flowId:f,isValidConnection:h=ak,nodeLookup:p}){const g=l==="target",x=t?c.querySelector(`.${d}-flow__handle[data-id="${f}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:b,y:j}=Os(e),w=c.elementFromPoint(b,j),_=w?.classList.contains(`${d}-flow__handle`)?w:x,S={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const E=sk(void 0,_),C=_.getAttribute("data-nodeid"),k=_.getAttribute("data-handleid"),T=_.classList.contains("connectable"),M=_.classList.contains("connectableend");if(!C||!E)return S;const O={source:g?C:s,sourceHandle:g?k:o,target:g?s:C,targetHandle:g?o:k};S.connection=O;const U=T&&M&&(n===yl.Strict?g&&E==="source"||!g&&E==="target":C!==s||k!==o);S.isValid=U&&h(O),S.toHandle=rk(C,E,k,p,n,!0)}return S}const X0={onPointerDown:OV,isValid:ok};function zV({domNode:e,panZoom:t,getTransform:n,getViewScale:s}){const o=wr(e);function l({translateExtent:d,width:f,height:h,zoomStep:p=1,pannable:g=!0,zoomable:x=!0,inversePan:b=!1}){const j=C=>{if(C.sourceEvent.type!=="wheel"||!t)return;const k=n(),T=C.sourceEvent.ctrlKey&&Mu()?10:1,M=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*p,O=k[2]*Math.pow(2,M*T);t.scaleTo(O)};let w=[0,0];const _=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(w=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},S=C=>{const k=n();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!t)return;const T=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],M=[T[0]-w[0],T[1]-w[1]];w=T;const O=s()*Math.max(k[2],Math.log(k[2]))*(b?-1:1),I={x:k[0]-M[0]*O,y:k[1]-M[1]*O},U=[[0,0],[f,h]];t.setViewportConstrained({x:I.x,y:I.y,zoom:k[2]},U,d)},E=OE().on("start",_).on("zoom",g?S:null).on("zoom.wheel",x?j:null);o.call(E,{})}function c(){o.on("zoom",null)}return{update:l,destroy:c,pointer:Jr}}const IV=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ph=e=>({x:e.x,y:e.y,zoom:e.k}),Jx=({x:e,y:t,zoom:n})=>Ih.translate(e,t).scale(n),Ki=(e,t)=>e.target.closest(`.${t}`),ik=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),LV=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,e0=(e,t=0,n=LV,s=()=>{})=>{const o=typeof t=="number"&&t>0;return o||s(),o?e.transition().duration(t).ease(n).on("end",s):e},lk=e=>{const t=e.ctrlKey&&Mu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function $V({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:s,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:f,onPanZoomEnd:h}){return p=>{if(Ki(p,t))return!1;p.preventDefault(),p.stopImmediatePropagation();const g=n.property("__zoom").k||1;if(p.ctrlKey&&c){const _=Jr(p),S=lk(p),E=g*Math.pow(2,S);s.scaleTo(n,E,_,p);return}const x=p.deltaMode===1?20:1;let b=o===Po.Vertical?0:p.deltaX*x,j=o===Po.Horizontal?0:p.deltaY*x;!Mu()&&p.shiftKey&&o!==Po.Vertical&&(b=p.deltaY*x,j=0),s.translateBy(n,-(b/g)*l,-(j/g)*l,{internal:!0});const w=Ph(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d?.(p,w)),e.isPanScrolling&&(f?.(p,w),e.panScrollTimeout=setTimeout(()=>{h?.(p,w),e.isPanScrolling=!1},150))}}function PV({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(s,o){const l=s.type==="wheel",c=!t&&l&&!s.ctrlKey,d=Ki(s,e);if(s.ctrlKey&&l&&d&&s.preventDefault(),c||d)return null;s.preventDefault(),n.call(this,s,o)}}function UV({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return s=>{if(s.sourceEvent?.internal)return;const o=Ph(s.transform);e.mouseButton=s.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,s.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(s.sourceEvent,o)}}function FV({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:s,onPanZoom:o}){return l=>{e.usedRightMouseButton=!!(n&&ik(t,e.mouseButton??0)),l.sourceEvent?.sync||s([l.transform.x,l.transform.y,l.transform.k]),o&&!l.sourceEvent?.internal&&o?.(l.sourceEvent,Ph(l.transform))}}function VV({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:o,onPaneContextMenu:l}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,l&&ik(t,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&l(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),o&&IV(e.prevViewport,c.transform))){const d=Ph(c.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(c.sourceEvent,d)},n?150:0)}}}function HV({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:s,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:c,noWheelClassName:d,noPanClassName:f,lib:h}){return p=>{const g=e||t,x=n&&p.ctrlKey;if(p.button===1&&p.type==="mousedown"&&(Ki(p,`${h}-flow__node`)||Ki(p,`${h}-flow__edge`)))return!0;if(!s&&!g&&!o&&!l&&!n||c||Ki(p,d)&&p.type==="wheel"||Ki(p,f)&&(p.type!=="wheel"||o&&p.type==="wheel"&&!e)||!n&&p.ctrlKey&&p.type==="wheel")return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!g&&!o&&!x&&p.type==="wheel"||!s&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(s)&&!s.includes(p.button)&&p.type==="mousedown")return!1;const b=Array.isArray(s)&&s.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||p.type==="wheel")&&b}}function BV({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:s,translateExtent:o,viewport:l,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:f,onDraggingChange:h}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),x=OE().clickDistance(!ss(s)||s<0?0:s).scaleExtent([t,n]).translateExtent(o),b=wr(e).call(x);C({x:l.x,y:l.y,zoom:bl(l.zoom,t,n)},[[0,0],[g.width,g.height]],o);const j=b.on("wheel.zoom"),w=b.on("dblclick.zoom");x.wheelDelta(lk);function _(Y,q){return b?new Promise(R=>{x?.interpolate(q?.interpolate==="linear"?iu:fm).transform(e0(b,q?.duration,q?.ease,()=>R(!0)),Y)}):Promise.resolve(!1)}function S({noWheelClassName:Y,noPanClassName:q,onPaneContextMenu:R,userSelectionActive:$,panOnScroll:A,panOnDrag:L,panOnScrollMode:F,panOnScrollSpeed:B,preventScrolling:z,zoomOnPinch:H,zoomOnScroll:J,zoomOnDoubleClick:K,zoomActivationKeyPressed:ie,lib:ge,onTransformChange:ye}){$&&!p.isZoomingOrPanning&&E();const de=A&&!ie&&!$?$V({zoomPanValues:p,noWheelClassName:Y,d3Selection:b,d3Zoom:x,panOnScrollMode:F,panOnScrollSpeed:B,zoomOnPinch:H,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:f}):PV({noWheelClassName:Y,preventScrolling:z,d3ZoomHandler:j});if(b.on("wheel.zoom",de,{passive:!1}),!$){const pe=UV({zoomPanValues:p,onDraggingChange:h,onPanZoomStart:d});x.on("start",pe);const Se=FV({zoomPanValues:p,panOnDrag:L,onPaneContextMenu:!!R,onPanZoom:c,onTransformChange:ye});x.on("zoom",Se);const Q=VV({zoomPanValues:p,panOnDrag:L,panOnScroll:A,onPaneContextMenu:R,onPanZoomEnd:f,onDraggingChange:h});x.on("end",Q)}const te=HV({zoomActivationKeyPressed:ie,panOnDrag:L,zoomOnScroll:J,panOnScroll:A,zoomOnDoubleClick:K,zoomOnPinch:H,userSelectionActive:$,noPanClassName:q,noWheelClassName:Y,lib:ge});x.filter(te),K?b.on("dblclick.zoom",w):b.on("dblclick.zoom",null)}function E(){x.on("zoom",null)}async function C(Y,q,R){const $=Jx(Y),A=x?.constrain()($,q,R);return A&&await _(A),new Promise(L=>L(A))}async function k(Y,q){const R=Jx(Y);return await _(R,q),new Promise($=>$(R))}function T(Y){if(b){const q=Jx(Y),R=b.property("__zoom");(R.k!==Y.zoom||R.x!==Y.x||R.y!==Y.y)&&x?.transform(b,q,null,{sync:!0})}}function M(){const Y=b?DE(b.node()):{x:0,y:0,k:1};return{x:Y.x,y:Y.y,zoom:Y.k}}function O(Y,q){return b?new Promise(R=>{x?.interpolate(q?.interpolate==="linear"?iu:fm).scaleTo(e0(b,q?.duration,q?.ease,()=>R(!0)),Y)}):Promise.resolve(!1)}function I(Y,q){return b?new Promise(R=>{x?.interpolate(q?.interpolate==="linear"?iu:fm).scaleBy(e0(b,q?.duration,q?.ease,()=>R(!0)),Y)}):Promise.resolve(!1)}function U(Y){x?.scaleExtent(Y)}function Z(Y){x?.translateExtent(Y)}function X(Y){const q=!ss(Y)||Y<0?0:Y;x?.clickDistance(q)}return{update:S,destroy:E,setViewport:k,setViewportConstrained:C,getViewport:M,scaleTo:O,scaleBy:I,setScaleExtent:U,setTranslateExtent:Z,syncViewport:T,setClickDistance:X}}var Nl;(function(e){e.Line="line",e.Handle="handle"})(Nl||(Nl={}));function qV({width:e,prevWidth:t,height:n,prevHeight:s,affectsX:o,affectsY:l}){const c=e-t,d=n-s,f=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&o&&(f[0]=f[0]*-1),d&&l&&(f[1]=f[1]*-1),f}function ZV(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),s=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:s,affectsY:o}}function Ka(e,t){return Math.max(0,t-e)}function Qa(e,t){return Math.max(0,e-t)}function Ff(e,t,n){return Math.max(0,t-e,e-n)}function I2(e,t){return e?!t:t}function YV(e,t,n,s,o,l,c,d){let{affectsX:f,affectsY:h}=t;const{isHorizontal:p,isVertical:g}=t,x=p&&g,{xSnapped:b,ySnapped:j}=n,{minWidth:w,maxWidth:_,minHeight:S,maxHeight:E}=s,{x:C,y:k,width:T,height:M,aspectRatio:O}=e;let I=Math.floor(p?b-e.pointerX:0),U=Math.floor(g?j-e.pointerY:0);const Z=T+(f?-I:I),X=M+(h?-U:U),Y=-l[0]*T,q=-l[1]*M;let R=Ff(Z,w,_),$=Ff(X,S,E);if(c){let F=0,B=0;f&&I<0?F=Ka(C+I+Y,c[0][0]):!f&&I>0&&(F=Qa(C+Z+Y,c[1][0])),h&&U<0?B=Ka(k+U+q,c[0][1]):!h&&U>0&&(B=Qa(k+X+q,c[1][1])),R=Math.max(R,F),$=Math.max($,B)}if(d){let F=0,B=0;f&&I>0?F=Qa(C+I,d[0][0]):!f&&I<0&&(F=Ka(C+Z,d[1][0])),h&&U>0?B=Qa(k+U,d[0][1]):!h&&U<0&&(B=Ka(k+X,d[1][1])),R=Math.max(R,F),$=Math.max($,B)}if(o){if(p){const F=Ff(Z/O,S,E)*O;if(R=Math.max(R,F),c){let B=0;!f&&!h||f&&!h&&x?B=Qa(k+q+Z/O,c[1][1])*O:B=Ka(k+q+(f?I:-I)/O,c[0][1])*O,R=Math.max(R,B)}if(d){let B=0;!f&&!h||f&&!h&&x?B=Ka(k+Z/O,d[1][1])*O:B=Qa(k+(f?I:-I)/O,d[0][1])*O,R=Math.max(R,B)}}if(g){const F=Ff(X*O,w,_)/O;if($=Math.max($,F),c){let B=0;!f&&!h||h&&!f&&x?B=Qa(C+X*O+Y,c[1][0])/O:B=Ka(C+(h?U:-U)*O+Y,c[0][0])/O,$=Math.max($,B)}if(d){let B=0;!f&&!h||h&&!f&&x?B=Ka(C+X*O,d[1][0])/O:B=Qa(C+(h?U:-U)*O,d[0][0])/O,$=Math.max($,B)}}}U=U+(U<0?$:-$),I=I+(I<0?R:-R),o&&(x?Z>X*O?U=(I2(f,h)?-I:I)/O:I=(I2(f,h)?-U:U)*O:p?(U=I/O,h=f):(I=U*O,f=h));const A=f?C+I:C,L=h?k+U:k;return{width:T+(f?-I:I),height:M+(h?-U:U),x:l[0]*I*(f?-1:1)+A,y:l[1]*U*(h?-1:1)+L}}const ck={width:0,height:0,x:0,y:0},WV={...ck,pointerX:0,pointerY:0,aspectRatio:1};function GV(e){return[[0,0],[e.measured.width,e.measured.height]]}function XV(e,t,n){const s=t.position.x+e.position.x,o=t.position.y+e.position.y,l=e.measured.width??0,c=e.measured.height??0,d=n[0]*l,f=n[1]*c;return[[s-d,o-f],[s+l-d,o+c-f]]}function KV({domNode:e,nodeId:t,getStoreItems:n,onChange:s,onEnd:o}){const l=wr(e);function c({controlPosition:f,boundaries:h,keepAspectRatio:p,resizeDirection:g,onResizeStart:x,onResize:b,onResizeEnd:j,shouldResize:w}){let _={...ck},S={...WV};const E=ZV(f);let C,k=null,T=[],M,O,I;const U=yE().on("start",Z=>{const{nodeLookup:X,transform:Y,snapGrid:q,snapToGrid:R,nodeOrigin:$,paneDomNode:A}=n();if(C=X.get(t),!C)return;k=A?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:F}=lu(Z.sourceEvent,{transform:Y,snapGrid:q,snapToGrid:R,containerBounds:k});_={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},S={..._,pointerX:L,pointerY:F,aspectRatio:_.width/_.height},M=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(M=X.get(C.parentId),O=M&&C.extent==="parent"?GV(M):void 0),T=[],I=void 0;for(const[B,z]of X)if(z.parentId===t&&(T.push({id:B,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const H=XV(z,C,z.origin??$);I?I=[[Math.min(H[0][0],I[0][0]),Math.min(H[0][1],I[0][1])],[Math.max(H[1][0],I[1][0]),Math.max(H[1][1],I[1][1])]]:I=H}x?.(Z,{..._})}).on("drag",Z=>{const{transform:X,snapGrid:Y,snapToGrid:q,nodeOrigin:R}=n(),$=lu(Z.sourceEvent,{transform:X,snapGrid:Y,snapToGrid:q,containerBounds:k}),A=[];if(!C)return;const{x:L,y:F,width:B,height:z}=_,H={},J=C.origin??R,{width:K,height:ie,x:ge,y:ye}=YV(S,E,$,h,p,J,O,I),ae=K!==B,de=ie!==z,te=ge!==L&&ae,pe=ye!==F&&de;if(!te&&!pe&&!ae&&!de)return;if((te||pe||J[0]===1||J[1]===1)&&(H.x=te?ge:_.x,H.y=pe?ye:_.y,_.x=H.x,_.y=H.y,T.length>0)){const Re=ge-L,Pe=ye-F;for(const at of T)at.position={x:at.position.x-Re+J[0]*(K-B),y:at.position.y-Pe+J[1]*(ie-z)},A.push(at)}if((ae||de)&&(H.width=ae&&(!g||g==="horizontal")?K:_.width,H.height=de&&(!g||g==="vertical")?ie:_.height,_.width=H.width,_.height=H.height),M&&C.expandParent){const Re=J[0]*(H.width??0);H.x&&H.x<Re&&(_.x=Re,S.x=S.x-(H.x-Re));const Pe=J[1]*(H.height??0);H.y&&H.y<Pe&&(_.y=Pe,S.y=S.y-(H.y-Pe))}const Se=qV({width:_.width,prevWidth:B,height:_.height,prevHeight:z,affectsX:E.affectsX,affectsY:E.affectsY}),Q={..._,direction:Se};w?.(Z,Q)!==!1&&(b?.(Z,Q),s(H,A))}).on("end",Z=>{j?.(Z,{..._}),o?.({..._})});l.call(U)}function d(){l.on(".drag",null)}return{update:c,destroy:d}}var t0={exports:{}},n0={},r0={exports:{}},s0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function QV(){if(L2)return s0;L2=1;var e=Uu();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,o=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,x){var b=x(),j=s({inst:{value:b,getSnapshot:x}}),w=j[0].inst,_=j[1];return l(function(){w.value=b,w.getSnapshot=x,f(w)&&_({inst:w})},[g,b,x]),o(function(){return f(w)&&_({inst:w}),g(function(){f(w)&&_({inst:w})})},[g]),c(b),b}function f(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return s0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,s0}var $2;function JV(){return $2||($2=1,r0.exports=QV()),r0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function eH(){if(P2)return n0;P2=1;var e=Uu(),t=JV();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var s=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return n0.useSyncExternalStoreWithSelector=function(h,p,g,x,b){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=d(function(){function S(M){if(!E){if(E=!0,C=M,M=x(M),b!==void 0&&w.hasValue){var O=w.value;if(b(O,M))return k=O}return k=M}if(O=k,s(C,M))return O;var I=x(M);return b!==void 0&&b(O,I)?(C=M,O):(C=M,k=I)}var E=!1,C,k,T=g===void 0?null:g;return[function(){return S(p())},T===null?void 0:function(){return S(T())}]},[p,g,x,b]);var _=o(h,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=_},[_]),f(_),_},n0}var U2;function tH(){return U2||(U2=1,t0.exports=eH()),t0.exports}var nH=tH();const rH=jv(nH),sH={},F2=e=>{let t;const n=new Set,s=(p,g)=>{const x=typeof p=="function"?p(t):p;if(!Object.is(x,t)){const b=t;t=g??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(j=>j(t,b))}},o=()=>t,f={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(sH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(s,o,f);return f},aH=e=>e?F2(e):F2,{useDebugValue:oH}=Le,{useSyncExternalStoreWithSelector:iH}=rH,lH=e=>e;function uk(e,t=lH,n){const s=iH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return oH(s),s}const V2=(e,t)=>{const n=aH(e),s=(o,l=t)=>uk(n,o,l);return Object.assign(s,n),s},cH=(e,t)=>e?V2(e,t):V2;function rn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,o]of e)if(!Object.is(o,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}const Uh=v.createContext(null),uH=Uh.Provider,dk=$s.error001();function Nt(e,t){const n=v.useContext(Uh);if(n===null)throw new Error(dk);return uk(n,e,t)}function en(){const e=v.useContext(Uh);if(e===null)throw new Error(dk);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const H2={display:"none"},dH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fk="react-flow__node-desc",mk="react-flow__edge-desc",fH="react-flow__aria-live",mH=e=>e.ariaLiveMessage,hH=e=>e.ariaLabelConfig;function pH({rfId:e}){const t=Nt(mH);return r.jsx("div",{id:`${fH}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:dH,children:t})}function gH({rfId:e,disableKeyboardA11y:t}){const n=Nt(hH);return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:`${fk}-${e}`,style:H2,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),r.jsx("div",{id:`${mk}-${e}`,style:H2,children:n["edge.a11yDescription.default"]}),!t&&r.jsx(pH,{rfId:e})]})}const Fh=v.forwardRef(({position:e="top-left",children:t,className:n,style:s,...o},l)=>{const c=`${e}`.split("-");return r.jsx("div",{className:bn(["react-flow__panel",n,...c]),style:s,ref:l,...o,children:t})});Fh.displayName="Panel";function xH({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:r.jsx(Fh,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:r.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const vH=e=>{const t=[],n=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&n.push(s);return{selectedNodes:t,selectedEdges:n}},Vf=e=>e.id;function yH(e,t){return rn(e.selectedNodes.map(Vf),t.selectedNodes.map(Vf))&&rn(e.selectedEdges.map(Vf),t.selectedEdges.map(Vf))}function bH({onSelectionChange:e}){const t=en(),{selectedNodes:n,selectedEdges:s}=Nt(vH,yH);return v.useEffect(()=>{const o={nodes:n,edges:s};e?.(o),t.getState().onSelectionChangeHandlers.forEach(l=>l(o))},[n,s,e]),null}const wH=e=>!!e.onSelectionChangeHandlers;function jH({onSelectionChange:e}){const t=Nt(wH);return e||t?r.jsx(bH,{onSelectionChange:e}):null}const hk=[0,0],NH={x:0,y:0,zoom:1},_H=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],B2=[..._H,"rfId"],SH=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),q2={translateExtent:Eu,nodeOrigin:hk,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function CH(e){const{setNodes:t,setEdges:n,setMinZoom:s,setMaxZoom:o,setTranslateExtent:l,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:f,setPaneClickDistance:h}=Nt(SH,rn),p=en();v.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{g.current=q2,d()}),[]);const g=v.useRef(q2);return v.useEffect(()=>{for(const x of B2){const b=e[x],j=g.current[x];b!==j&&(typeof e[x]>"u"||(x==="nodes"?t(b):x==="edges"?n(b):x==="minZoom"?s(b):x==="maxZoom"?o(b):x==="translateExtent"?l(b):x==="nodeExtent"?c(b):x==="paneClickDistance"?h(b):x==="ariaLabelConfig"?p.setState({ariaLabelConfig:uV(b)}):x==="fitView"?p.setState({fitViewQueued:b}):x==="fitViewOptions"?p.setState({fitViewOptions:b}):p.setState({[x]:b})))}g.current=e},B2.map(x=>e[x])),null}function Z2(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function EH(e){const[t,n]=v.useState(e==="system"?null:e);return v.useEffect(()=>{if(e!=="system"){n(e);return}const s=Z2(),o=()=>n(s?.matches?"dark":"light");return o(),s?.addEventListener("change",o),()=>{s?.removeEventListener("change",o)}},[e]),t!==null?t:Z2()?.matches?"dark":"light"}const Y2=typeof document<"u"?document:null;function Ru(e=null,t={target:Y2,actInsideInputWithModifier:!0}){const[n,s]=v.useState(!1),o=v.useRef(!1),l=v.useRef(new Set([])),[c,d]=v.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((g,x)=>g.concat(...x),[]);return[h,p]}return[[],[]]},[e]);return v.useEffect(()=>{const f=t?.target??Y2,h=t?.actInsideInputWithModifier??!0;if(e!==null){const p=b=>{if(o.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!o.current||o.current&&!h)&&YE(b))return!1;const w=G2(b.code,d);if(l.current.add(b[w]),W2(c,l.current,!1)){const _=b.composedPath?.()?.[0]||b.target,S=_?.nodeName==="BUTTON"||_?.nodeName==="A";t.preventDefault!==!1&&(o.current||!S)&&b.preventDefault(),s(!0)}},g=b=>{const j=G2(b.code,d);W2(c,l.current,!0)?(s(!1),l.current.clear()):l.current.delete(b[j]),b.key==="Meta"&&l.current.clear(),o.current=!1},x=()=>{l.current.clear(),s(!1)};return f?.addEventListener("keydown",p),f?.addEventListener("keyup",g),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{f?.removeEventListener("keydown",p),f?.removeEventListener("keyup",g),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,s]),n}function W2(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(o=>t.has(o)))}function G2(e,t){return t.includes(e)?"code":"key"}const kH=()=>{const e=en();return v.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[s,o,l],panZoom:c}=e.getState();return c?(await c.setViewport({x:t.x??s,y:t.y??o,zoom:t.zoom??l},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,s]=e.getState().transform;return{x:t,y:n,zoom:s}},setCenter:async(t,n,s)=>e.getState().setCenter(t,n,s),fitBounds:async(t,n)=>{const{width:s,height:o,minZoom:l,maxZoom:c,panZoom:d}=e.getState(),f=Ay(t,s,o,l,c,n?.padding??.1);return d?(await d.setViewport(f,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:s,snapGrid:o,snapToGrid:l,domNode:c}=e.getState();if(!c)return t;const{x:d,y:f}=c.getBoundingClientRect(),h={x:t.x-d,y:t.y-f},p=n.snapGrid??o,g=n.snapToGrid??l;return ad(h,s,g,p)},flowToScreenPosition:t=>{const{transform:n,domNode:s}=e.getState();if(!s)return t;const{x:o,y:l}=s.getBoundingClientRect(),c=Zm(t,n);return{x:c.x+o,y:c.y+l}}}),[])};function pk(e,t){const n=[],s=new Map,o=[];for(const l of e)if(l.type==="add"){o.push(l);continue}else if(l.type==="remove"||l.type==="replace")s.set(l.id,[l]);else{const c=s.get(l.id);c?c.push(l):s.set(l.id,[l])}for(const l of t){const c=s.get(l.id);if(!c){n.push(l);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const d={...l};for(const f of c)AH(f,d);n.push(d)}return o.length&&o.forEach(l=>{l.index!==void 0?n.splice(l.index,0,{...l.item}):n.push({...l.item})}),n}function AH(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function zy(e,t){return pk(e,t)}function Iy(e,t){return pk(e,t)}function zo(e,t){return{id:e,type:"select",selected:t}}function Qi(e,t=new Set,n=!1){const s=[];for(const[o,l]of e){const c=t.has(o);!(l.selected===void 0&&!c)&&l.selected!==c&&(n&&(l.selected=c),s.push(zo(l.id,c)))}return s}function X2({items:e=[],lookup:t}){const n=[],s=new Map(e.map(o=>[o.id,o]));for(const[o,l]of e.entries()){const c=t.get(l.id),d=c?.internals?.userNode??c;d!==void 0&&d!==l&&n.push({id:l.id,item:l,type:"replace"}),d===void 0&&n.push({item:l,type:"add",index:o})}for(const[o]of t)s.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function K2(e){return{id:e.id,type:"remove"}}const Q2=e=>eV(e),MH=e=>PE(e);function gk(e){return v.forwardRef(e)}const TH=typeof window<"u"?v.useLayoutEffect:v.useEffect;function J2(e){const[t,n]=v.useState(BigInt(0)),[s]=v.useState(()=>RH(()=>n(o=>o+BigInt(1))));return TH(()=>{const o=s.get();o.length&&(e(o),s.reset())},[t]),s}function RH(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const xk=v.createContext(null);function DH({children:e}){const t=en(),n=v.useCallback(d=>{const{nodes:f=[],setNodes:h,hasDefaultNodes:p,onNodesChange:g,nodeLookup:x,fitViewQueued:b}=t.getState();let j=f;for(const _ of d)j=typeof _=="function"?_(j):_;const w=X2({items:j,lookup:x});p&&h(j),w.length>0?g?.(w):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:S,setNodes:E}=t.getState();_&&E(S)})},[]),s=J2(n),o=v.useCallback(d=>{const{edges:f=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:g,edgeLookup:x}=t.getState();let b=f;for(const j of d)b=typeof j=="function"?j(b):j;p?h(b):g&&g(X2({items:b,lookup:x}))},[]),l=J2(o),c=v.useMemo(()=>({nodeQueue:s,edgeQueue:l}),[]);return r.jsx(xk.Provider,{value:c,children:e})}function OH(){const e=v.useContext(xk);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const zH=e=>!!e.panZoom;function Pl(){const e=kH(),t=en(),n=OH(),s=Nt(zH),o=v.useMemo(()=>{const l=g=>t.getState().nodeLookup.get(g),c=g=>{n.nodeQueue.push(g)},d=g=>{n.edgeQueue.push(g)},f=g=>{const{nodeLookup:x,nodeOrigin:b}=t.getState(),j=Q2(g)?g:x.get(g.id),w=j.parentId?qE(j.position,j.measured,j.parentId,x,b):j.position,_={...j,position:w,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return wl(_)},h=(g,x,b={replace:!1})=>{c(j=>j.map(w=>{if(w.id===g){const _=typeof x=="function"?x(w):x;return b.replace&&Q2(_)?_:{...w,..._}}return w}))},p=(g,x,b={replace:!1})=>{d(j=>j.map(w=>{if(w.id===g){const _=typeof x=="function"?x(w):x;return b.replace&&MH(_)?_:{...w,..._}}return w}))};return{getNodes:()=>t.getState().nodes.map(g=>({...g})),getNode:g=>l(g)?.internals.userNode,getInternalNode:l,getEdges:()=>{const{edges:g=[]}=t.getState();return g.map(x=>({...x}))},getEdge:g=>t.getState().edgeLookup.get(g),setNodes:c,setEdges:d,addNodes:g=>{const x=Array.isArray(g)?g:[g];n.nodeQueue.push(b=>[...b,...x])},addEdges:g=>{const x=Array.isArray(g)?g:[g];n.edgeQueue.push(b=>[...b,...x])},toObject:()=>{const{nodes:g=[],edges:x=[],transform:b}=t.getState(),[j,w,_]=b;return{nodes:g.map(S=>({...S})),edges:x.map(S=>({...S})),viewport:{x:j,y:w,zoom:_}}},deleteElements:async({nodes:g=[],edges:x=[]})=>{const{nodes:b,edges:j,onNodesDelete:w,onEdgesDelete:_,triggerNodeChanges:S,triggerEdgeChanges:E,onDelete:C,onBeforeDelete:k}=t.getState(),{nodes:T,edges:M}=await aV({nodesToRemove:g,edgesToRemove:x,nodes:b,edges:j,onBeforeDelete:k}),O=M.length>0,I=T.length>0;if(O){const U=M.map(K2);_?.(M),E(U)}if(I){const U=T.map(K2);w?.(T),S(U)}return(I||O)&&C?.({nodes:T,edges:M}),{deletedNodes:T,deletedEdges:M}},getIntersectingNodes:(g,x=!0,b)=>{const j=S2(g),w=j?g:f(g),_=b!==void 0;return w?(b||t.getState().nodes).filter(S=>{const E=t.getState().nodeLookup.get(S.id);if(E&&!j&&(S.id===g.id||!E.internals.positionAbsolute))return!1;const C=wl(_?S:E),k=Au(C,w);return x&&k>0||k>=C.width*C.height||k>=w.width*w.height}):[]},isNodeIntersecting:(g,x,b=!0)=>{const w=S2(g)?g:f(g);if(!w)return!1;const _=Au(w,x);return b&&_>0||_>=w.width*w.height},updateNode:h,updateNodeData:(g,x,b={replace:!1})=>{h(g,j=>{const w=typeof x=="function"?x(j):x;return b.replace?{...j,data:w}:{...j,data:{...j.data,...w}}},b)},updateEdge:p,updateEdgeData:(g,x,b={replace:!1})=>{p(g,j=>{const w=typeof x=="function"?x(j):x;return b.replace?{...j,data:w}:{...j,data:{...j.data,...w}}},b)},getNodesBounds:g=>{const{nodeLookup:x,nodeOrigin:b}=t.getState();return tV(g,{nodeLookup:x,nodeOrigin:b})},getHandleConnections:({type:g,id:x,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}-${g}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:g,handleId:x,nodeId:b})=>Array.from(t.getState().connectionLookup.get(`${b}${g?x?`-${g}-${x}`:`-${g}`:""}`)?.values()??[]),fitView:async g=>{const x=t.getState().fitViewResolver??cV();return t.setState({fitViewQueued:!0,fitViewOptions:g,fitViewResolver:x}),n.nodeQueue.push(b=>[...b]),x.promise}}},[]);return v.useMemo(()=>({...o,...e,viewportInitialized:s}),[s])}const e_=e=>e.selected,IH=typeof window<"u"?window:void 0;function LH({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=en(),{deleteElements:s}=Pl(),o=Ru(e,{actInsideInputWithModifier:!1}),l=Ru(t,{target:IH});v.useEffect(()=>{if(o){const{edges:c,nodes:d}=n.getState();s({nodes:d.filter(e_),edges:c.filter(e_)}),n.setState({nodesSelectionActive:!1})}},[o]),v.useEffect(()=>{n.setState({multiSelectionActive:l})},[l])}function $H(e){const t=en();v.useEffect(()=>{const n=()=>{if(!e.current)return!1;const s=My(e.current);(s.height===0||s.width===0)&&t.getState().onError?.("004",$s.error004()),t.setState({width:s.width||500,height:s.height||500})};if(e.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(e.current),()=>{window.removeEventListener("resize",n),s&&e.current&&s.unobserve(e.current)}}},[])}const Vh={position:"absolute",width:"100%",height:"100%",top:0,left:0},PH=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function UH({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=Po.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:x,preventScrolling:b=!0,children:j,noWheelClassName:w,noPanClassName:_,onViewportChange:S,isControlledViewport:E,paneClickDistance:C}){const k=en(),T=v.useRef(null),{userSelectionActive:M,lib:O}=Nt(PH,rn),I=Ru(x),U=v.useRef();$H(T);const Z=v.useCallback(X=>{S?.({x:X[0],y:X[1],zoom:X[2]}),E||k.setState({transform:X})},[S,E]);return v.useEffect(()=>{if(T.current){U.current=BV({domNode:T.current,minZoom:p,maxZoom:g,translateExtent:h,viewport:f,paneClickDistance:C,onDraggingChange:R=>k.setState({paneDragging:R}),onPanZoomStart:(R,$)=>{const{onViewportChangeStart:A,onMoveStart:L}=k.getState();L?.(R,$),A?.($)},onPanZoom:(R,$)=>{const{onViewportChange:A,onMove:L}=k.getState();L?.(R,$),A?.($)},onPanZoomEnd:(R,$)=>{const{onViewportChangeEnd:A,onMoveEnd:L}=k.getState();L?.(R,$),A?.($)}});const{x:X,y:Y,zoom:q}=U.current.getViewport();return k.setState({panZoom:U.current,transform:[X,Y,q],domNode:T.current.closest(".react-flow")}),()=>{U.current?.destroy()}}},[]),v.useEffect(()=>{U.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:o,panOnScrollMode:l,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:I,preventScrolling:b,noPanClassName:_,userSelectionActive:M,noWheelClassName:w,lib:O,onTransformChange:Z})},[e,t,n,s,o,l,c,d,I,b,_,M,w,O,Z]),r.jsx("div",{className:"react-flow__renderer",ref:T,style:Vh,children:j})}const FH=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function VH(){const{userSelectionActive:e,userSelectionRect:t}=Nt(FH,rn);return e&&t?r.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const a0=(e,t)=>n=>{n.target===t.current&&e?.(n)},HH=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function BH({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ku.Full,panOnDrag:s,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:x,children:b}){const j=en(),{userSelectionActive:w,elementsSelectable:_,dragging:S,connectionInProgress:E}=Nt(HH,rn),C=_&&(e||w),k=v.useRef(null),T=v.useRef(),M=v.useRef(new Set),O=v.useRef(new Set),I=v.useRef(!1),U=v.useRef(!1),Z=L=>{if(I.current||E){I.current=!1;return}d?.(L),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},X=L=>{if(Array.isArray(s)&&s?.includes(2)){L.preventDefault();return}f?.(L)},Y=h?L=>h(L):void 0,q=L=>{const{resetSelectedElements:F,domNode:B}=j.getState();if(T.current=B?.getBoundingClientRect(),!_||!e||L.button!==0||L.target!==k.current||!T.current)return;L.target?.setPointerCapture?.(L.pointerId),U.current=!0,I.current=!1;const{x:z,y:H}=Os(L.nativeEvent,T.current);F(),j.setState({userSelectionRect:{width:0,height:0,startX:z,startY:H,x:z,y:H}}),l?.(L)},R=L=>{const{userSelectionRect:F,transform:B,nodeLookup:z,edgeLookup:H,connectionLookup:J,triggerNodeChanges:K,triggerEdgeChanges:ie,defaultEdgeOptions:ge}=j.getState();if(!T.current||!F)return;I.current=!0;const{x:ye,y:ae}=Os(L.nativeEvent,T.current),{startX:de,startY:te}=F,pe={startX:de,startY:te,x:ye<de?ye:de,y:ae<te?ae:te,width:Math.abs(ye-de),height:Math.abs(ae-te)},Se=M.current,Q=O.current;M.current=new Set(ky(z,pe,B,n===ku.Partial,!0).map(Re=>Re.id)),O.current=new Set;const Ne=ge?.selectable??!0;for(const Re of M.current){const Pe=J.get(Re);if(Pe)for(const{edgeId:at}of Pe.values()){const xt=H.get(at);xt&&(xt.selectable??Ne)&&O.current.add(at)}}if(!C2(Se,M.current)){const Re=Qi(z,M.current,!0);K(Re)}if(!C2(Q,O.current)){const Re=Qi(H,O.current);ie(Re)}j.setState({userSelectionRect:pe,userSelectionActive:!0,nodesSelectionActive:!1})},$=L=>{if(L.button!==0||!U.current)return;L.target?.releasePointerCapture?.(L.pointerId);const{userSelectionRect:F}=j.getState();!w&&F&&L.target===k.current&&Z?.(L),j.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:M.current.size>0}),c?.(L),(t||o)&&(I.current=!1),U.current=!1},A=s===!0||Array.isArray(s)&&s.includes(0);return r.jsxs("div",{className:bn(["react-flow__pane",{draggable:A,dragging:S,selection:e}]),onClick:C?void 0:a0(Z,k),onContextMenu:a0(X,k),onWheel:a0(Y,k),onPointerEnter:C?void 0:p,onPointerDown:C?q:g,onPointerMove:C?R:g,onPointerUp:C?$:void 0,onPointerLeave:x,ref:k,style:Vh,children:[b,r.jsx(VH,{})]})}function K0({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:o,unselectNodesAndEdges:l,multiSelectionActive:c,nodeLookup:d,onError:f}=t.getState(),h=d.get(e);if(!h){f?.("012",$s.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&c)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):o([e])}function vk({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:o,isSelectable:l,nodeClickDistance:c}){const d=en(),[f,h]=v.useState(!1),p=v.useRef();return v.useEffect(()=>{p.current=AV({getStoreItems:()=>d.getState(),onNodeMouseDown:g=>{K0({id:g,store:d,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),v.useEffect(()=>{if(t)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:n,handleSelector:s,domNode:e.current,isSelectable:l,nodeId:o,nodeClickDistance:c}),()=>{p.current?.destroy()}},[n,s,t,l,e,o]),f}const qH=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function yk(){const e=en();return v.useCallback(n=>{const{nodeExtent:s,snapToGrid:o,snapGrid:l,nodesDraggable:c,onError:d,updateNodePositions:f,nodeLookup:h,nodeOrigin:p}=e.getState(),g=new Map,x=qH(c),b=o?l[0]:5,j=o?l[1]:5,w=n.direction.x*b*n.factor,_=n.direction.y*j*n.factor;for(const[,S]of h){if(!x(S))continue;let E={x:S.internals.positionAbsolute.x+w,y:S.internals.positionAbsolute.y+_};o&&(E=sd(E,l));const{position:C,positionAbsolute:k}=UE({nodeId:S.id,nextPosition:E,nodeLookup:h,nodeExtent:s,nodeOrigin:p,onError:d});S.position=C,S.internals.positionAbsolute=k,g.set(S.id,S)}f(g)},[])}const Ly=v.createContext(null),ZH=Ly.Provider;Ly.Consumer;const bk=()=>v.useContext(Ly),YH=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),WH=(e,t,n)=>s=>{const{connectionClickStartHandle:o,connectionMode:l,connection:c}=s,{fromHandle:d,toHandle:f,isValid:h}=c,p=f?.nodeId===e&&f?.id===t&&f?.type===n;return{connectingFrom:d?.nodeId===e&&d?.id===t&&d?.type===n,connectingTo:p,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:l===yl.Strict?d?.type!==n:e!==d?.nodeId||t!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!o,valid:p&&h}};function GH({type:e="source",position:t=qe.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:o=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:f,className:h,onMouseDown:p,onTouchStart:g,...x},b){const j=c||null,w=e==="target",_=en(),S=bk(),{connectOnClick:E,noPanClassName:C,rfId:k}=Nt(YH,rn),{connectingFrom:T,connectingTo:M,clickConnecting:O,isPossibleEndHandle:I,connectionInProcess:U,clickConnectionInProcess:Z,valid:X}=Nt(WH(S,j,e),rn);S||_.getState().onError?.("010",$s.error010());const Y=$=>{const{defaultEdgeOptions:A,onConnect:L,hasDefaultEdges:F}=_.getState(),B={...A,...$};if(F){const{edges:z,setEdges:H}=_.getState();H(QE(B,z))}L?.(B),d?.(B)},q=$=>{if(!S)return;const A=WE($.nativeEvent);if(o&&(A&&$.button===0||!A)){const L=_.getState();X0.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:w,handleId:j,nodeId:S,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:Y,isValidConnection:n||L.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}A?p?.($):g?.($)},R=$=>{const{onClickConnectStart:A,onClickConnectEnd:L,connectionClickStartHandle:F,connectionMode:B,isValidConnection:z,lib:H,rfId:J,nodeLookup:K,connection:ie}=_.getState();if(!S||!F&&!o)return;if(!F){A?.($.nativeEvent,{nodeId:S,handleId:j,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:S,type:e,id:j}});return}const ge=ZE($.target),ye=n||z,{connection:ae,isValid:de}=X0.isValid($.nativeEvent,{handle:{nodeId:S,id:j,type:e},connectionMode:B,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:ye,flowId:J,doc:ge,lib:H,nodeLookup:K});de&&ae&&Y(ae);const te=structuredClone(ie);delete te.inProgress,te.toPosition=te.toHandle?te.toHandle.position:null,L?.($,te),_.setState({connectionClickStartHandle:null})};return r.jsx("div",{"data-handleid":j,"data-nodeid":S,"data-handlepos":t,"data-id":`${k}-${S}-${j}-${e}`,className:bn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,h,{source:!w,target:w,connectable:s,connectablestart:o,connectableend:l,clickconnecting:O,connectingfrom:T,connectingto:M,valid:X,connectionindicator:s&&(!U||I)&&(U||Z?l:o)}]),onMouseDown:q,onTouchStart:q,onClick:E?R:void 0,ref:b,...x,children:f})}const uo=v.memo(gk(GH));function XH({data:e,isConnectable:t,sourcePosition:n=qe.Bottom}){return r.jsxs(r.Fragment,{children:[e?.label,r.jsx(uo,{type:"source",position:n,isConnectable:t})]})}function KH({data:e,isConnectable:t,targetPosition:n=qe.Top,sourcePosition:s=qe.Bottom}){return r.jsxs(r.Fragment,{children:[r.jsx(uo,{type:"target",position:n,isConnectable:t}),e?.label,r.jsx(uo,{type:"source",position:s,isConnectable:t})]})}function QH(){return null}function JH({data:e,isConnectable:t,targetPosition:n=qe.Top}){return r.jsxs(r.Fragment,{children:[r.jsx(uo,{type:"target",position:n,isConnectable:t}),e?.label]})}const Ym={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},t_={input:XH,default:KH,output:JH,group:QH};function eB(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const tB=e=>{const{width:t,height:n,x:s,y:o}=rd(e.nodeLookup,{filter:l=>!!l.selected});return{width:ss(t)?t:null,height:ss(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${o}px)`}};function nB({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=en(),{width:o,height:l,transformString:c,userSelectionActive:d}=Nt(tB,rn),f=yk(),h=v.useRef(null);if(v.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),vk({nodeRef:h}),d||!o||!l)return null;const p=e?x=>{const b=s.getState().nodes.filter(j=>j.selected);e(x,b)}:void 0,g=x=>{Object.prototype.hasOwnProperty.call(Ym,x.key)&&(x.preventDefault(),f({direction:Ym[x.key],factor:x.shiftKey?4:1}))};return r.jsx("div",{className:bn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:r.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:o,height:l}})})}const n_=typeof window<"u"?window:void 0,rB=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function wk({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:l,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:w,zoomActivationKeyCode:_,elementsSelectable:S,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:k,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:I,defaultViewport:U,translateExtent:Z,minZoom:X,maxZoom:Y,preventScrolling:q,onSelectionContextMenu:R,noWheelClassName:$,noPanClassName:A,disableKeyboardA11y:L,onViewportChange:F,isControlledViewport:B}){const{nodesSelectionActive:z,userSelectionActive:H}=Nt(rB),J=Ru(h,{target:n_}),K=Ru(w,{target:n_}),ie=K||I,ge=K||k,ye=p&&ie!==!0,ae=J||H||ye;return LH({deleteKeyCode:f,multiSelectionKeyCode:j}),r.jsx(UH,{onPaneContextMenu:l,elementsSelectable:S,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:ge,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:O,panOnDrag:!J&&ie,defaultViewport:U,translateExtent:Z,minZoom:X,maxZoom:Y,zoomActivationKeyCode:_,preventScrolling:q,noWheelClassName:$,noPanClassName:A,onViewportChange:F,isControlledViewport:B,paneClickDistance:d,children:r.jsxs(BH,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:ie,isSelecting:!!ae,selectionMode:g,selectionKeyPressed:J,selectionOnDrag:ye,children:[e,z&&r.jsx(nB,{onSelectionContextMenu:R,noPanClassName:A,disableKeyboardA11y:L})]})})}wk.displayName="FlowRenderer";const sB=v.memo(wk),aB=e=>t=>e?ky(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function oB(e){return Nt(v.useCallback(aB(e),[e]),rn)}const iB=e=>e.updateNodeInternals;function lB(){const e=Nt(iB),[t]=v.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(o=>{const l=o.target.getAttribute("data-id");s.set(l,{id:l,nodeElement:o.target,force:!0})}),e(s)}));return v.useEffect(()=>()=>{t?.disconnect()},[t]),t}function cB({node:e,nodeType:t,hasDimensions:n,resizeObserver:s}){const o=en(),l=v.useRef(null),c=v.useRef(null),d=v.useRef(e.sourcePosition),f=v.useRef(e.targetPosition),h=v.useRef(t),p=n&&!!e.internals.handleBounds;return v.useEffect(()=>{l.current&&!e.hidden&&(!p||c.current!==l.current)&&(c.current&&s?.unobserve(c.current),s?.observe(l.current),c.current=l.current)},[p,e.hidden]),v.useEffect(()=>()=>{c.current&&(s?.unobserve(c.current),c.current=null)},[]),v.useEffect(()=>{if(l.current){const g=h.current!==t,x=d.current!==e.sourcePosition,b=f.current!==e.targetPosition;(g||x||b)&&(h.current=t,d.current=e.sourcePosition,f.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),l}function uB({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:o,onContextMenu:l,onDoubleClick:c,nodesDraggable:d,elementsSelectable:f,nodesConnectable:h,nodesFocusable:p,resizeObserver:g,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:j,rfId:w,nodeTypes:_,nodeClickDistance:S,onError:E}){const{node:C,internals:k,isParent:T}=Nt(de=>{const te=de.nodeLookup.get(e),pe=de.parentLookup.has(e);return{node:te,internals:te.internals,isParent:pe}},rn);let M=C.type||"default",O=_?.[M]||t_[M];O===void 0&&(E?.("003",$s.error003(M)),M="default",O=_?.default||t_.default);const I=!!(C.draggable||d&&typeof C.draggable>"u"),U=!!(C.selectable||f&&typeof C.selectable>"u"),Z=!!(C.connectable||h&&typeof C.connectable>"u"),X=!!(C.focusable||p&&typeof C.focusable>"u"),Y=en(),q=BE(C),R=cB({node:C,nodeType:M,hasDimensions:q,resizeObserver:g}),$=vk({nodeRef:R,disabled:C.hidden||!I,noDragClassName:x,handleSelector:C.dragHandle,nodeId:e,isSelectable:U,nodeClickDistance:S}),A=yk();if(C.hidden)return null;const L=Na(C),F=eB(C),B=U||I||t||n||s||o,z=n?de=>n(de,{...k.userNode}):void 0,H=s?de=>s(de,{...k.userNode}):void 0,J=o?de=>o(de,{...k.userNode}):void 0,K=l?de=>l(de,{...k.userNode}):void 0,ie=c?de=>c(de,{...k.userNode}):void 0,ge=de=>{const{selectNodesOnDrag:te,nodeDragThreshold:pe}=Y.getState();U&&(!te||!I||pe>0)&&K0({id:e,store:Y,nodeRef:R}),t&&t(de,{...k.userNode})},ye=de=>{if(!(YE(de.nativeEvent)||j)){if(zE.includes(de.key)&&U){const te=de.key==="Escape";K0({id:e,store:Y,unselect:te,nodeRef:R})}else if(I&&C.selected&&Object.prototype.hasOwnProperty.call(Ym,de.key)){de.preventDefault();const{ariaLabelConfig:te}=Y.getState();Y.setState({ariaLiveMessage:te["node.a11yDescription.ariaLiveMessage"]({direction:de.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),A({direction:Ym[de.key],factor:de.shiftKey?4:1})}}},ae=()=>{if(j||!R.current?.matches(":focus-visible"))return;const{transform:de,width:te,height:pe,autoPanOnNodeFocus:Se,setCenter:Q}=Y.getState();if(!Se)return;ky(new Map([[e,C]]),{x:0,y:0,width:te,height:pe},de,!0).length>0||Q(C.position.x+L.width/2,C.position.y+L.height/2,{zoom:de[2]})};return r.jsx("div",{className:bn(["react-flow__node",`react-flow__node-${M}`,{[b]:I},C.className,{selected:C.selected,selectable:U,parent:T,draggable:I,dragging:$}]),ref:R,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:q?"visible":"hidden",...C.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:H,onMouseLeave:J,onContextMenu:K,onClick:ge,onDoubleClick:ie,onKeyDown:X?ye:void 0,tabIndex:X?0:void 0,onFocus:X?ae:void 0,role:C.ariaRole??(X?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${fk}-${w}`,"aria-label":C.ariaLabel,...C.domAttributes,children:r.jsx(ZH,{value:e,children:r.jsx(O,{id:e,data:C.data,type:M,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:C.selected??!1,selectable:U,draggable:I,deletable:C.deletable??!0,isConnectable:Z,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:$,dragHandle:C.dragHandle,zIndex:k.z,parentId:C.parentId,...L})})})}const dB=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function jk(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:o,onError:l}=Nt(dB,rn),c=oB(e.onlyRenderVisibleElements),d=lB();return r.jsx("div",{className:"react-flow__nodes",style:Vh,children:c.map(f=>r.jsx(uB,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:l},f))})}jk.displayName="NodeRenderer";const fB=v.memo(jk);function mB(e){return Nt(v.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const s=[];if(n.width&&n.height)for(const o of n.edges){const l=n.nodeLookup.get(o.source),c=n.nodeLookup.get(o.target);l&&c&&mV({sourceNode:l,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&s.push(o.id)}return s},[e]),rn)}const hB=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return r.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},pB=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return r.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},r_={[Bm.Arrow]:hB,[Bm.ArrowClosed]:pB};function gB(e){const t=en();return v.useMemo(()=>Object.prototype.hasOwnProperty.call(r_,e)?r_[e]:(t.getState().onError?.("009",$s.error009(e)),null),[e])}const xB=({id:e,type:t,color:n,width:s=12.5,height:o=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const f=gB(t);return f?r.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0",children:r.jsx(f,{color:n,strokeWidth:c})}):null},Nk=({defaultColor:e,rfId:t})=>{const n=Nt(l=>l.edges),s=Nt(l=>l.defaultEdgeOptions),o=v.useMemo(()=>bV(n,{id:t,defaultColor:e,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[n,s,t,e]);return o.length?r.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:r.jsx("defs",{children:o.map(l=>r.jsx(xB,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};Nk.displayName="MarkerDefinitions";var vB=v.memo(Nk);function _k({x:e,y:t,label:n,labelStyle:s,labelShowBg:o=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:f,className:h,...p}){const[g,x]=v.useState({x:1,y:0,width:0,height:0}),b=bn(["react-flow__edge-textwrapper",h]),j=v.useRef(null);return v.useEffect(()=>{if(j.current){const w=j.current.getBBox();x({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?r.jsxs("g",{transform:`translate(${e-g.width/2} ${t-g.height/2})`,className:b,visibility:g.width?"visible":"hidden",...p,children:[o&&r.jsx("rect",{width:g.width+2*c[0],x:-c[0],y:-c[1],height:g.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),r.jsx("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:j,style:s,children:n}),f]}):null}_k.displayName="EdgeText";const yB=v.memo(_k);function Hh({path:e,labelX:t,labelY:n,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,interactionWidth:h=20,...p}){return r.jsxs(r.Fragment,{children:[r.jsx("path",{...p,d:e,fill:"none",className:bn(["react-flow__edge-path",p.className])}),h?r.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,s&&ss(t)&&ss(n)?r.jsx(yB,{x:t,y:n,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f}):null]})}function s_({pos:e,x1:t,y1:n,x2:s,y2:o}){return e===qe.Left||e===qe.Right?[.5*(t+s),n]:[t,.5*(n+o)]}function Sk({sourceX:e,sourceY:t,sourcePosition:n=qe.Bottom,targetX:s,targetY:o,targetPosition:l=qe.Top}){const[c,d]=s_({pos:n,x1:e,y1:t,x2:s,y2:o}),[f,h]=s_({pos:l,x1:s,y1:o,x2:e,y2:t}),[p,g,x,b]=GE({sourceX:e,sourceY:t,targetX:s,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${c},${d} ${f},${h} ${s},${o}`,p,g,x,b]}function Ck(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:o,targetY:l,sourcePosition:c,targetPosition:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:w,markerStart:_,interactionWidth:S})=>{const[E,C,k]=Sk({sourceX:n,sourceY:s,sourcePosition:c,targetX:o,targetY:l,targetPosition:d}),T=e.isInternal?void 0:t;return r.jsx(Hh,{id:T,path:E,labelX:C,labelY:k,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:w,markerStart:_,interactionWidth:S})})}const bB=Ck({isInternal:!1}),Ek=Ck({isInternal:!0});bB.displayName="SimpleBezierEdge";Ek.displayName="SimpleBezierEdgeInternal";function kk(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:o,targetY:l,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:x,sourcePosition:b=qe.Bottom,targetPosition:j=qe.Top,markerEnd:w,markerStart:_,pathOptions:S,interactionWidth:E})=>{const[C,k,T]=Y0({sourceX:n,sourceY:s,sourcePosition:b,targetX:o,targetY:l,targetPosition:j,borderRadius:S?.borderRadius,offset:S?.offset,stepPosition:S?.stepPosition}),M=e.isInternal?void 0:t;return r.jsx(Hh,{id:M,path:C,labelX:k,labelY:T,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:x,markerEnd:w,markerStart:_,interactionWidth:E})})}const Ak=kk({isInternal:!1}),Mk=kk({isInternal:!0});Ak.displayName="SmoothStepEdge";Mk.displayName="SmoothStepEdgeInternal";function Tk(e){return v.memo(({id:t,...n})=>{const s=e.isInternal?void 0:t;return r.jsx(Ak,{...n,id:s,pathOptions:v.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const wB=Tk({isInternal:!1}),Rk=Tk({isInternal:!0});wB.displayName="StepEdge";Rk.displayName="StepEdgeInternal";function Dk(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:o,targetY:l,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:x,markerEnd:b,markerStart:j,interactionWidth:w})=>{const[_,S,E]=JE({sourceX:n,sourceY:s,targetX:o,targetY:l}),C=e.isInternal?void 0:t;return r.jsx(Hh,{id:C,path:_,labelX:S,labelY:E,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:x,markerEnd:b,markerStart:j,interactionWidth:w})})}const jB=Dk({isInternal:!1}),Ok=Dk({isInternal:!0});jB.displayName="StraightEdge";Ok.displayName="StraightEdgeInternal";function zk(e){return v.memo(({id:t,sourceX:n,sourceY:s,targetX:o,targetY:l,sourcePosition:c=qe.Bottom,targetPosition:d=qe.Top,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:w,markerStart:_,pathOptions:S,interactionWidth:E})=>{const[C,k,T]=XE({sourceX:n,sourceY:s,sourcePosition:c,targetX:o,targetY:l,targetPosition:d,curvature:S?.curvature}),M=e.isInternal?void 0:t;return r.jsx(Hh,{id:M,path:C,labelX:k,labelY:T,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:w,markerStart:_,interactionWidth:E})})}const NB=zk({isInternal:!1}),Ik=zk({isInternal:!0});NB.displayName="BezierEdge";Ik.displayName="BezierEdgeInternal";const a_={default:Ik,straight:Ok,step:Rk,smoothstep:Mk,simplebezier:Ek},o_={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},_B=(e,t,n)=>n===qe.Left?e-t:n===qe.Right?e+t:e,SB=(e,t,n)=>n===qe.Top?e-t:n===qe.Bottom?e+t:e,i_="react-flow__edgeupdater";function l_({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:o,onMouseEnter:l,onMouseOut:c,type:d}){return r.jsx("circle",{onMouseDown:o,onMouseEnter:l,onMouseOut:c,className:bn([i_,`${i_}-${d}`]),cx:_B(t,s,e),cy:SB(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function CB({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:s,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,setReconnecting:x,setUpdateHover:b}){const j=en(),w=(k,T)=>{if(k.button!==0)return;const{autoPanOnConnect:M,domNode:O,isValidConnection:I,connectionMode:U,connectionRadius:Z,lib:X,onConnectStart:Y,onConnectEnd:q,cancelConnection:R,nodeLookup:$,rfId:A,panBy:L,updateConnection:F}=j.getState(),B=T.type==="target",z=(K,ie)=>{x(!1),g?.(K,n,T.type,ie)},H=K=>h?.(n,K),J=(K,ie)=>{x(!0),p?.(k,n,T.type),Y?.(K,ie)};X0.onPointerDown(k.nativeEvent,{autoPanOnConnect:M,connectionMode:U,connectionRadius:Z,domNode:O,handleId:T.id,nodeId:T.nodeId,nodeLookup:$,isTarget:B,edgeUpdaterType:T.type,lib:X,flowId:A,cancelConnection:R,panBy:L,isValidConnection:I,onConnect:H,onConnectStart:J,onConnectEnd:q,onReconnectEnd:z,updateConnection:F,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},_=k=>w(k,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),S=k=>w(k,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>b(!0),C=()=>b(!1);return r.jsxs(r.Fragment,{children:[(e===!0||e==="source")&&r.jsx(l_,{position:d,centerX:s,centerY:o,radius:t,onMouseDown:_,onMouseEnter:E,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&r.jsx(l_,{position:f,centerX:l,centerY:c,radius:t,onMouseDown:S,onMouseEnter:E,onMouseOut:C,type:"target"})]})}function EB({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:o,onDoubleClick:l,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,reconnectRadius:p,onReconnect:g,onReconnectStart:x,onReconnectEnd:b,rfId:j,edgeTypes:w,noPanClassName:_,onError:S,disableKeyboardA11y:E}){let C=Nt(Q=>Q.edgeLookup.get(e));const k=Nt(Q=>Q.defaultEdgeOptions);C=k?{...k,...C}:C;let T=C.type||"default",M=w?.[T]||a_[T];M===void 0&&(S?.("011",$s.error011(T)),T="default",M=w?.default||a_.default);const O=!!(C.focusable||t&&typeof C.focusable>"u"),I=typeof g<"u"&&(C.reconnectable||n&&typeof C.reconnectable>"u"),U=!!(C.selectable||s&&typeof C.selectable>"u"),Z=v.useRef(null),[X,Y]=v.useState(!1),[q,R]=v.useState(!1),$=en(),{zIndex:A,sourceX:L,sourceY:F,targetX:B,targetY:z,sourcePosition:H,targetPosition:J}=Nt(v.useCallback(Q=>{const Ne=Q.nodeLookup.get(C.source),Re=Q.nodeLookup.get(C.target);if(!Ne||!Re)return{zIndex:C.zIndex,...o_};const Pe=yV({id:e,sourceNode:Ne,targetNode:Re,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:Q.connectionMode,onError:S});return{zIndex:fV({selected:C.selected,zIndex:C.zIndex,sourceNode:Ne,targetNode:Re,elevateOnSelect:Q.elevateEdgesOnSelect}),...Pe||o_}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),rn),K=v.useMemo(()=>C.markerStart?`url('#${W0(C.markerStart,j)}')`:void 0,[C.markerStart,j]),ie=v.useMemo(()=>C.markerEnd?`url('#${W0(C.markerEnd,j)}')`:void 0,[C.markerEnd,j]);if(C.hidden||L===null||F===null||B===null||z===null)return null;const ge=Q=>{const{addSelectedEdges:Ne,unselectNodesAndEdges:Re,multiSelectionActive:Pe}=$.getState();U&&($.setState({nodesSelectionActive:!1}),C.selected&&Pe?(Re({nodes:[],edges:[C]}),Z.current?.blur()):Ne([e])),o&&o(Q,C)},ye=l?Q=>{l(Q,{...C})}:void 0,ae=c?Q=>{c(Q,{...C})}:void 0,de=d?Q=>{d(Q,{...C})}:void 0,te=f?Q=>{f(Q,{...C})}:void 0,pe=h?Q=>{h(Q,{...C})}:void 0,Se=Q=>{if(!E&&zE.includes(Q.key)&&U){const{unselectNodesAndEdges:Ne,addSelectedEdges:Re}=$.getState();Q.key==="Escape"?(Z.current?.blur(),Ne({edges:[C]})):Re([e])}};return r.jsx("svg",{style:{zIndex:A},children:r.jsxs("g",{className:bn(["react-flow__edge",`react-flow__edge-${T}`,C.className,_,{selected:C.selected,animated:C.animated,inactive:!U&&!o,updating:X,selectable:U}]),onClick:ge,onDoubleClick:ye,onContextMenu:ae,onMouseEnter:de,onMouseMove:te,onMouseLeave:pe,onKeyDown:O?Se:void 0,tabIndex:O?0:void 0,role:C.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":O?`${mk}-${j}`:void 0,ref:Z,...C.domAttributes,children:[!q&&r.jsx(M,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:U,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:L,sourceY:F,targetX:B,targetY:z,sourcePosition:H,targetPosition:J,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:K,markerEnd:ie,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),I&&r.jsx(CB,{edge:C,isReconnectable:I,reconnectRadius:p,onReconnect:g,onReconnectStart:x,onReconnectEnd:b,sourceX:L,sourceY:F,targetX:B,targetY:z,sourcePosition:H,targetPosition:J,setUpdateHover:Y,setReconnecting:R})]})})}const kB=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Lk({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:o,onReconnect:l,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:g,onEdgeDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,disableKeyboardA11y:w}){const{edgesFocusable:_,edgesReconnectable:S,elementsSelectable:E,onError:C}=Nt(kB,rn),k=mB(t);return r.jsxs("div",{className:"react-flow__edges",children:[r.jsx(vB,{defaultColor:e,rfId:n}),k.map(T=>r.jsx(EB,{id:T,edgesFocusable:_,edgesReconnectable:S,elementsSelectable:E,noPanClassName:o,onReconnect:l,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onClick:p,reconnectRadius:g,onDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,rfId:n,onError:C,edgeTypes:s,disableKeyboardA11y:w},T))]})}Lk.displayName="EdgeRenderer";const AB=v.memo(Lk),MB=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function TB({children:e}){const t=Nt(MB);return r.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function RB(e){const t=Pl(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const DB=e=>e.panZoom?.syncViewport;function OB(e){const t=Nt(DB),n=en();return v.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function zB(e){return e.connection.inProgress?{...e.connection,to:ad(e.connection.to,e.transform)}:{...e.connection}}function IB(e){return zB}function LB(e){const t=IB();return Nt(t,rn)}const $B=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function PB({containerStyle:e,style:t,type:n,component:s}){const{nodesConnectable:o,width:l,height:c,isValid:d,inProgress:f}=Nt($B,rn);return!(l&&o&&f)?null:r.jsx("svg",{style:e,width:l,height:c,className:"react-flow__connectionline react-flow__container",children:r.jsx("g",{className:bn(["react-flow__connection",$E(d)]),children:r.jsx($k,{style:t,type:n,CustomComponent:s,isValid:d})})})}const $k=({style:e,type:t=no.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:o,from:l,fromNode:c,fromHandle:d,fromPosition:f,to:h,toNode:p,toHandle:g,toPosition:x}=LB();if(!o)return;if(n)return r.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:f,toPosition:x,connectionStatus:$E(s),toNode:p,toHandle:g});let b="";const j={sourceX:l.x,sourceY:l.y,sourcePosition:f,targetX:h.x,targetY:h.y,targetPosition:x};switch(t){case no.Bezier:[b]=XE(j);break;case no.SimpleBezier:[b]=Sk(j);break;case no.Step:[b]=Y0({...j,borderRadius:0});break;case no.SmoothStep:[b]=Y0(j);break;default:[b]=JE(j)}return r.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};$k.displayName="ConnectionLine";const UB={};function c_(e=UB){v.useRef(e),en(),v.useEffect(()=>{},[e])}function FB(){en(),v.useRef(!1),v.useEffect(()=>{},[])}function Pk({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:g,onSelectionStart:x,onSelectionEnd:b,connectionLineType:j,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:S,selectionKeyCode:E,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:O,deleteKeyCode:I,onlyRenderVisibleElements:U,elementsSelectable:Z,defaultViewport:X,translateExtent:Y,minZoom:q,maxZoom:R,preventScrolling:$,defaultMarkerColor:A,zoomOnScroll:L,zoomOnPinch:F,panOnScroll:B,panOnScrollSpeed:z,panOnScrollMode:H,zoomOnDoubleClick:J,panOnDrag:K,onPaneClick:ie,onPaneMouseEnter:ge,onPaneMouseMove:ye,onPaneMouseLeave:ae,onPaneScroll:de,onPaneContextMenu:te,paneClickDistance:pe,nodeClickDistance:Se,onEdgeContextMenu:Q,onEdgeMouseEnter:Ne,onEdgeMouseMove:Re,onEdgeMouseLeave:Pe,reconnectRadius:at,onReconnect:xt,onReconnectStart:Bn,onReconnectEnd:wn,noDragClassName:W,noWheelClassName:se,noPanClassName:he,disableKeyboardA11y:Me,nodeExtent:Ae,rfId:V,viewport:oe,onViewportChange:ne}){return c_(e),c_(t),FB(),RB(n),OB(oe),r.jsx(sB,{onPaneClick:ie,onPaneMouseEnter:ge,onPaneMouseMove:ye,onPaneMouseLeave:ae,onPaneContextMenu:te,onPaneScroll:de,paneClickDistance:pe,deleteKeyCode:I,selectionKeyCode:E,selectionOnDrag:C,selectionMode:k,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:O,elementsSelectable:Z,zoomOnScroll:L,zoomOnPinch:F,zoomOnDoubleClick:J,panOnScroll:B,panOnScrollSpeed:z,panOnScrollMode:H,panOnDrag:K,defaultViewport:X,translateExtent:Y,minZoom:q,maxZoom:R,onSelectionContextMenu:g,preventScrolling:$,noDragClassName:W,noWheelClassName:se,noPanClassName:he,disableKeyboardA11y:Me,onViewportChange:ne,isControlledViewport:!!oe,children:r.jsxs(TB,{children:[r.jsx(AB,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:c,onReconnect:xt,onReconnectStart:Bn,onReconnectEnd:wn,onlyRenderVisibleElements:U,onEdgeContextMenu:Q,onEdgeMouseEnter:Ne,onEdgeMouseMove:Re,onEdgeMouseLeave:Pe,reconnectRadius:at,defaultMarkerColor:A,noPanClassName:he,disableKeyboardA11y:Me,rfId:V}),r.jsx(PB,{style:w,type:j,component:_,containerStyle:S}),r.jsx("div",{className:"react-flow__edgelabel-renderer"}),r.jsx(fB,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:Se,onlyRenderVisibleElements:U,noPanClassName:he,noDragClassName:W,disableKeyboardA11y:Me,nodeExtent:Ae,rfId:V}),r.jsx("div",{className:"react-flow__viewport-portal"})]})})}Pk.displayName="GraphView";const VB=v.memo(Pk),u_=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:o,height:l,fitView:c,fitViewOptions:d,minZoom:f=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:g}={})=>{const x=new Map,b=new Map,j=new Map,w=new Map,_=s??t??[],S=n??e??[],E=p??[0,0],C=g??Eu;tk(j,w,_);const k=G0(S,x,b,{nodeOrigin:E,nodeExtent:C,elevateNodesOnSelect:!1});let T=[0,0,1];if(c&&o&&l){const M=rd(x,{filter:Z=>!!((Z.width||Z.initialWidth)&&(Z.height||Z.initialHeight))}),{x:O,y:I,zoom:U}=Ay(M,o,l,f,h,d?.padding??.1);T=[O,I,U]}return{rfId:"1",width:0,height:0,transform:T,nodes:S,nodesInitialized:k,nodeLookup:x,parentLookup:b,edges:_,edgeLookup:w,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:f,maxZoom:h,translateExtent:Eu,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:yl.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...LE},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:oV,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:IE}},HB=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:o,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:g})=>cH((x,b)=>{async function j(){const{nodeLookup:w,panZoom:_,fitViewOptions:S,fitViewResolver:E,width:C,height:k,minZoom:T,maxZoom:M}=b();_&&(await sV({nodes:w,width:C,height:k,panZoom:_,minZoom:T,maxZoom:M},S),E?.resolve(!0),x({fitViewResolver:null}))}return{...u_({nodes:e,edges:t,width:o,height:l,fitView:c,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:g,defaultNodes:n,defaultEdges:s}),setNodes:w=>{const{nodeLookup:_,parentLookup:S,nodeOrigin:E,elevateNodesOnSelect:C,fitViewQueued:k}=b(),T=G0(w,_,S,{nodeOrigin:E,nodeExtent:g,elevateNodesOnSelect:C,checkEquality:!0});k&&T?(j(),x({nodes:w,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:w,nodesInitialized:T})},setEdges:w=>{const{connectionLookup:_,edgeLookup:S}=b();tk(_,S,w),x({edges:w})},setDefaultNodesAndEdges:(w,_)=>{if(w){const{setNodes:S}=b();S(w),x({hasDefaultNodes:!0})}if(_){const{setEdges:S}=b();S(_),x({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:_,nodeLookup:S,parentLookup:E,domNode:C,nodeOrigin:k,nodeExtent:T,debug:M,fitViewQueued:O}=b(),{changes:I,updatedInternals:U}=SV(w,S,E,C,k,T);U&&(jV(S,E,{nodeOrigin:k,nodeExtent:T}),O?(j(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),I?.length>0&&(M&&console.log("React Flow: trigger node changes",I),_?.(I)))},updateNodePositions:(w,_=!1)=>{const S=[],E=[],{nodeLookup:C,triggerNodeChanges:k}=b();for(const[T,M]of w){const O=C.get(T),I=!!(O?.expandParent&&O?.parentId&&M?.position),U={id:T,type:"position",position:I?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:_};I&&O.parentId&&S.push({id:T,parentId:O.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),E.push(U)}if(S.length>0){const{parentLookup:T,nodeOrigin:M}=b(),O=Oy(S,C,T,M);E.push(...O)}k(E)},triggerNodeChanges:w=>{const{onNodesChange:_,setNodes:S,nodes:E,hasDefaultNodes:C,debug:k}=b();if(w?.length){if(C){const T=zy(w,E);S(T)}k&&console.log("React Flow: trigger node changes",w),_?.(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:_,setEdges:S,edges:E,hasDefaultEdges:C,debug:k}=b();if(w?.length){if(C){const T=Iy(w,E);S(T)}k&&console.log("React Flow: trigger edge changes",w),_?.(w)}},addSelectedNodes:w=>{const{multiSelectionActive:_,edgeLookup:S,nodeLookup:E,triggerNodeChanges:C,triggerEdgeChanges:k}=b();if(_){const T=w.map(M=>zo(M,!0));C(T);return}C(Qi(E,new Set([...w]),!0)),k(Qi(S))},addSelectedEdges:w=>{const{multiSelectionActive:_,edgeLookup:S,nodeLookup:E,triggerNodeChanges:C,triggerEdgeChanges:k}=b();if(_){const T=w.map(M=>zo(M,!0));k(T);return}k(Qi(S,new Set([...w]))),C(Qi(E,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:_}={})=>{const{edges:S,nodes:E,nodeLookup:C,triggerNodeChanges:k,triggerEdgeChanges:T}=b(),M=w||E,O=_||S,I=M.map(Z=>{const X=C.get(Z.id);return X&&(X.selected=!1),zo(Z.id,!1)}),U=O.map(Z=>zo(Z.id,!1));k(I),T(U)},setMinZoom:w=>{const{panZoom:_,maxZoom:S}=b();_?.setScaleExtent([w,S]),x({minZoom:w})},setMaxZoom:w=>{const{panZoom:_,minZoom:S}=b();_?.setScaleExtent([S,w]),x({maxZoom:w})},setTranslateExtent:w=>{b().panZoom?.setTranslateExtent(w),x({translateExtent:w})},setPaneClickDistance:w=>{b().panZoom?.setClickDistance(w)},resetSelectedElements:()=>{const{edges:w,nodes:_,triggerNodeChanges:S,triggerEdgeChanges:E,elementsSelectable:C}=b();if(!C)return;const k=_.reduce((M,O)=>O.selected?[...M,zo(O.id,!1)]:M,[]),T=w.reduce((M,O)=>O.selected?[...M,zo(O.id,!1)]:M,[]);S(k),E(T)},setNodeExtent:w=>{const{nodes:_,nodeLookup:S,parentLookup:E,nodeOrigin:C,elevateNodesOnSelect:k,nodeExtent:T}=b();w[0][0]===T[0][0]&&w[0][1]===T[0][1]&&w[1][0]===T[1][0]&&w[1][1]===T[1][1]||(G0(_,S,E,{nodeOrigin:C,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1}),x({nodeExtent:w}))},panBy:w=>{const{transform:_,width:S,height:E,panZoom:C,translateExtent:k}=b();return CV({delta:w,panZoom:C,transform:_,translateExtent:k,width:S,height:E})},setCenter:async(w,_,S)=>{const{width:E,height:C,maxZoom:k,panZoom:T}=b();if(!T)return Promise.resolve(!1);const M=typeof S?.zoom<"u"?S.zoom:k;return await T.setViewport({x:E/2-w*M,y:C/2-_*M,zoom:M},{duration:S?.duration,ease:S?.ease,interpolate:S?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...LE}})},updateConnection:w=>{x({connection:w})},reset:()=>x({...u_()})}},Object.is);function BB({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:o,initialHeight:l,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:f,fitView:h,nodeOrigin:p,nodeExtent:g,children:x}){const[b]=v.useState(()=>HB({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:o,height:l,fitView:h,minZoom:c,maxZoom:d,fitViewOptions:f,nodeOrigin:p,nodeExtent:g}));return r.jsx(uH,{value:b,children:r.jsx(DH,{children:x})})}function qB({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:o,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:h,maxZoom:p,nodeOrigin:g,nodeExtent:x}){return v.useContext(Uh)?r.jsx(r.Fragment,{children:e}):r.jsx(BB,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:o,initialWidth:l,initialHeight:c,fitView:d,initialFitViewOptions:f,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:g,nodeExtent:x,children:e})}const ZB={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function YB({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:o,nodeTypes:l,edgeTypes:c,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:x,onConnect:b,onConnectStart:j,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:S,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:k,onNodeContextMenu:T,onNodeDoubleClick:M,onNodeDragStart:O,onNodeDrag:I,onNodeDragStop:U,onNodesDelete:Z,onEdgesDelete:X,onDelete:Y,onSelectionChange:q,onSelectionDragStart:R,onSelectionDrag:$,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:B,onBeforeDelete:z,connectionMode:H,connectionLineType:J=no.Bezier,connectionLineStyle:K,connectionLineComponent:ie,connectionLineContainerStyle:ge,deleteKeyCode:ye="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:de=!1,selectionMode:te=ku.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:Se=Mu()?"Meta":"Control",zoomActivationKeyCode:Q=Mu()?"Meta":"Control",snapToGrid:Ne,snapGrid:Re,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:at,nodesDraggable:xt,autoPanOnNodeFocus:Bn,nodesConnectable:wn,nodesFocusable:W,nodeOrigin:se=hk,edgesFocusable:he,edgesReconnectable:Me,elementsSelectable:Ae=!0,defaultViewport:V=NH,minZoom:oe=.5,maxZoom:ne=2,translateExtent:xe=Eu,preventScrolling:ve=!0,nodeExtent:ke,defaultMarkerColor:De="#b1b1b7",zoomOnScroll:He=!0,zoomOnPinch:mt=!0,panOnScroll:St=!1,panOnScrollSpeed:ct=.5,panOnScrollMode:At=Po.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Ot=!0,onPaneClick:et,onPaneMouseEnter:Ye,onPaneMouseMove:ut,onPaneMouseLeave:We,onPaneScroll:vt,onPaneContextMenu:wt,paneClickDistance:an=0,nodeClickDistance:Ht=0,children:Bt,onReconnect:hn,onReconnectStart:ys,onReconnectEnd:zt,onEdgeContextMenu:Ut,onEdgeDoubleClick:Ft,onEdgeMouseEnter:Mn,onEdgeMouseMove:Zr,onEdgeMouseLeave:qs,reconnectRadius:Tr=10,onNodesChange:bs,onEdgesChange:Yr,noDragClassName:ql="nodrag",noWheelClassName:Sa="nowheel",noPanClassName:Zs="nopan",fitView:Ca,fitViewOptions:Ys,connectOnClick:pn,attributionPosition:dd,proOptions:fd,defaultEdgeOptions:Ws,elevateNodesOnSelect:Ea,elevateEdgesOnSelect:pp,disableKeyboardA11y:Zl=!1,autoPanOnConnect:md,autoPanOnNodeDrag:gp,autoPanSpeed:ii,connectionRadius:li,isValidConnection:Wr,onError:Yl,style:hd,id:Gs,nodeDragThreshold:Wl,connectionDragThreshold:Gl,viewport:xp,onViewportChange:pd,width:tr,height:gd,colorMode:vp="light",debug:ci,onScroll:Xl,ariaLabelConfig:ui,...yp},nr){const go=Gs||"1",xd=EH(vp),Kl=v.useCallback(Xs=>{Xs.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Xl?.(Xs)},[Xl]);return r.jsx("div",{"data-testid":"rf__wrapper",...yp,onScroll:Kl,style:{...hd,...ZB},ref:nr,className:bn(["react-flow",o,xd]),id:Gs,role:"application",children:r.jsxs(qB,{nodes:e,edges:t,width:tr,height:gd,fitView:Ca,fitViewOptions:Ys,minZoom:oe,maxZoom:ne,nodeOrigin:se,nodeExtent:ke,children:[r.jsx(VB,{onInit:h,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:k,onNodeContextMenu:T,onNodeDoubleClick:M,nodeTypes:l,edgeTypes:c,connectionLineType:J,connectionLineStyle:K,connectionLineComponent:ie,connectionLineContainerStyle:ge,selectionKeyCode:ae,selectionOnDrag:de,selectionMode:te,deleteKeyCode:ye,multiSelectionKeyCode:Se,panActivationKeyCode:pe,zoomActivationKeyCode:Q,onlyRenderVisibleElements:Pe,defaultViewport:V,translateExtent:xe,minZoom:oe,maxZoom:ne,preventScrolling:ve,zoomOnScroll:He,zoomOnPinch:mt,zoomOnDoubleClick:Ie,panOnScroll:St,panOnScrollSpeed:ct,panOnScrollMode:At,panOnDrag:Ot,onPaneClick:et,onPaneMouseEnter:Ye,onPaneMouseMove:ut,onPaneMouseLeave:We,onPaneScroll:vt,onPaneContextMenu:wt,paneClickDistance:an,nodeClickDistance:Ht,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:B,onReconnect:hn,onReconnectStart:ys,onReconnectEnd:zt,onEdgeContextMenu:Ut,onEdgeDoubleClick:Ft,onEdgeMouseEnter:Mn,onEdgeMouseMove:Zr,onEdgeMouseLeave:qs,reconnectRadius:Tr,defaultMarkerColor:De,noDragClassName:ql,noWheelClassName:Sa,noPanClassName:Zs,rfId:go,disableKeyboardA11y:Zl,nodeExtent:ke,viewport:xp,onViewportChange:pd}),r.jsx(CH,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:b,onConnectStart:j,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:S,nodesDraggable:xt,autoPanOnNodeFocus:Bn,nodesConnectable:wn,nodesFocusable:W,edgesFocusable:he,edgesReconnectable:Me,elementsSelectable:Ae,elevateNodesOnSelect:Ea,elevateEdgesOnSelect:pp,minZoom:oe,maxZoom:ne,nodeExtent:ke,onNodesChange:bs,onEdgesChange:Yr,snapToGrid:Ne,snapGrid:Re,connectionMode:H,translateExtent:xe,connectOnClick:pn,defaultEdgeOptions:Ws,fitView:Ca,fitViewOptions:Ys,onNodesDelete:Z,onEdgesDelete:X,onDelete:Y,onNodeDragStart:O,onNodeDrag:I,onNodeDragStop:U,onSelectionDrag:$,onSelectionDragStart:R,onSelectionDragStop:A,onMove:p,onMoveStart:g,onMoveEnd:x,noPanClassName:Zs,nodeOrigin:se,rfId:go,autoPanOnConnect:md,autoPanOnNodeDrag:gp,autoPanSpeed:ii,onError:Yl,connectionRadius:li,isValidConnection:Wr,selectNodesOnDrag:at,nodeDragThreshold:Wl,connectionDragThreshold:Gl,onBeforeDelete:z,paneClickDistance:an,debug:ci,ariaLabelConfig:ui}),r.jsx(jH,{onSelectionChange:q}),Bt,r.jsx(xH,{proOptions:fd,position:dd}),r.jsx(gH,{rfId:go,disableKeyboardA11y:Zl})]})})}var WB=gk(YB);function GB(e){const[t,n]=v.useState(e),s=v.useCallback(o=>n(l=>zy(o,l)),[]);return[t,n,s]}function XB(e){const[t,n]=v.useState(e),s=v.useCallback(o=>n(l=>Iy(o,l)),[]);return[t,n,s]}function KB({dimensions:e,lineWidth:t,variant:n,className:s}){return r.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:bn(["react-flow__background-pattern",n,s])})}function QB({radius:e,className:t}){return r.jsx("circle",{cx:e,cy:e,r:e,className:bn(["react-flow__background-pattern","dots",t])})}var xa;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(xa||(xa={}));const JB={[xa.Dots]:1,[xa.Lines]:1,[xa.Cross]:6},eq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Uk({id:e,variant:t=xa.Dots,gap:n=20,size:s,lineWidth:o=1,offset:l=0,color:c,bgColor:d,style:f,className:h,patternClassName:p}){const g=v.useRef(null),{transform:x,patternId:b}=Nt(eq,rn),j=s||JB[t],w=t===xa.Dots,_=t===xa.Cross,S=Array.isArray(n)?n:[n,n],E=[S[0]*x[2]||1,S[1]*x[2]||1],C=j*x[2],k=Array.isArray(l)?l:[l,l],T=_?[C,C]:E,M=[k[0]*x[2]||1+T[0]/2,k[1]*x[2]||1+T[1]/2],O=`${b}${e||""}`;return r.jsxs("svg",{className:bn(["react-flow__background",h]),style:{...f,...Vh,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:g,"data-testid":"rf__background",children:[r.jsx("pattern",{id:O,x:x[0]%E[0],y:x[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:w?r.jsx(QB,{radius:C/2,className:p}):r.jsx(KB,{dimensions:T,lineWidth:o,variant:t,className:p})}),r.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}Uk.displayName="Background";const tq=v.memo(Uk);function nq(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:r.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function rq(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:r.jsx("path",{d:"M0 0h32v4.2H0z"})})}function sq(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:r.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function aq(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:r.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function oq(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:r.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Hf({children:e,className:t,...n}){return r.jsx("button",{type:"button",className:bn(["react-flow__controls-button",t]),...n,children:e})}const iq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Fk({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:o,onZoomIn:l,onZoomOut:c,onFitView:d,onInteractiveChange:f,className:h,children:p,position:g="bottom-left",orientation:x="vertical","aria-label":b}){const j=en(),{isInteractive:w,minZoomReached:_,maxZoomReached:S,ariaLabelConfig:E}=Nt(iq,rn),{zoomIn:C,zoomOut:k,fitView:T}=Pl(),M=()=>{C(),l?.()},O=()=>{k(),c?.()},I=()=>{T(o),d?.()},U=()=>{j.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),f?.(!w)},Z=x==="horizontal"?"horizontal":"vertical";return r.jsxs(Fh,{className:bn(["react-flow__controls",Z,h]),position:g,style:e,"data-testid":"rf__controls","aria-label":b??E["controls.ariaLabel"],children:[t&&r.jsxs(r.Fragment,{children:[r.jsx(Hf,{onClick:M,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:S,children:r.jsx(nq,{})}),r.jsx(Hf,{onClick:O,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:_,children:r.jsx(rq,{})})]}),n&&r.jsx(Hf,{className:"react-flow__controls-fitview",onClick:I,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:r.jsx(sq,{})}),s&&r.jsx(Hf,{className:"react-flow__controls-interactive",onClick:U,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:w?r.jsx(oq,{}):r.jsx(aq,{})}),p]})}Fk.displayName="Controls";const lq=v.memo(Fk);function cq({id:e,x:t,y:n,width:s,height:o,style:l,color:c,strokeColor:d,strokeWidth:f,className:h,borderRadius:p,shapeRendering:g,selected:x,onClick:b}){const{background:j,backgroundColor:w}=l||{},_=c||j||w;return r.jsx("rect",{className:bn(["react-flow__minimap-node",{selected:x},h]),x:t,y:n,rx:p,ry:p,width:s,height:o,style:{fill:_,stroke:d,strokeWidth:f},shapeRendering:g,onClick:b?S=>b(S,e):void 0})}const uq=v.memo(cq),dq=e=>e.nodes.map(t=>t.id),o0=e=>e instanceof Function?e:()=>e;function fq({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l=uq,onClick:c}){const d=Nt(dq,rn),f=o0(t),h=o0(e),p=o0(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return r.jsx(r.Fragment,{children:d.map(x=>r.jsx(hq,{id:x,nodeColorFunc:f,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:s,nodeStrokeWidth:o,NodeComponent:l,onClick:c,shapeRendering:g},x))})}function mq({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:o,nodeStrokeWidth:l,shapeRendering:c,NodeComponent:d,onClick:f}){const{node:h,x:p,y:g,width:x,height:b}=Nt(j=>{const{internals:w}=j.nodeLookup.get(e),_=w.userNode,{x:S,y:E}=w.positionAbsolute,{width:C,height:k}=Na(_);return{node:_,x:S,y:E,width:C,height:k}},rn);return!h||h.hidden||!BE(h)?null:r.jsx(d,{x:p,y:g,width:x,height:b,style:h.style,selected:!!h.selected,className:s(h),color:t(h),borderRadius:o,strokeColor:n(h),strokeWidth:l,shapeRendering:c,onClick:f,id:h.id})}const hq=v.memo(mq);var pq=v.memo(fq);const gq=200,xq=150,vq=e=>!e.hidden,yq=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?HE(rd(e.nodeLookup,{filter:vq}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},bq="react-flow__minimap-desc";function Vk({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:o="",nodeBorderRadius:l=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:f,maskColor:h,maskStrokeColor:p,maskStrokeWidth:g,position:x="bottom-right",onClick:b,onNodeClick:j,pannable:w=!1,zoomable:_=!1,ariaLabel:S,inversePan:E,zoomStep:C=1,offsetScale:k=5}){const T=en(),M=v.useRef(null),{boundingRect:O,viewBB:I,rfId:U,panZoom:Z,translateExtent:X,flowWidth:Y,flowHeight:q,ariaLabelConfig:R}=Nt(yq,rn),$=e?.width??gq,A=e?.height??xq,L=O.width/$,F=O.height/A,B=Math.max(L,F),z=B*$,H=B*A,J=k*B,K=O.x-(z-O.width)/2-J,ie=O.y-(H-O.height)/2-J,ge=z+J*2,ye=H+J*2,ae=`${bq}-${U}`,de=v.useRef(0),te=v.useRef();de.current=B,v.useEffect(()=>{if(M.current&&Z)return te.current=zV({domNode:M.current,panZoom:Z,getTransform:()=>T.getState().transform,getViewScale:()=>de.current}),()=>{te.current?.destroy()}},[Z]),v.useEffect(()=>{te.current?.update({translateExtent:X,width:Y,height:q,inversePan:E,pannable:w,zoomStep:C,zoomable:_})},[w,_,E,C,X,Y,q]);const pe=b?Ne=>{const[Re,Pe]=te.current?.pointer(Ne)||[0,0];b(Ne,{x:Re,y:Pe})}:void 0,Se=j?v.useCallback((Ne,Re)=>{const Pe=T.getState().nodeLookup.get(Re).internals.userNode;j(Ne,Pe)},[]):void 0,Q=S??R["minimap.ariaLabel"];return r.jsx(Fh,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof g=="number"?g*B:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:bn(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:r.jsxs("svg",{width:$,height:A,viewBox:`${K} ${ie} ${ge} ${ye}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ae,ref:M,onClick:pe,children:[Q&&r.jsx("title",{id:ae,children:Q}),r.jsx(pq,{onClick:Se,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:o,nodeStrokeWidth:c,nodeComponent:d}),r.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-J},${ie-J}h${ge+J*2}v${ye+J*2}h${-ge-J*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Vk.displayName="MiniMap";const wq=v.memo(Vk),jq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Nq={[Nl.Line]:"right",[Nl.Handle]:"bottom-right"};function _q({nodeId:e,position:t,variant:n=Nl.Handle,className:s,style:o=void 0,children:l,color:c,minWidth:d=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:x,autoScale:b=!0,shouldResize:j,onResizeStart:w,onResize:_,onResizeEnd:S}){const E=bk(),C=typeof e=="string"?e:E,k=en(),T=v.useRef(null),M=n===Nl.Handle,O=Nt(v.useCallback(jq(M&&b),[M,b]),rn),I=v.useRef(null),U=t??Nq[n];v.useEffect(()=>{if(!(!T.current||!C))return I.current||(I.current=KV({domNode:T.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:X,transform:Y,snapGrid:q,snapToGrid:R,nodeOrigin:$,domNode:A}=k.getState();return{nodeLookup:X,transform:Y,snapGrid:q,snapToGrid:R,nodeOrigin:$,paneDomNode:A}},onChange:(X,Y)=>{const{triggerNodeChanges:q,nodeLookup:R,parentLookup:$,nodeOrigin:A}=k.getState(),L=[],F={x:X.x,y:X.y},B=R.get(C);if(B&&B.expandParent&&B.parentId){const z=B.origin??A,H=X.width??B.measured.width??0,J=X.height??B.measured.height??0,K={id:B.id,parentId:B.parentId,rect:{width:H,height:J,...qE({x:X.x??B.position.x,y:X.y??B.position.y},{width:H,height:J},B.parentId,R,z)}},ie=Oy([K],R,$,A);L.push(...ie),F.x=X.x?Math.max(z[0]*H,X.x):void 0,F.y=X.y?Math.max(z[1]*J,X.y):void 0}if(F.x!==void 0&&F.y!==void 0){const z={id:C,type:"position",position:{...F}};L.push(z)}if(X.width!==void 0&&X.height!==void 0){const H={id:C,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:X.width,height:X.height}};L.push(H)}for(const z of Y){const H={...z,type:"position"};L.push(H)}q(L)},onEnd:({width:X,height:Y})=>{const q={id:C,type:"dimensions",resizing:!1,dimensions:{width:X,height:Y}};k.getState().triggerNodeChanges([q])}})),I.current.update({controlPosition:U,boundaries:{minWidth:d,minHeight:f,maxWidth:h,maxHeight:p},keepAspectRatio:g,resizeDirection:x,onResizeStart:w,onResize:_,onResizeEnd:S,shouldResize:j}),()=>{I.current?.destroy()}},[U,d,f,h,p,g,w,_,S,j]);const Z=U.split("-");return r.jsx("div",{className:bn(["react-flow__resize-control","nodrag",...Z,n,s]),ref:T,style:{...o,scale:O,...c&&{[M?"backgroundColor":"borderColor"]:c}},children:l})}v.memo(_q);const Sq={version:"1.0",name:"New Agent",resources:{models:{"gpt-4o-mini":{type:"azure-openai",deployment:"gpt-4o-mini"}},tools:[{id:"consultar_clima",path:"mock_tools.basic:consultar_clima",description:"Retorna previo do tempo simulada"},{id:"resumir_diretrizes",path:"mock_tools.basic:resumir_diretrizes",description:"Resume diretrizes de um tpico"},{id:"calcular_custos",path:"mock_tools.basic:calcular_custos",description:"Calcula custos de carga de trabalho"},{id:"verificar_status_sistema",path:"mock_tools.basic:verificar_status_sistema",description:"Verifica status de um sistema"},{id:"verificar_resolucao",path:"mock_tools.basic:verificar_resolucao",description:"Verifica resoluo de um ticket"}]},agents:[],workflow:{type:"sequential",steps:[]}},Cq={start:"Start",agent:"New Agent",router:"Router",handoff:"Handoff",condition:"Condition",rag:"RAG Retriever",tool:"Tool Execution"},d_={agent:{role:"Agent",model:"gpt-4o-mini",instructions:"You are a helpful assistant.",tools:[],description:"Default agent role"},condition:{expression:"True",description:"Describe your branching logic"},rag:{knowledge_base:"knowledge_base",retriever:"azure_search",top_k:4,prompt_template:"Answer using retrieved documents"},tool:{tool_id:"basic_tool",description:"Execute a specific tool"},router:{strategy:"auto"},handoff:{instructions:"Escalate to a human operator."}},il=uy((e,t)=>({nodes:[],edges:[],workerConfig:Sq,onNodesChange:n=>{e({nodes:zy(n,t().nodes)})},onEdgesChange:n=>{e({edges:Iy(n,t().edges)})},onConnect:n=>{e({edges:QE(n,t().edges)})},addNode:(n,s,o)=>{const l=crypto.randomUUID();let c=Cq[n]??"Node",d=d_[n]?{...d_[n]}:{};o&&(o.name&&typeof o.name=="string"?c=o.name:o.label&&typeof o.label=="string"&&(c=o.label),d={...d,...o},n==="tool"&&o.tool_id&&(d.tool_id=o.tool_id),n==="agent"&&(o.agent_name&&(d.role=o.agent_name),o.description&&(d.description=o.description)));const f={id:l,type:"studioNode",position:s,data:{label:c,type:n,config:Object.keys(d).length>0?d:void 0}};e({nodes:[...t().nodes,f]})},updateNodeConfig:(n,s)=>{e({nodes:t().nodes.map(o=>o.id===n?(()=>{const l={...o.data},c={...l.config||{}},d={...s};return"label"in d&&(l.label=d.label,delete d.label),Object.keys(d).forEach(f=>{c[f]=d[f]}),l.config=Object.keys(c).length>0?c:void 0,{...o,data:l}})():o)})},setWorkerConfig:n=>e({workerConfig:n}),generateConfig:()=>{const{workerConfig:n}=t(),s=(n.agents||[]).map(({_file:p,...g})=>g),o=new Set;s.forEach(p=>{(p.tools||[]).forEach(g=>o.add(g))});const c=(n.resources?.tools||[]).filter(p=>o.has(p.id)),f=(n.workflow.steps||[]).map(p=>{if(typeof p=="object"&&p!==null&&"id"in p)return{id:p.id,type:p.type||"agent",agent:p.agent,input_template:p.input_template||"{{output}}",next:p.next,transitions:p.transitions};const g=String(p);return{id:g,type:"agent",agent:g,input_template:"{{output}}"}}),h=n.workflow.start_step||f[0]?.id||"";return{...n,resources:{...n.resources,tools:c},agents:s,workflow:{...n.workflow,start_step:h,steps:f}}}})),f_={agent:bt,start:mh,router:el,handoff:fl,condition:T8,rag:ch,tool:Ho,default:bt},m_={agent:"border-blue-500",start:"border-green-500",router:"border-purple-500",handoff:"border-orange-500",condition:"border-emerald-500",rag:"border-sky-500",tool:"border-indigo-500",default:"border-gray-200"};v.memo(({data:e,selected:t})=>{const n=f_[e.type]??f_.default,s=m_[e.type]??m_.default,o=e.config,l=e.type==="agent"&&typeof o?.role=="string"?o.role:void 0,c=e.type==="agent"&&typeof o?.model=="string"?o.model:void 0,d=e.type==="condition"&&typeof o?.expression=="string"?o.expression:void 0,f=e.type==="rag"&&typeof o?.knowledge_base=="string"?o.knowledge_base:e.type==="rag"&&typeof o?.retriever=="string"?o.retriever:void 0,h=e.type==="tool"&&typeof o?.tool_id=="string"?o.tool_id:void 0;return r.jsxs(Ge,{className:`w-64 shadow-md ${t?"ring-2 ring-primary":""} ${s} border-l-4 transition-all duration-200`,children:[r.jsx(Pt,{className:"p-3 pb-1",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-md bg-muted",children:r.jsx(n,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex flex-col overflow-hidden",children:[r.jsx(Dt,{className:"text-sm font-medium truncate",title:e.label,children:e.label}),l&&r.jsx("span",{className:"text-[10px] text-muted-foreground truncate",title:l,children:l})]})]})}),r.jsxs(Xe,{className:"p-3 pt-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[e.type," Node"]}),c&&r.jsx("div",{className:"text-[10px] px-1.5 py-0.5 bg-primary/10 text-primary rounded-full font-mono",children:c})]}),d&&r.jsx("p",{className:"mt-2 text-[11px] font-mono bg-muted/60 rounded px-2 py-1 text-muted-foreground line-clamp-2",children:d}),f&&r.jsxs("p",{className:"mt-2 text-[11px] text-muted-foreground truncate",children:["Source: ",f]}),h&&r.jsxs("p",{className:"mt-2 text-[11px] font-mono bg-muted/60 rounded px-2 py-1 text-muted-foreground truncate",children:["Tool: ",h]})]}),e.type!=="start"&&r.jsx(uo,{type:"target",position:qe.Left,className:"w-3 h-3 bg-muted-foreground border-2 border-background"}),r.jsx(uo,{type:"source",position:qe.Right,className:"w-3 h-3 bg-muted-foreground border-2 border-background"})]})});var Eq="Separator",h_="horizontal",kq=["horizontal","vertical"],Hk=v.forwardRef((e,t)=>{const{decorative:n,orientation:s=h_,...o}=e,l=Aq(s)?s:h_,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return r.jsx(Qe.div,{"data-orientation":l,...d,...o,ref:t})});Hk.displayName=Eq;function Aq(e){return kq.includes(e)}var Bk=Hk;const Xo=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},o)=>r.jsx(Bk,{ref:o,decorative:n,orientation:t,className:$e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Xo.displayName=Bk.displayName;function un({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:$e("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var Bh="Checkbox",[Mq,Fne]=Mr(Bh),[Tq,$y]=Mq(Bh);function Rq(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:o,disabled:l,form:c,name:d,onCheckedChange:f,required:h,value:p="on",internal_do_not_use_render:g}=e,[x,b]=ya({prop:n,defaultProp:o??!1,onChange:f,caller:Bh}),[j,w]=v.useState(null),[_,S]=v.useState(null),E=v.useRef(!1),C=j?!!c||!!j.closest("form"):!0,k={checked:x,disabled:l,setChecked:b,control:j,setControl:w,name:d,form:c,value:p,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:oo(o)?!1:o,isFormControl:C,bubbleInput:_,setBubbleInput:S};return r.jsx(Tq,{scope:t,...k,children:Dq(g)?g(k):s})}var qk="CheckboxTrigger",Zk=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},o)=>{const{control:l,value:c,disabled:d,checked:f,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:j}=$y(qk,e),w=lt(o,p),_=v.useRef(f);return v.useEffect(()=>{const S=l?.form;if(S){const E=()=>g(_.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[l,g]),r.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":oo(f)?"mixed":f,"aria-required":h,"data-state":Qk(f),"data-disabled":d?"":void 0,disabled:d,value:c,...s,ref:w,onKeyDown:ze(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ze(n,S=>{g(E=>oo(E)?!0:!E),j&&b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})});Zk.displayName=qk;var Yk=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:h,form:p,...g}=e;return r.jsx(Rq,{__scopeCheckbox:n,checked:o,defaultChecked:l,disabled:d,required:c,onCheckedChange:h,name:s,form:p,value:f,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(Zk,{...g,ref:t,__scopeCheckbox:n}),x&&r.jsx(Kk,{__scopeCheckbox:n})]})})});Yk.displayName=Bh;var Wk="CheckboxIndicator",Gk=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,l=$y(Wk,n);return r.jsx(Yn,{present:s||oo(l.checked)||l.checked===!0,children:r.jsx(Qe.span,{"data-state":Qk(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Gk.displayName=Wk;var Xk="CheckboxBubbleInput",Kk=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:l,defaultChecked:c,required:d,disabled:f,name:h,value:p,form:g,bubbleInput:x,setBubbleInput:b}=$y(Xk,e),j=lt(n,b),w=vy(l),_=Yv(s);v.useEffect(()=>{const E=x;if(!E)return;const C=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(C,"checked").set,M=!o.current;if(w!==l&&T){const O=new Event("click",{bubbles:M});E.indeterminate=oo(l),T.call(E,oo(l)?!1:l),E.dispatchEvent(O)}},[x,w,l,o]);const S=v.useRef(oo(l)?!1:l);return r.jsx(Qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??S.current,required:d,disabled:f,name:h,value:p,form:g,...t,tabIndex:-1,ref:j,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kk.displayName=Xk;function Dq(e){return typeof e=="function"}function oo(e){return e==="indeterminate"}function Qk(e){return oo(e)?"indeterminate":e?"checked":"unchecked"}function Ur({className:e,...t}){return r.jsx(Yk,{"data-slot":"checkbox",className:$e("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Gk,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:r.jsx(Ml,{className:"size-3.5"})})})}var Jk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Oq="VisuallyHidden",e3=v.forwardRef((e,t)=>r.jsx(Qe.span,{...e,ref:t,style:{...Jk,...e.style}}));e3.displayName=Oq;var zq=e3,Iq=[" ","Enter","ArrowUp","ArrowDown"],Lq=[" ","Enter"],Ko="Select",[qh,Zh,$q]=Pv(Ko),[Ul,Vne]=Mr(Ko,[$q,Ol]),Yh=Ol(),[Pq,mo]=Ul(Ko),[Uq,Fq]=Ul(Ko),t3=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:h,name:p,autoComplete:g,disabled:x,required:b,form:j}=e,w=Yh(t),[_,S]=v.useState(null),[E,C]=v.useState(null),[k,T]=v.useState(!1),M=qu(h),[O,I]=ya({prop:s,defaultProp:o??!1,onChange:l,caller:Ko}),[U,Z]=ya({prop:c,defaultProp:d,onChange:f,caller:Ko}),X=v.useRef(null),Y=_?j||!!_.closest("form"):!0,[q,R]=v.useState(new Set),$=Array.from(q).map(A=>A.props.value).join(";");return r.jsx(Xv,{...w,children:r.jsxs(Pq,{required:b,scope:t,trigger:_,onTriggerChange:S,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:T,contentId:os(),value:U,onValueChange:Z,open:O,onOpenChange:I,dir:M,triggerPointerDownPosRef:X,disabled:x,children:[r.jsx(qh.Provider,{scope:t,children:r.jsx(Uq,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(A=>{R(L=>new Set(L).add(A))},[]),onNativeOptionRemove:v.useCallback(A=>{R(L=>{const F=new Set(L);return F.delete(A),F})},[]),children:n})}),Y?r.jsxs(N3,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:g,value:U,onChange:A=>Z(A.target.value),disabled:x,form:j,children:[U===void 0?r.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};t3.displayName=Ko;var n3="SelectTrigger",r3=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,l=Yh(n),c=mo(n3,n),d=c.disabled||s,f=lt(t,c.onTriggerChange),h=Zh(n),p=v.useRef("touch"),[g,x,b]=S3(w=>{const _=h().filter(C=>!C.disabled),S=_.find(C=>C.value===c.value),E=C3(_,w,S);E!==void 0&&c.onValueChange(E.value)}),j=w=>{d||(c.onOpenChange(!0),b()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(Kv,{asChild:!0,...l,children:r.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":_3(c.value)?"":void 0,...o,ref:f,onClick:ze(o.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&j(w)}),onPointerDown:ze(o.onPointerDown,w=>{p.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:ze(o.onKeyDown,w=>{const _=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(_&&w.key===" ")&&Iq.includes(w.key)&&(j(),w.preventDefault())})})})});r3.displayName=n3;var s3="SelectValue",a3=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:l,placeholder:c="",...d}=e,f=mo(s3,n),{onValueNodeHasChildrenChange:h}=f,p=l!==void 0,g=lt(t,f.onValueNodeChange);return Hn(()=>{h(p)},[h,p]),r.jsx(Qe.span,{...d,ref:g,style:{pointerEvents:"none"},children:_3(f.value)?r.jsx(r.Fragment,{children:c}):l})});a3.displayName=s3;var Vq="SelectIcon",o3=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return r.jsx(Qe.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});o3.displayName=Vq;var Hq="SelectPortal",i3=e=>r.jsx(Wu,{asChild:!0,...e});i3.displayName=Hq;var Qo="SelectContent",l3=v.forwardRef((e,t)=>{const n=mo(Qo,e.__scopeSelect),[s,o]=v.useState();if(Hn(()=>{o(new DocumentFragment)},[]),!n.open){const l=s;return l?Ms.createPortal(r.jsx(c3,{scope:e.__scopeSelect,children:r.jsx(qh.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),l):null}return r.jsx(u3,{...e,ref:t})});l3.displayName=Qo;var Qr=10,[c3,ho]=Ul(Qo),Bq="SelectContentImpl",qq=Uo("SelectContent.RemoveScroll"),u3=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:w,avoidCollisions:_,...S}=e,E=mo(Qo,n),[C,k]=v.useState(null),[T,M]=v.useState(null),O=lt(t,ae=>k(ae)),[I,U]=v.useState(null),[Z,X]=v.useState(null),Y=Zh(n),[q,R]=v.useState(!1),$=v.useRef(!1);v.useEffect(()=>{if(C)return ey(C)},[C]),Uv();const A=v.useCallback(ae=>{const[de,...te]=Y().map(Q=>Q.ref.current),[pe]=te.slice(-1),Se=document.activeElement;for(const Q of ae)if(Q===Se||(Q?.scrollIntoView({block:"nearest"}),Q===de&&T&&(T.scrollTop=0),Q===pe&&T&&(T.scrollTop=T.scrollHeight),Q?.focus(),document.activeElement!==Se))return},[Y,T]),L=v.useCallback(()=>A([I,C]),[A,I,C]);v.useEffect(()=>{q&&L()},[q,L]);const{onOpenChange:F,triggerPointerDownPosRef:B}=E;v.useEffect(()=>{if(C){let ae={x:0,y:0};const de=pe=>{ae={x:Math.abs(Math.round(pe.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(B.current?.y??0))}},te=pe=>{ae.x<=10&&ae.y<=10?pe.preventDefault():C.contains(pe.target)||F(!1),document.removeEventListener("pointermove",de),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",te,{capture:!0})}}},[C,F,B]),v.useEffect(()=>{const ae=()=>F(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[F]);const[z,H]=S3(ae=>{const de=Y().filter(Se=>!Se.disabled),te=de.find(Se=>Se.ref.current===document.activeElement),pe=C3(de,ae,te);pe&&setTimeout(()=>pe.ref.current.focus())}),J=v.useCallback((ae,de,te)=>{const pe=!$.current&&!te;(E.value!==void 0&&E.value===de||pe)&&(U(ae),pe&&($.current=!0))},[E.value]),K=v.useCallback(()=>C?.focus(),[C]),ie=v.useCallback((ae,de,te)=>{const pe=!$.current&&!te;(E.value!==void 0&&E.value===de||pe)&&X(ae)},[E.value]),ge=s==="popper"?Q0:d3,ye=ge===Q0?{side:d,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return r.jsx(c3,{scope:n,content:C,viewport:T,onViewportChange:M,itemRefCallback:J,selectedItem:I,onItemLeave:K,itemTextRefCallback:ie,focusSelectedItem:L,selectedItemText:Z,position:s,isPositioned:q,searchRef:z,children:r.jsx(jh,{as:qq,allowPinchZoom:!0,children:r.jsx(ph,{asChild:!0,trapped:E.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:ze(o,ae=>{E.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:r.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:r.jsx(ge,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ae=>ae.preventDefault(),...S,...ye,onPlaced:()=>R(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:ze(S.onKeyDown,ae=>{const de=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!de&&ae.key.length===1&&H(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let pe=Y().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Se=ae.target,Q=pe.indexOf(Se);pe=pe.slice(Q+1)}setTimeout(()=>A(pe)),ae.preventDefault()}})})})})})})});u3.displayName=Bq;var Zq="SelectItemAlignedPosition",d3=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,l=mo(Qo,n),c=ho(Qo,n),[d,f]=v.useState(null),[h,p]=v.useState(null),g=lt(t,O=>p(O)),x=Zh(n),b=v.useRef(!1),j=v.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:S,focusSelectedItem:E}=c,C=v.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&w&&_&&S){const O=l.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),U=l.valueNode.getBoundingClientRect(),Z=S.getBoundingClientRect();if(l.dir!=="rtl"){const Se=Z.left-I.left,Q=U.left-Se,Ne=O.left-Q,Re=O.width+Ne,Pe=Math.max(Re,I.width),at=window.innerWidth-Qr,xt=z0(Q,[Qr,Math.max(Qr,at-Pe)]);d.style.minWidth=Re+"px",d.style.left=xt+"px"}else{const Se=I.right-Z.right,Q=window.innerWidth-U.right-Se,Ne=window.innerWidth-O.right-Q,Re=O.width+Ne,Pe=Math.max(Re,I.width),at=window.innerWidth-Qr,xt=z0(Q,[Qr,Math.max(Qr,at-Pe)]);d.style.minWidth=Re+"px",d.style.right=xt+"px"}const X=x(),Y=window.innerHeight-Qr*2,q=w.scrollHeight,R=window.getComputedStyle(h),$=parseInt(R.borderTopWidth,10),A=parseInt(R.paddingTop,10),L=parseInt(R.borderBottomWidth,10),F=parseInt(R.paddingBottom,10),B=$+A+q+F+L,z=Math.min(_.offsetHeight*5,B),H=window.getComputedStyle(w),J=parseInt(H.paddingTop,10),K=parseInt(H.paddingBottom,10),ie=O.top+O.height/2-Qr,ge=Y-ie,ye=_.offsetHeight/2,ae=_.offsetTop+ye,de=$+A+ae,te=B-de;if(de<=ie){const Se=X.length>0&&_===X[X.length-1].ref.current;d.style.bottom="0px";const Q=h.clientHeight-w.offsetTop-w.offsetHeight,Ne=Math.max(ge,ye+(Se?K:0)+Q+L),Re=de+Ne;d.style.height=Re+"px"}else{const Se=X.length>0&&_===X[0].ref.current;d.style.top="0px";const Ne=Math.max(ie,$+w.offsetTop+(Se?J:0)+ye)+te;d.style.height=Ne+"px",w.scrollTop=de-ie+w.offsetTop}d.style.margin=`${Qr}px 0`,d.style.minHeight=z+"px",d.style.maxHeight=Y+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[x,l.trigger,l.valueNode,d,h,w,_,S,l.dir,s]);Hn(()=>C(),[C]);const[k,T]=v.useState();Hn(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const M=v.useCallback(O=>{O&&j.current===!0&&(C(),E?.(),j.current=!1)},[C,E]);return r.jsx(Wq,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:b,onScrollButtonChange:M,children:r.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:r.jsx(Qe.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});d3.displayName=Zq;var Yq="SelectPopperPosition",Q0=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=Qr,...l}=e,c=Yh(n);return r.jsx(Qv,{...c,...l,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q0.displayName=Yq;var[Wq,Py]=Ul(Qo,{}),J0="SelectViewport",f3=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,l=ho(J0,n),c=Py(J0,n),d=lt(t,l.onViewportChange),f=v.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(qh.Slot,{scope:n,children:r.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ze(o.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=c;if(x?.current&&g){const b=Math.abs(f.current-p.scrollTop);if(b>0){const j=window.innerHeight-Qr*2,w=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),S=Math.max(w,_);if(S<j){const E=S+b,C=Math.min(j,E),k=E-C;g.style.height=C+"px",g.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,g.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});f3.displayName=J0;var m3="SelectGroup",[Gq,Xq]=Ul(m3),Kq=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=os();return r.jsx(Gq,{scope:n,id:o,children:r.jsx(Qe.div,{role:"group","aria-labelledby":o,...s,ref:t})})});Kq.displayName=m3;var h3="SelectLabel",Qq=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Xq(h3,n);return r.jsx(Qe.div,{id:o.id,...s,ref:t})});Qq.displayName=h3;var Wm="SelectItem",[Jq,p3]=Ul(Wm),g3=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...c}=e,d=mo(Wm,n),f=ho(Wm,n),h=d.value===s,[p,g]=v.useState(l??""),[x,b]=v.useState(!1),j=lt(t,E=>f.itemRefCallback?.(E,s,o)),w=os(),_=v.useRef("touch"),S=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Jq,{scope:n,value:s,disabled:o,textId:w,isSelected:h,onItemTextChange:v.useCallback(E=>{g(C=>C||(E?.textContent??"").trim())},[]),children:r.jsx(qh.ItemSlot,{scope:n,value:s,disabled:o,textValue:p,children:r.jsx(Qe.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:j,onFocus:ze(c.onFocus,()=>b(!0)),onBlur:ze(c.onBlur,()=>b(!1)),onClick:ze(c.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:ze(c.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:ze(c.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:ze(c.onPointerMove,E=>{_.current=E.pointerType,o?f.onItemLeave?.():_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ze(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(Lq.includes(E.key)&&S(),E.key===" "&&E.preventDefault())})})})})});g3.displayName=Wm;var eu="SelectItemText",x3=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...l}=e,c=mo(eu,n),d=ho(eu,n),f=p3(eu,n),h=Fq(eu,n),[p,g]=v.useState(null),x=lt(t,S=>g(S),f.onItemTextChange,S=>d.itemTextRefCallback?.(S,f.value,f.disabled)),b=p?.textContent,j=v.useMemo(()=>r.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return Hn(()=>(w(j),()=>_(j)),[w,_,j]),r.jsxs(r.Fragment,{children:[r.jsx(Qe.span,{id:f.textId,...l,ref:x}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ms.createPortal(l.children,c.valueNode):null]})});x3.displayName=eu;var v3="SelectItemIndicator",y3=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return p3(v3,n).isSelected?r.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t}):null});y3.displayName=v3;var ev="SelectScrollUpButton",b3=v.forwardRef((e,t)=>{const n=ho(ev,e.__scopeSelect),s=Py(ev,e.__scopeSelect),[o,l]=v.useState(!1),c=lt(t,s.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=f.scrollTop>0;l(h)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(j3,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});b3.displayName=ev;var tv="SelectScrollDownButton",w3=v.forwardRef((e,t)=>{const n=ho(tv,e.__scopeSelect),s=Py(tv,e.__scopeSelect),[o,l]=v.useState(!1),c=lt(t,s.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?r.jsx(j3,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});w3.displayName=tv;var j3=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,l=ho("SelectScrollButton",n),c=v.useRef(null),d=Zh(n),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),Hn(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),r.jsx(Qe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ze(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:ze(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:ze(o.onPointerLeave,()=>{f()})})}),eZ="SelectSeparator",tZ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t})});tZ.displayName=eZ;var nv="SelectArrow",nZ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Yh(n),l=mo(nv,n),c=ho(nv,n);return l.open&&c.position==="popper"?r.jsx(Jv,{...o,...s,ref:t}):null});nZ.displayName=nv;var rZ="SelectBubbleInput",N3=v.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const o=v.useRef(null),l=lt(s,o),c=vy(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&p){const g=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(g)}},[c,t]),r.jsx(Qe.select,{...n,style:{...Jk,...n.style},ref:l,defaultValue:t})});N3.displayName=rZ;function _3(e){return e===""||e===void 0}function S3(e){const t=Un(e),n=v.useRef(""),s=v.useRef(0),o=v.useCallback(c=>{const d=n.current+c;t(d),(function f(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,l]}function C3(e,t,n){const o=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=sZ(e,Math.max(l,0));o.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function sZ(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var aZ=t3,oZ=r3,iZ=a3,lZ=o3,cZ=i3,uZ=l3,dZ=f3,fZ=g3,mZ=x3,hZ=y3,pZ=b3,gZ=w3;function Wt({...e}){return r.jsx(aZ,{"data-slot":"select",...e})}function Gt({...e}){return r.jsx(iZ,{"data-slot":"select-value",...e})}function Xt({className:e,size:t="default",children:n,...s}){return r.jsxs(oZ,{"data-slot":"select-trigger","data-size":t,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[n,r.jsx(lZ,{asChild:!0,children:r.jsx(zn,{className:"size-4 opacity-50"})})]})}function Kt({className:e,children:t,position:n="popper",...s}){return r.jsx(cZ,{children:r.jsxs(uZ,{"data-slot":"select-content",className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(xZ,{}),r.jsx(dZ,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(vZ,{})]})})}function ot({className:e,children:t,...n}){return r.jsxs(fZ,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(hZ,{children:r.jsx(Ml,{className:"size-4"})})}),r.jsx(mZ,{children:t})]})}function xZ({className:e,...t}){return r.jsx(pZ,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(_m,{className:"size-4"})})}function vZ({className:e,...t}){return r.jsx(gZ,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(zn,{className:"size-4"})})}function yZ(){const{nodes:e,updateNodeConfig:t,workerConfig:n,setWorkerConfig:s}=il(),[o,l]=v.useState(null),[c,d]=v.useState([]);return v.useEffect(()=>{const f=e.find(h=>h.selected);l(f||null)},[e]),v.useEffect(()=>{rt.listTools().then(d).catch(console.error)},[]),o?r.jsxs("div",{className:"w-80 border-l bg-background h-full flex flex-col",children:[r.jsx(Pt,{className:"border-b py-4",children:r.jsxs(Dt,{className:"text-sm font-medium flex items-center justify-between",children:[o.data.label," Configuration",r.jsx("span",{className:"text-xs text-muted-foreground font-normal uppercase px-2 py-0.5 bg-muted rounded",children:o.data.type})]})}),r.jsx(Fn,{className:"flex-1",children:r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Label"}),r.jsx(nt,{value:o.data.label,onChange:f=>t(o.id,{label:f.target.value})})]}),o.data.type==="agent"&&r.jsx(wZ,{node:o,availableTools:c,onChange:f=>t(o.id,f)}),o.data.type==="tool"&&r.jsx(_Z,{node:o,availableTools:c,onChange:f=>t(o.id,f)}),o.data.type==="router"&&r.jsx(SZ,{node:o,onChange:f=>t(o.id,f)}),o.data.type==="condition"&&r.jsx(jZ,{node:o,onChange:f=>t(o.id,f)}),o.data.type==="rag"&&r.jsx(NZ,{node:o,onChange:f=>t(o.id,f)})]})})]}):r.jsx(bZ,{config:n,onChange:s})}function bZ({config:e,onChange:t}){return r.jsxs("div",{className:"w-80 border-l bg-background h-full flex flex-col",children:[r.jsx(Pt,{className:"border-b py-4",children:r.jsx(Dt,{className:"text-sm font-medium",children:"Global Settings"})}),r.jsx(Fn,{className:"flex-1",children:r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Project Name"}),r.jsx(nt,{value:e.name,onChange:n=>t({...e,name:n.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Workflow Type"}),r.jsxs(Wt,{value:e.workflow.type,onValueChange:n=>t({...e,workflow:{...e.workflow,type:n}}),children:[r.jsx(Xt,{children:r.jsx(Gt,{})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"sequential",children:"Sequential"}),r.jsx(ot,{value:"parallel",children:"Parallel"}),r.jsx(ot,{value:"router",children:"Router"}),r.jsx(ot,{value:"group_chat",children:"Group Chat"}),r.jsx(ot,{value:"handoff",children:"Handoff"})]})]})]}),r.jsx(Xo,{}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Version"}),r.jsx(nt,{value:e.version,disabled:!0})]})]})})]})}function wZ({node:e,onChange:t,availableTools:n}){const s=e.data.config||{},o=l=>{const c=s.tools||[],d=c.includes(l)?c.filter(f=>f!==l):[...c,l];t({tools:d})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Role"}),r.jsx(nt,{placeholder:"e.g. Customer Support",value:s.role||"",onChange:l=>t({role:l.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Description"}),r.jsx(un,{placeholder:"Short summary of this agent",value:s.description||"",onChange:l=>t({description:l.target.value}),className:"text-sm"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Model"}),r.jsxs(Wt,{value:s.model||"gpt-4o",onValueChange:l=>t({model:l}),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Select model"})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"gpt-4o",children:"GPT-4o"}),r.jsx(ot,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Instructions"}),r.jsx(un,{className:"min-h-[150px] font-mono text-xs",placeholder:"You are a helpful assistant...",value:s.instructions||"",onChange:l=>t({instructions:l.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Tools"}),r.jsx("div",{className:"border rounded-md p-3 space-y-2 max-h-[150px] overflow-y-auto",children:n.length===0?r.jsx("p",{className:"text-xs text-muted-foreground",children:"No tools available."}):n.map(l=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ur,{id:`tool-${l.id}`,checked:(s.tools||[]).includes(l.id),onCheckedChange:()=>o(l.id)}),r.jsx(Te,{htmlFor:`tool-${l.id}`,className:"text-sm font-normal cursor-pointer",children:l.name||l.id})]},l.id))})]})]})}function jZ({node:e,onChange:t}){const n=e.data.config||{};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Expression"}),r.jsx(un,{className:"font-mono text-xs min-h-[120px]",placeholder:"len(input) > 0",value:n.expression||"",onChange:s=>t({expression:s.target.value})}),r.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["Use Python-style expressions. Available variables: ",r.jsx("code",{children:"input"}),", ",r.jsx("code",{children:"context"}),"."]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Description"}),r.jsx(un,{value:n.description||"",onChange:s=>t({description:s.target.value}),placeholder:"Explain what this branch does"})]})]})}function NZ({node:e,onChange:t}){const n=e.data.config||{};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Knowledge Base"}),r.jsx(nt,{placeholder:"e.g. contoso_search",value:n.knowledge_base||"",onChange:s=>t({knowledge_base:s.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Retriever"}),r.jsxs(Wt,{value:n.retriever||"azure_search",onValueChange:s=>t({retriever:s}),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Select retriever"})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"azure_search",children:"Azure AI Search"}),r.jsx(ot,{value:"cognitive",children:"Cognitive Search"}),r.jsx(ot,{value:"custom",children:"Custom Retriever"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Top K"}),r.jsx(nt,{type:"number",min:1,value:String(n.top_k??4),onChange:s=>{const o=Number(s.target.value);t({top_k:Number.isNaN(o)?1:o})}})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Prompt Template"}),r.jsx(un,{className:"font-mono text-xs min-h-[120px]",placeholder:"Use the retrieved documents to answer...",value:n.prompt_template||"",onChange:s=>t({prompt_template:s.target.value})})]})]})}function _Z({node:e,onChange:t,availableTools:n}){const s=e.data.config||{};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Select Tool"}),r.jsxs(Wt,{value:s.tool_id||"",onValueChange:o=>t({tool_id:o}),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Select a tool to execute"})}),r.jsx(Kt,{children:n.map(o=>r.jsx(ot,{value:o.id,children:o.name||o.id},o.id))})]}),n.length===0&&r.jsx("p",{className:"text-[11px] text-muted-foreground text-red-500",children:"No tools available."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Description"}),r.jsx(un,{value:s.description||"",onChange:o=>t({description:o.target.value}),placeholder:"Why is this tool being used?"})]})]})}function SZ({node:e,onChange:t}){const n=e.data.config||{};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Router Strategy"}),r.jsxs(Wt,{value:n.strategy||"auto",onValueChange:s=>t({strategy:s}),children:[r.jsx(Xt,{children:r.jsx(Gt,{})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"auto",children:"Auto (LLM Decision)"}),r.jsx(ot,{value:"expression",children:"Expression Based"})]})]})]}),n.strategy==="expression"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Expression"}),r.jsx(un,{className:"font-mono text-xs",placeholder:"input.contains('help')",value:n.expression||"",onChange:s=>t({expression:s.target.value})})]})]})}const CZ=[{type:"sequential",name:"Sequential",description:"Cadeia linear de agentes onde cada um processa e passa para o prximo",icon:as,color:"border-blue-500 hover:border-blue-400",example:"Pesquisador  Escritor  Revisor"},{type:"parallel",name:"Parallel",description:"Execuo simultnea de mltiplos agentes com agregao de resultados",icon:Sm,color:"border-green-500 hover:border-green-400",example:"Dispatcher  [Agente1, Agente2, Agente3]  Aggregator"},{type:"group_chat",name:"Group Chat",description:"Discusso multi-agente coordenada por um Manager",icon:Vo,color:"border-purple-500 hover:border-purple-400",example:"Manager coordena: Dev, Designer, PM"},{type:"handoff",name:"Handoff",description:"Triagem com coordenador que transfere para especialistas",icon:fl,color:"border-orange-500 hover:border-orange-400",example:"Triagem  Vendas | Suporte | Financeiro"},{type:"router",name:"Router",description:"Roteamento condicional baseado na sada do primeiro agente",icon:el,color:"border-cyan-500 hover:border-cyan-400",example:"Classificador  [Destino A | Destino B | Default]"},{type:"magentic",name:"Magentic One",description:"Orquestrao AI-driven com planejamento dinmico e replanning",icon:Ts,color:"border-violet-500 hover:border-violet-400",example:"Manager planeja  [Especialista1, Especialista2, ...]"}];function EZ({selectedType:e,onTypeSelect:t,disabled:n=!1}){return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:CZ.map(s=>{const o=s.icon,l=e===s.type;return r.jsxs(Ge,{className:$e("cursor-pointer transition-all duration-200 border-2",s.color,l&&"ring-2 ring-primary ring-offset-2",n&&"opacity-50 cursor-not-allowed"),onClick:()=>!n&&t(s.type),children:[r.jsx(Pt,{className:"pb-2",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:$e("p-2 rounded-lg",l?"bg-primary text-primary-foreground":"bg-muted"),children:r.jsx(o,{className:"h-5 w-5"})}),r.jsx(Dt,{className:"text-lg",children:s.name})]})}),r.jsxs(Xe,{children:[r.jsx(Vr,{className:"mb-3",children:s.description}),r.jsx("div",{className:"text-xs font-mono bg-muted/50 rounded px-2 py-1 text-muted-foreground",children:s.example})]})]},s.type)})})}function kZ(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")||`agent_${Date.now()}`}const Wi={enabled:!1,collection_ids:[],top_k:5,min_score:.25};function E3({open:e,onOpenChange:t,agent:n,availableModels:s,availableTools:o,availableCollections:l=[],onSave:c,mode:d="create"}){const[f,h]=v.useState({id:"",role:"",description:"",model:Object.keys(s)[0]||"gpt-4o",instructions:"You are a helpful assistant.",tools:[],knowledge:Wi}),[p,g]=v.useState({}),[x,b]=v.useState("basic");v.useEffect(()=>{e&&n?h({...n,knowledge:n.knowledge||Wi}):e&&!n&&h({id:"",role:"",description:"",model:Object.keys(s)[0]||"gpt-4o",instructions:"You are a helpful assistant.",tools:[],knowledge:Wi}),g({}),b("basic")},[e,n,s]),v.useEffect(()=>{d==="create"&&f.role&&h(M=>({...M,id:kZ(f.role||"")}))},[f.role,d]);const j=M=>{h(O=>{const I=O.tools||[],U=I.includes(M)?I.filter(Z=>Z!==M):[...I,M];return{...O,tools:U}})},w=M=>{h(O=>{const I=O.knowledge||Wi,U=I.collection_ids||[],Z=U.includes(M)?U.filter(X=>X!==M):[...U,M];return{...O,knowledge:{...I,collection_ids:Z,enabled:Z.length>0}}})},_=(M,O)=>{h(I=>({...I,knowledge:{...I.knowledge||Wi,[M]:O}}))},S=()=>{const M={};return f.id?.trim()||(M.id="ID  obrigatrio"),f.role?.trim()||(M.role="Role  obrigatrio"),f.model?.trim()||(M.model="Modelo  obrigatrio"),f.instructions?.trim()||(M.instructions="Instrues so obrigatrias"),g(M),Object.keys(M).length===0},E=()=>{if(!S())return;const M=f.knowledge,O=M&&M.collection_ids.length>0?M:void 0;c({id:f.id,role:f.role,description:f.description,model:f.model,instructions:f.instructions,tools:f.tools||[],knowledge:O}),t(!1)},C=v.useMemo(()=>{const M={id:f.id||"<id>",role:f.role||"<role>",description:f.description||void 0,model:f.model||"<model>",instructions:f.instructions||"<instructions>",tools:f.tools||[]};return f.knowledge&&f.knowledge.collection_ids.length>0&&(M.knowledge=f.knowledge),JSON.stringify(M,null,2)},[f]),k=f.knowledge||Wi,T=k.collection_ids.length;return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"max-w-3xl max-h-[85vh] flex flex-col p-6 border-2",children:[r.jsx(ps,{className:"pb-4 border-b",children:r.jsxs(gs,{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-5 w-5"}),d==="create"?"Criar Novo Agente":"Editar Agente"]})}),r.jsxs(Ah,{value:x,onValueChange:b,className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs(Qu,{className:"grid w-full grid-cols-4",children:[r.jsxs(Nr,{value:"basic",className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Bsico"]}),r.jsxs(Nr,{value:"tools",className:"gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Ferramentas",(f.tools?.length??0)>0&&r.jsx(Be,{variant:"secondary",className:"ml-1 h-5 text-xs",children:f.tools?.length})]}),r.jsxs(Nr,{value:"knowledge",className:"gap-2",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Knowledge",T>0&&r.jsx(Be,{variant:"secondary",className:"ml-1 h-5 text-xs",children:T})]}),r.jsxs(Nr,{value:"preview",className:"gap-2",children:[r.jsx(K6,{className:"h-4 w-4"}),"Preview"]})]}),r.jsx(_r,{value:"basic",className:"flex-1 overflow-hidden mt-4",children:r.jsx(Fn,{className:"h-[350px] pr-4",children:r.jsxs("div",{className:"space-y-5 pb-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:"role",children:["Nome do Agente ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(nt,{id:"role",placeholder:"Ex: Assistente de Vendas",value:f.role||"",onChange:M=>h(O=>({...O,role:M.target.value})),className:p.role?"border-red-500":""}),p.role&&r.jsx("p",{className:"text-xs text-red-500",children:p.role})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:"id",children:["ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(nt,{id:"id",placeholder:"assistente_vendas",value:f.id||"",onChange:M=>h(O=>({...O,id:M.target.value})),className:p.id?"border-red-500":"",disabled:d==="edit"}),p.id&&r.jsx("p",{className:"text-xs text-red-500",children:p.id}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Identificador nico (gerado automaticamente)"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:"description",children:"Descrio (para orquestrao)"}),r.jsx(un,{id:"description",placeholder:"Agente especializado em atendimento ao cliente...",value:f.description||"",onChange:M=>h(O=>({...O,description:M.target.value})),className:"min-h-[60px]"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado pelo orquestrador para entender as capacidades do agente"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{children:["Modelo ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs(Wt,{value:f.model||"",onValueChange:M=>h(O=>({...O,model:M})),children:[r.jsx(Xt,{className:p.model?"border-red-500":"",children:r.jsx(Gt,{placeholder:"Selecione o modelo"})}),r.jsxs(Kt,{children:[Object.entries(s).map(([M,O])=>r.jsx(ot,{value:M,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:M}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:O.type})]})},M)),Object.keys(s).length===0&&r.jsx(ot,{value:"gpt-4o",children:"gpt-4o (default)"})]})]}),p.model&&r.jsx("p",{className:"text-xs text-red-500",children:p.model})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:"instructions",children:["Instrues ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(un,{id:"instructions",placeholder:"You are a helpful assistant that...",value:f.instructions||"",onChange:M=>h(O=>({...O,instructions:M.target.value})),className:`min-h-[150px] font-mono text-sm ${p.instructions?"border-red-500":""}`}),p.instructions&&r.jsx("p",{className:"text-xs text-red-500",children:p.instructions}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"System prompt do agente. Suporta Markdown."})]})]})})}),r.jsx(_r,{value:"tools",className:"flex-1 overflow-hidden mt-4",children:r.jsx(Fn,{className:"h-[350px] pr-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Fr,{className:"h-4 w-4"}),"Selecione as ferramentas que este agente pode usar"]}),o.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-8 text-center",children:[r.jsx(Ho,{className:"h-10 w-10 mx-auto text-muted-foreground/50 mb-3"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nenhuma ferramenta disponvel.",r.jsx("br",{}),"Adicione ferramentas em Recursos."]})]})}):r.jsx("div",{className:"space-y-2",children:o.map(M=>r.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>j(M.id),children:[r.jsx(Ur,{id:`tool-${M.id}`,checked:(f.tools||[]).includes(M.id),onCheckedChange:()=>j(M.id)}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Te,{htmlFor:`tool-${M.id}`,className:"font-medium cursor-pointer",children:M.id}),M.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:M.description}),r.jsx("code",{className:"text-[10px] text-muted-foreground",children:M.path})]})]},M.id))})]})})}),r.jsx(_r,{value:"knowledge",className:"flex-1 overflow-hidden mt-4",children:r.jsx(Fn,{className:"h-[350px] pr-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ge,{className:k.enabled?"border-primary/50":"",children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${k.enabled?"bg-primary/10":"bg-muted"}`,children:r.jsx(Nm,{className:`h-5 w-5 ${k.enabled?"text-primary":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx(Dt,{className:"text-base",children:"Knowledge Base"}),r.jsx(Vr,{children:"Conecte colees de documentos para enriquecer as respostas"})]})]}),r.jsx(gl,{checked:k.enabled,onCheckedChange:M=>_("enabled",M)})]})}),k.enabled&&r.jsxs(Xe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Colees Disponveis"}),l.length===0?r.jsxs("div",{className:"p-4 border rounded-lg border-dashed text-center",children:[r.jsx(Qn,{className:"h-8 w-8 mx-auto text-muted-foreground/50 mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma coleo disponvel."}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Crie colees na pgina de Knowledge Base."})]}):r.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto",children:l.map(M=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>w(M.id),children:[r.jsx(Ur,{checked:k.collection_ids.includes(M.id),onCheckedChange:()=>w(M.id)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:M.name}),M.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:M.description})]}),r.jsxs("div",{className:"flex gap-1 shrink-0",children:[r.jsxs(Be,{variant:"secondary",className:"text-[10px]",children:[M.document_count," docs"]}),r.jsxs(Be,{variant:"outline",className:"text-[10px]",children:[M.chunk_count," chunks"]})]})]},M.id))})]}),T>0&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{className:"text-sm",children:"Top K (resultados)"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_("top_k",Math.max(1,(k.top_k||5)-1)),children:r.jsx(w0,{className:"h-3 w-3"})}),r.jsx(nt,{type:"number",value:k.top_k||5,onChange:M=>_("top_k",Math.max(1,Math.min(20,parseInt(M.target.value)||5))),min:1,max:20,className:"w-16 text-center h-8"}),r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_("top_k",Math.min(20,(k.top_k||5)+1)),children:r.jsx(_t,{className:"h-3 w-3"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantidade de trechos retornados"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{className:"text-sm",children:"Score Mnimo"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_("min_score",Math.max(0,(k.min_score||.25)-.05)),children:r.jsx(w0,{className:"h-3 w-3"})}),r.jsx(nt,{type:"number",value:((k.min_score||.25)*100).toFixed(0),onChange:M=>_("min_score",Math.max(0,Math.min(1,(parseInt(M.target.value)||25)/100))),min:0,max:100,step:5,className:"w-16 text-center h-8"}),r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_("min_score",Math.min(1,(k.min_score||.25)+.05)),children:r.jsx(_t,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Similaridade mnima para considerar"})]})]})]})]}),!k.enabled&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg text-sm text-muted-foreground",children:[r.jsx(Fr,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{children:"Ative para permitir que o agente consulte documentos da base de conhecimento."})]})]})})}),r.jsx(_r,{value:"preview",className:"flex-1 overflow-hidden mt-4",children:r.jsxs("div",{className:"h-[350px] border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b bg-muted/50",children:[r.jsx(dh,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:"agent.json"})]}),r.jsx(Fn,{className:"h-[calc(100%-40px)]",children:r.jsx("pre",{className:"p-4 text-sm font-mono whitespace-pre-wrap",children:C})})]})})]}),r.jsxs(Ju,{className:"mt-4",children:[r.jsx(me,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),r.jsxs(me,{onClick:E,className:"gap-2",children:[r.jsx(_0,{className:"h-4 w-4"}),d==="create"?"Criar Agente":"Salvar Alteraes"]})]})]})})}function AZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>s=>{t.forEach(o=>o(s))},t)}const Wh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Uy(e){return"nodeType"in e}function ur(e){var t,n;return e?Fl(e)?e:Uy(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Fy(e){const{Document:t}=ur(e);return e instanceof t}function od(e){return Fl(e)?!1:e instanceof ur(e).HTMLElement}function k3(e){return e instanceof ur(e).SVGElement}function Vl(e){return e?Fl(e)?e.document:Uy(e)?Fy(e)?e:od(e)||k3(e)?e.ownerDocument:document:document:document}const Ps=Wh?v.useLayoutEffect:v.useEffect;function Vy(e){const t=v.useRef(e);return Ps(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t.current==null?void 0:t.current(...s)},[])}function MZ(){const e=v.useRef(null),t=v.useCallback((s,o)=>{e.current=setInterval(s,o)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Du(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return Ps(()=>{n.current!==e&&(n.current=e)},t),n}function id(e,t){const n=v.useRef();return v.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Gm(e){const t=Vy(e),n=v.useRef(null),s=v.useCallback(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,s]}function rv(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let i0={};function ld(e,t){return v.useMemo(()=>{if(t)return t;const n=i0[e]==null?0:i0[e]+1;return i0[e]=n,e+"-"+n},[e,t])}function A3(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((l,c)=>{const d=Object.entries(c);for(const[f,h]of d){const p=l[f];p!=null&&(l[f]=p+e*h)}return l},{...t})}}const ll=A3(1),Ou=A3(-1);function TZ(e){return"clientX"in e&&"clientY"in e}function Hy(e){if(!e)return!1;const{KeyboardEvent:t}=ur(e.target);return t&&e instanceof t}function RZ(e){if(!e)return!1;const{TouchEvent:t}=ur(e.target);return t&&e instanceof t}function sv(e){if(RZ(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return TZ(e)?{x:e.clientX,y:e.clientY}:null}const zu=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[zu.Translate.toString(e),zu.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),p_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function DZ(e){return e.matches(p_)?e:e.querySelector(p_)}const OZ={display:"none"};function zZ(e){let{id:t,value:n}=e;return Le.createElement("div",{id:t,style:OZ},n)}function IZ(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Le.createElement("div",{id:t,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function LZ(){const[e,t]=v.useState("");return{announce:v.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const M3=v.createContext(null);function $Z(e){const t=v.useContext(M3);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function PZ(){const[e]=v.useState(()=>new Set),t=v.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[v.useCallback(s=>{let{type:o,event:l}=s;e.forEach(c=>{var d;return(d=c[o])==null?void 0:d.call(c,l)})},[e]),t]}const UZ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},FZ={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function VZ(e){let{announcements:t=FZ,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=UZ}=e;const{announce:l,announcement:c}=LZ(),d=ld("DndLiveRegion"),[f,h]=v.useState(!1);if(v.useEffect(()=>{h(!0)},[]),$Z(v.useMemo(()=>({onDragStart(g){let{active:x}=g;l(t.onDragStart({active:x}))},onDragMove(g){let{active:x,over:b}=g;t.onDragMove&&l(t.onDragMove({active:x,over:b}))},onDragOver(g){let{active:x,over:b}=g;l(t.onDragOver({active:x,over:b}))},onDragEnd(g){let{active:x,over:b}=g;l(t.onDragEnd({active:x,over:b}))},onDragCancel(g){let{active:x,over:b}=g;l(t.onDragCancel({active:x,over:b}))}}),[l,t])),!f)return null;const p=Le.createElement(Le.Fragment,null,Le.createElement(zZ,{id:s,value:o.draggable}),Le.createElement(IZ,{id:d,announcement:c}));return n?Ms.createPortal(p,n):p}var En;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(En||(En={}));function Xm(){}function g_(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function HZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const us=Object.freeze({x:0,y:0});function T3(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function R3(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function BZ(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function x_(e){let{left:t,top:n,height:s,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+s},{x:t+o,y:n+s}]}function D3(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function v_(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const qZ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=v_(t,t.left,t.top),l=[];for(const c of s){const{id:d}=c,f=n.get(d);if(f){const h=T3(v_(f),o);l.push({id:d,data:{droppableContainer:c,value:h}})}}return l.sort(R3)},ZZ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=x_(t),l=[];for(const c of s){const{id:d}=c,f=n.get(d);if(f){const h=x_(f),p=o.reduce((x,b,j)=>x+T3(h[j],b),0),g=Number((p/4).toFixed(4));l.push({id:d,data:{droppableContainer:c,value:g}})}}return l.sort(R3)};function YZ(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),c=o-s,d=l-n;if(s<o&&n<l){const f=t.width*t.height,h=e.width*e.height,p=c*d,g=p/(f+h-p);return Number(g.toFixed(4))}return 0}const WZ=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const o=[];for(const l of s){const{id:c}=l,d=n.get(c);if(d){const f=YZ(d,t);f>0&&o.push({id:c,data:{droppableContainer:l,value:f}})}}return o.sort(BZ)};function GZ(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function O3(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:us}function XZ(e){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return o.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...n})}}const KZ=XZ(1);function QZ(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function JZ(e,t,n){const s=QZ(t);if(!s)return e;const{scaleX:o,scaleY:l,x:c,y:d}=s,f=e.left-c-(1-o)*parseFloat(n),h=e.top-d-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),p=o?e.width/o:e.width,g=l?e.height/l:e.height;return{width:p,height:g,top:h,right:f+p,bottom:h+g,left:f}}const eY={ignoreTransform:!1};function Hl(e,t){t===void 0&&(t=eY);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:p}=ur(e).getComputedStyle(e);h&&(n=JZ(n,h,p))}const{top:s,left:o,width:l,height:c,bottom:d,right:f}=n;return{top:s,left:o,width:l,height:c,bottom:d,right:f}}function y_(e){return Hl(e,{ignoreTransform:!0})}function tY(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function nY(e,t){return t===void 0&&(t=ur(e).getComputedStyle(e)),t.position==="fixed"}function rY(e,t){t===void 0&&(t=ur(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const l=t[o];return typeof l=="string"?n.test(l):!1})}function Gh(e,t){const n=[];function s(o){if(t!=null&&n.length>=t||!o)return n;if(Fy(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!od(o)||k3(o)||n.includes(o))return n;const l=ur(e).getComputedStyle(o);return o!==e&&rY(o,l)&&n.push(o),nY(o,l)?n:s(o.parentNode)}return e?s(e):n}function z3(e){const[t]=Gh(e,1);return t??null}function l0(e){return!Wh||!e?null:Fl(e)?e:Uy(e)?Fy(e)||e===Vl(e).scrollingElement?window:od(e)?e:null:null}function I3(e){return Fl(e)?e.scrollX:e.scrollLeft}function L3(e){return Fl(e)?e.scrollY:e.scrollTop}function av(e){return{x:I3(e),y:L3(e)}}var On;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(On||(On={}));function $3(e){return!Wh||!e?!1:e===document.scrollingElement}function P3(e){const t={x:0,y:0},n=$3(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,c=e.scrollTop>=s.y,d=e.scrollLeft>=s.x;return{isTop:o,isLeft:l,isBottom:c,isRight:d,maxScroll:s,minScroll:t}}const sY={x:.2,y:.2};function aY(e,t,n,s,o){let{top:l,left:c,right:d,bottom:f}=n;s===void 0&&(s=10),o===void 0&&(o=sY);const{isTop:h,isBottom:p,isLeft:g,isRight:x}=P3(e),b={x:0,y:0},j={x:0,y:0},w={height:t.height*o.y,width:t.width*o.x};return!h&&l<=t.top+w.height?(b.y=On.Backward,j.y=s*Math.abs((t.top+w.height-l)/w.height)):!p&&f>=t.bottom-w.height&&(b.y=On.Forward,j.y=s*Math.abs((t.bottom-w.height-f)/w.height)),!x&&d>=t.right-w.width?(b.x=On.Forward,j.x=s*Math.abs((t.right-w.width-d)/w.width)):!g&&c<=t.left+w.width&&(b.x=On.Backward,j.x=s*Math.abs((t.left+w.width-c)/w.width)),{direction:b,speed:j}}function oY(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:n,right:s,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:o,width:e.clientWidth,height:e.clientHeight}}function U3(e){return e.reduce((t,n)=>ll(t,av(n)),us)}function iY(e){return e.reduce((t,n)=>t+I3(n),0)}function lY(e){return e.reduce((t,n)=>t+L3(n),0)}function cY(e,t){if(t===void 0&&(t=Hl),!e)return;const{top:n,left:s,bottom:o,right:l}=t(e);z3(e)&&(o<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const uY=[["x",["left","right"],iY],["y",["top","bottom"],lY]];class By{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Gh(n),o=U3(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,d]of uY)for(const f of c)Object.defineProperty(this,f,{get:()=>{const h=d(s),p=o[l]-h;return this.rect[f]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class cu{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var o;(o=this.target)==null||o.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function dY(e){const{EventTarget:t}=ur(e);return e instanceof t?e:Vl(e)}function c0(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Pr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pr||(Pr={}));function b_(e){e.preventDefault()}function fY(e){e.stopPropagation()}var yt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(yt||(yt={}));const F3={start:[yt.Space,yt.Enter],cancel:[yt.Esc],end:[yt.Space,yt.Enter,yt.Tab]},mY=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case yt.Right:return{...n,x:n.x+25};case yt.Left:return{...n,x:n.x-25};case yt.Down:return{...n,y:n.y+25};case yt.Up:return{...n,y:n.y-25}}};class qy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new cu(Vl(n)),this.windowListeners=new cu(ur(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&cY(s),n(us)}handleKeyDown(t){if(Hy(t)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:l=F3,coordinateGetter:c=mY,scrollBehavior:d="smooth"}=o,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=s.current,p=h?{x:h.left,y:h.top}:us;this.referenceCoordinates||(this.referenceCoordinates=p);const g=c(t,{active:n,context:s.current,currentCoordinates:p});if(g){const x=Ou(g,p),b={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const _=t.code,{isTop:S,isRight:E,isLeft:C,isBottom:k,maxScroll:T,minScroll:M}=P3(w),O=oY(w),I={x:Math.min(_===yt.Right?O.right-O.width/2:O.right,Math.max(_===yt.Right?O.left:O.left+O.width/2,g.x)),y:Math.min(_===yt.Down?O.bottom-O.height/2:O.bottom,Math.max(_===yt.Down?O.top:O.top+O.height/2,g.y))},U=_===yt.Right&&!E||_===yt.Left&&!C,Z=_===yt.Down&&!k||_===yt.Up&&!S;if(U&&I.x!==g.x){const X=w.scrollLeft+x.x,Y=_===yt.Right&&X<=T.x||_===yt.Left&&X>=M.x;if(Y&&!x.y){w.scrollTo({left:X,behavior:d});return}Y?b.x=w.scrollLeft-X:b.x=_===yt.Right?w.scrollLeft-T.x:w.scrollLeft-M.x,b.x&&w.scrollBy({left:-b.x,behavior:d});break}else if(Z&&I.y!==g.y){const X=w.scrollTop+x.y,Y=_===yt.Down&&X<=T.y||_===yt.Up&&X>=M.y;if(Y&&!x.x){w.scrollTo({top:X,behavior:d});return}Y?b.y=w.scrollTop-X:b.y=_===yt.Down?w.scrollTop-T.y:w.scrollTop-M.y,b.y&&w.scrollBy({top:-b.y,behavior:d});break}}this.handleMove(t,ll(Ou(g,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qy.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=F3,onActivation:o}=t,{active:l}=n;const{code:c}=e.nativeEvent;if(s.start.includes(c)){const d=l.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function w_(e){return!!(e&&"distance"in e)}function j_(e){return!!(e&&"delay"in e)}class Zy{constructor(t,n,s){var o;s===void 0&&(s=dY(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:c}=l;this.props=t,this.events=n,this.document=Vl(c),this.documentListeners=new cu(this.document),this.listeners=new cu(s),this.windowListeners=new cu(ur(c)),this.initialCoordinates=(o=sv(l))!=null?o:us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.DragStart,b_),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),this.windowListeners.add(Pr.ContextMenu,b_),this.documentListeners.add(Pr.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(j_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(w_(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:o}=this.props;o(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Pr.Click,fY,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pr.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:o,props:l}=this,{onMove:c,options:{activationConstraint:d}}=l;if(!o)return;const f=(n=sv(t))!=null?n:us,h=Ou(o,f);if(!s&&d){if(w_(d)){if(d.tolerance!=null&&c0(h,d.tolerance))return this.handleCancel();if(c0(h,d.distance))return this.handleStart()}if(j_(d)&&c0(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),c(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===yt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const hY={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yy extends Zy{constructor(t){const{event:n}=t,s=Vl(n.target);super(t,hY,s)}}Yy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const pY={move:{name:"mousemove"},end:{name:"mouseup"}};var ov;(function(e){e[e.RightClick=2]="RightClick"})(ov||(ov={}));class gY extends Zy{constructor(t){super(t,pY,Vl(t.event.target))}}gY.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===ov.RightClick?!1:(s?.({event:n}),!0)}}];const u0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xY extends Zy{constructor(t){super(t,u0)}static setup(){return window.addEventListener(u0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(u0.move.name,t)};function t(){}}}xY.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var uu;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(uu||(uu={}));var Km;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Km||(Km={}));function vY(e){let{acceleration:t,activator:n=uu.Pointer,canScroll:s,draggingRect:o,enabled:l,interval:c=5,order:d=Km.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:p,delta:g,threshold:x}=e;const b=bY({delta:g,disabled:!l}),[j,w]=MZ(),_=v.useRef({x:0,y:0}),S=v.useRef({x:0,y:0}),E=v.useMemo(()=>{switch(n){case uu.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case uu.DraggableRect:return o}},[n,o,f]),C=v.useRef(null),k=v.useCallback(()=>{const M=C.current;if(!M)return;const O=_.current.x*S.current.x,I=_.current.y*S.current.y;M.scrollBy(O,I)},[]),T=v.useMemo(()=>d===Km.TreeOrder?[...h].reverse():h,[d,h]);v.useEffect(()=>{if(!l||!h.length||!E){w();return}for(const M of T){if(s?.(M)===!1)continue;const O=h.indexOf(M),I=p[O];if(!I)continue;const{direction:U,speed:Z}=aY(M,I,E,t,x);for(const X of["x","y"])b[X][U[X]]||(Z[X]=0,U[X]=0);if(Z.x>0||Z.y>0){w(),C.current=M,j(k,c),_.current=Z,S.current=U;return}}_.current={x:0,y:0},S.current={x:0,y:0},w()},[t,k,s,w,l,c,JSON.stringify(E),JSON.stringify(b),j,h,T,p,JSON.stringify(x)])}const yY={x:{[On.Backward]:!1,[On.Forward]:!1},y:{[On.Backward]:!1,[On.Forward]:!1}};function bY(e){let{delta:t,disabled:n}=e;const s=rv(t);return id(o=>{if(n||!s||!o)return yY;const l={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[On.Backward]:o.x[On.Backward]||l.x===-1,[On.Forward]:o.x[On.Forward]||l.x===1},y:{[On.Backward]:o.y[On.Backward]||l.y===-1,[On.Forward]:o.y[On.Forward]||l.y===1}}},[n,t,s])}function wY(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return id(o=>{var l;return t==null?null:(l=s??o)!=null?l:null},[s,t])}function jY(e,t){return v.useMemo(()=>e.reduce((n,s)=>{const{sensor:o}=s,l=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,s)}));return[...n,...l]},[]),[e,t])}var Iu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Iu||(Iu={}));var iv;(function(e){e.Optimized="optimized"})(iv||(iv={}));const N_=new Map;function NY(e,t){let{dragging:n,dependencies:s,config:o}=t;const[l,c]=v.useState(null),{frequency:d,measure:f,strategy:h}=o,p=v.useRef(e),g=_(),x=Du(g),b=v.useCallback(function(S){S===void 0&&(S=[]),!x.current&&c(E=>E===null?S:E.concat(S.filter(C=>!E.includes(C))))},[x]),j=v.useRef(null),w=id(S=>{if(g&&!n)return N_;if(!S||S===N_||p.current!==e||l!=null){const E=new Map;for(let C of e){if(!C)continue;if(l&&l.length>0&&!l.includes(C.id)&&C.rect.current){E.set(C.id,C.rect.current);continue}const k=C.node.current,T=k?new By(f(k),k):null;C.rect.current=T,T&&E.set(C.id,T)}return E}return S},[e,l,n,g,f]);return v.useEffect(()=>{p.current=e},[e]),v.useEffect(()=>{g||b()},[n,g]),v.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),v.useEffect(()=>{g||typeof d!="number"||j.current!==null||(j.current=setTimeout(()=>{b(),j.current=null},d))},[d,g,b,...s]),{droppableRects:w,measureDroppableContainers:b,measuringScheduled:l!=null};function _(){switch(h){case Iu.Always:return!1;case Iu.BeforeDragging:return n;default:return!n}}}function V3(e,t){return id(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function _Y(e,t){return V3(e,t)}function SY(e){let{callback:t,disabled:n}=e;const s=Vy(t),o=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function Xh(e){let{callback:t,disabled:n}=e;const s=Vy(t),o=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function CY(e){return new By(Hl(e),e)}function __(e,t,n){t===void 0&&(t=CY);const[s,o]=v.useState(null);function l(){o(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const p=t(e);return JSON.stringify(f)===JSON.stringify(p)?f:p})}const c=SY({callback(f){if(e)for(const h of f){const{type:p,target:g}=h;if(p==="childList"&&g instanceof HTMLElement&&g.contains(e)){l();break}}}}),d=Xh({callback:l});return Ps(()=>{l(),e?(d?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[e]),s}function EY(e){const t=V3(e);return O3(e,t)}const S_=[];function kY(e){const t=v.useRef(e),n=id(s=>e?s&&s!==S_&&e&&t.current&&e.parentNode===t.current.parentNode?s:Gh(e):S_,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function AY(e){const[t,n]=v.useState(null),s=v.useRef(e),o=v.useCallback(l=>{const c=l0(l.target);c&&n(d=>d?(d.set(c,av(c)),new Map(d)):null)},[]);return v.useEffect(()=>{const l=s.current;if(e!==l){c(l);const d=e.map(f=>{const h=l0(f);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,av(h)]):null}).filter(f=>f!=null);n(d.length?new Map(d):null),s.current=e}return()=>{c(e),c(l)};function c(d){d.forEach(f=>{const h=l0(f);h?.removeEventListener("scroll",o)})}},[o,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,c)=>ll(l,c),us):U3(e):us,[e,t])}function C_(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const s=e!==us;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Ou(e,n.current):us}function MY(e){v.useEffect(()=>{if(!Wh)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function TY(e,t){return v.useMemo(()=>e.reduce((n,s)=>{let{eventName:o,handler:l}=s;return n[o]=c=>{l(c,t)},n},{}),[e,t])}function H3(e){return v.useMemo(()=>e?tY(e):null,[e])}const E_=[];function RY(e,t){t===void 0&&(t=Hl);const[n]=e,s=H3(n?ur(n):null),[o,l]=v.useState(E_);function c(){l(()=>e.length?e.map(f=>$3(f)?s:new By(t(f),f)):E_)}const d=Xh({callback:c});return Ps(()=>{d?.disconnect(),c(),e.forEach(f=>d?.observe(f))},[e]),o}function DY(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return od(t)?t:e}function OY(e){let{measure:t}=e;const[n,s]=v.useState(null),o=v.useCallback(h=>{for(const{target:p}of h)if(od(p)){s(g=>{const x=t(p);return g?{...g,width:x.width,height:x.height}:x});break}},[t]),l=Xh({callback:o}),c=v.useCallback(h=>{const p=DY(h);l?.disconnect(),p&&l?.observe(p),s(p?t(p):null)},[t,l]),[d,f]=Gm(c);return v.useMemo(()=>({nodeRef:d,rect:n,setRef:f}),[n,d,f])}const zY=[{sensor:Yy,options:{}},{sensor:qy,options:{}}],IY={current:{}},gm={draggable:{measure:y_},droppable:{measure:y_,strategy:Iu.WhileDragging,frequency:iv.Optimized},dragOverlay:{measure:Hl}};class du extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const LY={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new du,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:gm,measureDroppableContainers:Xm,windowRect:null,measuringScheduled:!1},$Y={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xm,draggableNodes:new Map,over:null,measureDroppableContainers:Xm},Kh=v.createContext($Y),B3=v.createContext(LY);function PY(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new du}}}function UY(e,t){switch(t.type){case En.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case En.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case En.DragEnd:case En.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case En.RegisterDroppable:{const{element:n}=t,{id:s}=n,o=new du(e.droppable.containers);return o.set(s,n),{...e,droppable:{...e.droppable,containers:o}}}case En.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const c=new du(e.droppable.containers);return c.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case En.UnregisterDroppable:{const{id:n,key:s}=t,o=e.droppable.containers.get(n);if(!o||s!==o.key)return e;const l=new du(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function FY(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:o}=v.useContext(Kh),l=rv(s),c=rv(n?.id);return v.useEffect(()=>{if(!t&&!s&&l&&c!=null){if(!Hy(l)||document.activeElement===l.target)return;const d=o.get(c);if(!d)return;const{activatorNode:f,node:h}=d;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[f.current,h.current]){if(!p)continue;const g=DZ(p);if(g){g.focus();break}}})}},[s,t,o,c,l]),null}function VY(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...s}),n):n}function HY(e){return v.useMemo(()=>({draggable:{...gm.draggable,...e?.draggable},droppable:{...gm.droppable,...e?.droppable},dragOverlay:{...gm.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function BY(e){let{activeNode:t,measure:n,initialRect:s,config:o=!0}=e;const l=v.useRef(!1),{x:c,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Ps(()=>{if(!c&&!d||!t){l.current=!1;return}if(l.current||!s)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const p=n(h),g=O3(p,s);if(c||(g.x=0),d||(g.y=0),l.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const x=z3(h);x&&x.scrollBy({top:g.y,left:g.x})}},[t,c,d,s,n])}const q3=v.createContext({...us,scaleX:1,scaleY:1});var to;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(to||(to={}));const qY=v.memo(function(t){var n,s,o,l;let{id:c,accessibility:d,autoScroll:f=!0,children:h,sensors:p=zY,collisionDetection:g=WZ,measuring:x,modifiers:b,...j}=t;const w=v.useReducer(UY,void 0,PY),[_,S]=w,[E,C]=PZ(),[k,T]=v.useState(to.Uninitialized),M=k===to.Initialized,{draggable:{active:O,nodes:I,translate:U},droppable:{containers:Z}}=_,X=O!=null?I.get(O):null,Y=v.useRef({initial:null,translated:null}),q=v.useMemo(()=>{var We;return O!=null?{id:O,data:(We=X?.data)!=null?We:IY,rect:Y}:null},[O,X]),R=v.useRef(null),[$,A]=v.useState(null),[L,F]=v.useState(null),B=Du(j,Object.values(j)),z=ld("DndDescribedBy",c),H=v.useMemo(()=>Z.getEnabled(),[Z]),J=HY(x),{droppableRects:K,measureDroppableContainers:ie,measuringScheduled:ge}=NY(H,{dragging:M,dependencies:[U.x,U.y],config:J.droppable}),ye=wY(I,O),ae=v.useMemo(()=>L?sv(L):null,[L]),de=ut(),te=_Y(ye,J.draggable.measure);BY({activeNode:O!=null?I.get(O):null,config:de.layoutShiftCompensation,initialRect:te,measure:J.draggable.measure});const pe=__(ye,J.draggable.measure,te),Se=__(ye?ye.parentElement:null),Q=v.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ne=Z.getNodeFor((n=Q.current.over)==null?void 0:n.id),Re=OY({measure:J.dragOverlay.measure}),Pe=(s=Re.nodeRef.current)!=null?s:ye,at=M?(o=Re.rect)!=null?o:pe:null,xt=!!(Re.nodeRef.current&&Re.rect),Bn=EY(xt?null:pe),wn=H3(Pe?ur(Pe):null),W=kY(M?Ne??ye:null),se=RY(W),he=VY(b,{transform:{x:U.x-Bn.x,y:U.y-Bn.y,scaleX:1,scaleY:1},activatorEvent:L,active:q,activeNodeRect:pe,containerNodeRect:Se,draggingNodeRect:at,over:Q.current.over,overlayNodeRect:Re.rect,scrollableAncestors:W,scrollableAncestorRects:se,windowRect:wn}),Me=ae?ll(ae,U):null,Ae=AY(W),V=C_(Ae),oe=C_(Ae,[pe]),ne=ll(he,V),xe=at?KZ(at,he):null,ve=q&&xe?g({active:q,collisionRect:xe,droppableRects:K,droppableContainers:H,pointerCoordinates:Me}):null,ke=D3(ve,"id"),[De,He]=v.useState(null),mt=xt?he:ll(he,oe),St=GZ(mt,(l=De?.rect)!=null?l:null,pe),ct=v.useRef(null),At=v.useCallback((We,vt)=>{let{sensor:wt,options:an}=vt;if(R.current==null)return;const Ht=I.get(R.current);if(!Ht)return;const Bt=We.nativeEvent,hn=new wt({active:R.current,activeNode:Ht,event:Bt,options:an,context:Q,onAbort(zt){if(!I.get(zt))return;const{onDragAbort:Ft}=B.current,Mn={id:zt};Ft?.(Mn),E({type:"onDragAbort",event:Mn})},onPending(zt,Ut,Ft,Mn){if(!I.get(zt))return;const{onDragPending:qs}=B.current,Tr={id:zt,constraint:Ut,initialCoordinates:Ft,offset:Mn};qs?.(Tr),E({type:"onDragPending",event:Tr})},onStart(zt){const Ut=R.current;if(Ut==null)return;const Ft=I.get(Ut);if(!Ft)return;const{onDragStart:Mn}=B.current,Zr={activatorEvent:Bt,active:{id:Ut,data:Ft.data,rect:Y}};Ms.unstable_batchedUpdates(()=>{Mn?.(Zr),T(to.Initializing),S({type:En.DragStart,initialCoordinates:zt,active:Ut}),E({type:"onDragStart",event:Zr}),A(ct.current),F(Bt)})},onMove(zt){S({type:En.DragMove,coordinates:zt})},onEnd:ys(En.DragEnd),onCancel:ys(En.DragCancel)});ct.current=hn;function ys(zt){return async function(){const{active:Ft,collisions:Mn,over:Zr,scrollAdjustedTranslate:qs}=Q.current;let Tr=null;if(Ft&&qs){const{cancelDrop:bs}=B.current;Tr={activatorEvent:Bt,active:Ft,collisions:Mn,delta:qs,over:Zr},zt===En.DragEnd&&typeof bs=="function"&&await Promise.resolve(bs(Tr))&&(zt=En.DragCancel)}R.current=null,Ms.unstable_batchedUpdates(()=>{S({type:zt}),T(to.Uninitialized),He(null),A(null),F(null),ct.current=null;const bs=zt===En.DragEnd?"onDragEnd":"onDragCancel";if(Tr){const Yr=B.current[bs];Yr?.(Tr),E({type:bs,event:Tr})}})}}},[I]),Ie=v.useCallback((We,vt)=>(wt,an)=>{const Ht=wt.nativeEvent,Bt=I.get(an);if(R.current!==null||!Bt||Ht.dndKit||Ht.defaultPrevented)return;const hn={active:Bt};We(wt,vt.options,hn)===!0&&(Ht.dndKit={capturedBy:vt.sensor},R.current=an,At(wt,vt))},[I,At]),Ot=jY(p,Ie);MY(p),Ps(()=>{pe&&k===to.Initializing&&T(to.Initialized)},[pe,k]),v.useEffect(()=>{const{onDragMove:We}=B.current,{active:vt,activatorEvent:wt,collisions:an,over:Ht}=Q.current;if(!vt||!wt)return;const Bt={active:vt,activatorEvent:wt,collisions:an,delta:{x:ne.x,y:ne.y},over:Ht};Ms.unstable_batchedUpdates(()=>{We?.(Bt),E({type:"onDragMove",event:Bt})})},[ne.x,ne.y]),v.useEffect(()=>{const{active:We,activatorEvent:vt,collisions:wt,droppableContainers:an,scrollAdjustedTranslate:Ht}=Q.current;if(!We||R.current==null||!vt||!Ht)return;const{onDragOver:Bt}=B.current,hn=an.get(ke),ys=hn&&hn.rect.current?{id:hn.id,rect:hn.rect.current,data:hn.data,disabled:hn.disabled}:null,zt={active:We,activatorEvent:vt,collisions:wt,delta:{x:Ht.x,y:Ht.y},over:ys};Ms.unstable_batchedUpdates(()=>{He(ys),Bt?.(zt),E({type:"onDragOver",event:zt})})},[ke]),Ps(()=>{Q.current={activatorEvent:L,active:q,activeNode:ye,collisionRect:xe,collisions:ve,droppableRects:K,draggableNodes:I,draggingNode:Pe,draggingNodeRect:at,droppableContainers:Z,over:De,scrollableAncestors:W,scrollAdjustedTranslate:ne},Y.current={initial:at,translated:xe}},[q,ye,ve,xe,I,Pe,at,K,Z,De,W,ne]),vY({...de,delta:U,draggingRect:xe,pointerCoordinates:Me,scrollableAncestors:W,scrollableAncestorRects:se});const et=v.useMemo(()=>({active:q,activeNode:ye,activeNodeRect:pe,activatorEvent:L,collisions:ve,containerNodeRect:Se,dragOverlay:Re,draggableNodes:I,droppableContainers:Z,droppableRects:K,over:De,measureDroppableContainers:ie,scrollableAncestors:W,scrollableAncestorRects:se,measuringConfiguration:J,measuringScheduled:ge,windowRect:wn}),[q,ye,pe,L,ve,Se,Re,I,Z,K,De,ie,W,se,J,ge,wn]),Ye=v.useMemo(()=>({activatorEvent:L,activators:Ot,active:q,activeNodeRect:pe,ariaDescribedById:{draggable:z},dispatch:S,draggableNodes:I,over:De,measureDroppableContainers:ie}),[L,Ot,q,pe,S,z,I,De,ie]);return Le.createElement(M3.Provider,{value:C},Le.createElement(Kh.Provider,{value:Ye},Le.createElement(B3.Provider,{value:et},Le.createElement(q3.Provider,{value:St},h)),Le.createElement(FY,{disabled:d?.restoreFocus===!1})),Le.createElement(VZ,{...d,hiddenTextDescribedById:z}));function ut(){const We=$?.autoScrollEnabled===!1,vt=typeof f=="object"?f.enabled===!1:f===!1,wt=M&&!We&&!vt;return typeof f=="object"?{...f,enabled:wt}:{enabled:wt}}}),ZY=v.createContext(null),k_="button",YY="Draggable";function WY(e){let{id:t,data:n,disabled:s=!1,attributes:o}=e;const l=ld(YY),{activators:c,activatorEvent:d,active:f,activeNodeRect:h,ariaDescribedById:p,draggableNodes:g,over:x}=v.useContext(Kh),{role:b=k_,roleDescription:j="draggable",tabIndex:w=0}=o??{},_=f?.id===t,S=v.useContext(_?q3:ZY),[E,C]=Gm(),[k,T]=Gm(),M=TY(c,t),O=Du(n);Ps(()=>(g.set(t,{id:t,key:l,node:E,activatorNode:k,data:O}),()=>{const U=g.get(t);U&&U.key===l&&g.delete(t)}),[g,t]);const I=v.useMemo(()=>({role:b,tabIndex:w,"aria-disabled":s,"aria-pressed":_&&b===k_?!0:void 0,"aria-roledescription":j,"aria-describedby":p.draggable}),[s,b,w,_,j,p.draggable]);return{active:f,activatorEvent:d,activeNodeRect:h,attributes:I,isDragging:_,listeners:s?void 0:M,node:E,over:x,setNodeRef:C,setActivatorNodeRef:T,transform:S}}function GY(){return v.useContext(B3)}const XY="Droppable",KY={timeout:25};function QY(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:o}=e;const l=ld(XY),{active:c,dispatch:d,over:f,measureDroppableContainers:h}=v.useContext(Kh),p=v.useRef({disabled:n}),g=v.useRef(!1),x=v.useRef(null),b=v.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:_}={...KY,...o},S=Du(w??s),E=v.useCallback(()=>{if(!g.current){g.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(S.current)?S.current:[S.current]),b.current=null},_)},[_]),C=Xh({callback:E,disabled:j||!c}),k=v.useCallback((I,U)=>{C&&(U&&(C.unobserve(U),g.current=!1),I&&C.observe(I))},[C]),[T,M]=Gm(k),O=Du(t);return v.useEffect(()=>{!C||!T.current||(C.disconnect(),g.current=!1,C.observe(T.current))},[T,C]),v.useEffect(()=>(d({type:En.RegisterDroppable,element:{id:s,key:l,disabled:n,node:T,rect:x,data:O}}),()=>d({type:En.UnregisterDroppable,key:l,id:s})),[s]),v.useEffect(()=>{n!==p.current.disabled&&(d({type:En.SetDroppableDisabled,id:s,key:l,disabled:n}),p.current.disabled=n)},[s,l,n,d]),{active:c,rect:x,isOver:f?.id===s,node:T,over:f,setNodeRef:M}}function Wy(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function JY(e,t){return e.reduce((n,s,o)=>{const l=t.get(s);return l&&(n[o]=l),n},Array(e.length))}function Bf(e){return e!==null&&e>=0}function eW(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function tW(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Z3=e=>{let{rects:t,activeIndex:n,overIndex:s,index:o}=e;const l=Wy(t,s,n),c=t[o],d=l[o];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},qf={scaleX:1,scaleY:1},nW=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:o,rects:l,overIndex:c}=e;const d=(t=l[n])!=null?t:s;if(!d)return null;if(o===n){const h=l[c];return h?{x:0,y:n<c?h.top+h.height-(d.top+d.height):h.top-d.top,...qf}:null}const f=rW(l,o,n);return o>n&&o<=c?{x:0,y:-d.height-f,...qf}:o<n&&o>=c?{x:0,y:d.height+f,...qf}:{x:0,y:0,...qf}};function rW(e,t,n){const s=e[t],o=e[t-1],l=e[t+1];return s?n<t?o?s.top-(o.top+o.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const Y3="Sortable",W3=Le.createContext({activeIndex:-1,containerId:Y3,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Z3,disabled:{draggable:!1,droppable:!1}});function sW(e){let{children:t,id:n,items:s,strategy:o=Z3,disabled:l=!1}=e;const{active:c,dragOverlay:d,droppableRects:f,over:h,measureDroppableContainers:p}=GY(),g=ld(Y3,n),x=d.rect!==null,b=v.useMemo(()=>s.map(M=>typeof M=="object"&&"id"in M?M.id:M),[s]),j=c!=null,w=c?b.indexOf(c.id):-1,_=h?b.indexOf(h.id):-1,S=v.useRef(b),E=!eW(b,S.current),C=_!==-1&&w===-1||E,k=tW(l);Ps(()=>{E&&j&&p(b)},[E,b,j,p]),v.useEffect(()=>{S.current=b},[b]);const T=v.useMemo(()=>({activeIndex:w,containerId:g,disabled:k,disableTransforms:C,items:b,overIndex:_,useDragOverlay:x,sortedRects:JY(b,f),strategy:o}),[w,g,k.draggable,k.droppable,C,b,_,f,x,o]);return Le.createElement(W3.Provider,{value:T},t)}const aW=e=>{let{id:t,items:n,activeIndex:s,overIndex:o}=e;return Wy(n,s,o).indexOf(t)},oW=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:o,items:l,newIndex:c,previousItems:d,previousContainerId:f,transition:h}=e;return!h||!s||d!==l&&o===c?!1:n?!0:c!==o&&t===f},iW={duration:200,easing:"ease"},G3="transform",lW=zu.Transition.toString({property:G3,duration:0,easing:"linear"}),cW={roleDescription:"sortable"};function uW(e){let{disabled:t,index:n,node:s,rect:o}=e;const[l,c]=v.useState(null),d=v.useRef(n);return Ps(()=>{if(!t&&n!==d.current&&s.current){const f=o.current;if(f){const h=Hl(s.current,{ignoreTransform:!0}),p={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(p.x||p.y)&&c(p)}}n!==d.current&&(d.current=n)},[t,n,s,o]),v.useEffect(()=>{l&&c(null)},[l]),l}function dW(e){let{animateLayoutChanges:t=oW,attributes:n,disabled:s,data:o,getNewIndex:l=aW,id:c,strategy:d,resizeObserverConfig:f,transition:h=iW}=e;const{items:p,containerId:g,activeIndex:x,disabled:b,disableTransforms:j,sortedRects:w,overIndex:_,useDragOverlay:S,strategy:E}=v.useContext(W3),C=fW(s,b),k=p.indexOf(c),T=v.useMemo(()=>({sortable:{containerId:g,index:k,items:p},...o}),[g,o,k,p]),M=v.useMemo(()=>p.slice(p.indexOf(c)),[p,c]),{rect:O,node:I,isOver:U,setNodeRef:Z}=QY({id:c,data:T,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...f}}),{active:X,activatorEvent:Y,activeNodeRect:q,attributes:R,setNodeRef:$,listeners:A,isDragging:L,over:F,setActivatorNodeRef:B,transform:z}=WY({id:c,data:T,attributes:{...cW,...n},disabled:C.draggable}),H=AZ(Z,$),J=!!X,K=J&&!j&&Bf(x)&&Bf(_),ie=!S&&L,ge=ie&&K?z:null,ae=K?ge??(d??E)({rects:w,activeNodeRect:q,activeIndex:x,overIndex:_,index:k}):null,de=Bf(x)&&Bf(_)?l({id:c,items:p,activeIndex:x,overIndex:_}):k,te=X?.id,pe=v.useRef({activeId:te,items:p,newIndex:de,containerId:g}),Se=p!==pe.current.items,Q=t({active:X,containerId:g,isDragging:L,isSorting:J,id:c,index:k,items:p,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:h,wasDragging:pe.current.activeId!=null}),Ne=uW({disabled:!Q,index:k,node:I,rect:O});return v.useEffect(()=>{J&&pe.current.newIndex!==de&&(pe.current.newIndex=de),g!==pe.current.containerId&&(pe.current.containerId=g),p!==pe.current.items&&(pe.current.items=p)},[J,de,g,p]),v.useEffect(()=>{if(te===pe.current.activeId)return;if(te!=null&&pe.current.activeId==null){pe.current.activeId=te;return}const Pe=setTimeout(()=>{pe.current.activeId=te},50);return()=>clearTimeout(Pe)},[te]),{active:X,activeIndex:x,attributes:R,data:T,rect:O,index:k,newIndex:de,items:p,isOver:U,isSorting:J,isDragging:L,listeners:A,node:I,overIndex:_,over:F,setNodeRef:H,setActivatorNodeRef:B,setDroppableNodeRef:Z,setDraggableNodeRef:$,transform:Ne??ae,transition:Re()};function Re(){if(Ne||Se&&pe.current.newIndex===k)return lW;if(!(ie&&!Hy(Y)||!h)&&(J||Q))return zu.Transition.toString({...h,property:G3})}}function fW(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}function Qm(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const mW=[yt.Down,yt.Right,yt.Up,yt.Left],hW=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:l,over:c,scrollableAncestors:d}}=t;if(mW.includes(e.code)){if(e.preventDefault(),!n||!s)return;const f=[];l.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const x=o.get(g.id);if(x)switch(e.code){case yt.Down:s.top<x.top&&f.push(g);break;case yt.Up:s.top>x.top&&f.push(g);break;case yt.Left:s.left>x.left&&f.push(g);break;case yt.Right:s.left<x.left&&f.push(g);break}});const h=ZZ({collisionRect:s,droppableRects:o,droppableContainers:f});let p=D3(h,"id");if(p===c?.id&&h.length>1&&(p=h[1].id),p!=null){const g=l.get(n.id),x=l.get(p),b=x?o.get(x.id):null,j=x?.node.current;if(j&&b&&g&&x){const _=Gh(j).some((M,O)=>d[O]!==M),S=X3(g,x),E=pW(g,x),C=_||!S?{x:0,y:0}:{x:E?s.width-b.width:0,y:E?s.height-b.height:0},k={x:b.left,y:b.top};return C.x&&C.y?k:Ou(k,C)}}}};function X3(e,t){return!Qm(e)||!Qm(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function pW(e,t){return!Qm(e)||!Qm(t)||!X3(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function gW({step:e,index:t,agents:n,onUpdate:s,onDelete:o}){const{attributes:l,listeners:c,setNodeRef:d,transform:f,transition:h,isDragging:p}=dW({id:e.id}),g={transform:zu.Transform.toString(f),transition:h,opacity:p?.5:1},x=n.find(b=>b.id===e.agent);return r.jsxs("div",{ref:d,style:g,className:"flex items-center gap-2",children:[r.jsx("button",{...l,...c,className:"p-2 cursor-grab hover:bg-muted rounded active:cursor-grabbing",children:r.jsx(vO,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-medium",children:t+1}),r.jsx(Ge,{className:"flex-1 border-l-4 border-l-blue-500",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs text-muted-foreground",children:"Agente"}),r.jsxs(Wt,{value:e.agent||"",onValueChange:b=>s(e.id,{agent:b}),children:[r.jsx(Xt,{className:"w-full",children:r.jsx(Gt,{placeholder:"Selecione um agente"})}),r.jsx(Kt,{children:n.map(b=>r.jsx(ot,{value:b.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsx("span",{children:b.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Te,{className:"text-xs text-muted-foreground",children:"Input Template"}),r.jsx(nt,{value:e.input_template||"",onChange:b=>s(e.id,{input_template:b.target.value}),placeholder:"{{user_input}} ou {{previous_output}}",className:"font-mono text-sm"})]}),x&&r.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 rounded p-2",children:[r.jsx("span",{className:"font-medium",children:x.role}),x.description&&r.jsxs("span",{children:[" - ",x.description]})]})]}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>o(e.id),children:r.jsx(Jn,{className:"h-4 w-4"})})]})})}),r.jsx(as,{className:"h-5 w-5 text-muted-foreground shrink-0"})]})}function xW({steps:e,agents:t,onStepsChange:n,onCreateAgent:s}){const o=HZ(g_(Yy),g_(qy,{coordinateGetter:hW})),l=v.useCallback(h=>{const{active:p,over:g}=h;if(g&&p.id!==g.id){const x=e.findIndex(j=>j.id===p.id),b=e.findIndex(j=>j.id===g.id);n(Wy(e,x,b))}},[e,n]),c=()=>{const h={id:`step_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:e.length===0?"{{user_input}}":"{{previous_output}}",isNew:!0};n([...e,h])},d=(h,p)=>{n(e.map(g=>g.id===h?{...g,...p}:g))},f=h=>{n(e.filter(p=>p.id!==h))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Sequencial"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Arraste para reordenar. Cada agente processa e passa para o prximo."})]}),s&&r.jsxs(me,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsx(qY,{sensors:o,collisionDetection:qZ,onDragEnd:l,children:r.jsx(sW,{items:e.map(h=>h.id),strategy:nW,children:r.jsx("div",{className:"space-y-3",children:e.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-8 text-center",children:[r.jsx(bt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhum step adicionado ainda. Adicione o primeiro agente ao workflow."}),r.jsxs(me,{onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Step"]})]})}):e.map((h,p)=>r.jsx(gW,{step:h,index:p,agents:t,onUpdate:d,onDelete:f},h.id))})})}),e.length>0&&r.jsxs(me,{variant:"outline",className:"w-full",onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Step"]}),e.length>0&&r.jsxs(Ge,{className:"bg-muted/30",children:[r.jsx(Pt,{className:"pb-2",children:r.jsx(Dt,{className:"text-sm",children:"Preview do Fluxo"})}),r.jsx(Xe,{children:r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.map((h,p)=>{const g=t.find(x=>x.id===h.agent);return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{variant:"secondary",className:"py-1.5",children:g?.role||h.agent||"?"}),p<e.length-1&&r.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]},h.id)})})})]})]})}function vW({steps:e,agents:t,onStepsChange:n,onCreateAgent:s}){const o=()=>{const d={id:`parallel_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}",isParallel:!0};n([...e,d])},l=(d,f)=>{n(e.map(h=>h.id===d?{...h,...f}:h))},c=d=>{n(e.filter(f=>f.id!==d))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Paralelo"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Execute mltiplos agentes simultaneamente e agregue os resultados."})]}),s&&r.jsxs(me,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsxs("div",{className:"flex items-stretch gap-4",children:[r.jsx(Ge,{className:"w-32 border-green-500 border-2 flex flex-col justify-center",children:r.jsxs(Xe,{className:"p-4 text-center",children:[r.jsx(Sm,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),r.jsx("p",{className:"text-sm font-medium",children:"Dispatcher"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fan-out"})]})}),r.jsx("div",{className:"flex items-center",children:r.jsx(as,{className:"h-6 w-6 text-muted-foreground"})}),r.jsx("div",{className:"flex-1 space-y-3",children:e.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-8 text-center",children:[r.jsx(bt,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione agentes para execuo paralela"}),r.jsxs(me,{size:"sm",onClick:o,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Agente"]})]})}):r.jsxs(r.Fragment,{children:[e.map((d,f)=>{const h=t.find(p=>p.id===d.agent);return r.jsx(Ge,{className:"border-l-4 border-l-blue-500",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Be,{variant:"outline",children:f+1}),r.jsxs(Wt,{value:d.agent||"",onValueChange:p=>l(d.id,{agent:p}),children:[r.jsx(Xt,{className:"w-[200px]",children:r.jsx(Gt,{placeholder:"Selecione"})}),r.jsx(Kt,{children:t.map(p=>r.jsx(ot,{value:p.id,children:p.role},p.id))})]}),h&&r.jsx("span",{className:"text-xs text-muted-foreground",children:h.description||h.model})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nt,{value:d.input_template||"",onChange:p=>l(d.id,{input_template:p.target.value}),placeholder:"{{user_input}}",className:"w-40 font-mono text-xs"}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>c(d.id),children:r.jsx(Jn,{className:"h-4 w-4"})})]})]})})},d.id)}),r.jsxs(me,{variant:"outline",className:"w-full",onClick:o,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Agente Paralelo"]})]})}),r.jsx("div",{className:"flex items-center",children:r.jsx(as,{className:"h-6 w-6 text-muted-foreground"})}),r.jsx(Ge,{className:"w-32 border-purple-500 border-2 flex flex-col justify-center",children:r.jsxs(Xe,{className:"p-4 text-center",children:[r.jsx(au,{className:"h-8 w-8 mx-auto mb-2 text-purple-500"}),r.jsx("p",{className:"text-sm font-medium",children:"Aggregator"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Fan-in"})]})})]}),r.jsx(Ge,{className:"bg-muted/30",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Sm,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"O Dispatcher distribui a entrada para todos os agentes"}),r.jsx("li",{children:"Cada agente processa independentemente em paralelo"}),r.jsx("li",{children:"O Aggregator combina todas as respostas no resultado final"})]})]})]})})})]})}function yW({steps:e,agents:t,availableModels:n,config:s,onStepsChange:o,onConfigChange:l,onCreateAgent:c}){const d=()=>{const p={id:`participant_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"};o([...e,p])},f=(p,g)=>{o(e.map(x=>x.id===p?{...x,...g}:x))},h=p=>{o(e.filter(g=>g.id!==p))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Group Chat"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Discusso multi-agente coordenada por um Manager central."})]}),c&&r.jsxs(me,{variant:"outline",size:"sm",onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsxs(Ge,{className:"border-2 border-amber-500",children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs(Dt,{className:"flex items-center gap-2 text-base",children:[r.jsx(_N,{className:"h-5 w-5 text-amber-500"}),"Manager (Coordenador)"]})}),r.jsxs(Xe,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Modelo do Manager"}),r.jsxs(Wt,{value:s.manager_model,onValueChange:p=>l({...s,manager_model:p}),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Selecione o modelo"})}),r.jsxs(Kt,{children:[Object.keys(n).map(p=>r.jsx(ot,{value:p,children:p},p)),Object.keys(n).length===0&&r.jsx(ot,{value:"gpt-4o",children:"gpt-4o"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Mximo de Rodadas"}),r.jsx(nt,{type:"number",min:1,max:50,value:s.max_rounds,onChange:p=>l({...s,max_rounds:parseInt(p.target.value)||8})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Instrues do Manager"}),r.jsx(un,{value:s.manager_instructions,onChange:p=>l({...s,manager_instructions:p.target.value}),placeholder:"Instrues para o manager selecionar o prximo speaker...",className:"min-h-[100px] font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Define como o manager escolhe qual agente fala a seguir"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Condio de Trmino (opcional)"}),r.jsx(nt,{value:s.termination_condition||"",onChange:p=>l({...s,termination_condition:p.target.value}),placeholder:"Ex: 'TERMINATE' quando concludo",className:"font-mono text-sm"})]})]})]}),r.jsx(Xo,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vo,{className:"h-5 w-5"}),r.jsx("h4",{className:"font-medium",children:"Participantes"}),r.jsx(Be,{variant:"secondary",children:e.length})]})}),r.jsxs("div",{className:"relative min-h-[300px] border rounded-lg bg-muted/20 p-8",children:[r.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-amber-100 border-2 border-amber-500 flex items-center justify-center",children:r.jsx(_N,{className:"h-8 w-8 text-amber-600"})}),r.jsx("p",{className:"text-center text-xs mt-2 font-medium",children:"Manager"})]}),e.map((p,g)=>{const x=g*360/Math.max(e.length,1)-90,b=120,j=Math.cos(x*Math.PI/180)*b,w=Math.sin(x*Math.PI/180)*b,_=t.find(S=>S.id===p.agent);return r.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:`calc(50% + ${j}px)`,top:`calc(50% + ${w}px)`},children:[r.jsxs("div",{className:"w-16 h-16 rounded-full bg-blue-100 border-2 border-blue-500 flex items-center justify-center cursor-pointer hover:bg-blue-200 transition-colors group",children:[r.jsx(bt,{className:"h-6 w-6 text-blue-600"}),r.jsx("button",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",onClick:()=>h(p.id),children:r.jsx(Jn,{className:"h-3 w-3"})})]}),r.jsx("p",{className:"text-center text-xs mt-1 max-w-[80px] truncate",children:_?.role||"?"})]},p.id)})]}),r.jsx("div",{className:"space-y-2",children:e.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-6 text-center",children:[r.jsx(Vo,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione participantes ao chat em grupo"}),r.jsxs(me,{size:"sm",onClick:d,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Participante"]})]})}):r.jsxs(r.Fragment,{children:[e.map((p,g)=>{const x=t.find(b=>b.id===p.agent);return r.jsx(Ge,{children:r.jsx(Xe,{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx(Be,{variant:"outline",children:g+1}),r.jsxs(Wt,{value:p.agent||"",onValueChange:b=>f(p.id,{agent:b}),children:[r.jsx(Xt,{className:"flex-1",children:r.jsx(Gt,{placeholder:"Selecione"})}),r.jsx(Kt,{children:t.map(b=>r.jsx(ot,{value:b.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),b.role]})},b.id))})]}),x&&r.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:x.description||x.model}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>h(p.id),children:r.jsx(Jn,{className:"h-4 w-4"})})]})})},p.id)}),r.jsxs(me,{variant:"outline",className:"w-full",onClick:d,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Participante"]})]})})]})]})}function bW({steps:e,agents:t,startStep:n,onStepsChange:s,onStartStepChange:o,onCreateAgent:l}){const c=e.find(b=>b.id===n),d=e.filter(b=>b.id!==n),f=b=>{const j=e.find(w=>w.agent===b);if(j)o(j.id);else{const w={id:`coordinator_${Date.now()}`,type:"agent",agent:b,input_template:"{{user_input}}",transitions:d.map(_=>_.id),isCoordinator:!0};s([w,...e.filter(_=>!_.isCoordinator)]),o(w.id)}},h=()=>{const b={id:`specialist_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"},j=e.map(w=>w.id===n?{...w,transitions:[...w.transitions||[],b.id]}:w);s([...j,b])},p=(b,j)=>{s(e.map(w=>w.id===b?{...w,...j}:w))},g=b=>{const j=e.filter(w=>w.id!==b).map(w=>w.id===n&&w.transitions?{...w,transitions:w.transitions.filter(_=>_!==b)}:w);s(j)},x=(b,j)=>{s(e.map(w=>{if(w.id===n){const _=w.transitions||[];return{...w,transitions:j?[..._,b]:_.filter(S=>S!==b)}}return w}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Handoff"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"O coordenador analisa e transfere para especialistas."})]}),l&&r.jsxs(me,{variant:"outline",size:"sm",onClick:l,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsxs(Ge,{className:"border-2 border-orange-500",children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs(Dt,{className:"flex items-center gap-2 text-base",children:[r.jsx(S0,{className:"h-5 w-5 text-orange-500"}),"Coordenador (Triagem)"]})}),r.jsxs(Xe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Agente Coordenador"}),r.jsxs(Wt,{value:c?.agent||"",onValueChange:f,children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Selecione o coordenador"})}),r.jsx(Kt,{children:t.map(b=>r.jsx(ot,{value:b.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsx("span",{children:b.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"O coordenador analisa a entrada e decide para qual especialista transferir"})]}),c&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Input Template"}),r.jsx(nt,{value:c.input_template||"",onChange:b=>p(c.id,{input_template:b.target.value}),placeholder:"{{user_input}}",className:"font-mono text-sm"})]})]})]}),r.jsx(Xo,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fl,{className:"h-5 w-5"}),r.jsx("h4",{className:"font-medium",children:"Especialistas"}),r.jsx(Be,{variant:"secondary",children:d.length})]})}),r.jsxs("div",{className:"flex items-start gap-4",children:[c&&r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-orange-100 border-2 border-orange-500 flex items-center justify-center",children:r.jsx(S0,{className:"h-10 w-10 text-orange-600"})}),r.jsx("p",{className:"text-sm font-medium mt-2 text-center max-w-[100px] truncate",children:t.find(b=>b.id===c.agent)?.role||"Coordenador"})]}),c&&d.length>0&&r.jsx("div",{className:"flex flex-col justify-center h-24 gap-2",children:d.map((b,j)=>r.jsx(as,{className:"h-4 w-4 text-muted-foreground"},j))}),r.jsx("div",{className:"flex-1 space-y-3",children:d.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-6 text-center",children:[r.jsx(bt,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione especialistas para receber handoffs"}),r.jsxs(me,{size:"sm",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Especialista"]})]})}):r.jsxs(r.Fragment,{children:[d.map(b=>{const j=t.find(_=>_.id===b.agent),w=c?.transitions?.includes(b.id);return r.jsx(Ge,{className:`border-l-4 ${w?"border-l-green-500":"border-l-gray-300"}`,children:r.jsxs(Xe,{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ur,{checked:w,onCheckedChange:_=>x(b.id,!!_)}),r.jsxs(Wt,{value:b.agent||"",onValueChange:_=>p(b.id,{agent:_}),children:[r.jsx(Xt,{className:"w-[180px]",children:r.jsx(Gt,{placeholder:"Selecione"})}),r.jsx(Kt,{children:t.filter(_=>_.id!==c?.agent).map(_=>r.jsx(ot,{value:_.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),_.role]})},_.id))})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nt,{value:b.input_template||"",onChange:_=>p(b.id,{input_template:_.target.value}),placeholder:"{{user_input}}",className:"w-32 font-mono text-xs"}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>g(b.id),children:r.jsx(Jn,{className:"h-4 w-4"})})]})]}),j&&r.jsx("p",{className:"text-xs text-muted-foreground mt-2 ml-9",children:j.description||`Modelo: ${j.model}`})]})},b.id)}),r.jsxs(me,{variant:"outline",className:"w-full",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Especialista"]})]})})]})]}),r.jsx(Ge,{className:"bg-muted/30",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(fl,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"O coordenador recebe a entrada inicial"}),r.jsx("li",{children:"Analisa e decide para qual especialista transferir"}),r.jsx("li",{children:"Apenas especialistas marcados podem receber handoffs"}),r.jsx("li",{children:"O especialista processa e pode devolver ao coordenador"})]})]})]})})})]})}const Gy=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,role:"alert",className:$e("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",e),...t}));Gy.displayName="Alert";const K3=v.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:$e("mb-1 font-medium leading-none tracking-tight",e),...t}));K3.displayName="AlertTitle";const Xy=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:$e("text-sm [&_p]:leading-relaxed",e),...t}));Xy.displayName="AlertDescription";function wW({steps:e,agents:t,startStep:n,onStepsChange:s,onStartStepChange:o,onCreateAgent:l}){const c=e.find(b=>b.id===n),d=e.filter(b=>b.id!==n),f=b=>{const j=e.find(w=>w.agent===b);if(j)o(j.id);else{const w={id:`router_${Date.now()}`,type:"agent",agent:b,input_template:"{{user_input}}",isRouter:!0};s([w,...e.filter(_=>!_.isRouter)]),o(w.id)}},h=()=>{const b={id:`destination_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{user_input}}"};s([...e,b])},p=(b,j)=>{s(e.map(w=>w.id===b?{...w,...j}:w))},g=b=>{s(e.filter(j=>j.id!==b))},x=b=>{const j=e.find(_=>_.id===b);if(!j)return;const w=e.filter(_=>_.id!==b);s([...w,j])};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Router"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"O roteador analisa e direciona para o destino apropriado."})]}),l&&r.jsxs(me,{variant:"outline",size:"sm",onClick:l,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsxs(Ge,{className:"border-2 border-cyan-500",children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs(Dt,{className:"flex items-center gap-2 text-base",children:[r.jsx(el,{className:"h-5 w-5 text-cyan-500"}),"Agente Roteador"]})}),r.jsxs(Xe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Selecione o Agente Roteador"}),r.jsxs(Wt,{value:c?.agent||"",onValueChange:f,children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Selecione o roteador"})}),r.jsx(Kt,{children:t.map(b=>r.jsx(ot,{value:b.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsx("span",{children:b.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:b.model})]})},b.id))})]})]}),c&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Input Template"}),r.jsx(nt,{value:c.input_template||"",onChange:b=>p(c.id,{input_template:b.target.value}),placeholder:"{{user_input}}",className:"font-mono text-sm"})]}),r.jsxs(Gy,{children:[r.jsx(Fr,{className:"h-4 w-4"}),r.jsxs(Xy,{className:"text-xs",children:["O agente roteador deve retornar o ",r.jsx("strong",{children:"ID exato"})," do destino.",r.jsx("br",{}),'Exemplo: Se o destino tem ID "vendas", o roteador deve responder "vendas".']})]})]})]}),r.jsx(Xo,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(CN,{className:"h-5 w-5"}),r.jsx("h4",{className:"font-medium",children:"Destinos"}),r.jsx(Be,{variant:"secondary",children:d.length})]})}),r.jsxs("div",{className:"flex items-start gap-4",children:[c&&r.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[r.jsx("div",{className:"w-24 h-24 rounded-lg bg-cyan-100 border-2 border-cyan-500 flex items-center justify-center",children:r.jsx(el,{className:"h-10 w-10 text-cyan-600"})}),r.jsx("p",{className:"text-sm font-medium mt-2 text-center max-w-[100px] truncate",children:t.find(b=>b.id===c.agent)?.role||"Router"})]}),c&&d.length>0&&r.jsx("div",{className:"flex flex-col justify-center min-h-[96px] gap-1",children:d.map(b=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:b.agent||b.id})]},b.id))}),r.jsx("div",{className:"flex-1 space-y-2",children:d.length===0?r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"p-6 text-center",children:[r.jsx(CN,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Adicione destinos para o roteamento"}),r.jsxs(me,{size:"sm",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Destino"]})]})}):r.jsxs(r.Fragment,{children:[d.map((b,j)=>{const w=t.find(S=>S.id===b.agent),_=j===d.length-1;return r.jsx(Ge,{className:`border-l-4 ${_?"border-l-amber-500 bg-amber-50/50 dark:bg-amber-950/20":"border-l-green-500"}`,children:r.jsxs(Xe,{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Be,{variant:_?"default":"outline",className:_?"bg-amber-500":"",children:_?"Default":`Case ${j+1}`}),r.jsxs(Wt,{value:b.agent||"",onValueChange:S=>p(b.id,{agent:S}),children:[r.jsx(Xt,{className:"w-[180px]",children:r.jsx(Gt,{placeholder:"Selecione"})}),r.jsx(Kt,{children:t.filter(S=>S.id!==c?.agent).map(S=>r.jsx(ot,{value:S.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),S.role]})},S.id))})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!_&&r.jsx(me,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>x(b.id),children:"Tornar Default"}),r.jsx(nt,{value:b.input_template||"",onChange:S=>p(b.id,{input_template:S.target.value}),placeholder:"{{user_input}}",className:"w-32 font-mono text-xs"}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>g(b.id),disabled:d.length<=1,children:r.jsx(Jn,{className:"h-4 w-4"})})]})]}),w&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-2 ml-20",children:["Roteador retorna: ",r.jsx("code",{className:"bg-muted px-1 rounded",children:w.id})]})]})},b.id)}),r.jsxs(me,{variant:"outline",className:"w-full",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Destino"]})]})})]})]}),r.jsx(Ge,{className:"bg-muted/30",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(el,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Como funciona:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"O roteador recebe a entrada e analisa"}),r.jsx("li",{children:"Deve retornar o ID do agente de destino"}),r.jsx("li",{children:"Se nenhum case corresponder, usa o Default"}),r.jsx("li",{children:"O ltimo destino na lista  sempre o Default"})]})]})]})})})]})}var[Qh,Hne]=Mr("Tooltip",[Ol]),Jh=Ol(),Q3="TooltipProvider",jW=700,lv="tooltip.open",[NW,Ky]=Qh(Q3),J3=e=>{const{__scopeTooltip:t,delayDuration:n=jW,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:l}=e,c=v.useRef(!0),d=v.useRef(!1),f=v.useRef(0);return v.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),r.jsx(NW,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:v.useCallback(h=>{d.current=h},[]),disableHoverableContent:o,children:l})};J3.displayName=Q3;var Lu="Tooltip",[_W,cd]=Qh(Lu),eA=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:o,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=Ky(Lu,e.__scopeTooltip),h=Jh(t),[p,g]=v.useState(null),x=os(),b=v.useRef(0),j=c??f.disableHoverableContent,w=d??f.delayDuration,_=v.useRef(!1),[S,E]=ya({prop:s,defaultProp:o??!1,onChange:O=>{O?(f.onOpen(),document.dispatchEvent(new CustomEvent(lv))):f.onClose(),l?.(O)},caller:Lu}),C=v.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),k=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_.current=!1,E(!0)},[E]),T=v.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),M=v.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{_.current=!0,E(!0),b.current=0},w)},[w,E]);return v.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),r.jsx(Xv,{...h,children:r.jsx(_W,{scope:t,contentId:x,open:S,stateAttribute:C,trigger:p,onTriggerChange:g,onTriggerEnter:v.useCallback(()=>{f.isOpenDelayedRef.current?M():k()},[f.isOpenDelayedRef,M,k]),onTriggerLeave:v.useCallback(()=>{j?T():(window.clearTimeout(b.current),b.current=0)},[T,j]),onOpen:k,onClose:T,disableHoverableContent:j,children:n})})};eA.displayName=Lu;var cv="TooltipTrigger",tA=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=cd(cv,n),l=Ky(cv,n),c=Jh(n),d=v.useRef(null),f=lt(t,d,o.onTriggerChange),h=v.useRef(!1),p=v.useRef(!1),g=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),r.jsx(Kv,{asChild:!0,...c,children:r.jsx(Qe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:f,onPointerMove:ze(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ze(e.onFocus,()=>{h.current||o.onOpen()}),onBlur:ze(e.onBlur,o.onClose),onClick:ze(e.onClick,o.onClose)})})});tA.displayName=cv;var Qy="TooltipPortal",[SW,CW]=Qh(Qy,{forceMount:void 0}),nA=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:o}=e,l=cd(Qy,t);return r.jsx(SW,{scope:t,forceMount:n,children:r.jsx(Yn,{present:n||l.open,children:r.jsx(Wu,{asChild:!0,container:o,children:s})})})};nA.displayName=Qy;var _l="TooltipContent",rA=v.forwardRef((e,t)=>{const n=CW(_l,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...l}=e,c=cd(_l,e.__scopeTooltip);return r.jsx(Yn,{present:s||c.open,children:c.disableHoverableContent?r.jsx(sA,{side:o,...l,ref:t}):r.jsx(EW,{side:o,...l,ref:t})})}),EW=v.forwardRef((e,t)=>{const n=cd(_l,e.__scopeTooltip),s=Ky(_l,e.__scopeTooltip),o=v.useRef(null),l=lt(t,o),[c,d]=v.useState(null),{trigger:f,onClose:h}=n,p=o.current,{onPointerInTransitChange:g}=s,x=v.useCallback(()=>{d(null),g(!1)},[g]),b=v.useCallback((j,w)=>{const _=j.currentTarget,S={x:j.clientX,y:j.clientY},E=RW(S,_.getBoundingClientRect()),C=DW(S,E),k=OW(w.getBoundingClientRect()),T=IW([...C,...k]);d(T),g(!0)},[g]);return v.useEffect(()=>()=>x(),[x]),v.useEffect(()=>{if(f&&p){const j=_=>b(_,p),w=_=>b(_,f);return f.addEventListener("pointerleave",j),p.addEventListener("pointerleave",w),()=>{f.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",w)}}},[f,p,b,x]),v.useEffect(()=>{if(c){const j=w=>{const _=w.target,S={x:w.clientX,y:w.clientY},E=f?.contains(_)||p?.contains(_),C=!zW(S,c);E?x():C&&(x(),h())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[f,p,c,h,x]),r.jsx(sA,{...e,ref:l})}),[kW,AW]=Qh(Lu,{isInside:!1}),MW=RS("TooltipContent"),sA=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=cd(_l,n),h=Jh(n),{onClose:p}=f;return v.useEffect(()=>(document.addEventListener(lv,p),()=>document.removeEventListener(lv,p)),[p]),v.useEffect(()=>{if(f.trigger){const g=x=>{x.target?.contains(f.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,p]),r.jsx(Zu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:r.jsxs(Qv,{"data-state":f.stateAttribute,...h,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(MW,{children:s}),r.jsx(kW,{scope:n,isInside:!0,children:r.jsx(zq,{id:f.contentId,role:"tooltip",children:o||s})})]})})});rA.displayName=_l;var aA="TooltipArrow",TW=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=Jh(n);return AW(aA,n).isInside?null:r.jsx(Jv,{...o,...s,ref:t})});TW.displayName=aA;function RW(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,s,o,l)){case l:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function DW(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function OW(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function zW(e,t){const{x:n,y:s}=e;let o=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],h=d.x,p=d.y,g=f.x,x=f.y;p>s!=x>s&&n<(g-h)*(s-p)/(x-p)+h&&(o=!o)}return o}function IW(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),LW(t)}function LW(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(o.y-c.y)>=(l.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $W=J3,PW=eA,UW=tA,FW=nA,oA=rA;const xm=$W,vm=PW,ym=UW,fu=v.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(FW,{children:r.jsx(oA,{ref:s,sideOffset:t,className:$e("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));fu.displayName=oA.displayName;function VW({steps:e,agents:t,availableModels:n,config:s,onStepsChange:o,onConfigChange:l,onCreateAgent:c}){const d=Object.keys(n),f=v.useCallback(x=>{l({...s,...x})},[s,l]),h=v.useCallback(()=>{const x={id:`step_${Date.now()}`,type:"agent",agent:t[0]?.id||"",input_template:"{{context}}"};o([...e,x])},[e,t,o]),p=v.useCallback((x,b)=>{o(e.map(j=>j.id===x?{...j,...b}:j))},[e,o]),g=v.useCallback(x=>{o(e.filter(b=>b.id!==x))},[e,o]);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 text-white",children:r.jsx(Ts,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Magentic One"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Orquestrao AI-driven com planejamento dinmico"})]})]}),c&&r.jsxs(me,{variant:"outline",size:"sm",onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]}),r.jsx(Ge,{className:"bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-950/20 dark:to-purple-950/20 border-violet-200 dark:border-violet-800",children:r.jsx(Xe,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nm,{className:"h-5 w-5 text-violet-600 dark:text-violet-400 shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-violet-700 dark:text-violet-300",children:[r.jsx("p",{className:"font-medium mb-1",children:"Como funciona o Magentic One?"}),r.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-violet-600 dark:text-violet-400",children:[r.jsxs("li",{children:["O ",r.jsx("strong",{children:"Manager"})," analisa a tarefa e cria um plano"]}),r.jsx("li",{children:"Seleciona dinamicamente qual agente deve executar"}),r.jsx("li",{children:"Monitora progresso e replana quando necessrio"}),r.jsx("li",{children:"Ideal para tarefas complexas com mltiplos especialistas"})]})]})]})})}),r.jsxs(Ge,{children:[r.jsxs(Pt,{className:"pb-3",children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Configurao do Manager (Orquestrador)"]}),r.jsx(Vr,{children:"O Manager  o LLM responsvel por planejar e coordenar a execuo"})]}),r.jsxs(Xe,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:["Modelo do Manager *",r.jsx(xm,{children:r.jsxs(vm,{children:[r.jsx(ym,{children:r.jsx(Fr,{className:"h-3.5 w-3.5 text-muted-foreground"})}),r.jsx(fu,{side:"right",className:"max-w-xs",children:r.jsx("p",{children:"O modelo responsvel por criar planos, selecionar agentes e coordenar a execuo. Recomenda-se modelos mais capazes (ex: gpt-4o)."})})]})})]}),r.jsxs(Wt,{value:s.manager_model,onValueChange:x=>f({manager_model:x}),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:"Selecione o modelo do manager"})}),r.jsx(Kt,{children:d.map(x=>r.jsx(ot,{value:x,children:x},x))})]}),!s.manager_model&&r.jsx("p",{className:"text-xs text-red-500",children:" Modelo do manager  obrigatrio"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Instrues do Manager"}),r.jsx(un,{value:s.manager_instructions||"",onChange:x=>f({manager_instructions:x.target.value}),placeholder:"Voc  o coordenador de uma equipe de especialistas. Analise a tarefa, crie um plano de execuo e coordene os participantes para alcanar o objetivo de forma eficiente.",rows:3,className:"text-sm"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:["Max Rounds",r.jsx(xm,{children:r.jsxs(vm,{children:[r.jsx(ym,{children:r.jsx(Fr,{className:"h-3.5 w-3.5 text-muted-foreground"})}),r.jsx(fu,{side:"right",className:"max-w-xs",children:r.jsx("p",{children:"Nmero mximo de iteraes. Aumentar para tarefas complexas."})})]})})]}),r.jsx(nt,{type:"number",min:5,max:100,value:s.max_rounds,onChange:x=>f({max_rounds:parseInt(x.target.value,10)||20})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:["Max Stall Count",r.jsx(xm,{children:r.jsxs(vm,{children:[r.jsx(ym,{children:r.jsx(Fr,{className:"h-3.5 w-3.5 text-muted-foreground"})}),r.jsx(fu,{side:"right",className:"max-w-xs",children:r.jsx("p",{children:"Nmero de iteraes sem progresso antes de falhar. Evita loops infinitos."})})]})})]}),r.jsx(nt,{type:"number",min:1,max:10,value:s.max_stall_count,onChange:x=>f({max_stall_count:parseInt(x.target.value,10)||3})})]})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Te,{children:"Reviso de Plano (Human-in-the-Loop)"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Permite revisar e aprovar o plano antes da execuo"})]}),r.jsx(gl,{checked:s.enable_plan_review,onCheckedChange:x=>f({enable_plan_review:x})})]})]})]}),r.jsxs(Ge,{children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(Vo,{className:"h-4 w-4"}),"Participantes (",e.length,")"]}),r.jsx(Vr,{children:"Agentes disponveis para o Manager coordenar"})]}),r.jsxs(me,{size:"sm",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})}),r.jsx(Xe,{className:"space-y-3",children:e.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(bt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{className:"mb-2",children:"Nenhum participante adicionado"}),r.jsx("p",{className:"text-sm",children:"Adicione pelo menos 2 agentes para o Manager coordenar"}),r.jsxs(me,{variant:"outline",size:"sm",className:"mt-4",onClick:h,children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Participante"]})]}):r.jsxs(r.Fragment,{children:[e.map((x,b)=>{const j=t.find(w=>w.id===x.agent);return r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center text-violet-600 dark:text-violet-400 text-sm font-medium",children:b+1}),r.jsx("div",{className:"flex-1",children:r.jsxs(Wt,{value:x.agent||"",onValueChange:w=>p(x.id,{agent:w}),children:[r.jsx(Xt,{className:"w-full",children:r.jsx(Gt,{placeholder:"Selecione um agente"})}),r.jsx(Kt,{children:t.map(w=>r.jsx(ot,{value:w.id,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsx("span",{children:w.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:w.model})]})},w.id))})]})}),j&&r.jsx("p",{className:"text-xs text-muted-foreground max-w-[200px] truncate",children:j.description}),r.jsx(me,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30",onClick:()=>g(x.id),children:r.jsx(Jn,{className:"h-4 w-4"})})]},x.id)}),e.length<2&&r.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[r.jsx(Fr,{className:"h-3.5 w-3.5"}),"Recomenda-se pelo menos 2 participantes para melhor aproveitamento"]})]})})]}),e.length>0&&r.jsxs(Ge,{className:"bg-muted/30",children:[r.jsx(Pt,{className:"pb-2",children:r.jsxs(Dt,{className:"text-sm flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-violet-500"}),"Equipe do Magentic"]})}),r.jsx(Xe,{children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(Be,{variant:"secondary",className:"py-1.5 bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-300",children:[" Manager (",s.manager_model||"?",")"]}),r.jsx("span",{className:"text-muted-foreground",children:"coordena:"}),e.map(x=>{const b=t.find(j=>j.id===x.agent);return r.jsx(Be,{variant:"outline",className:"py-1.5",children:b?.role||x.agent||"?"},x.id)})]})})]})]})}function HW(e){const t=[];if(!e||typeof e!="object")return{valid:!1,errors:["Configurao invlida"]};const n=e;if((!n.name||typeof n.name!="string")&&t.push("Campo 'name'  obrigatrio"),(!n.version||typeof n.version!="string")&&t.push("Campo 'version'  obrigatrio"),(!n.resources||typeof n.resources!="object")&&t.push("Campo 'resources'  obrigatrio"),Array.isArray(n.agents)?n.agents.forEach((s,o)=>{if(!s||typeof s!="object"){t.push(`Agent ${o}: deve ser um objeto`);return}const l=s;l.id||t.push(`Agent ${o}: 'id'  obrigatrio`),l.role||t.push(`Agent ${o}: 'role'  obrigatrio`),l.model||t.push(`Agent ${o}: 'model'  obrigatrio`),l.instructions||t.push(`Agent ${o}: 'instructions'  obrigatrio`)}):t.push("Campo 'agents' deve ser um array"),!n.workflow||typeof n.workflow!="object")t.push("Campo 'workflow'  obrigatrio");else{const s=n.workflow,o=["sequential","parallel","router","group_chat","handoff"];o.includes(s.type)||t.push(`Tipo de workflow '${s.type}' no  vlido. Use: ${o.join(", ")}`),Array.isArray(s.steps)||t.push("Campo 'workflow.steps' deve ser um array")}return{valid:t.length===0,errors:t}}function BW(e){const t=JSON.parse(e),n=HW(t);if(!n.valid)throw new Error(`Configurao invlida:
${n.errors.join(`
`)}`);return t}function qW(e){return JSON.stringify(e,null,2)}function ZW(e,t){const n=qW(e),s=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download=t||`${e.name.replace(/\s+/g,"_").toLowerCase()}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}function YW(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>{try{const l=o.target?.result,c=BW(l);t(c)}catch(l){n(l)}},s.onerror=()=>n(new Error("Erro ao ler arquivo")),s.readAsText(e)})}const WW="studio_draft";function GW(e){try{localStorage.setItem(WW,JSON.stringify({config:e,savedAt:Date.now()}))}catch(t){console.error("Erro ao salvar rascunho:",t)}}function XW(){const{toast:e}=Bu(),t=il(te=>te.workerConfig),n=il(te=>te.setWorkerConfig),s=il(te=>te.generateConfig),[o]=AS(),l=o.get("file"),c=v.useMemo(()=>new yy,[]),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,x]=v.useState("editor"),[b,j]=v.useState(!1),[w,_]=v.useState(null),[S,E]=v.useState([]),[,C]=v.useState(null);v.useEffect(()=>{l&&(async pe=>{try{const Q=(await c.getSavedWorkflows()).find(Ne=>Ne._file===pe);Q?(n(Q),C(pe),e({title:"Workflow carregado",description:Q.name||pe})):e({title:"Erro ao carregar workflow",description:`Arquivo no encontrado: ${pe}`,variant:"destructive"})}catch(Se){console.error("Error loading workflow:",Se),e({title:"Erro ao carregar workflow",description:String(Se),variant:"destructive"})}})(l)},[l,c,n,e]);const k=v.useCallback(async()=>{console.log("Carregando agentes salvos..."),p(!0);try{const te=await fetch("/v1/agents");if(te.ok){const pe=await te.json();console.log("Agentes carregados:",pe.data),E(pe.data||[])}}catch(te){console.error("Erro ao carregar agentes:",te)}finally{p(!1)}},[]);v.useEffect(()=>{k()},[k]);const T=v.useMemo(()=>{const te=new Set((t.agents||[]).map(pe=>pe.id));return S.filter(pe=>!te.has(pe.id))},[S,t.agents]),M=v.useCallback(te=>{const{_file:pe,...Se}=te;n({...t,agents:[...t.agents||[],Se]}),e({title:"Agente adicionado ao workflow"})},[t,n,e]),O=t.workflow.type,I=t.agents||[],U=t.workflow.steps||[],Z=t.workflow.start_step,X=v.useMemo(()=>t.resources?.models||{},[t.resources]),Y=v.useMemo(()=>t.resources?.tools||[],[t.resources]),q=v.useMemo(()=>({manager_model:t.workflow.manager_model||Object.keys(X)[0]||"gpt-4o",manager_instructions:t.workflow.manager_instructions||"Select the next speaker based on the conversation context.",max_rounds:t.workflow.max_rounds||8,termination_condition:t.workflow.termination_condition}),[t.workflow,X]),R=v.useMemo(()=>({manager_model:t.workflow.manager_model||Object.keys(X)[0]||"gpt-4o-mini",manager_instructions:t.workflow.manager_instructions||"Voc  o coordenador de uma equipe de especialistas. Analise a tarefa, crie um plano de execuo e coordene os participantes para alcanar o objetivo de forma eficiente.",max_rounds:t.workflow.max_rounds||20,max_stall_count:t.workflow.max_stall_count||3,enable_plan_review:t.workflow.enable_plan_review||!1}),[t.workflow,X]),$=v.useCallback(te=>{n({...t,workflow:{...t.workflow,type:te,steps:[],start_step:void 0}})},[t,n]),A=v.useCallback(te=>{n({...t,workflow:{...t.workflow,steps:te}})},[t,n]),L=v.useCallback(te=>{n({...t,workflow:{...t.workflow,start_step:te}})},[t,n]),F=v.useCallback(te=>{n({...t,workflow:{...t.workflow,...te}})},[t,n]),B=v.useCallback(te=>{n({...t,workflow:{...t.workflow,...te}})},[t,n]),z=v.useCallback(te=>{if(w){const pe=I.map(Se=>Se.id===w.id?te:Se);n({...t,agents:pe})}else n({...t,agents:[...I,te]});_(null),j(!1),e({title:w?"Agente atualizado":"Agente criado"})},[w,I,t,n,e]),H=v.useCallback(te=>{_(te),j(!0)},[]),J=v.useCallback(te=>{if(U.some(Q=>Q.agent===te)){e({title:"No  possvel remover",description:"Este agente est sendo usado em um step do workflow. Remova o step primeiro.",variant:"destructive"});return}const Se=I.filter(Q=>Q.id!==te);n({...t,agents:Se}),e({title:"Agente removido"})},[I,U,t,n,e]),K=v.useMemo(()=>{const te=[];return t.name?.trim()||te.push("Nome do workflow  obrigatrio"),I.length===0&&te.push("Adicione pelo menos um agente"),U.length===0&&te.push("Adicione pelo menos um step ao workflow"),U.forEach((pe,Se)=>{pe.agent?I.find(Q=>Q.id===pe.agent)||te.push(`Step ${Se+1} referencia agente inexistente`):te.push(`Step ${Se+1} no tem agente selecionado`)}),O==="magentic"&&(R.manager_model||te.push("Magentic requer 'manager_model' definido"),U.length<2&&te.push("Magentic  mais efetivo com 2+ participantes"),R.max_rounds<5&&te.push(`max_rounds=${R.max_rounds} pode ser insuficiente. Considere aumentar para 10+`)),te},[t.name,I,U,O,R]),ie=async()=>{if(K.length>0){e({title:"Workflow invlido",description:K[0],variant:"destructive"});return}f(!0);try{const te=s();console.log("Generated Config:",te),GW(te);const pe=await fetch("/v1/workflows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!pe.ok)throw new Error(`Failed to save: ${pe.statusText}`);const Se=await pe.json();e({title:"Workflow Salvo",description:`Configurao salva em exemplos/workflows/${Se.filename}`})}catch(te){console.error("Save error:",te),e({title:"Erro ao Salvar",description:String(te),variant:"destructive"})}finally{f(!1)}},ge=()=>{const te=s();ZW(te,`${te.name||"workflow"}.json`),e({title:"Exportado",description:"Arquivo JSON baixado."})},ye=async()=>{const te=document.createElement("input");te.type="file",te.accept=".json",te.onchange=async pe=>{const Se=pe.target.files?.[0];if(Se)try{const Q=await YW(Se);n(Q),e({title:"Importado",description:`${Q.name} carregado com sucesso.`})}catch(Q){e({title:"Erro na Importao",description:String(Q),variant:"destructive"})}},te.click()},ae=()=>{switch(O){case"sequential":return r.jsx(xW,{steps:U,agents:I,onStepsChange:A,onCreateAgent:()=>j(!0)});case"parallel":return r.jsx(vW,{steps:U,agents:I,onStepsChange:A,onCreateAgent:()=>j(!0)});case"group_chat":return r.jsx(yW,{steps:U,agents:I,availableModels:X,config:q,onStepsChange:A,onConfigChange:F,onCreateAgent:()=>j(!0)});case"handoff":return r.jsx(bW,{steps:U,agents:I,startStep:Z,onStepsChange:A,onStartStepChange:L,onCreateAgent:()=>j(!0)});case"router":return r.jsx(wW,{steps:U,agents:I,startStep:Z,onStepsChange:A,onStartStepChange:L,onCreateAgent:()=>j(!0)});case"magentic":return r.jsx(VW,{steps:U,agents:I,availableModels:X,config:R,onStepsChange:A,onConfigChange:B,onCreateAgent:()=>j(!0)});default:return r.jsx("div",{className:"text-center text-muted-foreground py-12",children:"Selecione um tipo de workflow"})}},de=v.useMemo(()=>{try{return JSON.stringify(s(),null,2)}catch{return"// Erro ao gerar preview"}},[s]);return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[r.jsxs("div",{className:"border-b flex items-center justify-between px-6 py-4 bg-background shrink-0",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sm,{className:"h-5 w-5 text-primary"}),r.jsx("h1",{className:"text-lg font-semibold",children:"Workflow Studio"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(nt,{value:t.name||"",onChange:te=>n({...t,name:te.target.value}),placeholder:"Nome do workflow...",className:"h-8 w-[250px] text-sm"}),r.jsx(Be,{variant:"secondary",children:O}),r.jsxs(Be,{variant:"outline",children:[I.length," agentes  ",U.length," steps"]})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[K.length>0?r.jsxs(Be,{variant:"destructive",className:"gap-1",children:[r.jsx(Sr,{className:"h-3 w-3"}),K.length," erro",K.length>1?"s":""]}):r.jsxs(Be,{variant:"default",className:"gap-1 bg-green-600",children:[r.jsx(Cn,{className:"h-3 w-3"}),"Vlido"]}),r.jsxs(me,{variant:"outline",size:"sm",onClick:ye,children:[r.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Importar"]}),r.jsxs(me,{variant:"outline",size:"sm",onClick:ge,children:[r.jsx(Fo,{className:"w-4 h-4 mr-2"}),"Exportar"]}),r.jsxs(me,{size:"sm",onClick:ie,disabled:d,className:"bg-green-600 hover:bg-green-700",children:[d?r.jsx(cr,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(_0,{className:"w-4 h-4 mr-2"}),"Salvar Workflow"]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsxs(Ah,{value:g,onValueChange:te=>x(te),className:"h-full flex flex-col",children:[r.jsx("div",{className:"border-b px-6 bg-muted/30",children:r.jsxs(Qu,{className:"h-12",children:[r.jsxs(Nr,{value:"editor",className:"gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"Editor"]}),r.jsxs(Nr,{value:"preview",className:"gap-2",children:[r.jsx(dh,{className:"h-4 w-4"}),"Preview JSON"]})]})}),r.jsx(_r,{value:"editor",className:"flex-1 overflow-hidden m-0",children:r.jsxs("div",{className:"flex h-full",children:[r.jsx("div",{className:"flex-1 overflow-auto p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[K.length>0&&r.jsx(Ge,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:r.jsx(Xe,{className:"pt-4",children:r.jsxs("div",{className:"flex items-start gap-2 text-red-600 dark:text-red-400",children:[r.jsx(Sr,{className:"h-5 w-5 shrink-0 mt-0.5"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:"Corrija os erros antes de salvar:"}),r.jsx("ul",{className:"text-sm list-disc list-inside space-y-0.5",children:K.map((te,pe)=>r.jsx("li",{children:te},pe))})]})]})})}),r.jsxs(Ge,{children:[r.jsxs(Pt,{className:"pb-3",children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"1"}),"Tipo de Workflow"]}),r.jsx(Vr,{children:"Escolha como os agentes sero orquestrados"})]}),r.jsx(Xe,{children:r.jsx(EZ,{selectedType:O,onTypeSelect:$})})]}),r.jsxs(Ge,{children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"2"}),"Gerenciamento de Agentes"]}),r.jsx(Vr,{children:"Selecione agentes existentes ou crie novos para o workflow"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(me,{variant:"outline",size:"icon",onClick:k,disabled:h,title:"Atualizar lista de agentes salvos",children:r.jsx(io,{className:`h-4 w-4 ${h?"animate-spin":""}`})}),r.jsxs(me,{size:"sm",onClick:()=>j(!0),children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]})]})}),r.jsx(Xe,{className:"space-y-6",children:h?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(cr,{className:"h-8 w-8 mx-auto mb-2 animate-spin"}),r.jsx("p",{children:"Carregando agentes..."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4"}),"No Workflow (",I.length,")"]}),I.length===0?r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx("p",{className:"text-sm",children:"Nenhum agente adicionado ao workflow"}),r.jsx("p",{className:"text-xs mt-1",children:"Selecione um agente existente abaixo ou crie um novo"})]}):r.jsx("div",{className:"grid gap-2",children:I.map(te=>{const pe=U.some(Se=>Se.agent===te.id);return r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${pe?"bg-green-50 border-green-200 dark:bg-green-950/20":"bg-muted/50"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(bt,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:te.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:te.model}),pe&&r.jsx(Be,{variant:"default",className:"text-[10px] bg-green-600",children:"Em uso"})]}),te.tools&&te.tools.length>0&&r.jsxs("div",{className:"flex gap-1 mt-1",children:[te.tools.slice(0,2).map(Se=>r.jsx(Be,{variant:"secondary",className:"text-[9px]",children:Se},Se)),te.tools.length>2&&r.jsxs(Be,{variant:"secondary",className:"text-[9px]",children:["+",te.tools.length-2]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>H(te),title:"Editar agente",children:r.jsx(fh,{className:"h-4 w-4"})}),r.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>J(te.id),disabled:pe,title:pe?"Remova o step primeiro":"Remover do workflow",children:r.jsx(Jn,{className:"h-4 w-4"})})]})]},te.id)})})]}),T.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2 text-muted-foreground",children:[r.jsx(Fo,{className:"h-4 w-4"}),"Agentes Salvos Disponveis (",T.length,")"]}),r.jsx("div",{className:"grid gap-2",children:T.map(te=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-muted flex items-center justify-center",children:r.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:te.role}),r.jsx(Be,{variant:"outline",className:"text-[10px]",children:te.model})]}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:te.description||"Sem descrio"})]})]}),r.jsxs(me,{variant:"outline",size:"sm",onClick:()=>M(te),className:"shrink-0",children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]},te.id))})]}),S.length===0&&I.length===0&&r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(bt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Nenhum agente encontrado"}),r.jsx("p",{className:"text-sm mt-1",children:"Crie um novo agente para comear"})]})]})})]}),r.jsxs(Ge,{children:[r.jsxs(Pt,{className:"pb-3",children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm",children:"3"}),"Configurar Steps"]}),r.jsx(Vr,{children:"Monte a sequncia de execuo dos agentes"})]}),r.jsx(Xe,{children:ae()})]}),r.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 pb-12",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:K.length>0?r.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[r.jsx(Sr,{className:"h-4 w-4"}),K.length," erro(s) impedem o salvamento"]}):r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx(Cn,{className:"h-4 w-4"}),"Pronto para salvar"]})}),r.jsxs(me,{size:"lg",onClick:ie,disabled:d,className:"bg-green-600 hover:bg-green-700 min-w-[200px]",children:[d?r.jsx(cr,{className:"w-5 h-5 mr-2 animate-spin"}):r.jsx(_0,{className:"w-5 h-5 mr-2"}),"Salvar Workflow"]})]})]})}),r.jsx(yZ,{})]})}),r.jsx(_r,{value:"preview",className:"flex-1 overflow-hidden m-0",children:r.jsx("div",{className:"h-full p-6",children:r.jsxs(Ge,{className:"h-full",children:[r.jsx(Pt,{className:"pb-2",children:r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(GS,{className:"h-5 w-5"}),"worker_config.json"]})}),r.jsx(Xe,{className:"h-[calc(100%-60px)]",children:r.jsx(Fn,{className:"h-full",children:r.jsx("pre",{className:"text-sm font-mono bg-muted/30 p-4 rounded-lg whitespace-pre-wrap",children:de})})})]})})})]})}),r.jsx(E3,{open:b||w!==null,onOpenChange:te=>{te||(j(!1),_(null))},agent:w||void 0,availableModels:X,availableTools:Y,onSave:z,mode:w?"edit":"create"})]})}const ep=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:$e("w-full caption-bottom text-sm",e),...t})}));ep.displayName="Table";const tp=v.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:$e("[&_tr]:border-b",e),...t}));tp.displayName="TableHeader";const np=v.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:$e("[&_tr:last-child]:border-0",e),...t}));np.displayName="TableBody";const KW=v.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:$e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));KW.displayName="TableFooter";const pa=v.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:$e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pa.displayName="TableRow";const kn=v.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:$e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kn.displayName="TableHead";const mn=v.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:$e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));mn.displayName="TableCell";const QW=v.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:$e("mt-4 text-sm text-muted-foreground",e),...t}));QW.displayName="TableCaption";var rp="Dialog",[iA,lA]=Mr(rp),[JW,vs]=iA(rp),cA=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=v.useRef(null),f=v.useRef(null),[h,p]=ya({prop:s,defaultProp:o??!1,onChange:l,caller:rp});return r.jsx(JW,{scope:t,triggerRef:d,contentRef:f,contentId:os(),titleId:os(),descriptionId:os(),open:h,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};cA.displayName=rp;var uA="DialogTrigger",dA=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=vs(uA,n),l=lt(t,o.triggerRef);return r.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":tb(o.open),...s,ref:l,onClick:ze(e.onClick,o.onOpenToggle)})});dA.displayName=uA;var Jy="DialogPortal",[eG,fA]=iA(Jy,{forceMount:void 0}),mA=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,l=vs(Jy,t);return r.jsx(eG,{scope:t,forceMount:n,children:v.Children.map(s,c=>r.jsx(Yn,{present:n||l.open,children:r.jsx(Wu,{asChild:!0,container:o,children:c})}))})};mA.displayName=Jy;var Jm="DialogOverlay",hA=v.forwardRef((e,t)=>{const n=fA(Jm,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=vs(Jm,e.__scopeDialog);return l.modal?r.jsx(Yn,{present:s||l.open,children:r.jsx(nG,{...o,ref:t})}):null});hA.displayName=Jm;var tG=Uo("DialogOverlay.RemoveScroll"),nG=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=vs(Jm,n);return r.jsx(jh,{as:tG,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(Qe.div,{"data-state":tb(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Jo="DialogContent",pA=v.forwardRef((e,t)=>{const n=fA(Jo,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,l=vs(Jo,e.__scopeDialog);return r.jsx(Yn,{present:s||l.open,children:l.modal?r.jsx(rG,{...o,ref:t}):r.jsx(sG,{...o,ref:t})})});pA.displayName=Jo;var rG=v.forwardRef((e,t)=>{const n=vs(Jo,e.__scopeDialog),s=v.useRef(null),o=lt(t,n.contentRef,s);return v.useEffect(()=>{const l=s.current;if(l)return ey(l)},[]),r.jsx(gA,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,l=>l.preventDefault())})}),sG=v.forwardRef((e,t)=>{const n=vs(Jo,e.__scopeDialog),s=v.useRef(!1),o=v.useRef(!1);return r.jsx(gA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),gA=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=e,d=vs(Jo,n),f=v.useRef(null),h=lt(t,f);return Uv(),r.jsxs(r.Fragment,{children:[r.jsx(ph,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:r.jsx(Zu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":tb(d.open),...c,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(oG,{titleId:d.titleId}),r.jsx(lG,{contentRef:f,descriptionId:d.descriptionId})]})]})}),eb="DialogTitle",xA=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=vs(eb,n);return r.jsx(Qe.h2,{id:o.titleId,...s,ref:t})});xA.displayName=eb;var vA="DialogDescription",yA=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=vs(vA,n);return r.jsx(Qe.p,{id:o.descriptionId,...s,ref:t})});yA.displayName=vA;var bA="DialogClose",wA=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=vs(bA,n);return r.jsx(Qe.button,{type:"button",...s,ref:t,onClick:ze(e.onClick,()=>o.onOpenChange(!1))})});wA.displayName=bA;function tb(e){return e?"open":"closed"}var jA="DialogTitleWarning",[aG,NA]=nz(jA,{contentName:Jo,titleName:eb,docsSlug:"dialog"}),oG=({titleId:e})=>{const t=NA(jA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},iG="DialogDescriptionWarning",lG=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NA(iG).contentName}}.`;return v.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},cG=cA,uG=dA,dG=mA,fG=hA,mG=pA,hG=xA,pG=yA,_A=wA,SA="AlertDialog",[gG,Bne]=Mr(SA,[lA]),_a=lA(),CA=e=>{const{__scopeAlertDialog:t,...n}=e,s=_a(t);return r.jsx(cG,{...s,...n,modal:!0})};CA.displayName=SA;var xG="AlertDialogTrigger",vG=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=_a(n);return r.jsx(uG,{...o,...s,ref:t})});vG.displayName=xG;var yG="AlertDialogPortal",EA=e=>{const{__scopeAlertDialog:t,...n}=e,s=_a(t);return r.jsx(dG,{...s,...n})};EA.displayName=yG;var bG="AlertDialogOverlay",kA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=_a(n);return r.jsx(fG,{...o,...s,ref:t})});kA.displayName=bG;var cl="AlertDialogContent",[wG,jG]=gG(cl),NG=RS("AlertDialogContent"),AA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...o}=e,l=_a(n),c=v.useRef(null),d=lt(t,c),f=v.useRef(null);return r.jsx(aG,{contentName:cl,titleName:MA,docsSlug:"alert-dialog",children:r.jsx(wG,{scope:n,cancelRef:f,children:r.jsxs(mG,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:ze(o.onOpenAutoFocus,h=>{h.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[r.jsx(NG,{children:s}),r.jsx(SG,{contentRef:c})]})})})});AA.displayName=cl;var MA="AlertDialogTitle",TA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=_a(n);return r.jsx(hG,{...o,...s,ref:t})});TA.displayName=MA;var RA="AlertDialogDescription",DA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=_a(n);return r.jsx(pG,{...o,...s,ref:t})});DA.displayName=RA;var _G="AlertDialogAction",OA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=_a(n);return r.jsx(_A,{...o,...s,ref:t})});OA.displayName=_G;var zA="AlertDialogCancel",IA=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:o}=jG(zA,n),l=_a(n),c=lt(t,o);return r.jsx(_A,{...l,...s,ref:c})});IA.displayName=zA;var SG=({contentRef:e})=>{const t=`\`${cl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cl}\` by passing a \`${RA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},CG=CA,EG=EA,LA=kA,$A=AA,PA=OA,UA=IA,FA=TA,VA=DA;const HA=CG,kG=EG,BA=v.forwardRef(({className:e,...t},n)=>r.jsx(LA,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));BA.displayName=LA.displayName;const nb=v.forwardRef(({className:e,...t},n)=>r.jsxs(kG,{children:[r.jsx(BA,{}),r.jsx($A,{ref:n,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));nb.displayName=$A.displayName;const rb=({className:e,...t})=>r.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",e),...t});rb.displayName="AlertDialogHeader";const sb=({className:e,...t})=>r.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sb.displayName="AlertDialogFooter";const ab=v.forwardRef(({className:e,...t},n)=>r.jsx(FA,{ref:n,className:$e("text-lg font-semibold",e),...t}));ab.displayName=FA.displayName;const ob=v.forwardRef(({className:e,...t},n)=>r.jsx(VA,{ref:n,className:$e("text-sm text-muted-foreground",e),...t}));ob.displayName=VA.displayName;const ib=v.forwardRef(({className:e,...t},n)=>r.jsx(PA,{ref:n,className:$e(Tv(),e),...t}));ib.displayName=PA.displayName;const lb=v.forwardRef(({className:e,...t},n)=>r.jsx(UA,{ref:n,className:$e(Tv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lb.displayName=UA.displayName;function AG(){const{toast:e}=Bu(),t=il(q=>q.workerConfig),n=il(q=>q.setWorkerConfig),[s,o]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!0),[h,p]=v.useState(""),[g,x]=v.useState("all"),[b,j]=v.useState(!1),[w,_]=v.useState(null),[S,E]=v.useState(null),C=async()=>{f(!0);try{const q=await fetch("/v1/agents");if(q.ok){const R=await q.json();o(R.data||[]),n({...t,agents:R.data||[]})}}catch(q){console.error("Erro ao carregar agentes:",q)}finally{f(!1)}},k=async()=>{try{const q=await rt.getKnowledgeCollections();c(q)}catch(q){console.error("Erro ao carregar colees:",q)}};v.useEffect(()=>{C(),k()},[]);const T=v.useMemo(()=>t.resources?.models||{},[t.resources]),M=v.useMemo(()=>t.resources?.tools||[],[t.resources]),O=v.useMemo(()=>{const q=new Set(s.map(R=>R.model));return Array.from(q)},[s]),I=v.useMemo(()=>s.filter(q=>{const R=h===""||q.role.toLowerCase().includes(h.toLowerCase())||q.id.toLowerCase().includes(h.toLowerCase())||(q.description||"").toLowerCase().includes(h.toLowerCase()),$=g==="all"||q.model===g;return R&&$}),[s,h,g]),U=async q=>{try{if(!(await fetch("/v1/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)})).ok)throw new Error("Falha ao salvar agente");await C(),e({title:w?"Agente atualizado":"Agente criado",description:`${q.role} foi salvo em exemplos/agentes/`})}catch(R){console.error("Erro ao salvar:",R),e({title:"Erro ao salvar",description:String(R),variant:"destructive"})}_(null),j(!1)},Z=async q=>{const R={...q,id:`${q.id}_copy`,role:`${q.role} (Cpia)`};try{if(!(await fetch("/v1/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Falha ao duplicar agente");await C(),e({title:"Agente duplicado",description:`${R.role} foi criado.`})}catch($){e({title:"Erro ao duplicar",description:String($),variant:"destructive"})}},X=async()=>{if(S){try{if(!(await fetch(`/v1/agents/${encodeURIComponent(S.id)}`,{method:"DELETE"})).ok)throw new Error("Falha ao deletar agente");await C(),e({title:"Agente removido",description:`${S.role} foi deletado.`})}catch(q){e({title:"Erro ao deletar",description:String(q),variant:"destructive"})}E(null)}},Y=q=>{const{_file:R,...$}=q,A=JSON.stringify($,null,2),L=new Blob([A],{type:"application/json"}),F=URL.createObjectURL(L),B=document.createElement("a");B.href=F,B.download=`${q.id}.json`,B.click(),URL.revokeObjectURL(F),e({title:"Exportado",description:`${q.role} foi baixado.`})};return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[r.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-6 bg-background shrink-0",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(bt,{className:"h-5 w-5"}),"Agentes"]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," agente",s.length!==1?"s":"","  exemplos/agentes/"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(me,{variant:"outline",size:"icon",onClick:C,disabled:d,title:"Atualizar lista",children:r.jsx(io,{className:`h-4 w-4 ${d?"animate-spin":""}`})}),r.jsxs(me,{size:"default",className:"px-4 py-2",onClick:()=>j(!0),children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Novo Agente"]})]})]}),r.jsx("div",{className:"p-4 border-b bg-muted/30 shrink-0",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(nt,{placeholder:"Buscar por nome, ID ou descrio...",value:h,onChange:q=>p(q.target.value),className:"pl-9"})]}),r.jsxs(Wt,{value:g,onValueChange:x,children:[r.jsxs(Xt,{className:"w-[180px]",children:[r.jsx(uO,{className:"h-4 w-4 mr-2"}),r.jsx(Gt,{placeholder:"Filtrar por modelo"})]}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"all",children:"Todos os modelos"}),O.map(q=>r.jsx(ot,{value:q,children:q},q))]})]}),r.jsxs(Be,{variant:"secondary",children:[I.length," de ",s.length," agentes"]})]})}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:I.length===0?r.jsx(Ge,{className:"max-w-md mx-auto mt-12",children:r.jsxs(Xe,{className:"p-8 text-center",children:[r.jsx(bt,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:s.length===0?"Nenhum agente criado":"Nenhum resultado encontrado"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.length===0?"Comece criando seu primeiro agente para usar nos workflows.":"Tente ajustar os filtros de busca."}),s.length===0&&r.jsxs(me,{onClick:()=>j(!0),children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]})}):r.jsx("div",{className:"border rounded-lg",children:r.jsxs(ep,{children:[r.jsx(tp,{children:r.jsxs(pa,{children:[r.jsx(kn,{className:"w-[250px]",children:"Nome"}),r.jsx(kn,{children:"ID"}),r.jsx(kn,{children:"Modelo"}),r.jsx(kn,{children:"Ferramentas"}),r.jsx(kn,{children:"Knowledge"}),r.jsx(kn,{className:"w-[100px] text-right",children:"Aes"})]})}),r.jsx(np,{children:I.map(q=>r.jsxs(pa,{children:[r.jsx(mn,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:q.role}),q.description&&r.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:q.description})]})]})}),r.jsx(mn,{children:r.jsx("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded",children:q.id})}),r.jsx(mn,{children:r.jsx(Be,{variant:"outline",children:q.model})}),r.jsx(mn,{children:q.tools&&q.tools.length>0?r.jsxs("div",{className:"flex gap-1",children:[q.tools.slice(0,2).map(R=>r.jsx(Be,{variant:"secondary",className:"text-xs",children:R},R)),q.tools.length>2&&r.jsxs(Be,{variant:"secondary",className:"text-xs",children:["+",q.tools.length-2]})]}):r.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),r.jsx(mn,{children:q.knowledge&&q.knowledge.enabled&&q.knowledge.collection_ids.length>0?r.jsxs(Be,{variant:"outline",className:"gap-1",children:[r.jsx(Qn,{className:"h-3 w-3"}),q.knowledge.collection_ids.length," coleo",q.knowledge.collection_ids.length>1?"es":""]}):r.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),r.jsx(mn,{className:"text-right",children:r.jsxs(zl,{children:[r.jsx(Il,{asChild:!0,children:r.jsx(me,{variant:"ghost",size:"icon",children:r.jsx(Dv,{className:"h-4 w-4"})})}),r.jsxs(Ll,{align:"end",children:[r.jsxs(Zt,{onClick:()=>_(q),children:[r.jsx(fh,{className:"h-4 w-4 mr-2"}),"Editar"]}),r.jsxs(Zt,{onClick:()=>Z(q),children:[r.jsx(so,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),r.jsxs(Zt,{onClick:()=>Y(q),children:[r.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Exportar JSON"]}),r.jsx(ao,{}),r.jsxs(Zt,{className:"text-red-600",onClick:()=>E(q),children:[r.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},q.id))})]})})}),r.jsx(E3,{open:b||w!==null,onOpenChange:q=>{q||(j(!1),_(null))},agent:w||void 0,availableModels:T,availableTools:M,availableCollections:l,onSave:U,mode:w?"edit":"create"}),r.jsx(HA,{open:S!==null,onOpenChange:q=>!q&&E(null),children:r.jsxs(nb,{children:[r.jsxs(rb,{children:[r.jsx(ab,{children:"Excluir agente?"}),r.jsxs(ob,{children:["Tem certeza que deseja excluir ",r.jsx("strong",{children:S?.role}),"?",r.jsx("br",{}),"Esta ao no pode ser desfeita e o agente ser removido de todos os workflows."]})]}),r.jsxs(sb,{children:[r.jsx(lb,{children:"Cancelar"}),r.jsx(ib,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})})]})}function MG(){const{toast:e}=Bu(),t=Vu(),n=v.useMemo(()=>new yy,[]),[s,o]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(""),[h,p]=v.useState(null),g=async()=>{c(!0);try{const E=await n.getSavedWorkflows();o(E||[])}catch(E){console.error("Erro ao carregar workflows:",E),e({title:"Erro ao carregar workflows",description:String(E),variant:"destructive"})}finally{c(!1)}};v.useEffect(()=>{g()},[]);const x=v.useMemo(()=>s.filter(E=>d===""||(E.name||"").toLowerCase().includes(d.toLowerCase())||(E._file||"").toLowerCase().includes(d.toLowerCase())||(E.workflow?.type||"").toLowerCase().includes(d.toLowerCase())),[s,d]),b=()=>{t("/platform/studio")},j=E=>{t(`/platform/studio?file=${encodeURIComponent(E._file)}`)},w=async()=>{if(h)try{await n.deleteSavedWorkflow(h._file),await g(),e({title:"Workflow removido",description:`${h.name} foi deletado.`})}catch(E){e({title:"Erro ao deletar",description:String(E),variant:"destructive"})}finally{p(null)}},_=E=>E.agents?.length||0,S=E=>E.workflow?.steps?.length||0;return r.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Workflows"}),r.jsxs("p",{className:"text-muted-foreground",children:["Gerencie os fluxos de trabalho salvos em ",r.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"exemplos/workflows/"})]})]}),r.jsxs(me,{onClick:b,children:[r.jsx(_t,{className:"mr-2 h-4 w-4"}),"Novo Workflow"]})]}),r.jsx(Ge,{children:r.jsxs(Xe,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(is,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(nt,{placeholder:"Buscar workflows...",value:d,onChange:E=>f(E.target.value),className:"pl-8"})]}),r.jsx(me,{variant:"outline",size:"icon",onClick:g,title:"Recarregar",children:r.jsx(io,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(ep,{children:[r.jsx(tp,{children:r.jsxs(pa,{children:[r.jsx(kn,{children:"Nome"}),r.jsx(kn,{children:"Arquivo"}),r.jsx(kn,{children:"Tipo"}),r.jsx(kn,{children:"Agentes"}),r.jsx(kn,{children:"Steps"}),r.jsx(kn,{className:"w-[100px]",children:"Aes"})]})}),r.jsx(np,{children:l?r.jsx(pa,{children:r.jsx(mn,{colSpan:6,className:"h-24 text-center",children:"Carregando..."})}):x.length===0?r.jsx(pa,{children:r.jsx(mn,{colSpan:6,className:"h-24 text-center",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(GS,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("p",{children:"Nenhum workflow encontrado."}),r.jsxs(me,{variant:"outline",size:"sm",onClick:b,children:[r.jsx(_t,{className:"mr-2 h-4 w-4"}),"Criar primeiro workflow"]})]})})}):x.map(E=>r.jsxs(pa,{children:[r.jsx(mn,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(el,{className:"h-4 w-4 text-muted-foreground"}),E.name||E._file]})}),r.jsx(mn,{className:"font-mono text-xs text-muted-foreground",children:E._file}),r.jsx(mn,{children:r.jsx(Be,{variant:"outline",children:E.workflow?.type||"unknown"})}),r.jsx(mn,{children:r.jsxs(Be,{variant:"secondary",children:[_(E)," agentes"]})}),r.jsx(mn,{children:r.jsxs(Be,{variant:"secondary",children:[S(E)," steps"]})}),r.jsx(mn,{children:r.jsxs(zl,{children:[r.jsx(Il,{asChild:!0,children:r.jsxs(me,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Abrir menu"}),r.jsx(Dv,{className:"h-4 w-4"})]})}),r.jsxs(Ll,{align:"end",children:[r.jsxs(Zt,{onClick:()=>j(E),children:[r.jsx(fh,{className:"mr-2 h-4 w-4"}),"Editar"]}),r.jsxs(Zt,{onClick:()=>t(`/platform/chat?workflow=${encodeURIComponent(E.name||E._file)}`),children:[r.jsx(mh,{className:"mr-2 h-4 w-4"}),"Executar"]}),r.jsx(ao,{}),r.jsxs(Zt,{className:"text-destructive focus:text-destructive",onClick:()=>p(E),children:[r.jsx(Jn,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})})]},E._file))})]})})]})}),r.jsx(HA,{open:!!h,onOpenChange:E=>!E&&p(null),children:r.jsxs(nb,{children:[r.jsxs(rb,{children:[r.jsx(ab,{children:"Voc tem certeza?"}),r.jsxs(ob,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente o workflow",r.jsxs("span",{className:"font-semibold text-foreground",children:[" ",h?.name||h?._file," "]}),"e remover o arquivo do disco."]})]}),r.jsxs(sb,{children:[r.jsx(lb,{children:"Cancelar"}),r.jsx(ib,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const TG=[{value:"text-embedding-3-small",label:"text-embedding-3-small (Recomendado)"},{value:"text-embedding-3-large",label:"text-embedding-3-large"},{value:"text-embedding-ada-002",label:"text-embedding-ada-002 (Legacy)"}];function RG({open:e,onOpenChange:t,config:n,onSave:s,isSaving:o}){const[l,c]=v.useState(n),[d,f]=v.useState(null);v.useEffect(()=>{e&&(c(n),f(null))},[e,n]);const h=v.useCallback((w,_)=>{c(S=>({...S,[w]:_})),f(null)},[]),p=v.useCallback((w,_)=>{c(S=>({...S,embedding:{model:S.embedding?.model||"text-embedding-3-small",normalize:S.embedding?.normalize??!0,...S.embedding,[w]:_}}))},[]),g=()=>l.enabled&&l.provider==="memory"&&(!l.embedding||!l.embedding.model)?(f("Configurao de Embedding  obrigatria quando o provider  'Memory'"),!1):l.top_k<1||l.top_k>50?(f("Top K deve estar entre 1 e 50"),!1):l.min_score<0||l.min_score>1?(f("Pontuao mnima deve estar entre 0.0 e 1.0"),!1):(f(null),!0),x=async()=>{if(!g())return;const w={...l};(w.provider!=="memory"||!w.enabled)&&w.provider!=="memory"&&(w.embedding=void 0),await s(w),t(!1)},b=()=>{c(Dm),f(null)},j=({value:w,onChange:_,min:S,max:E,step:C=1,disabled:k=!1})=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_(Math.max(S,w-C)),disabled:k||w<=S,children:r.jsx(w0,{className:"h-3 w-3"})}),r.jsx(nt,{type:"number",value:w,onChange:T=>{const M=parseFloat(T.target.value);isNaN(M)||_(Math.min(E,Math.max(S,M)))},min:S,max:E,step:C,className:"w-20 text-center h-8",disabled:k}),r.jsx(me,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>_(Math.min(E,w+C)),disabled:k||w>=E,children:r.jsx(_t,{className:"h-3 w-3"})})]});return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(ps,{children:[r.jsxs(gs,{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),"Configurao do Knowledge Base (RAG)"]}),r.jsx(Mh,{children:"Configure o pipeline de Retrieval Augmented Generation para enriquecer as respostas dos agentes com conhecimento contextual."})]}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${l.enabled?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:r.jsx(Ts,{className:`h-5 w-5 ${l.enabled?"text-green-600 dark:text-green-400":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-base font-medium",children:"RAG Habilitado"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:l.enabled?"Agentes utilizaro contexto da base de conhecimento":"Agentes respondero apenas com conhecimento do modelo"})]})]}),r.jsx(gl,{checked:l.enabled,onCheckedChange:w=>h("enabled",w)})]}),l.enabled&&r.jsxs(r.Fragment,{children:[r.jsx(Xo,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(au,{className:"h-4 w-4"}),"Provedor"]}),r.jsxs(Wt,{value:l.provider,onValueChange:w=>h("provider",w),children:[r.jsx(Xt,{children:r.jsx(Gt,{})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"memory",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qn,{className:"h-4 w-4"}),"Memory (Vector Store Local)"]})}),r.jsx(ot,{value:"azure_search",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Azure AI Search"]})})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:l.provider==="memory"?"Armazenamento vetorial em memria":"Azure Cognitive Search para produo"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(ml,{className:"h-4 w-4"}),"Namespace"]}),r.jsx(nt,{value:l.namespace,onChange:w=>h("namespace",w.target.value),placeholder:"default"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Identificador lgico para segmentar conhecimento"})]})]}),r.jsx(Ge,{children:r.jsxs(Xe,{className:"pt-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Parmetros de Retrieval"]}),r.jsx(Be,{variant:"secondary",children:"Ajuste Fino"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Top K (Quantidade de Trechos)"}),r.jsx(j,{value:l.top_k,onChange:w=>h("top_k",w),min:1,max:50,step:1}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Nmero mximo de trechos retornados (1-50)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Pontuao Mnima"}),r.jsx(j,{value:l.min_score,onChange:w=>h("min_score",w),min:0,max:1,step:.05}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Similaridade mnima para considerar (0.0-1.0)"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(ni,{className:"h-4 w-4"}),"Estratgia de Busca"]}),r.jsxs(Wt,{value:l.strategy,onValueChange:w=>h("strategy",w),children:[r.jsx(Xt,{children:r.jsx(Gt,{})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"last_message",children:"ltima Mensagem"}),r.jsx(ot,{value:"conversation",children:"Conversao Completa"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:l.strategy==="last_message"?"Busca baseada apenas na ltima mensagem do usurio":"Busca considerando todo o histrico da conversa"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-4 w-4"}),"Prompt de Contexto"]}),r.jsx(un,{value:l.context_prompt,onChange:w=>h("context_prompt",w.target.value),placeholder:"Instruo que antecede os trechos recuperados...",rows:3}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensagem que antecede os trechos recuperados no prompt do agente"})]}),l.provider==="memory"&&r.jsxs(r.Fragment,{children:[r.jsx(Xo,{}),r.jsx(Ge,{className:"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20",children:r.jsxs(Xe,{className:"pt-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-amber-600"}),"Configurao de Embeddings"]}),r.jsx(Be,{variant:"outline",className:"text-amber-600 border-amber-300",children:"Obrigatrio"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Modelo de Embedding"}),r.jsxs(Wt,{value:l.embedding?.model||"text-embedding-3-small",onValueChange:w=>p("model",w),children:[r.jsx(Xt,{children:r.jsx(Gt,{})}),r.jsx(Kt,{children:TG.map(w=>r.jsx(ot,{value:w.value,children:w.label},w.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Dimenses (Opcional)"}),r.jsx(nt,{type:"number",value:l.embedding?.dimensions||"",onChange:w=>{const _=w.target.value;p("dimensions",_?parseInt(_):void 0)},placeholder:"Auto",min:1}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe vazio para usar dimenso padro do modelo"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ur,{id:"normalize",checked:l.embedding?.normalize??!0,onCheckedChange:w=>p("normalize",w)}),r.jsx(Te,{htmlFor:"normalize",className:"text-sm font-normal cursor-pointer",children:"Normalizar vetores de embedding"})]})]})})]})]}),d&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400 rounded-lg text-sm",children:[r.jsx(Sr,{className:"h-4 w-4 shrink-0"}),d]})]}),r.jsxs(Ju,{className:"gap-2 sm:gap-0",children:[r.jsx(me,{type:"button",variant:"ghost",onClick:b,disabled:o,children:"Restaurar Padro"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(me,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancelar"}),r.jsx(me,{type:"submit",onClick:x,disabled:o,children:o?"Salvando...":"Salvar Configurao"})]})]})]})})}const Zf=43200,A_=1440,M_=Symbol.for("constructDateFrom");function cb(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&M_ in e?e[M_](t):e instanceof Date?new e.constructor(t):new Date(t)}function fo(e,t){return cb(e,e)}let DG={};function OG(){return DG}function T_(e){const t=fo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ub(e,...t){const n=cb.bind(null,e||t.find(s=>typeof s=="object"));return t.map(n)}function bm(e,t){const n=+fo(e)-+fo(t);return n<0?-1:n>0?1:n}function zG(e){return cb(e,Date.now())}function IG(e,t,n){const[s,o]=ub(n?.in,e,t),l=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return l*12+c}function LG(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function $G(e,t){return+fo(e)-+fo(t)}function PG(e,t){const n=fo(e);return n.setHours(23,59,59,999),n}function UG(e,t){const n=fo(e),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function FG(e,t){const n=fo(e);return+PG(n)==+UG(n)}function VG(e,t,n){const[s,o,l]=ub(n?.in,e,e,t),c=bm(o,l),d=Math.abs(IG(o,l));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let f=bm(o,l)===-c;FG(s)&&d===1&&bm(s,l)===1&&(f=!1);const h=c*(d-+f);return h===0?0:h}function HG(e,t,n){const s=$G(e,t)/1e3;return LG(n?.roundingMethod)(s)}const BG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qG=(e,t,n)=>{let s;const o=BG[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ul(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GG={date:ul({formats:ZG,defaultWidth:"full"}),time:ul({formats:YG,defaultWidth:"full"}),dateTime:ul({formats:WG,defaultWidth:"full"})},XG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KG=(e,t,n,s)=>XG[e];function ks(e){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):c;o=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const QG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sX=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aX={ordinalNumber:sX,era:ks({values:QG,defaultWidth:"wide"}),quarter:ks({values:JG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ks({values:eX,defaultWidth:"wide"}),day:ks({values:tX,defaultWidth:"wide"}),dayPeriod:ks({values:nX,defaultWidth:"wide",formattingValues:rX,defaultFormattingWidth:"wide"})};function As(e){return(t,n={})=>{const s=n.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const c=l[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?iX(d,g=>g.test(c)):oX(d,g=>g.test(c));let h;h=e.valueCallback?e.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(c.length);return{value:h,rest:p}}}function oX(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function iX(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function qA(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const o=s[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const lX=/^(\d+)(th|st|nd|rd)?/i,cX=/\d+/i,uX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dX={any:[/^b/i,/^(a|c)/i]},fX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mX={any:[/1/i,/2/i,/3/i,/4/i]},hX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bX={ordinalNumber:qA({matchPattern:lX,parsePattern:cX,valueCallback:e=>parseInt(e,10)}),era:As({matchPatterns:uX,defaultMatchWidth:"wide",parsePatterns:dX,defaultParseWidth:"any"}),quarter:As({matchPatterns:fX,defaultMatchWidth:"wide",parsePatterns:mX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:As({matchPatterns:hX,defaultMatchWidth:"wide",parsePatterns:pX,defaultParseWidth:"any"}),day:As({matchPatterns:gX,defaultMatchWidth:"wide",parsePatterns:xX,defaultParseWidth:"any"}),dayPeriod:As({matchPatterns:vX,defaultMatchWidth:"any",parsePatterns:yX,defaultParseWidth:"any"})},wX={code:"en-US",formatDistance:qG,formatLong:GG,formatRelative:KG,localize:aX,match:bX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jX(e,t,n){const s=OG(),o=n?.locale??s.locale??wX,l=2520,c=bm(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:c}),[f,h]=ub(n?.in,...c>0?[t,e]:[e,t]),p=HG(h,f),g=(T_(h)-T_(f))/1e3,x=Math.round((p-g)/60);let b;if(x<2)return n?.includeSeconds?p<5?o.formatDistance("lessThanXSeconds",5,d):p<10?o.formatDistance("lessThanXSeconds",10,d):p<20?o.formatDistance("lessThanXSeconds",20,d):p<40?o.formatDistance("halfAMinute",0,d):p<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):x===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",x,d);if(x<45)return o.formatDistance("xMinutes",x,d);if(x<90)return o.formatDistance("aboutXHours",1,d);if(x<A_){const j=Math.round(x/60);return o.formatDistance("aboutXHours",j,d)}else{if(x<l)return o.formatDistance("xDays",1,d);if(x<Zf){const j=Math.round(x/A_);return o.formatDistance("xDays",j,d)}else if(x<Zf*2)return b=Math.round(x/Zf),o.formatDistance("aboutXMonths",b,d)}if(b=VG(h,f),b<12){const j=Math.round(x/Zf);return o.formatDistance("xMonths",j,d)}else{const j=b%12,w=Math.trunc(b/12);return j<3?o.formatDistance("aboutXYears",w,d):j<9?o.formatDistance("overXYears",w,d):o.formatDistance("almostXYears",w+1,d)}}function ZA(e,t){return jX(e,zG(e),t)}const NX={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_X=(e,t,n)=>{let s;const o=NX[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+s:"h "+s:s},SX={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},CX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},EX={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kX={date:ul({formats:SX,defaultWidth:"full"}),time:ul({formats:CX,defaultWidth:"full"}),dateTime:ul({formats:EX,defaultWidth:"full"})},AX={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},MX=(e,t,n,s)=>{const o=AX[e];return typeof o=="function"?o(t):o},TX={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},RX={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},DX={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},OX={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},zX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},IX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},LX=(e,t)=>{const n=Number(e);return t?.unit==="week"?n+"":n+""},$X={ordinalNumber:LX,era:ks({values:TX,defaultWidth:"wide"}),quarter:ks({values:RX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ks({values:DX,defaultWidth:"wide"}),day:ks({values:OX,defaultWidth:"wide"}),dayPeriod:ks({values:zX,defaultWidth:"wide",formattingValues:IX,defaultFormattingWidth:"wide"})},PX=/^(\d+)[o]?/i,UX=/\d+/i,FX={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},VX={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},HX={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},BX={any:[/1/i,/2/i,/3/i,/4/i]},qX={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ZX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},YX={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},WX={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},GX={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},XX={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},KX={ordinalNumber:qA({matchPattern:PX,parsePattern:UX,valueCallback:e=>parseInt(e,10)}),era:As({matchPatterns:FX,defaultMatchWidth:"wide",parsePatterns:VX,defaultParseWidth:"any"}),quarter:As({matchPatterns:HX,defaultMatchWidth:"wide",parsePatterns:BX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:As({matchPatterns:qX,defaultMatchWidth:"wide",parsePatterns:ZX,defaultParseWidth:"any"}),day:As({matchPatterns:YX,defaultMatchWidth:"wide",parsePatterns:WX,defaultParseWidth:"any"}),dayPeriod:As({matchPatterns:GX,defaultMatchWidth:"any",parsePatterns:XX,defaultParseWidth:"any"})},YA={code:"pt-BR",formatDistance:_X,formatLong:kX,formatRelative:MX,localize:$X,match:KX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QX({collections:e,selectedId:t,isLoading:n,onSelect:s,onDelete:o,onRefresh:l,onCreateNew:c}){return r.jsxs("div",{className:"flex flex-col h-full border rounded-xl bg-background shadow-sm",children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/20",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(Qn,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"Colees"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," total"]})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(),disabled:n,title:"Atualizar colees",children:r.jsx(io,{className:`h-4 w-4 ${n?"animate-spin":""}`})}),r.jsxs(me,{size:"sm",className:"h-8",onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Nova"]})]})]}),r.jsx(Fn,{className:"flex-1",children:r.jsx("div",{className:"p-2 space-y-1.5",children:n&&e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(io,{className:"h-6 w-6 animate-spin mb-2"}),r.jsx("p",{className:"text-sm",children:"Carregando colees..."})]}):e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center px-4",children:[r.jsx("div",{className:"p-4 bg-muted/30 rounded-full mb-4",children:r.jsx(Qn,{className:"h-8 w-8 text-muted-foreground/50"})}),r.jsx("h4",{className:"font-medium text-sm mb-1",children:"Nenhuma coleo ainda"}),r.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Crie sua primeira coleo para comear a organizar documentos."}),r.jsxs(me,{size:"sm",variant:"outline",onClick:c,children:[r.jsx(_t,{className:"h-4 w-4 mr-1"}),"Criar Coleo"]})]}):e.map(d=>r.jsxs("div",{className:$e("group relative p-3 rounded-lg border cursor-pointer transition-all duration-200","hover:shadow-md hover:border-primary/30",t===d.id?"bg-primary/5 border-primary/50 shadow-sm ring-1 ring-primary/20":"bg-card hover:bg-accent/30"),onClick:()=>s(d),children:[t===d.id&&r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-r-full"}),r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex items-start gap-2.5 min-w-0 flex-1",children:[r.jsx("div",{className:$e("p-1.5 rounded-md mt-0.5 shrink-0",t===d.id?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:r.jsx(lO,{className:"h-4 w-4"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:"font-medium text-sm truncate leading-tight",children:d.name}),d.description&&r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-0.5",children:d.description})]})]}),r.jsx(me,{variant:"ghost",size:"icon",className:$e("h-7 w-7 shrink-0 transition-all","opacity-0 group-hover:opacity-100","text-muted-foreground hover:text-destructive hover:bg-destructive/10"),onClick:f=>{f.stopPropagation(),confirm("Excluir esta coleo? Todos os documentos sero removidos.")&&o(d.id)},children:r.jsx(Jn,{className:"h-3.5 w-3.5"})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2.5 pt-2 border-t border-dashed",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(Vn,{className:"h-3 w-3"}),r.jsx("span",{children:d.document_count})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(ml,{className:"h-3 w-3"}),r.jsx("span",{children:d.chunk_count})]})]}),r.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[r.jsx(w6,{className:"h-3 w-3"}),ZA(new Date(d.updated_at),{addSuffix:!0,locale:YA})]})]}),d.tags&&d.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[d.tags.slice(0,3).map(f=>r.jsx(Be,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:f},f)),d.tags.length>3&&r.jsxs(Be,{variant:"outline",className:"text-[10px] h-4 px-1.5",children:["+",d.tags.length-3]})]})]},d.id))})})]})}var ud=e=>e.type==="checkbox",Lo=e=>e instanceof Date,ir=e=>e==null;const WA=e=>typeof e=="object";var yn=e=>!ir(e)&&!Array.isArray(e)&&WA(e)&&!Lo(e),GA=e=>yn(e)&&e.target?ud(e.target)?e.target.checked:e.target.value:e,JX=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,XA=(e,t)=>e.has(JX(t)),eK=e=>{const t=e.constructor&&e.constructor.prototype;return yn(t)&&t.hasOwnProperty("isPrototypeOf")},db=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sn(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(db&&(e instanceof Blob||s))&&(n||yn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!eK(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Sn(e[o]));else return e;return t}var sp=e=>/^\w*$/.test(e),cn=e=>e===void 0,fb=e=>Array.isArray(e)?e.filter(Boolean):[],mb=e=>fb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,n)=>{if(!t||!yn(e))return n;const s=(sp(t)?[t]:mb(t)).reduce((o,l)=>ir(o)?o:o[l],e);return cn(s)||s===e?cn(e[t])?n:e[t]:s},yr=e=>typeof e=="boolean",Rt=(e,t,n)=>{let s=-1;const o=sp(t)?[t]:mb(t),l=o.length,c=l-1;for(;++s<l;){const d=o[s];let f=n;if(s!==c){const h=e[d];f=yn(h)||Array.isArray(h)?h:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=f,e=e[d]}};const eh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hb=Le.createContext(null);hb.displayName="HookFormContext";const ap=()=>Le.useContext(hb),tK=e=>{const{children:t,...n}=e;return Le.createElement(hb.Provider,{value:n},t)};var KA=(e,t,n,s=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return t._proxyFormState[c]!==ts.all&&(t._proxyFormState[c]=!s||ts.all),n&&(n[c]=!0),e[c]}});return o};const pb=typeof window<"u"?Le.useLayoutEffect:Le.useEffect;function nK(e){const t=ap(),{control:n=t.control,disabled:s,name:o,exact:l}=e||{},[c,d]=Le.useState(n._formState),f=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return pb(()=>n._subscribe({name:o,formState:f.current,exact:l,callback:h=>{!s&&d({...n._formState,...h})}}),[o,s,l]),Le.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Le.useMemo(()=>KA(c,n,f.current,!1),[c,n])}var jr=e=>typeof e=="string",uv=(e,t,n,s,o)=>jr(e)?(s&&t.watch.add(e),Oe(n,e,o)):Array.isArray(e)?e.map(l=>(s&&t.watch.add(l),Oe(n,l))):(s&&(t.watchAll=!0),n),dv=e=>ir(e)||!WA(e);function ns(e,t,n=new WeakSet){if(dv(e)||dv(t))return Object.is(e,t);if(Lo(e)&&Lo(t))return e.getTime()===t.getTime();const s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of s){const c=e[l];if(!o.includes(l))return!1;if(l!=="ref"){const d=t[l];if(Lo(c)&&Lo(d)||yn(c)&&yn(d)||Array.isArray(c)&&Array.isArray(d)?!ns(c,d,n):!Object.is(c,d))return!1}}return!0}function rK(e){const t=ap(),{control:n=t.control,name:s,defaultValue:o,disabled:l,exact:c,compute:d}=e||{},f=Le.useRef(o),h=Le.useRef(d),p=Le.useRef(void 0),g=Le.useRef(n),x=Le.useRef(s);h.current=d;const[b,j]=Le.useState(()=>{const k=n._getWatch(s,f.current);return h.current?h.current(k):k}),w=Le.useCallback(k=>{const T=uv(s,n._names,k||n._formValues,!1,f.current);return h.current?h.current(T):T},[n._formValues,n._names,s]),_=Le.useCallback(k=>{if(!l){const T=uv(s,n._names,k||n._formValues,!1,f.current);if(h.current){const M=h.current(T);ns(M,p.current)||(j(M),p.current=M)}else j(T)}},[n._formValues,n._names,l,s]);pb(()=>((g.current!==n||!ns(x.current,s))&&(g.current=n,x.current=s,_()),n._subscribe({name:s,formState:{values:!0},exact:c,callback:k=>{_(k.values)}})),[n,c,s,_]),Le.useEffect(()=>n._removeUnmounted());const S=g.current!==n,E=x.current,C=Le.useMemo(()=>{if(l)return null;const k=!S&&!ns(E,s);return S||k?w():null},[l,S,s,E,w]);return C!==null?C:b}function sK(e){const t=ap(),{name:n,disabled:s,control:o=t.control,shouldUnregister:l,defaultValue:c,exact:d=!0}=e,f=XA(o._names.array,n),h=Le.useMemo(()=>Oe(o._formValues,n,Oe(o._defaultValues,n,c)),[o,n,c]),p=rK({control:o,name:n,defaultValue:h,exact:d}),g=nK({control:o,name:n,exact:d}),x=Le.useRef(e),b=Le.useRef(void 0),j=Le.useRef(o.register(n,{...e.rules,value:p,...yr(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const w=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(g.errors,n)},isDirty:{enumerable:!0,get:()=>!!Oe(g.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Oe(g.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Oe(g.validatingFields,n)},error:{enumerable:!0,get:()=>Oe(g.errors,n)}}),[g,n]),_=Le.useCallback(k=>j.current.onChange({target:{value:GA(k),name:n},type:eh.CHANGE}),[n]),S=Le.useCallback(()=>j.current.onBlur({target:{value:Oe(o._formValues,n),name:n},type:eh.BLUR}),[n,o._formValues]),E=Le.useCallback(k=>{const T=Oe(o._fields,n);T&&k&&(T._f.ref={focus:()=>k.focus&&k.focus(),select:()=>k.select&&k.select(),setCustomValidity:M=>k.setCustomValidity(M),reportValidity:()=>k.reportValidity()})},[o._fields,n]),C=Le.useMemo(()=>({name:n,value:p,...yr(s)||g.disabled?{disabled:g.disabled||s}:{},onChange:_,onBlur:S,ref:E}),[n,s,g.disabled,_,S,E,p]);return Le.useEffect(()=>{const k=o._options.shouldUnregister||l,T=b.current;T&&T!==n&&!f&&o.unregister(T),o.register(n,{...x.current.rules,...yr(x.current.disabled)?{disabled:x.current.disabled}:{}});const M=(O,I)=>{const U=Oe(o._fields,O);U&&U._f&&(U._f.mount=I)};if(M(n,!0),k){const O=Sn(Oe(o._options.defaultValues,n,x.current.defaultValue));Rt(o._defaultValues,n,O),cn(Oe(o._formValues,n))&&Rt(o._formValues,n,O)}return!f&&o.register(n),b.current=n,()=>{(f?k&&!o._state.action:k)?o.unregister(n):M(n,!1)}},[n,o,f,l]),Le.useEffect(()=>{o._setDisabledField({disabled:s,name:n})},[s,n,o]),Le.useMemo(()=>({field:C,formState:g,fieldState:w}),[C,g,w])}const aK=e=>e.render(sK(e));var gb=(e,t,n,s,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:o||!0}}:{},mu=e=>Array.isArray(e)?e:[e],R_=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}};function QA(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const o=e[s],l=t[s];if(o&&yn(o)&&l){const c=QA(o,l);yn(c)&&(n[s]=c)}else e[s]&&(n[s]=l)}return n}var Xn=e=>yn(e)&&!Object.keys(e).length,xb=e=>e.type==="file",rs=e=>typeof e=="function",th=e=>{if(!db)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},JA=e=>e.type==="select-multiple",vb=e=>e.type==="radio",oK=e=>vb(e)||ud(e),d0=e=>th(e)&&e.isConnected;function iK(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=cn(e)?s++:e[t[s++]];return e}function lK(e){for(const t in e)if(e.hasOwnProperty(t)&&!cn(e[t]))return!1;return!0}function vn(e,t){const n=Array.isArray(t)?t:sp(t)?[t]:mb(t),s=n.length===1?e:iK(e,n),o=n.length-1,l=n[o];return s&&delete s[l],o!==0&&(yn(s)&&Xn(s)||Array.isArray(s)&&lK(s))&&vn(e,n.slice(0,-1)),e}var cK=e=>{for(const t in e)if(rs(e[t]))return!0;return!1};function e5(e){return Array.isArray(e)||yn(e)&&!cK(e)}function fv(e,t={}){for(const n in e){const s=e[n];e5(s)?(t[n]=Array.isArray(s)?[]:{},fv(s,t[n])):cn(s)||(t[n]=!0)}return t}function Xi(e,t,n){n||(n=fv(t));for(const s in e){const o=e[s];if(e5(o))cn(t)||dv(n[s])?n[s]=fv(o,Array.isArray(o)?[]:{}):Xi(o,ir(t)?{}:t[s],n[s]);else{const l=t[s];n[s]=!ns(o,l)}}return n}const D_={value:!1,isValid:!1},O_={value:!0,isValid:!0};var t5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cn(e[0].attributes.value)?cn(e[0].value)||e[0].value===""?O_:{value:e[0].value,isValid:!0}:O_:D_}return D_},n5=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>cn(e)?e:t?e===""?NaN:e&&+e:n&&jr(e)?new Date(e):s?s(e):e;const z_={isValid:!1,value:null};var r5=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,z_):z_;function I_(e){const t=e.ref;return xb(t)?t.files:vb(t)?r5(e.refs).value:JA(t)?[...t.selectedOptions].map(({value:n})=>n):ud(t)?t5(e.refs).value:n5(cn(t.value)?e.ref.value:t.value,e)}var uK=(e,t,n,s)=>{const o={};for(const l of e){const c=Oe(t,l);c&&Rt(o,l,c._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:s}},nh=e=>e instanceof RegExp,Xc=e=>cn(e)?e:nh(e)?e.source:yn(e)?nh(e.value)?e.value.source:e.value:e,L_=e=>({isOnSubmit:!e||e===ts.onSubmit,isOnBlur:e===ts.onBlur,isOnChange:e===ts.onChange,isOnAll:e===ts.all,isOnTouch:e===ts.onTouched});const $_="AsyncFunction";var dK=e=>!!e&&!!e.validate&&!!(rs(e.validate)&&e.validate.constructor.name===$_||yn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$_)),fK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),P_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const hu=(e,t,n,s)=>{for(const o of n||Object.keys(e)){const l=Oe(e,o);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!s)return!0;if(c.ref&&t(c.ref,c.name)&&!s)return!0;if(hu(d,t))break}else if(yn(d)&&hu(d,t))break}}};function U_(e,t,n){const s=Oe(e,n);if(s||sp(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),c=Oe(t,l),d=Oe(e,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};o.pop()}return{name:n}}var mK=(e,t,n,s)=>{n(e);const{name:o,...l}=e;return Xn(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!s||ts.all))},hK=(e,t,n)=>!e||!t||e===t||mu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),pK=(e,t,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?s.isOnBlur:o.isOnBlur)?!e:(n?s.isOnChange:o.isOnChange)?e:!0,gK=(e,t)=>!fb(Oe(e,t)).length&&vn(e,t),xK=(e,t,n)=>{const s=mu(Oe(e,n));return Rt(s,"root",t[n]),Rt(e,n,s),e};function F_(e,t,n="validate"){if(jr(e)||Array.isArray(e)&&e.every(jr)||yr(e)&&!e)return{type:n,message:jr(e)?e:"",ref:t}}var Gi=e=>yn(e)&&!nh(e)?e:{value:e,message:""},V_=async(e,t,n,s,o,l)=>{const{ref:c,refs:d,required:f,maxLength:h,minLength:p,min:g,max:x,pattern:b,validate:j,name:w,valueAsNumber:_,mount:S}=e._f,E=Oe(n,w);if(!S||t.has(w))return{};const C=d?d[0]:c,k=Y=>{o&&C.reportValidity&&(C.setCustomValidity(yr(Y)?"":Y||""),C.reportValidity())},T={},M=vb(c),O=ud(c),I=M||O,U=(_||xb(c))&&cn(c.value)&&cn(E)||th(c)&&c.value===""||E===""||Array.isArray(E)&&!E.length,Z=gb.bind(null,w,s,T),X=(Y,q,R,$=ma.maxLength,A=ma.minLength)=>{const L=Y?q:R;T[w]={type:Y?$:A,message:L,ref:c,...Z(Y?$:A,L)}};if(l?!Array.isArray(E)||!E.length:f&&(!I&&(U||ir(E))||yr(E)&&!E||O&&!t5(d).isValid||M&&!r5(d).isValid)){const{value:Y,message:q}=jr(f)?{value:!!f,message:f}:Gi(f);if(Y&&(T[w]={type:ma.required,message:q,ref:C,...Z(ma.required,q)},!s))return k(q),T}if(!U&&(!ir(g)||!ir(x))){let Y,q;const R=Gi(x),$=Gi(g);if(!ir(E)&&!isNaN(E)){const A=c.valueAsNumber||E&&+E;ir(R.value)||(Y=A>R.value),ir($.value)||(q=A<$.value)}else{const A=c.valueAsDate||new Date(E),L=z=>new Date(new Date().toDateString()+" "+z),F=c.type=="time",B=c.type=="week";jr(R.value)&&E&&(Y=F?L(E)>L(R.value):B?E>R.value:A>new Date(R.value)),jr($.value)&&E&&(q=F?L(E)<L($.value):B?E<$.value:A<new Date($.value))}if((Y||q)&&(X(!!Y,R.message,$.message,ma.max,ma.min),!s))return k(T[w].message),T}if((h||p)&&!U&&(jr(E)||l&&Array.isArray(E))){const Y=Gi(h),q=Gi(p),R=!ir(Y.value)&&E.length>+Y.value,$=!ir(q.value)&&E.length<+q.value;if((R||$)&&(X(R,Y.message,q.message),!s))return k(T[w].message),T}if(b&&!U&&jr(E)){const{value:Y,message:q}=Gi(b);if(nh(Y)&&!E.match(Y)&&(T[w]={type:ma.pattern,message:q,ref:c,...Z(ma.pattern,q)},!s))return k(q),T}if(j){if(rs(j)){const Y=await j(E,n),q=F_(Y,C);if(q&&(T[w]={...q,...Z(ma.validate,q.message)},!s))return k(q.message),T}else if(yn(j)){let Y={};for(const q in j){if(!Xn(Y)&&!s)break;const R=F_(await j[q](E,n),C,q);R&&(Y={...R,...Z(q,R.message)},k(R.message),s&&(T[w]=Y))}if(!Xn(Y)&&(T[w]={ref:C,...Y},!s))return T}}return k(!0),T};const vK={mode:ts.onSubmit,reValidateMode:ts.onChange,shouldFocusError:!0};function yK(e={}){let t={...vK,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:rs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},o=yn(t.defaultValues)||yn(t.values)?Sn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:Sn(o),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const x={array:R_(),state:R_()},b=t.criteriaMode===ts.all,j=W=>se=>{clearTimeout(h),h=setTimeout(W,se)},w=async W=>{if(!t.disabled&&(p.isValid||g.isValid||W)){const se=t.resolver?Xn((await O()).errors):await U(s,!0);se!==n.isValid&&x.state.next({isValid:se})}},_=(W,se)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((W||Array.from(d.mount)).forEach(he=>{he&&(se?Rt(n.validatingFields,he,se):vn(n.validatingFields,he))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},S=(W,se=[],he,Me,Ae=!0,V=!0)=>{if(Me&&he&&!t.disabled){if(c.action=!0,V&&Array.isArray(Oe(s,W))){const oe=he(Oe(s,W),Me.argA,Me.argB);Ae&&Rt(s,W,oe)}if(V&&Array.isArray(Oe(n.errors,W))){const oe=he(Oe(n.errors,W),Me.argA,Me.argB);Ae&&Rt(n.errors,W,oe),gK(n.errors,W)}if((p.touchedFields||g.touchedFields)&&V&&Array.isArray(Oe(n.touchedFields,W))){const oe=he(Oe(n.touchedFields,W),Me.argA,Me.argB);Ae&&Rt(n.touchedFields,W,oe)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Xi(o,l)),x.state.next({name:W,isDirty:X(W,se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rt(l,W,se)},E=(W,se)=>{Rt(n.errors,W,se),x.state.next({errors:n.errors})},C=W=>{n.errors=W,x.state.next({errors:n.errors,isValid:!1})},k=(W,se,he,Me)=>{const Ae=Oe(s,W);if(Ae){const V=Oe(l,W,cn(he)?Oe(o,W):he);cn(V)||Me&&Me.defaultChecked||se?Rt(l,W,se?V:I_(Ae._f)):R(W,V),c.mount&&!c.action&&w()}},T=(W,se,he,Me,Ae)=>{let V=!1,oe=!1;const ne={name:W};if(!t.disabled){if(!he||Me){(p.isDirty||g.isDirty)&&(oe=n.isDirty,n.isDirty=ne.isDirty=X(),V=oe!==ne.isDirty);const xe=ns(Oe(o,W),se);oe=!!Oe(n.dirtyFields,W),xe?vn(n.dirtyFields,W):Rt(n.dirtyFields,W,!0),ne.dirtyFields=n.dirtyFields,V=V||(p.dirtyFields||g.dirtyFields)&&oe!==!xe}if(he){const xe=Oe(n.touchedFields,W);xe||(Rt(n.touchedFields,W,he),ne.touchedFields=n.touchedFields,V=V||(p.touchedFields||g.touchedFields)&&xe!==he)}V&&Ae&&x.state.next(ne)}return V?ne:{}},M=(W,se,he,Me)=>{const Ae=Oe(n.errors,W),V=(p.isValid||g.isValid)&&yr(se)&&n.isValid!==se;if(t.delayError&&he?(f=j(()=>E(W,he)),f(t.delayError)):(clearTimeout(h),f=null,he?Rt(n.errors,W,he):vn(n.errors,W)),(he?!ns(Ae,he):Ae)||!Xn(Me)||V){const oe={...Me,...V&&yr(se)?{isValid:se}:{},errors:n.errors,name:W};n={...n,...oe},x.state.next(oe)}},O=async W=>{_(W,!0);const se=await t.resolver(l,t.context,uK(W||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return _(W),se},I=async W=>{const{errors:se}=await O(W);if(W)for(const he of W){const Me=Oe(se,he);Me?Rt(n.errors,he,Me):vn(n.errors,he)}else n.errors=se;return se},U=async(W,se,he={valid:!0})=>{for(const Me in W){const Ae=W[Me];if(Ae){const{_f:V,...oe}=Ae;if(V){const ne=d.array.has(V.name),xe=Ae._f&&dK(Ae._f);xe&&p.validatingFields&&_([V.name],!0);const ve=await V_(Ae,d.disabled,l,b,t.shouldUseNativeValidation&&!se,ne);if(xe&&p.validatingFields&&_([V.name]),ve[V.name]&&(he.valid=!1,se))break;!se&&(Oe(ve,V.name)?ne?xK(n.errors,ve,V.name):Rt(n.errors,V.name,ve[V.name]):vn(n.errors,V.name))}!Xn(oe)&&await U(oe,se,he)}}return he.valid},Z=()=>{for(const W of d.unMount){const se=Oe(s,W);se&&(se._f.refs?se._f.refs.every(he=>!d0(he)):!d0(se._f.ref))&&ae(W)}d.unMount=new Set},X=(W,se)=>!t.disabled&&(W&&se&&Rt(l,W,se),!ns(z(),o)),Y=(W,se,he)=>uv(W,d,{...c.mount?l:cn(se)?o:jr(W)?{[W]:se}:se},he,se),q=W=>fb(Oe(c.mount?l:o,W,t.shouldUnregister?Oe(o,W,[]):[])),R=(W,se,he={})=>{const Me=Oe(s,W);let Ae=se;if(Me){const V=Me._f;V&&(!V.disabled&&Rt(l,W,n5(se,V)),Ae=th(V.ref)&&ir(se)?"":se,JA(V.ref)?[...V.ref.options].forEach(oe=>oe.selected=Ae.includes(oe.value)):V.refs?ud(V.ref)?V.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(Ae)?oe.checked=!!Ae.find(ne=>ne===oe.value):oe.checked=Ae===oe.value||!!Ae)}):V.refs.forEach(oe=>oe.checked=oe.value===Ae):xb(V.ref)?V.ref.value="":(V.ref.value=Ae,V.ref.type||x.state.next({name:W,values:Sn(l)})))}(he.shouldDirty||he.shouldTouch)&&T(W,Ae,he.shouldTouch,he.shouldDirty,!0),he.shouldValidate&&B(W)},$=(W,se,he)=>{for(const Me in se){if(!se.hasOwnProperty(Me))return;const Ae=se[Me],V=W+"."+Me,oe=Oe(s,V);(d.array.has(W)||yn(Ae)||oe&&!oe._f)&&!Lo(Ae)?$(V,Ae,he):R(V,Ae,he)}},A=(W,se,he={})=>{const Me=Oe(s,W),Ae=d.array.has(W),V=Sn(se);Rt(l,W,V),Ae?(x.array.next({name:W,values:Sn(l)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&he.shouldDirty&&x.state.next({name:W,dirtyFields:Xi(o,l),isDirty:X(W,V)})):Me&&!Me._f&&!ir(V)?$(W,V,he):R(W,V,he),P_(W,d)&&x.state.next({...n,name:W}),x.state.next({name:c.mount?W:void 0,values:Sn(l)})},L=async W=>{c.mount=!0;const se=W.target;let he=se.name,Me=!0;const Ae=Oe(s,he),V=xe=>{Me=Number.isNaN(xe)||Lo(xe)&&isNaN(xe.getTime())||ns(xe,Oe(l,he,xe))},oe=L_(t.mode),ne=L_(t.reValidateMode);if(Ae){let xe,ve;const ke=se.type?I_(Ae._f):GA(W),De=W.type===eh.BLUR||W.type===eh.FOCUS_OUT,He=!fK(Ae._f)&&!t.resolver&&!Oe(n.errors,he)&&!Ae._f.deps||pK(De,Oe(n.touchedFields,he),n.isSubmitted,ne,oe),mt=P_(he,d,De);Rt(l,he,ke),De?(!se||!se.readOnly)&&(Ae._f.onBlur&&Ae._f.onBlur(W),f&&f(0)):Ae._f.onChange&&Ae._f.onChange(W);const St=T(he,ke,De),ct=!Xn(St)||mt;if(!De&&x.state.next({name:he,type:W.type,values:Sn(l)}),He)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?De&&w():De||w()),ct&&x.state.next({name:he,...mt?{}:St});if(!De&&mt&&x.state.next({...n}),t.resolver){const{errors:At}=await O([he]);if(V(ke),Me){const Ie=U_(n.errors,s,he),Ot=U_(At,s,Ie.name||he);xe=Ot.error,he=Ot.name,ve=Xn(At)}}else _([he],!0),xe=(await V_(Ae,d.disabled,l,b,t.shouldUseNativeValidation))[he],_([he]),V(ke),Me&&(xe?ve=!1:(p.isValid||g.isValid)&&(ve=await U(s,!0)));Me&&(Ae._f.deps&&(!Array.isArray(Ae._f.deps)||Ae._f.deps.length>0)&&B(Ae._f.deps),M(he,ve,xe,St))}},F=(W,se)=>{if(Oe(n.errors,se)&&W.focus)return W.focus(),1},B=async(W,se={})=>{let he,Me;const Ae=mu(W);if(t.resolver){const V=await I(cn(W)?W:Ae);he=Xn(V),Me=W?!Ae.some(oe=>Oe(V,oe)):he}else W?(Me=(await Promise.all(Ae.map(async V=>{const oe=Oe(s,V);return await U(oe&&oe._f?{[V]:oe}:oe)}))).every(Boolean),!(!Me&&!n.isValid)&&w()):Me=he=await U(s);return x.state.next({...!jr(W)||(p.isValid||g.isValid)&&he!==n.isValid?{}:{name:W},...t.resolver||!W?{isValid:he}:{},errors:n.errors}),se.shouldFocus&&!Me&&hu(s,F,W?Ae:d.mount),Me},z=(W,se)=>{let he={...c.mount?l:o};return se&&(he=QA(se.dirtyFields?n.dirtyFields:n.touchedFields,he)),cn(W)?he:jr(W)?Oe(he,W):W.map(Me=>Oe(he,Me))},H=(W,se)=>({invalid:!!Oe((se||n).errors,W),isDirty:!!Oe((se||n).dirtyFields,W),error:Oe((se||n).errors,W),isValidating:!!Oe(n.validatingFields,W),isTouched:!!Oe((se||n).touchedFields,W)}),J=W=>{W&&mu(W).forEach(se=>vn(n.errors,se)),x.state.next({errors:W?n.errors:{}})},K=(W,se,he)=>{const Me=(Oe(s,W,{_f:{}})._f||{}).ref,Ae=Oe(n.errors,W)||{},{ref:V,message:oe,type:ne,...xe}=Ae;Rt(n.errors,W,{...xe,...se,ref:Me}),x.state.next({name:W,errors:n.errors,isValid:!1}),he&&he.shouldFocus&&Me&&Me.focus&&Me.focus()},ie=(W,se)=>rs(W)?x.state.subscribe({next:he=>"values"in he&&W(Y(void 0,se),he)}):Y(W,se,!0),ge=W=>x.state.subscribe({next:se=>{hK(W.name,se.name,W.exact)&&mK(se,W.formState||p,xt,W.reRenderRoot)&&W.callback({values:{...l},...n,...se,defaultValues:o})}}).unsubscribe,ye=W=>(c.mount=!0,g={...g,...W.formState},ge({...W,formState:g})),ae=(W,se={})=>{for(const he of W?mu(W):d.mount)d.mount.delete(he),d.array.delete(he),se.keepValue||(vn(s,he),vn(l,he)),!se.keepError&&vn(n.errors,he),!se.keepDirty&&vn(n.dirtyFields,he),!se.keepTouched&&vn(n.touchedFields,he),!se.keepIsValidating&&vn(n.validatingFields,he),!t.shouldUnregister&&!se.keepDefaultValue&&vn(o,he);x.state.next({values:Sn(l)}),x.state.next({...n,...se.keepDirty?{isDirty:X()}:{}}),!se.keepIsValid&&w()},de=({disabled:W,name:se})=>{(yr(W)&&c.mount||W||d.disabled.has(se))&&(W?d.disabled.add(se):d.disabled.delete(se))},te=(W,se={})=>{let he=Oe(s,W);const Me=yr(se.disabled)||yr(t.disabled);return Rt(s,W,{...he||{},_f:{...he&&he._f?he._f:{ref:{name:W}},name:W,mount:!0,...se}}),d.mount.add(W),he?de({disabled:yr(se.disabled)?se.disabled:t.disabled,name:W}):k(W,!0,se.value),{...Me?{disabled:se.disabled||t.disabled}:{},...t.progressive?{required:!!se.required,min:Xc(se.min),max:Xc(se.max),minLength:Xc(se.minLength),maxLength:Xc(se.maxLength),pattern:Xc(se.pattern)}:{},name:W,onChange:L,onBlur:L,ref:Ae=>{if(Ae){te(W,se),he=Oe(s,W);const V=cn(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,oe=oK(V),ne=he._f.refs||[];if(oe?ne.find(xe=>xe===V):V===he._f.ref)return;Rt(s,W,{_f:{...he._f,...oe?{refs:[...ne.filter(d0),V,...Array.isArray(Oe(o,W))?[{}]:[]],ref:{type:V.type,name:W}}:{ref:V}}}),k(W,!1,void 0,V)}else he=Oe(s,W,{}),he._f&&(he._f.mount=!1),(t.shouldUnregister||se.shouldUnregister)&&!(XA(d.array,W)&&c.action)&&d.unMount.add(W)}}},pe=()=>t.shouldFocusError&&hu(s,F,d.mount),Se=W=>{yr(W)&&(x.state.next({disabled:W}),hu(s,(se,he)=>{const Me=Oe(s,he);Me&&(se.disabled=Me._f.disabled||W,Array.isArray(Me._f.refs)&&Me._f.refs.forEach(Ae=>{Ae.disabled=Me._f.disabled||W}))},0,!1))},Q=(W,se)=>async he=>{let Me;he&&(he.preventDefault&&he.preventDefault(),he.persist&&he.persist());let Ae=Sn(l);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:V,values:oe}=await O();n.errors=V,Ae=Sn(oe)}else await U(s);if(d.disabled.size)for(const V of d.disabled)vn(Ae,V);if(vn(n.errors,"root"),Xn(n.errors)){x.state.next({errors:{}});try{await W(Ae,he)}catch(V){Me=V}}else se&&await se({...n.errors},he),pe(),setTimeout(pe);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!Me,submitCount:n.submitCount+1,errors:n.errors}),Me)throw Me},Ne=(W,se={})=>{Oe(s,W)&&(cn(se.defaultValue)?A(W,Sn(Oe(o,W))):(A(W,se.defaultValue),Rt(o,W,Sn(se.defaultValue))),se.keepTouched||vn(n.touchedFields,W),se.keepDirty||(vn(n.dirtyFields,W),n.isDirty=se.defaultValue?X(W,Sn(Oe(o,W))):X()),se.keepError||(vn(n.errors,W),p.isValid&&w()),x.state.next({...n}))},Re=(W,se={})=>{const he=W?Sn(W):o,Me=Sn(he),Ae=Xn(W),V=Ae?o:Me;if(se.keepDefaultValues||(o=he),!se.keepValues){if(se.keepDirtyValues){const oe=new Set([...d.mount,...Object.keys(Xi(o,l))]);for(const ne of Array.from(oe))Oe(n.dirtyFields,ne)?Rt(V,ne,Oe(l,ne)):A(ne,Oe(V,ne))}else{if(db&&cn(W))for(const oe of d.mount){const ne=Oe(s,oe);if(ne&&ne._f){const xe=Array.isArray(ne._f.refs)?ne._f.refs[0]:ne._f.ref;if(th(xe)){const ve=xe.closest("form");if(ve){ve.reset();break}}}}if(se.keepFieldsRef)for(const oe of d.mount)A(oe,Oe(V,oe));else s={}}l=t.shouldUnregister?se.keepDefaultValues?Sn(o):{}:Sn(V),x.array.next({values:{...V}}),x.state.next({values:{...V}})}d={mount:se.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!se.keepIsValid||!!se.keepDirtyValues||!t.shouldUnregister&&!Xn(V),c.watch=!!t.shouldUnregister,x.state.next({submitCount:se.keepSubmitCount?n.submitCount:0,isDirty:Ae?!1:se.keepDirty?n.isDirty:!!(se.keepDefaultValues&&!ns(W,o)),isSubmitted:se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ae?{}:se.keepDirtyValues?se.keepDefaultValues&&l?Xi(o,l):n.dirtyFields:se.keepDefaultValues&&W?Xi(o,W):se.keepDirty?n.dirtyFields:{},touchedFields:se.keepTouched?n.touchedFields:{},errors:se.keepErrors?n.errors:{},isSubmitSuccessful:se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Pe=(W,se)=>Re(rs(W)?W(l):W,se),at=(W,se={})=>{const he=Oe(s,W),Me=he&&he._f;if(Me){const Ae=Me.refs?Me.refs[0]:Me.ref;Ae.focus&&(Ae.focus(),se.shouldSelect&&rs(Ae.select)&&Ae.select())}},xt=W=>{n={...n,...W}},wn={control:{register:te,unregister:ae,getFieldState:H,handleSubmit:Q,setError:K,_subscribe:ge,_runSchema:O,_focusError:pe,_getWatch:Y,_getDirty:X,_setValid:w,_setFieldArray:S,_setDisabledField:de,_setErrors:C,_getFieldArray:q,_reset:Re,_resetDefaultValues:()=>rs(t.defaultValues)&&t.defaultValues().then(W=>{Pe(W,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:Se,_subjects:x,_proxyFormState:p,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(W){c=W},get _defaultValues(){return o},get _names(){return d},set _names(W){d=W},get _formState(){return n},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:ye,trigger:B,register:te,handleSubmit:Q,watch:ie,setValue:A,getValues:z,reset:Pe,resetField:Ne,clearErrors:J,unregister:ae,setError:K,setFocus:at,getFieldState:H};return{...wn,formControl:wn}}function bK(e={}){const t=Le.useRef(void 0),n=Le.useRef(void 0),[s,o]=Le.useState({isDirty:!1,isValidating:!1,isLoading:rs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:rs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!rs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...d}=yK(e);t.current={...d,formState:s}}const l=t.current.control;return l._options=e,pb(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Le.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Le.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),Le.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),Le.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),Le.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),Le.useEffect(()=>{var c;e.values&&!ns(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),n.current=e.values,o(d=>({...d}))):l._resetDefaultValues()},[l,e.values]),Le.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=KA(s,l),t.current}const H_=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Oe(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},mv=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?H_(s.ref,n,e):s&&s.refs&&s.refs.forEach(o=>H_(o,n,e))}},B_=(e,t)=>{t.shouldUseNativeValidation&&mv(e,t);const n={};for(const s in e){const o=Oe(t.fields,s),l=Object.assign(e[s]||{},{ref:o&&o.ref});if(wK(t.names||Object.keys(e),s)){const c=Object.assign({},Oe(n,s));Rt(c,"root",l),Rt(n,s,c)}else Rt(n,s,l)}return n},wK=(e,t)=>{const n=q_(t);return e.some(s=>q_(s).match(`^${n}\\.\\d+`))};function q_(e){return e.replace(/\]|\[/g,"")}function Ee(e,t,n){function s(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,f);const h=c.prototype,p=Object.keys(h);for(let g=0;g<p.length;g++){const x=p[g];x in d||(d[x]=h[x].bind(d))}}const o=n?.Parent??Object;class l extends o{}Object.defineProperty(l,"name",{value:e});function c(d){var f;const h=n?.Parent?new l:this;s(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const p of h._zod.deferred)p();return h}return Object.defineProperty(c,"init",{value:s}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(e)}),Object.defineProperty(c,"name",{value:e}),c}class dl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class s5 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const a5={};function ei(e){return a5}function jK(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,o])=>t.indexOf(+s)===-1).map(([s,o])=>o)}function hv(e,t){return typeof t=="bigint"?t.toString():t}function yb(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function bb(e){return e==null}function wb(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Z_=Symbol("evaluating");function Yt(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==Z_)return s===void 0&&(s=Z_,s=n()),s},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function ai(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function oi(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function Y_(e){return JSON.stringify(e)}function NK(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const o5="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function rh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const _K=yb(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function $u(e){if(rh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(rh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function i5(e){return $u(e)?{...e}:Array.isArray(e)?[...e]:e}const SK=new Set(["string","number","symbol"]);function op(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function po(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function st(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function CK(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function EK(e,t){const n=e._zod.def,s=oi(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return ai(this,"shape",o),o},checks:[]});return po(e,s)}function kK(e,t){const n=e._zod.def,s=oi(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return ai(this,"shape",o),o},checks:[]});return po(e,s)}function AK(e,t){if(!$u(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=oi(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return ai(this,"shape",l),l},checks:[]});return po(e,o)}function MK(e,t){if(!$u(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return ai(this,"shape",s),s},checks:e._zod.def.checks};return po(e,n)}function TK(e,t){const n=oi(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return ai(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return po(e,n)}function RK(e,t,n){const s=oi(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)l[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return ai(this,"shape",l),l},checks:[]});return po(t,s)}function DK(e,t,n){const s=oi(t._zod.def,{get shape(){const o=t._zod.def.shape,l={...o};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:o[c]}))}else for(const c in o)l[c]=new e({type:"nonoptional",innerType:o[c]});return ai(this,"shape",l),l},checks:[]});return po(t,s)}function Ji(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function l5(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function Yf(e){return typeof e=="string"?e:e?.message}function ti(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const o=Yf(e.inst?._zod.def?.error?.(e))??Yf(t?.error?.(e))??Yf(n.customError?.(e))??Yf(n.localeError?.(e))??"Invalid input";s.message=o}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function jb(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Pu(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const c5=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,hv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Nb=Ee("$ZodError",c5),ip=Ee("$ZodError",c5,{Parent:Error});function OK(e,t=n=>n.message){const n={},s=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):s.push(t(o));return{formErrors:s,fieldErrors:n}}function zK(e,t=n=>n.message){const n={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>s({issues:c}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return s(e),n}const lp=e=>(t,n,s,o)=>{const l=s?Object.assign(s,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new dl;if(c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>ti(f,l,ei())));throw o5(d,o?.callee),d}return c.value},IK=lp(ip),cp=e=>async(t,n,s,o)=>{const l=s?Object.assign(s,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(o?.Err??e)(c.issues.map(f=>ti(f,l,ei())));throw o5(d,o?.callee),d}return c.value},LK=cp(ip),up=e=>(t,n,s)=>{const o=s?{...s,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new dl;return l.issues.length?{success:!1,error:new(e??Nb)(l.issues.map(c=>ti(c,o,ei())))}:{success:!0,data:l.value}},$K=up(ip),dp=e=>async(t,n,s)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>ti(c,o,ei())))}:{success:!0,data:l.value}},PK=dp(ip),UK=e=>(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return lp(e)(t,n,o)},FK=e=>(t,n,s)=>lp(e)(t,n,s),VK=e=>async(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return cp(e)(t,n,o)},HK=e=>async(t,n,s)=>cp(e)(t,n,s),BK=e=>(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return up(e)(t,n,o)},qK=e=>(t,n,s)=>up(e)(t,n,s),ZK=e=>async(t,n,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return dp(e)(t,n,o)},YK=e=>async(t,n,s)=>dp(e)(t,n,s),WK=/^[cC][^\s-]{8,}$/,GK=/^[0-9a-z]+$/,XK=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,KK=/^[0-9a-vA-V]{20}$/,QK=/^[A-Za-z0-9]{27}$/,JK=/^[a-zA-Z0-9_-]{21}$/,eQ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,tQ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,nQ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function sQ(){return new RegExp(rQ,"u")}const aQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oQ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,iQ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,lQ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cQ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,u5=/^[A-Za-z0-9_-]*$/,uQ=/^\+(?:[0-9]){6,14}[0-9]$/,d5="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dQ=new RegExp(`^${d5}$`);function f5(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function fQ(e){return new RegExp(`^${f5(e)}$`)}function mQ(e){const t=f5({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${d5}T(?:${s})$`)}const hQ=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},pQ=/^[^A-Z]*$/,gQ=/^[^a-z]*$/,Bs=Ee("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),xQ=Ee("$ZodCheckMaxLength",(e,t)=>{var n;Bs.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!bb(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const o=s.value;if(o.length<=t.maximum)return;const c=jb(o);s.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),vQ=Ee("$ZodCheckMinLength",(e,t)=>{var n;Bs.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!bb(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const o=s.value;if(o.length>=t.minimum)return;const c=jb(o);s.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),yQ=Ee("$ZodCheckLengthEquals",(e,t)=>{var n;Bs.init(e,t),(n=e._zod.def).when??(n.when=s=>{const o=s.value;return!bb(o)&&o.length!==void 0}),e._zod.onattach.push(s=>{const o=s._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=s=>{const o=s.value,l=o.length;if(l===t.length)return;const c=jb(o),d=l>t.length;s.issues.push({origin:c,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),fp=Ee("$ZodCheckStringFormat",(e,t)=>{var n,s;Bs.init(e,t),e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),bQ=Ee("$ZodCheckRegex",(e,t)=>{fp.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),wQ=Ee("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=pQ),fp.init(e,t)}),jQ=Ee("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=gQ),fp.init(e,t)}),NQ=Ee("$ZodCheckIncludes",(e,t)=>{Bs.init(e,t);const n=op(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(o=>{const l=o._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),_Q=Ee("$ZodCheckStartsWith",(e,t)=>{Bs.init(e,t);const n=new RegExp(`^${op(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),SQ=Ee("$ZodCheckEndsWith",(e,t)=>{Bs.init(e,t);const n=new RegExp(`.*${op(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),CQ=Ee("$ZodCheckOverwrite",(e,t)=>{Bs.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class EQ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(c=>c),o=Math.min(...s.map(c=>c.length-c.trimStart().length)),l=s.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,o.join(`
`))}}const kQ={major:4,minor:1,patch:13},An=Ee("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=kQ;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const o of s)for(const l of o._zod.onattach)l(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(c,d,f)=>{let h=Ji(c),p;for(const g of d){if(g._zod.def.when){if(!g._zod.def.when(c))continue}else if(h)continue;const x=c.issues.length,b=g._zod.check(c);if(b instanceof Promise&&f?.async===!1)throw new dl;if(p||b instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await b,c.issues.length!==x&&(h||(h=Ji(c,x)))});else{if(c.issues.length===x)continue;h||(h=Ji(c,x))}}return p?p.then(()=>c):c},l=(c,d,f)=>{if(Ji(c))return c.aborted=!0,c;const h=o(d,s,f);if(h instanceof Promise){if(f.async===!1)throw new dl;return h.then(p=>e._zod.parse(p,f))}return e._zod.parse(h,f)};e._zod.run=(c,d)=>{if(d.skipChecks)return e._zod.parse(c,d);if(d.direction==="backward"){const h=e._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return h instanceof Promise?h.then(p=>l(p,c,d)):l(h,c,d)}const f=e._zod.parse(c,d);if(f instanceof Promise){if(d.async===!1)throw new dl;return f.then(h=>o(h,s,d))}return o(f,s,d)}}e["~standard"]={validate:o=>{try{const l=$K(e,o);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return PK(e,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),_b=Ee("$ZodString",(e,t)=>{An.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??hQ(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),tn=Ee("$ZodStringFormat",(e,t)=>{fp.init(e,t),_b.init(e,t)}),AQ=Ee("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=tQ),tn.init(e,t)}),MQ=Ee("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=W_(s))}else t.pattern??(t.pattern=W_());tn.init(e,t)}),TQ=Ee("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nQ),tn.init(e,t)}),RQ=Ee("$ZodURL",(e,t)=>{tn.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),o=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),DQ=Ee("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=sQ()),tn.init(e,t)}),OQ=Ee("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=JK),tn.init(e,t)}),zQ=Ee("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=WK),tn.init(e,t)}),IQ=Ee("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=GK),tn.init(e,t)}),LQ=Ee("$ZodULID",(e,t)=>{t.pattern??(t.pattern=XK),tn.init(e,t)}),$Q=Ee("$ZodXID",(e,t)=>{t.pattern??(t.pattern=KK),tn.init(e,t)}),PQ=Ee("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=QK),tn.init(e,t)}),UQ=Ee("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=mQ(t)),tn.init(e,t)}),FQ=Ee("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=dQ),tn.init(e,t)}),VQ=Ee("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=fQ(t)),tn.init(e,t)}),HQ=Ee("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=eQ),tn.init(e,t)}),BQ=Ee("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=aQ),tn.init(e,t),e._zod.bag.format="ipv4"}),qQ=Ee("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=oQ),tn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),ZQ=Ee("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=iQ),tn.init(e,t)}),YQ=Ee("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=lQ),tn.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[o,l]=s;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function m5(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const WQ=Ee("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=cQ),tn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{m5(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function GQ(e){if(!u5.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return m5(n)}const XQ=Ee("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=u5),tn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{GQ(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),KQ=Ee("$ZodE164",(e,t)=>{t.pattern??(t.pattern=uQ),tn.init(e,t)});function QQ(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const o=JSON.parse(atob(s));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const JQ=Ee("$ZodJWT",(e,t)=>{tn.init(e,t),e._zod.check=n=>{QQ(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),eJ=Ee("$ZodUnknown",(e,t)=>{An.init(e,t),e._zod.parse=n=>n}),tJ=Ee("$ZodNever",(e,t)=>{An.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function G_(e,t,n){e.issues.length&&t.issues.push(...l5(n,e.issues)),t.value[n]=e.value}const nJ=Ee("$ZodArray",(e,t)=>{An.init(e,t),e._zod.parse=(n,s)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const l=[];for(let c=0;c<o.length;c++){const d=o[c],f=t.element._zod.run({value:d,issues:[]},s);f instanceof Promise?l.push(f.then(h=>G_(h,n,c))):G_(f,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function sh(e,t,n,s){e.issues.length&&t.issues.push(...l5(n,e.issues)),e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function h5(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=CK(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function p5(e,t,n,s,o,l){const c=[],d=o.keySet,f=o.catchall._zod,h=f.def.type;for(const p in t){if(d.has(p))continue;if(h==="never"){c.push(p);continue}const g=f.run({value:t[p],issues:[]},s);g instanceof Promise?e.push(g.then(x=>sh(x,n,p,t))):sh(g,n,p,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const rJ=Ee("$ZodObject",(e,t)=>{if(An.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...d};return Object.defineProperty(t,"shape",{value:f}),f}})}const s=yb(()=>h5(t));Yt(e._zod,"propValues",()=>{const d=t.shape,f={};for(const h in d){const p=d[h]._zod;if(p.values){f[h]??(f[h]=new Set);for(const g of p.values)f[h].add(g)}}return f});const o=rh,l=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=s.value);const h=d.value;if(!o(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),d;d.value={};const p=[],g=c.shape;for(const x of c.keys){const j=g[x]._zod.run({value:h[x],issues:[]},f);j instanceof Promise?p.push(j.then(w=>sh(w,d,x,h))):sh(j,d,x,h)}return l?p5(p,h,d,f,s.value,e):p.length?Promise.all(p).then(()=>d):d}}),sJ=Ee("$ZodObjectJIT",(e,t)=>{rJ.init(e,t);const n=e._zod.parse,s=yb(()=>h5(t)),o=x=>{const b=new EQ(["shape","payload","ctx"]),j=s.value,w=C=>{const k=Y_(C);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};b.write("const input = payload.value;");const _=Object.create(null);let S=0;for(const C of j.keys)_[C]=`key_${S++}`;b.write("const newResult = {};");for(const C of j.keys){const k=_[C],T=Y_(C);b.write(`const ${k} = ${w(C)};`),b.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${k}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const E=b.compile();return(C,k)=>E(x,C,k)};let l;const c=rh,d=!a5.jitless,h=d&&_K.value,p=t.catchall;let g;e._zod.parse=(x,b)=>{g??(g=s.value);const j=x.value;return c(j)?d&&h&&b?.async===!1&&b.jitless!==!0?(l||(l=o(t.shape)),x=l(x,b),p?p5([],j,x,b,g,e):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:j,inst:e}),x)}});function X_(e,t,n,s){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const o=e.filter(l=>!Ji(l));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>ti(c,s,ei())))}),t)}const aJ=Ee("$ZodUnion",(e,t)=>{An.init(e,t),Yt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Yt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Yt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Yt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${o.map(l=>wb(l.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(o,l)=>{if(n)return s(o,l);let c=!1;const d=[];for(const f of t.options){const h=f._zod.run({value:o.value,issues:[]},l);if(h instanceof Promise)d.push(h),c=!0;else{if(h.issues.length===0)return h;d.push(h)}}return c?Promise.all(d).then(f=>X_(f,o,e,l)):X_(d,o,e,l)}}),oJ=Ee("$ZodIntersection",(e,t)=>{An.init(e,t),e._zod.parse=(n,s)=>{const o=n.value,l=t.left._zod.run({value:o,issues:[]},s),c=t.right._zod.run({value:o,issues:[]},s);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([f,h])=>K_(n,f,h)):K_(n,l,c)}});function pv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($u(e)&&$u(t)){const n=Object.keys(t),s=Object.keys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=pv(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};o[l]=c.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=pv(o,l);if(!c.valid)return{valid:!1,mergeErrorPath:[s,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function K_(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ji(e))return e;const s=pv(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const iJ=Ee("$ZodEnum",(e,t)=>{An.init(e,t);const n=jK(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(o=>SK.has(typeof o)).map(o=>typeof o=="string"?op(o):o.toString()).join("|")})$`),e._zod.parse=(o,l)=>{const c=o.value;return s.has(c)||o.issues.push({code:"invalid_value",values:n,input:c,inst:e}),o}}),lJ=Ee("$ZodTransform",(e,t)=>{An.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new s5(e.constructor.name);const o=t.transform(n.value,n);if(s.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(n.value=c,n));if(o instanceof Promise)throw new dl;return n.value=o,n}});function Q_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const cJ=Ee("$ZodOptional",(e,t)=>{An.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Yt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Yt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${wb(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(l=>Q_(l,n.value)):Q_(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),uJ=Ee("$ZodNullable",(e,t)=>{An.init(e,t),Yt(e._zod,"optin",()=>t.innerType._zod.optin),Yt(e._zod,"optout",()=>t.innerType._zod.optout),Yt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${wb(n.source)}|null)$`):void 0}),Yt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),dJ=Ee("$ZodDefault",(e,t)=>{An.init(e,t),e._zod.optin="optional",Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(l=>J_(l,t)):J_(o,t)}});function J_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const fJ=Ee("$ZodPrefault",(e,t)=>{An.init(e,t),e._zod.optin="optional",Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),mJ=Ee("$ZodNonOptional",(e,t)=>{An.init(e,t),Yt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(l=>eS(l,e)):eS(o,e)}});function eS(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const hJ=Ee("$ZodCatch",(e,t)=>{An.init(e,t),Yt(e._zod,"optin",()=>t.innerType._zod.optin),Yt(e._zod,"optout",()=>t.innerType._zod.optout),Yt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>ti(c,s,ei()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>ti(l,s,ei()))},input:n.value}),n.issues=[]),n)}}),pJ=Ee("$ZodPipe",(e,t)=>{An.init(e,t),Yt(e._zod,"values",()=>t.in._zod.values),Yt(e._zod,"optin",()=>t.in._zod.optin),Yt(e._zod,"optout",()=>t.out._zod.optout),Yt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const l=t.out._zod.run(n,s);return l instanceof Promise?l.then(c=>Wf(c,t.in,s)):Wf(l,t.in,s)}const o=t.in._zod.run(n,s);return o instanceof Promise?o.then(l=>Wf(l,t.out,s)):Wf(o,t.out,s)}});function Wf(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const gJ=Ee("$ZodReadonly",(e,t)=>{An.init(e,t),Yt(e._zod,"propValues",()=>t.innerType._zod.propValues),Yt(e._zod,"values",()=>t.innerType._zod.values),Yt(e._zod,"optin",()=>t.innerType?._zod?.optin),Yt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const o=t.innerType._zod.run(n,s);return o instanceof Promise?o.then(tS):tS(o)}});function tS(e){return e.value=Object.freeze(e.value),e}const xJ=Ee("$ZodCustom",(e,t)=>{Bs.init(e,t),An.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,o=t.fn(s);if(o instanceof Promise)return o.then(l=>nS(l,n,s,e));nS(o,n,s,e)}});function nS(e,t,n,s){if(!e){const o={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(o.params=s._zod.def.params),t.issues.push(Pu(o))}}var rS;class vJ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const o={...s,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function yJ(){return new vJ}(rS=globalThis).__zod_globalRegistry??(rS.__zod_globalRegistry=yJ());const Gf=globalThis.__zod_globalRegistry;function bJ(e,t){return new e({type:"string",...st(t)})}function wJ(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...st(t)})}function sS(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...st(t)})}function jJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...st(t)})}function NJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...st(t)})}function _J(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...st(t)})}function SJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...st(t)})}function CJ(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...st(t)})}function EJ(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...st(t)})}function kJ(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...st(t)})}function AJ(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...st(t)})}function MJ(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...st(t)})}function TJ(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...st(t)})}function RJ(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...st(t)})}function DJ(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...st(t)})}function OJ(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...st(t)})}function zJ(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...st(t)})}function IJ(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...st(t)})}function LJ(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...st(t)})}function $J(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...st(t)})}function PJ(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...st(t)})}function UJ(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...st(t)})}function FJ(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...st(t)})}function VJ(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...st(t)})}function HJ(e,t){return new e({type:"string",format:"date",check:"string_format",...st(t)})}function BJ(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...st(t)})}function qJ(e,t){return new e({type:"string",format:"duration",check:"string_format",...st(t)})}function ZJ(e){return new e({type:"unknown"})}function YJ(e,t){return new e({type:"never",...st(t)})}function g5(e,t){return new xQ({check:"max_length",...st(t),maximum:e})}function ah(e,t){return new vQ({check:"min_length",...st(t),minimum:e})}function x5(e,t){return new yQ({check:"length_equals",...st(t),length:e})}function WJ(e,t){return new bQ({check:"string_format",format:"regex",...st(t),pattern:e})}function GJ(e){return new wQ({check:"string_format",format:"lowercase",...st(e)})}function XJ(e){return new jQ({check:"string_format",format:"uppercase",...st(e)})}function KJ(e,t){return new NQ({check:"string_format",format:"includes",...st(t),includes:e})}function QJ(e,t){return new _Q({check:"string_format",format:"starts_with",...st(t),prefix:e})}function JJ(e,t){return new SQ({check:"string_format",format:"ends_with",...st(t),suffix:e})}function Bl(e){return new CQ({check:"overwrite",tx:e})}function eee(e){return Bl(t=>t.normalize(e))}function tee(){return Bl(e=>e.trim())}function nee(){return Bl(e=>e.toLowerCase())}function ree(){return Bl(e=>e.toUpperCase())}function see(){return Bl(e=>NK(e))}function aee(e,t,n){return new e({type:"array",element:t,...st(n)})}function oee(e,t,n){return new e({type:"custom",check:"custom",fn:t,...st(n)})}function iee(e){const t=lee(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Pu(s,n.value,t._zod.def));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Pu(o))}},e(n.value,n)));return t}function lee(e,t){const n=new Bs({check:"custom",...st(t)});return n._zod.check=e,n}function aS(e,t){try{var n=e()}catch(s){return t(s)}return n&&n.then?n.then(void 0,t):n}function cee(e,t){for(var n={};e.length;){var s=e[0],o=s.code,l=s.message,c=s.path.join(".");if(!n[c])if("unionErrors"in s){var d=s.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return e.push(g)})}),t){var f=n[c].types,h=f&&f[s.code];n[c]=gb(c,t,n,o,h?[].concat(h,s.message):s.message)}e.shift()}return n}function uee(e,t){for(var n={};e.length;){var s=e[0],o=s.code,l=s.message,c=s.path.join(".");if(!n[c])if(s.code==="invalid_union"&&s.errors.length>0){var d=s.errors[0][0];n[c]={message:d.message,type:d.code}}else n[c]={message:l,type:o};if(s.code==="invalid_union"&&s.errors.forEach(function(p){return p.forEach(function(g){return e.push(g)})}),t){var f=n[c].types,h=f&&f[s.code];n[c]=gb(c,t,n,o,h?[].concat(h,s.message):s.message)}e.shift()}return n}function dee(e,t,n){if(n===void 0&&(n={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,o,l){try{return Promise.resolve(aS(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(c){return l.shouldUseNativeValidation&&mv({},l),{errors:{},values:n.raw?Object.assign({},s):c}})},function(c){if((function(d){return Array.isArray(d?.issues)})(c))return{values:{},errors:B_(cee(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,o,l){try{return Promise.resolve(aS(function(){return Promise.resolve((n.mode==="sync"?IK:LK)(e,s,t)).then(function(c){return l.shouldUseNativeValidation&&mv({},l),{errors:{},values:n.raw?Object.assign({},s):c}})},function(c){if((function(d){return d instanceof Nb})(c))return{values:{},errors:B_(uee(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const fee=Ee("ZodISODateTime",(e,t)=>{UQ.init(e,t),sn.init(e,t)});function mee(e){return VJ(fee,e)}const hee=Ee("ZodISODate",(e,t)=>{FQ.init(e,t),sn.init(e,t)});function pee(e){return HJ(hee,e)}const gee=Ee("ZodISOTime",(e,t)=>{VQ.init(e,t),sn.init(e,t)});function xee(e){return BJ(gee,e)}const vee=Ee("ZodISODuration",(e,t)=>{HQ.init(e,t),sn.init(e,t)});function yee(e){return qJ(vee,e)}const bee=(e,t)=>{Nb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>zK(e,n)},flatten:{value:n=>OK(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,hv,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,hv,2)}},isEmpty:{get(){return e.issues.length===0}}})},qr=Ee("ZodError",bee,{Parent:Error}),wee=lp(qr),jee=cp(qr),Nee=up(qr),_ee=dp(qr),See=UK(qr),Cee=FK(qr),Eee=VK(qr),kee=HK(qr),Aee=BK(qr),Mee=qK(qr),Tee=ZK(qr),Ree=YK(qr),In=Ee("ZodType",(e,t)=>(An.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(oi(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),e.clone=(n,s)=>po(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>wee(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>Nee(e,n,s),e.parseAsync=async(n,s)=>jee(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>_ee(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>See(e,n,s),e.decode=(n,s)=>Cee(e,n,s),e.encodeAsync=async(n,s)=>Eee(e,n,s),e.decodeAsync=async(n,s)=>kee(e,n,s),e.safeEncode=(n,s)=>Aee(e,n,s),e.safeDecode=(n,s)=>Mee(e,n,s),e.safeEncodeAsync=async(n,s)=>Tee(e,n,s),e.safeDecodeAsync=async(n,s)=>Ree(e,n,s),e.refine=(n,s)=>e.check(Nte(n,s)),e.superRefine=n=>e.check(_te(n)),e.overwrite=n=>e.check(Bl(n)),e.optional=()=>lS(e),e.nullable=()=>cS(e),e.nullish=()=>lS(cS(e)),e.nonoptional=n=>gte(e,n),e.array=()=>tte(e),e.or=n=>ate([e,n]),e.and=n=>ite(e,n),e.transform=n=>uS(e,ute(n)),e.default=n=>mte(e,n),e.prefault=n=>pte(e,n),e.catch=n=>vte(e,n),e.pipe=n=>uS(e,n),e.readonly=()=>wte(e),e.describe=n=>{const s=e.clone();return Gf.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return Gf.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Gf.get(e);const s=e.clone();return Gf.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),v5=Ee("_ZodString",(e,t)=>{_b.init(e,t),In.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(WJ(...s)),e.includes=(...s)=>e.check(KJ(...s)),e.startsWith=(...s)=>e.check(QJ(...s)),e.endsWith=(...s)=>e.check(JJ(...s)),e.min=(...s)=>e.check(ah(...s)),e.max=(...s)=>e.check(g5(...s)),e.length=(...s)=>e.check(x5(...s)),e.nonempty=(...s)=>e.check(ah(1,...s)),e.lowercase=s=>e.check(GJ(s)),e.uppercase=s=>e.check(XJ(s)),e.trim=()=>e.check(tee()),e.normalize=(...s)=>e.check(eee(...s)),e.toLowerCase=()=>e.check(nee()),e.toUpperCase=()=>e.check(ree()),e.slugify=()=>e.check(see())}),Dee=Ee("ZodString",(e,t)=>{_b.init(e,t),v5.init(e,t),e.email=n=>e.check(wJ(Oee,n)),e.url=n=>e.check(CJ(zee,n)),e.jwt=n=>e.check(FJ(Xee,n)),e.emoji=n=>e.check(EJ(Iee,n)),e.guid=n=>e.check(sS(oS,n)),e.uuid=n=>e.check(jJ(Kf,n)),e.uuidv4=n=>e.check(NJ(Kf,n)),e.uuidv6=n=>e.check(_J(Kf,n)),e.uuidv7=n=>e.check(SJ(Kf,n)),e.nanoid=n=>e.check(kJ(Lee,n)),e.guid=n=>e.check(sS(oS,n)),e.cuid=n=>e.check(AJ($ee,n)),e.cuid2=n=>e.check(MJ(Pee,n)),e.ulid=n=>e.check(TJ(Uee,n)),e.base64=n=>e.check($J(Yee,n)),e.base64url=n=>e.check(PJ(Wee,n)),e.xid=n=>e.check(RJ(Fee,n)),e.ksuid=n=>e.check(DJ(Vee,n)),e.ipv4=n=>e.check(OJ(Hee,n)),e.ipv6=n=>e.check(zJ(Bee,n)),e.cidrv4=n=>e.check(IJ(qee,n)),e.cidrv6=n=>e.check(LJ(Zee,n)),e.e164=n=>e.check(UJ(Gee,n)),e.datetime=n=>e.check(mee(n)),e.date=n=>e.check(pee(n)),e.time=n=>e.check(xee(n)),e.duration=n=>e.check(yee(n))});function Xf(e){return bJ(Dee,e)}const sn=Ee("ZodStringFormat",(e,t)=>{tn.init(e,t),v5.init(e,t)}),Oee=Ee("ZodEmail",(e,t)=>{TQ.init(e,t),sn.init(e,t)}),oS=Ee("ZodGUID",(e,t)=>{AQ.init(e,t),sn.init(e,t)}),Kf=Ee("ZodUUID",(e,t)=>{MQ.init(e,t),sn.init(e,t)}),zee=Ee("ZodURL",(e,t)=>{RQ.init(e,t),sn.init(e,t)}),Iee=Ee("ZodEmoji",(e,t)=>{DQ.init(e,t),sn.init(e,t)}),Lee=Ee("ZodNanoID",(e,t)=>{OQ.init(e,t),sn.init(e,t)}),$ee=Ee("ZodCUID",(e,t)=>{zQ.init(e,t),sn.init(e,t)}),Pee=Ee("ZodCUID2",(e,t)=>{IQ.init(e,t),sn.init(e,t)}),Uee=Ee("ZodULID",(e,t)=>{LQ.init(e,t),sn.init(e,t)}),Fee=Ee("ZodXID",(e,t)=>{$Q.init(e,t),sn.init(e,t)}),Vee=Ee("ZodKSUID",(e,t)=>{PQ.init(e,t),sn.init(e,t)}),Hee=Ee("ZodIPv4",(e,t)=>{BQ.init(e,t),sn.init(e,t)}),Bee=Ee("ZodIPv6",(e,t)=>{qQ.init(e,t),sn.init(e,t)}),qee=Ee("ZodCIDRv4",(e,t)=>{ZQ.init(e,t),sn.init(e,t)}),Zee=Ee("ZodCIDRv6",(e,t)=>{YQ.init(e,t),sn.init(e,t)}),Yee=Ee("ZodBase64",(e,t)=>{WQ.init(e,t),sn.init(e,t)}),Wee=Ee("ZodBase64URL",(e,t)=>{XQ.init(e,t),sn.init(e,t)}),Gee=Ee("ZodE164",(e,t)=>{KQ.init(e,t),sn.init(e,t)}),Xee=Ee("ZodJWT",(e,t)=>{JQ.init(e,t),sn.init(e,t)}),Kee=Ee("ZodUnknown",(e,t)=>{eJ.init(e,t),In.init(e,t)});function iS(){return ZJ(Kee)}const Qee=Ee("ZodNever",(e,t)=>{tJ.init(e,t),In.init(e,t)});function Jee(e){return YJ(Qee,e)}const ete=Ee("ZodArray",(e,t)=>{nJ.init(e,t),In.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(ah(n,s)),e.nonempty=n=>e.check(ah(1,n)),e.max=(n,s)=>e.check(g5(n,s)),e.length=(n,s)=>e.check(x5(n,s)),e.unwrap=()=>e.element});function tte(e,t){return aee(ete,e,t)}const nte=Ee("ZodObject",(e,t)=>{sJ.init(e,t),In.init(e,t),Yt(e,"shape",()=>t.shape),e.keyof=()=>lte(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:iS()}),e.loose=()=>e.clone({...e._zod.def,catchall:iS()}),e.strict=()=>e.clone({...e._zod.def,catchall:Jee()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>AK(e,n),e.safeExtend=n=>MK(e,n),e.merge=n=>TK(e,n),e.pick=n=>EK(e,n),e.omit=n=>kK(e,n),e.partial=(...n)=>RK(y5,e,n[0]),e.required=(...n)=>DK(b5,e,n[0])});function rte(e,t){const n={type:"object",shape:e??{},...st(t)};return new nte(n)}const ste=Ee("ZodUnion",(e,t)=>{aJ.init(e,t),In.init(e,t),e.options=t.options});function ate(e,t){return new ste({type:"union",options:e,...st(t)})}const ote=Ee("ZodIntersection",(e,t)=>{oJ.init(e,t),In.init(e,t)});function ite(e,t){return new ote({type:"intersection",left:e,right:t})}const gv=Ee("ZodEnum",(e,t)=>{iJ.init(e,t),In.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,o)=>{const l={};for(const c of s)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...t,checks:[],...st(o),entries:l})},e.exclude=(s,o)=>{const l={...t.entries};for(const c of s)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new gv({...t,checks:[],...st(o),entries:l})}});function lte(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new gv({type:"enum",entries:n,...st(t)})}const cte=Ee("ZodTransform",(e,t)=>{lJ.init(e,t),In.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new s5(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Pu(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(Pu(c))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(l=>(n.value=l,n)):(n.value=o,n)}});function ute(e){return new cte({type:"transform",transform:e})}const y5=Ee("ZodOptional",(e,t)=>{cJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lS(e){return new y5({type:"optional",innerType:e})}const dte=Ee("ZodNullable",(e,t)=>{uJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cS(e){return new dte({type:"nullable",innerType:e})}const fte=Ee("ZodDefault",(e,t)=>{dJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function mte(e,t){return new fte({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():i5(t)}})}const hte=Ee("ZodPrefault",(e,t)=>{fJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pte(e,t){return new hte({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():i5(t)}})}const b5=Ee("ZodNonOptional",(e,t)=>{mJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gte(e,t){return new b5({type:"nonoptional",innerType:e,...st(t)})}const xte=Ee("ZodCatch",(e,t)=>{hJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function vte(e,t){return new xte({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const yte=Ee("ZodPipe",(e,t)=>{pJ.init(e,t),In.init(e,t),e.in=t.in,e.out=t.out});function uS(e,t){return new yte({type:"pipe",in:e,out:t})}const bte=Ee("ZodReadonly",(e,t)=>{gJ.init(e,t),In.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wte(e){return new bte({type:"readonly",innerType:e})}const jte=Ee("ZodCustom",(e,t)=>{xJ.init(e,t),In.init(e,t)});function Nte(e,t={}){return oee(jte,e,t)}function _te(e){return iee(e)}const Ste=tK,w5=v.createContext({});function Qf(e){return r.jsx(w5.Provider,{value:{name:e.name},children:r.jsx(aK,{...e})})}function mp(){const e=v.useContext(w5),t=v.useContext(j5),{getFieldState:n,formState:s}=ap();if(!e)throw new Error("useFormField should be used within <FormField>");const o=n(e.name,s);return{id:t.id,name:e.name,formItemId:`${t.id}-form-item`,formDescriptionId:`${t.id}-form-item-description`,formMessageId:`${t.id}-form-item-message`,...o}}const j5=v.createContext({}),tu=v.forwardRef(({className:e,...t},n)=>{const s=v.useId();return r.jsx(j5.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:$e("space-y-2",e),...t})})});tu.displayName="FormItem";const nu=v.forwardRef(({className:e,...t},n)=>{const{formItemId:s}=mp();return r.jsx(W4,{ref:n,className:$e("text-sm font-medium text-foreground",e),htmlFor:s,...t})});nu.displayName="FormLabel";const ru=v.forwardRef(({className:e,...t},n)=>{const{formItemId:s,formDescriptionId:o,formMessageId:l}=mp(),c=[o,l,t["aria-describedby"]].filter(Boolean).join(" ");return r.jsx(MS,{ref:n,id:s,"aria-describedby":c||void 0,className:e,...t})});ru.displayName="FormControl";const xv=v.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=mp();return r.jsx("p",{ref:n,id:s,className:$e("text-sm text-muted-foreground",e),...t})});xv.displayName="FormDescription";const su=v.forwardRef(({className:e,children:t,...n},s)=>{const{formMessageId:o,error:l}=mp(),c=l?String(l.message):t;return c?r.jsx("p",{ref:s,id:o,className:$e("text-sm font-medium text-destructive",e),...n,children:c}):null});su.displayName="FormMessage";const Cte=rte({name:Xf().min(3,"Nome deve ter pelo menos 3 caracteres"),description:Xf().optional(),namespace:Xf().optional(),tags:Xf().optional()});function Ete({open:e,onOpenChange:t,onSubmit:n,isSaving:s}){const o=bK({resolver:dee(Cte),defaultValues:{name:"",description:"",namespace:"",tags:""}}),l=async c=>{try{await n({name:c.name,description:c.description,namespace:c.namespace||void 0,tags:c.tags?c.tags.split(",").map(d=>d.trim()).filter(d=>d.length>0):void 0}),o.reset(),t(!1)}catch(d){console.error(d)}};return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"sm:max-w-[500px]",children:[r.jsx(ps,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:r.jsx(oO,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx(gs,{children:"Nova Coleo"}),r.jsx(Mh,{children:"Crie uma coleo para agrupar documentos relacionados."})]})]})}),r.jsx(Ste,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[r.jsx(Qf,{control:o.control,name:"name",render:({field:c})=>r.jsxs(tu,{children:[r.jsx(nu,{children:"Nome"}),r.jsx(ru,{children:r.jsx(nt,{placeholder:"Ex: Manuais de Produto",...c})}),r.jsx(su,{})]})}),r.jsx(Qf,{control:o.control,name:"description",render:({field:c})=>r.jsxs(tu,{children:[r.jsx(nu,{children:"Descrio"}),r.jsx(ru,{children:r.jsx(un,{placeholder:"Descreva o contedo desta coleo...",className:"resize-none",...c})}),r.jsx(su,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Qf,{control:o.control,name:"namespace",render:({field:c})=>r.jsxs(tu,{children:[r.jsx(nu,{children:"Namespace (Opcional)"}),r.jsx(ru,{children:r.jsx(nt,{placeholder:"Ex: produtos",...c})}),r.jsx(xv,{className:"text-xs",children:"Identificador de isolamento lgico"}),r.jsx(su,{})]})}),r.jsx(Qf,{control:o.control,name:"tags",render:({field:c})=>r.jsxs(tu,{children:[r.jsx(nu,{children:"Tags (Opcional)"}),r.jsx(ru,{children:r.jsx(nt,{placeholder:"vendas, 2024",...c})}),r.jsx(xv,{className:"text-xs",children:"Separadas por vrgula"}),r.jsx(su,{})]})})]}),r.jsxs(Ju,{className:"pt-4",children:[r.jsx(me,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancelar"}),r.jsxs(me,{type:"submit",disabled:s,children:[s&&r.jsx(cr,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Coleo"]})]})]})})]})})}const kte={"application/pdf":"","text/csv":"","text/plain":"","text/markdown":"","application/json":""},Ate=e=>e&&kte[e]||"";function Mte({collection:e,documents:t,isLoading:n,isUploading:s,onUpload:o,onDelete:l}){const c=v.useRef(null),[d,f]=v.useState(!1),h=j=>{if(typeof j.content_type=="string"&&j.content_type.length>0)return j.content_type;const w=j.metadata?.file_type;if(typeof w=="string"&&w.length>0)return w},p=j=>{j.target.files&&j.target.files.length>0&&(o(Array.from(j.target.files)),c.current&&(c.current.value=""))},g=v.useCallback(j=>{j.preventDefault(),j.stopPropagation(),f(!0)},[]),x=v.useCallback(j=>{j.preventDefault(),j.stopPropagation(),f(!1)},[]),b=v.useCallback(j=>{j.preventDefault(),j.stopPropagation(),f(!1);const w=Array.from(j.dataTransfer.files);w.length>0&&o(w)},[o]);return e?r.jsxs("div",{className:"flex flex-col h-full border rounded-xl bg-background shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(rO,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:e.name}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Vn,{className:"h-3 w-3"}),t.length," documentos"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ml,{className:"h-3 w-3"}),e.chunk_count??0," chunks"]})]})]})]}),r.jsxs("div",{children:[r.jsx("input",{type:"file",multiple:!0,className:"hidden",ref:c,onChange:p,accept:".txt,.md,.csv,.json,.pdf"}),r.jsxs(me,{size:"sm",className:"h-8",onClick:()=>c.current?.click(),disabled:s,children:[s?r.jsx(cr,{className:"h-4 w-4 mr-1.5 animate-spin"}):r.jsx(Iv,{className:"h-4 w-4 mr-1.5"}),"Enviar"]})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden",onDragOver:g,onDragLeave:x,onDrop:b,children:[d&&r.jsx("div",{className:"absolute inset-0 bg-primary/5 border-2 border-dashed border-primary rounded-xl z-10 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(NN,{className:"h-12 w-12 text-primary mx-auto mb-3"}),r.jsx("p",{className:"text-lg font-medium text-primary",children:"Solte os arquivos aqui"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF, TXT, CSV, JSON, MD"})]})}),r.jsx(Fn,{className:"h-full",children:n&&t.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-60 text-muted-foreground",children:[r.jsx(cr,{className:"h-8 w-8 animate-spin mb-3"}),r.jsx("p",{className:"text-sm",children:"Carregando documentos..."})]}):t.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-muted-foreground p-8 cursor-pointer hover:bg-muted/10 transition-colors",onClick:()=>c.current?.click(),children:[r.jsx("div",{className:"p-6 bg-muted/20 rounded-full mb-4 border-2 border-dashed border-muted-foreground/20",children:r.jsx(NN,{className:"h-10 w-10 opacity-40"})}),r.jsx("h4",{className:"font-medium text-base mb-1",children:"Nenhum documento ainda"}),r.jsx("p",{className:"text-sm text-center max-w-xs mb-4",children:"Arraste e solte arquivos aqui ou clique para enviar"}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:["PDF","TXT","CSV","JSON","MD"].map(j=>r.jsxs(Be,{variant:"outline",className:"text-xs",children:[".",j.toLowerCase()]},j))})]}):r.jsx("div",{className:"p-3 space-y-2",children:t.map(j=>r.jsxs("div",{className:"group flex items-center gap-3 p-3 rounded-lg border bg-card hover:bg-accent/30 transition-colors",children:[r.jsx("div",{className:"text-2xl shrink-0",children:Ate(j.content_type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm truncate",title:j.filename,children:j.filename}),r.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[r.jsx(Be,{variant:"outline",className:"text-[10px] h-4 uppercase font-mono",children:h(j)?.split("/").pop()||"file"}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(ml,{className:"h-3 w-3"}),j.chunk_count," chunks"]}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(WS,{className:"h-3 w-3"}),ZA(new Date(j.created_at),{addSuffix:!0,locale:YA})]})]})]}),r.jsx(me,{variant:"ghost",size:"icon",className:$e("h-8 w-8 shrink-0","opacity-0 group-hover:opacity-100 transition-opacity","text-muted-foreground hover:text-destructive hover:bg-destructive/10"),onClick:()=>{confirm(`Excluir "${j.filename}"?`)&&l(j.id)},children:r.jsx(Jn,{className:"h-4 w-4"})})]},j.id))})})]})]}):r.jsxs("div",{className:"h-full flex flex-col items-center justify-center border rounded-xl bg-gradient-to-b from-muted/20 to-muted/5 text-muted-foreground p-8 text-center",children:[r.jsx("div",{className:"p-6 bg-muted/30 rounded-full mb-6",children:r.jsx(Vn,{className:"h-12 w-12 opacity-30"})}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma coleo selecionada"}),r.jsx("p",{className:"text-sm max-w-xs text-muted-foreground",children:"Selecione uma coleo no painel da esquerda para visualizar e gerenciar seus documentos."})]})}function Tte({collections:e,results:t,isSearching:n,onSearch:s,onClear:o}){const[l,c]=v.useState(""),[d,f]=v.useState("all"),[h,p]=v.useState("5"),g=j=>{j.preventDefault(),l.trim()&&s(l,d==="all"?void 0:d,parseInt(h))},x=j=>j>=.8?"text-green-600 bg-green-50 border-green-200":j>=.6?"text-blue-600 bg-blue-50 border-blue-200":j>=.4?"text-amber-600 bg-amber-50 border-amber-200":"text-gray-600 bg-gray-50 border-gray-200",b=j=>j>=.8?"timo":j>=.6?"Bom":j>=.4?"Regular":"Baixo";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ge,{className:"border-2 border-dashed border-primary/20 bg-gradient-to-b from-primary/5 to-transparent",children:[r.jsx(Pt,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:r.jsx(Ts,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx(Dt,{className:"text-lg",children:"Busca Semntica"}),r.jsx(Vr,{children:"Teste a recuperao da base de conhecimento com consultas em linguagem natural"})]})]})}),r.jsx(Xe,{children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(is,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(nt,{placeholder:"Faa uma pergunta ou descreva o que voc procura...",value:l,onChange:j=>c(j.target.value),className:"pl-10 pr-24 h-12 text-base"}),r.jsx(me,{type:"submit",size:"sm",disabled:n||!l.trim(),className:"absolute right-1.5 top-1/2 -translate-y-1/2 h-9",children:n?r.jsx(cr,{className:"h-4 w-4 animate-spin"}):r.jsxs(r.Fragment,{children:["Buscar",r.jsx(as,{className:"h-4 w-4 ml-1"})]})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 max-w-[250px]",children:r.jsxs(Wt,{value:d,onValueChange:f,children:[r.jsx(Xt,{className:"h-9",children:r.jsx(Gt,{placeholder:"Todas as colees"})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"all",children:"Todas as Colees"}),e.map(j=>r.jsx(ot,{value:j.id,children:j.name},j.id))]})]})}),r.jsx("div",{className:"w-[130px]",children:r.jsxs(Wt,{value:h,onValueChange:p,children:[r.jsx(Xt,{className:"h-9",children:r.jsx(Gt,{placeholder:"Results"})}),r.jsxs(Kt,{children:[r.jsx(ot,{value:"3",children:"Top 3"}),r.jsx(ot,{value:"5",children:"Top 5"}),r.jsx(ot,{value:"10",children:"Top 10"}),r.jsx(ot,{value:"20",children:"Top 20"})]})]})}),t.length>0&&r.jsxs(me,{type:"button",variant:"ghost",size:"sm",className:"h-9",onClick:()=>{c(""),o()},children:[r.jsx(Bo,{className:"h-4 w-4 mr-1"}),"Limpar"]})]})]})})]}),t.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[r.jsx(hh,{className:"h-4 w-4 text-primary"}),t.length," resultados encontrados"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordenados por relevncia"})]}),r.jsx("div",{className:"space-y-3",children:t.map((j,w)=>{const _=j.metadata,S=typeof _.filename=="string"?_.filename:"Unknown document",E=typeof _.collection_id=="string"?_.collection_id:void 0,C=e.find(k=>k.id===E)?.name;return r.jsx(Ge,{className:$e("overflow-hidden transition-all hover:shadow-md","border-l-4",j.score>=.7?"border-l-green-500":j.score>=.5?"border-l-blue-500":"border-l-gray-300"),children:r.jsxs(Xe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsxs("span",{className:"text-lg font-mono text-muted-foreground",children:["#",w+1]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground truncate",children:[r.jsx(Vn,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"truncate",children:S})]}),C&&r.jsx(Be,{variant:"outline",className:"text-[10px] shrink-0",children:C})]}),r.jsxs("div",{className:$e("flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium border shrink-0",x(j.score)),children:[r.jsxs("span",{children:[(j.score*100).toFixed(0),"%"]}),r.jsx("span",{className:"text-[10px] opacity-70",children:b(j.score)})]})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg text-sm leading-relaxed",children:j.content}),r.jsx("div",{className:"mt-3 flex items-center gap-4 text-xs text-muted-foreground",children:r.jsxs("span",{className:"font-mono",children:["Chunk: ",j.chunk_id.slice(0,8),"..."]})})]})},w)})})]}),!n&&t.length===0&&l===""&&r.jsx(Ge,{className:"border-dashed",children:r.jsxs(Xe,{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx("div",{className:"p-4 bg-muted/30 rounded-full mb-4",children:r.jsx(is,{className:"h-8 w-8 text-muted-foreground/50"})}),r.jsx("h3",{className:"font-medium mb-2",children:"Pronto para buscar"}),r.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Digite uma consulta acima para testar a recuperao semntica da sua base de conhecimento. Os resultados sero ordenados por score de similaridade."})]})})]})}function Rte(){const{toast:e}=Bu(),t=kt(Q=>Q.ragConfig),n=kt(Q=>Q.isLoading),s=kt(Q=>Q.isSaving),o=kt(Q=>Q.error),l=kt(Q=>Q.lastUpdated),c=kt(Q=>Q.collections),d=kt(Q=>Q.documents),f=kt(Q=>Q.searchResults),h=kt(Q=>Q.selectedCollectionId),p=kt(Q=>Q.isCollectionsLoading),g=kt(Q=>Q.isDocumentsLoading),x=kt(Q=>Q.isUploading),b=kt(Q=>Q.isSearching),j=kt(Q=>Q.setRagConfig),w=kt(Q=>Q.setIsLoading),_=kt(Q=>Q.setIsSaving),S=kt(Q=>Q.setError),E=kt(Q=>Q.setCollections),C=kt(Q=>Q.addCollection),k=kt(Q=>Q.removeCollection),T=kt(Q=>Q.setDocuments),M=kt(Q=>Q.removeDocument),O=kt(Q=>Q.setSearchResults),I=kt(Q=>Q.setSelectedCollectionId),U=kt(Q=>Q.setIsCollectionsLoading),Z=kt(Q=>Q.setIsDocumentsLoading),X=kt(Q=>Q.setIsUploading),Y=kt(Q=>Q.setIsSearching),[q,R]=v.useState(!1),[$,A]=v.useState(!1),[L,F]=v.useState("collections"),B=v.useMemo(()=>c.find(Q=>Q.id===h)??null,[c,h]),z=v.useCallback(async()=>{w(!0),S(null);try{const Q=await rt.getRagConfig();j(Q)}catch(Q){console.error("Erro ao carregar configurao RAG:",Q),S(Q instanceof Error?Q.message:"Falha ao carregar configurao")}finally{w(!1)}},[S,w,j]),H=v.useCallback(async()=>{U(!0);try{const Q=await rt.getKnowledgeCollections();E(Q)}catch(Q){console.error("Erro ao carregar colees:",Q),e({title:"Erro ao carregar colees",description:Q instanceof Error?Q.message:"Falha desconhecida",variant:"destructive"})}finally{U(!1)}},[E,U,e]),J=v.useCallback(async Q=>{Z(!0);try{const Ne=await rt.getKnowledgeDocuments(Q);T(Q,Ne)}catch(Ne){console.error(`Erro ao carregar documentos (${Q}):`,Ne),e({title:"Erro ao carregar documentos",description:Ne instanceof Error?Ne.message:"Falha desconhecida",variant:"destructive"})}finally{Z(!1)}},[T,Z,e]);v.useEffect(()=>{z(),H()},[z,H]),v.useEffect(()=>{h&&J(h)},[h,J]);const K=async Q=>{_(!0),S(null);try{const Ne=await rt.updateRagConfig(Q);j(Ne),e({title:"Configurao salva",description:"As configuraes de RAG foram atualizadas com sucesso."})}catch(Ne){console.error("Erro ao salvar configurao RAG:",Ne);const Re=Ne instanceof Error?Ne.message:"Falha ao salvar configurao";throw S(Re),e({title:"Erro ao salvar",description:Re,variant:"destructive"}),Ne}finally{_(!1)}},ie=async Q=>{_(!0);try{const Ne=await rt.createKnowledgeCollection(Q);C(Ne),I(Ne.id),e({title:"Coleo criada",description:`A coleo "${Ne.name}" foi criada com sucesso.`})}catch(Ne){throw console.error("Erro ao criar coleo:",Ne),e({title:"Erro ao criar coleo",description:Ne instanceof Error?Ne.message:"Falha desconhecida",variant:"destructive"}),Ne}finally{_(!1)}},ge=async Q=>{try{await rt.deleteKnowledgeCollection(Q),k(Q),e({title:"Coleo excluda",description:"A coleo foi removida com sucesso."})}catch(Ne){console.error("Erro ao excluir coleo:",Ne),e({title:"Erro ao excluir",description:Ne instanceof Error?Ne.message:"Falha desconhecida",variant:"destructive"})}},ye=async Q=>{if(h){X(!0);try{const Ne=await rt.ingestKnowledgeDocuments(h,Q);await J(h);const Pe=kt.getState().collections.map(at=>at.id===h?{...at,document_count:at.document_count+Ne.count}:at);E(Pe),e({title:"Upload concludo",description:`${Ne.count} documento(s) enviado(s) para processamento.`})}catch(Ne){console.error("Erro no upload:",Ne),e({title:"Erro no upload",description:Ne instanceof Error?Ne.message:"Falha ao enviar documentos",variant:"destructive"})}finally{X(!1)}}},ae=async Q=>{if(h)try{await rt.deleteKnowledgeDocument(Q),M(h,Q);const Re=kt.getState().collections.map(Pe=>Pe.id===h?{...Pe,document_count:Math.max(0,Pe.document_count-1)}:Pe);E(Re),e({title:"Documento excludo",description:"O documento foi removido com sucesso."})}catch(Ne){console.error("Erro ao excluir documento:",Ne),e({title:"Erro ao excluir",description:Ne instanceof Error?Ne.message:"Falha desconhecida",variant:"destructive"})}},de=async(Q,Ne,Re)=>{Y(!0);try{const Pe=await rt.searchKnowledge({query:Q,collection_id:Ne,top_k:Re});O(Pe)}catch(Pe){console.error("Erro na busca:",Pe),e({title:"Erro na busca",description:Pe instanceof Error?Pe.message:"Falha ao realizar busca",variant:"destructive"})}finally{Y(!1)}},te=()=>O([]),pe=({enabled:Q})=>r.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${Q?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:Q?r.jsxs(r.Fragment,{children:[r.jsx(Cn,{className:"h-4 w-4"}),"Ativo"]}):r.jsxs(r.Fragment,{children:[r.jsx(Tl,{className:"h-4 w-4"}),"Inativo"]})}),Se=({icon:Q,label:Ne,value:Re,description:Pe,badge:at})=>r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/30 rounded-xl border border-border/50",children:[r.jsx("div",{className:"p-2 bg-background rounded-lg border shadow-sm",children:r.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:Ne}),at&&r.jsx(Be,{variant:"secondary",className:"text-[10px]",children:at})]}),r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Re}),Pe&&r.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:Pe})]})]});return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] overflow-hidden",children:[r.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-6 bg-background shrink-0",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Qn,{className:"h-5 w-5"}),"Knowledge Base"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie colees, documentos e configuraes RAG"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(me,{variant:"outline",size:"icon",onClick:()=>{z(),H()},disabled:n||p,title:"Refresh",children:r.jsx(io,{className:`h-4 w-4 ${n||p?"animate-spin":""}`})})})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:r.jsxs(Ah,{value:L,onValueChange:F,className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"px-6 pt-4 border-b bg-background/60 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsxs(Qu,{className:"grid w-full max-w-lg grid-cols-3",children:[r.jsxs(Nr,{value:"collections",className:"flex items-center gap-2",children:[r.jsx(Ov,{className:"h-4 w-4"}),"Collections"]}),r.jsxs(Nr,{value:"search",className:"flex items-center gap-2",children:[r.jsx(is,{className:"h-4 w-4"}),"Search"]}),r.jsxs(Nr,{value:"config",className:"flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),"Settings"]})]})}),r.jsx(_r,{value:"collections",className:"flex-1 overflow-hidden p-6 m-0",children:r.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full",children:[r.jsx("div",{className:"col-span-4 h-full overflow-hidden flex flex-col",children:r.jsx(QX,{collections:c,selectedId:h,isLoading:p,onSelect:Q=>I(Q.id),onDelete:ge,onRefresh:H,onCreateNew:()=>A(!0)})}),r.jsx("div",{className:"col-span-8 h-full overflow-hidden flex flex-col",children:r.jsx(Mte,{collection:B,documents:h?d[h]||[]:[],isLoading:g,isUploading:x,onUpload:ye,onDelete:ae})})]})}),r.jsx(_r,{value:"search",className:"flex-1 overflow-auto p-6 m-0",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(Tte,{collections:c,results:f,isSearching:b,onSearch:de,onClear:te})})}),r.jsx(_r,{value:"config",className:"flex-1 overflow-auto p-6 m-0",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o&&r.jsx(Ge,{className:"border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-950/20",children:r.jsxs(Xe,{className:"flex items-center gap-3 p-4",children:[r.jsx(Sr,{className:"h-5 w-5 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-700 dark:text-red-400",children:"Falha ao carregar configurao"}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-500",children:o})]})]})}),r.jsxs(Ge,{className:"overflow-hidden",children:[r.jsx("div",{className:`h-1 ${t.enabled?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gray-300"}`}),r.jsxs(Pt,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${t.enabled?"bg-green-100 dark:bg-green-900/30":"bg-muted"}`,children:r.jsx(Ts,{className:`h-6 w-6 ${t.enabled?"text-green-600 dark:text-green-400":"text-muted-foreground"}`})}),r.jsxs("div",{children:[r.jsx(Dt,{className:"text-xl",children:"Retrieval Augmented Generation"}),r.jsx(Vr,{className:"mt-1",children:t.enabled?"Agentes utilizam conhecimento contextual para respostas mais precisas":"Agentes respondem usando apenas o conhecimento do modelo base"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pe,{enabled:t.enabled}),r.jsxs(me,{onClick:()=>R(!0),variant:"outline",size:"sm",children:[r.jsx(fh,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),r.jsx(Xe,{children:l&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima atualizao: ",l.toLocaleString("pt-BR")]})})]}),t.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs(Ge,{children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(au,{className:"h-4 w-4 text-primary"}),"Provedor de Contexto"]})}),r.jsxs(Xe,{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(Se,{icon:Qn,label:"Provedor",value:t.provider==="memory"?"Memory (Vector Store Local)":"Azure AI Search",description:t.provider==="memory"?"Armazenamento vetorial em memria":"Azure Cognitive Search para produo"}),r.jsx(Se,{icon:ml,label:"Namespace",value:t.namespace,description:"Identificador lgico para segmentar conhecimento"})]})]}),r.jsxs(Ge,{children:[r.jsx(Pt,{className:"pb-3",children:r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4 text-primary"}),"Parmetros de Retrieval"]})}),r.jsxs(Xe,{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(Se,{icon:au,label:"Top K",value:t.top_k.toString(),badge:"chunks",description:"Mximo de trechos retornados"}),r.jsx(Se,{icon:Ts,label:"Score Mnimo",value:t.min_score.toFixed(2),description:"Limiar mnimo de similaridade"}),r.jsx(Se,{icon:ni,label:"Estratgia",value:t.strategy==="last_message"?"ltima Mensagem":"Conversao",description:t.strategy==="last_message"?"Busca baseada na ltima mensagem":"Busca considerando histrico"})]})]}),r.jsxs(Ge,{children:[r.jsxs(Pt,{className:"pb-3",children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(Vn,{className:"h-4 w-4 text-primary"}),"Prompt de Contexto"]}),r.jsx(Vr,{children:"Instruo exibida antes dos trechos recuperados no prompt do agente"})]}),r.jsx(Xe,{children:r.jsx("div",{className:"p-4 bg-muted/30 rounded-xl border border-border/50",children:r.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:t.context_prompt||"(Nenhum prompt configurado)"})})})]}),t.provider==="memory"&&t.embedding&&r.jsxs(Ge,{className:"border-amber-200/50 dark:border-amber-800/50 bg-amber-50/30 dark:bg-amber-950/10",children:[r.jsxs(Pt,{className:"pb-3",children:[r.jsxs(Dt,{className:"text-base flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-amber-600"}),"Configurao de Embeddings"]}),r.jsx(Vr,{children:"Modelo utilizado para vetorizao do conhecimento"})]}),r.jsxs(Xe,{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(Se,{icon:au,label:"Modelo",value:t.embedding.model}),r.jsx(Se,{icon:ml,label:"Dimenses",value:t.embedding.dimensions?.toString()||"Auto",description:"Dimenses dos vetores gerados"}),r.jsx(Se,{icon:Ts,label:"Normalizar",value:t.embedding.normalize?"Sim":"No",description:"Normalizao de vetores"})]})]})]}),!t.enabled&&r.jsx(Ge,{className:"border-dashed border-2",children:r.jsxs(Xe,{className:"flex flex-col items-center justify-center py-16 text-center",children:[r.jsx("div",{className:"p-6 bg-muted/30 rounded-full mb-6",children:r.jsx(Qn,{className:"h-12 w-12 text-muted-foreground/40"})}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"RAG no configurado"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:"Habilite o Retrieval Augmented Generation para enriquecer as respostas dos agentes com conhecimento contextual dos seus documentos."}),r.jsxs(me,{onClick:()=>R(!0),size:"lg",children:[r.jsx(tl,{className:"h-4 w-4 mr-2"}),"Configurar RAG"]})]})})]})})]})}),r.jsx(RG,{open:q,onOpenChange:R,config:t,onSave:K,isSaving:s}),r.jsx(Ete,{open:$,onOpenChange:A,onSubmit:ie,isSaving:s})]})}function Dte({onFilesSelected:e,accept:t="image/*,.pdf,audio/*,.wav,.mp3,.m4a,.ogg",multiple:n=!0,maxSize:s=50*1024*1024,disabled:o=!1,className:l=""}){const c=v.useRef(null),d=x=>{if(!x||x.length===0)return;const b=[],j=[];Array.from(x).forEach(w=>{if(w.size>s){j.push(`${w.name} is too large (max ${Ote(s)})`);return}if(t&&!zte(w,t)){j.push(`${w.name} is not an accepted file type`);return}b.push(w)}),j.length>0&&console.warn("File upload errors:",j),b.length>0&&e(b)},f=()=>{c.current&&c.current.click()},h=x=>{d(x.target.files),x.target.value=""},p=x=>{if(x.preventDefault(),x.stopPropagation(),o)return;const b=x.dataTransfer.files;d(b)},g=x=>{x.preventDefault(),x.stopPropagation()};return r.jsxs("div",{className:l,children:[r.jsx("input",{ref:c,type:"file",accept:t,multiple:n,onChange:h,className:"hidden",disabled:o}),r.jsx(me,{type:"button",variant:"outline",size:"icon",onClick:f,disabled:o,onDrop:p,onDragOver:g,className:"shrink-0 transition-colors hover:bg-muted",title:"Upload files (images, PDFs, audio)",children:r.jsx(Iv,{className:"h-4 w-4"})})]})}function Ote(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]}function zte(e,t){return t.split(",").map(s=>s.trim()).some(s=>{if(s.startsWith("."))return e.name.toLowerCase().endsWith(s.toLowerCase());if(s.includes("/*")){const[o]=s.split("/");return e.type.startsWith(o+"/")}else return e.type===s})}function Ite({attachments:e,onRemoveAttachment:t,className:n=""}){return e.length===0?null:r.jsx("div",{className:`flex flex-wrap gap-2 p-2 bg-muted rounded-lg ${n}`,children:e.map(s=>r.jsx(Lte,{attachment:s,onRemove:()=>t(s.id)},s.id))})}function Lte({attachment:e,onRemove:t}){const[n,s]=v.useState(!1),o=()=>{switch(e.type){case"image":return e.preview?r.jsx("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200",children:r.jsx(EO,{className:"h-6 w-6 text-gray-400"})});case"pdf":return r.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-red-50",children:[r.jsx(Vn,{className:"h-6 w-6 text-red-500 mb-1"}),r.jsx("span",{className:"text-xs text-red-600",children:"PDF"})]});case"audio":return r.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-purple-50",children:[r.jsx(KS,{className:"h-6 w-6 text-purple-500 mb-1"}),r.jsx("span",{className:"text-xs text-purple-600",children:"AUDIO"})]});default:return r.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-100",children:[r.jsx(Vn,{className:"h-6 w-6 text-gray-500 mb-1"}),r.jsx("span",{className:"text-xs text-gray-600",children:"FILE"})]})}};return r.jsxs("div",{className:"relative w-16 h-16 rounded border overflow-hidden group cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),title:e.file.name,children:[o(),r.jsx("div",{className:`absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-200 ease-in-out ${n?"opacity-100 backdrop-blur-sm":"opacity-0 pointer-events-none"}`,onClick:t,children:r.jsx("div",{className:`transition-all duration-200 ease-in-out ${n?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:r.jsx(Jn,{className:"h-5 w-5 text-white drop-shadow-lg"})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1 truncate opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.file.name})]})}function $te({code:e,language:t}){const[n,s]=v.useState(!1),o=v.useRef(null);v.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const l=async()=>{try{await navigator.clipboard.writeText(e),s(!0),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(!1),o.current=null},2e3)}catch(c){console.error("Failed to copy code:",c)}};return r.jsxs("div",{className:"relative group",children:[r.jsx("pre",{className:"my-3 p-3 bg-foreground/5 dark:bg-foreground/10 rounded overflow-x-auto border border-foreground/10",children:r.jsxs("code",{className:"text-xs font-mono block whitespace-pre-wrap break-words",children:[t&&r.jsx("span",{className:"opacity-60 text-[10px] mb-1 block uppercase",children:t}),e]})}),r.jsx("button",{onClick:l,className:`absolute top-2 right-2 p-1.5 rounded-md border shadow-sm
                   bg-background hover:bg-accent
                   text-muted-foreground hover:text-foreground
                   transition-all duration-200
                   opacity-0 group-hover:opacity-100`,title:n?"Copied!":"Copy code",children:n?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600 dark:text-green-400",children:r.jsx("polyline",{points:"20 6 9 17 4 12"})}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),r.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}function Pte({annotation:e,children:t}){const n=e.filename||e.file_citation?.filename||"Documento desconhecido",s=e.quote||e.file_citation?.quote,o=e.score??e.file_citation?.score,l=e.file_id||e.file_citation?.file_id;return r.jsx(xm,{delayDuration:200,children:r.jsxs(vm,{children:[r.jsx(ym,{asChild:!0,children:r.jsx("span",{className:"cursor-pointer hover:bg-primary/10 rounded transition-colors",children:t})}),r.jsxs(fu,{className:"max-w-sm p-0 overflow-hidden border shadow-md bg-popover text-popover-foreground",children:[r.jsxs("div",{className:"p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"p-1.5 bg-muted rounded-md shrink-0",children:r.jsx(Vn,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"font-medium text-sm truncate",title:n,children:n}),o!==void 0&&o>0&&r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Relevncia: ",(o*100).toFixed(0),"%"]})]})]}),s&&r.jsx("div",{className:"relative pl-3 border-l-2 border-primary/30",children:r.jsxs("p",{className:"text-xs text-muted-foreground italic line-clamp-4",children:['"',s,'"']})})]}),r.jsxs("div",{className:"bg-muted/50 px-3 py-1.5 text-[10px] text-muted-foreground border-t flex justify-between",children:[r.jsx("span",{children:"Clique para ver detalhes"}),l&&r.jsxs("span",{children:["ID: ",l.slice(0,8)]})]})]})]})})}function Ute({content:e,className:t="",annotations:n=[]}){const s=e.split(`
`),o=[];let l=0;n.length>0?console.log("[MarkdownRenderer]  INICIANDO com annotations:",{contentPreview:e.substring(0,100),contentLength:e.length,annotationsCount:n.length,annotationsDetail:n.map(d=>({type:d.type,text:d.text,filename:d.filename,file_id:d.file_id,quote:d.quote?.substring(0,80),score:d.score}))}):e.match(/\[\d+\]/)&&console.warn("[MarkdownRenderer]  TEXTO CONTM [n] MAS SEM ANNOTATIONS!",{contentPreview:e.substring(0,200),matches:e.match(/\[\d+\]/g)});const c=new Map;for(const d of n)if(d.type==="file_citation"){if(d.text){c.set(d.text,d),console.log(`[MarkdownRenderer]  Mapeando chave primria: "${d.text}"`);const h=d.text.match(/\[(?:doc|source|fonte)?\s*(\d+)\]/i);if(h){const p=h[1];c.set(`[${p}]`,d),c.set(`[doc${p}]`,d),c.set(`[Doc${p}]`,d),c.set(p,d),console.log(`[MarkdownRenderer]  Mapeando variaes para nmero ${p}`)}}const f=d.filename||d.file_citation?.filename;f&&(c.set(`[fonte: ${f}]`,d),c.set(`[source: ${f}]`,d))}for(c.size>0&&console.log("[MarkdownRenderer]  CitationMap final:",{size:c.size,keys:Array.from(c.keys())});l<s.length;){const d=s[l];if(d.trim().startsWith("```")){const h=[],g=d.trim().match(/^```(\w+)?/)?.[1]||"";for(l++;l<s.length&&!s[l].trim().startsWith("```");)h.push(s[l]),l++;l++,o.push(r.jsx($te,{code:h.join(`
`),language:g},o.length));continue}const f=d.match(/^(#{1,6})\s+(.+)$/);if(f){const h=f[1].length,p=f[2],x=`${["text-2xl","text-xl","text-lg","text-base","text-sm","text-sm"][h-1]} font-semibold mt-4 mb-2 first:mt-0 break-words`,b=h===1?r.jsx("h1",{className:x,children:vr(p,c,n)},o.length):h===2?r.jsx("h2",{className:x,children:vr(p,c,n)},o.length):h===3?r.jsx("h3",{className:x,children:vr(p,c,n)},o.length):h===4?r.jsx("h4",{className:x,children:vr(p,c,n)},o.length):h===5?r.jsx("h5",{className:x,children:vr(p,c,n)},o.length):r.jsx("h6",{className:x,children:vr(p,c,n)},o.length);o.push(b),l++;continue}if(d.match(/^[\s]*[-*+]\s+/)){const h=[];for(;l<s.length&&s[l].match(/^[\s]*[-*+]\s+/);){const p=s[l].replace(/^[\s]*[-*+]\s+/,"");h.push(p),l++}o.push(r.jsx("ul",{className:"my-2 ml-4 list-disc space-y-1 break-words",children:h.map((p,g)=>r.jsx("li",{className:"text-sm break-words",children:vr(p,c,n)},g))},o.length));continue}if(d.match(/^[\s]*\d+\.\s+/)){const h=[];for(;l<s.length&&s[l].match(/^[\s]*\d+\.\s+/);){const p=s[l].replace(/^[\s]*\d+\.\s+/,"");h.push(p),l++}o.push(r.jsx("ol",{className:"my-2 ml-4 list-decimal space-y-1 break-words",children:h.map((p,g)=>r.jsx("li",{className:"text-sm break-words",children:vr(p,c,n)},g))},o.length));continue}if(d.trim().startsWith("|")&&d.trim().endsWith("|")){const h=[];for(;l<s.length&&s[l].trim().startsWith("|")&&s[l].trim().endsWith("|");)h.push(s[l].trim()),l++;if(h.length>=2){const p=h[0].split("|").slice(1,-1).map(x=>x.trim());if(h[1].match(/^\|[\s\-:|]+\|$/)){const x=h.slice(2).map(b=>b.split("|").slice(1,-1).map(j=>j.trim()));o.push(r.jsx("div",{className:"my-3 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-foreground/10 text-sm",children:[r.jsx("thead",{className:"bg-foreground/5",children:r.jsx("tr",{children:p.map((b,j)=>r.jsx("th",{className:"border-b border-foreground/10 px-3 py-2 text-left font-semibold break-words",children:vr(b,c,n)},j))})}),r.jsx("tbody",{children:x.map((b,j)=>r.jsx("tr",{className:"border-b border-foreground/5 last:border-b-0",children:b.map((w,_)=>r.jsx("td",{className:"px-3 py-2 border-r border-foreground/5 last:border-r-0 break-words",children:vr(w,c,n)},_))},j))})]})},o.length));continue}}for(const p of h)o.push(r.jsx("p",{className:"my-1",children:vr(p,c,n)},o.length));continue}if(d.trim().startsWith(">")){const h=[];for(;l<s.length&&s[l].trim().startsWith(">");)h.push(s[l].replace(/^>\s?/,"")),l++;o.push(r.jsx("blockquote",{className:"my-2 pl-4 border-l-4 border-current/30 opacity-80 italic break-words",children:h.map((p,g)=>r.jsx("div",{className:"break-words",children:vr(p,c,n)},g))},o.length));continue}if(d.match(/^[\s]*[-*_]{3,}[\s]*$/)){o.push(r.jsx("hr",{className:"my-4 border-t border-border"},o.length)),l++;continue}if(d.trim()===""){o.push(r.jsx("div",{className:"h-2"},o.length)),l++;continue}o.push(r.jsx("p",{className:"my-1 break-words",children:vr(d,c,n)},o.length)),l++}return r.jsx("div",{className:`markdown-content break-words ${t}`,children:o})}function vr(e,t,n){const s=[];let o=e,l=0;for(;o.length>0;){const c=o.match(/`([^`]+)`/);if(c&&c.index!==void 0){c.index>0&&s.push(r.jsx("span",{children:pu(o.slice(0,c.index),t,n)},l++)),s.push(r.jsx("code",{className:"px-1.5 py-0.5 bg-foreground/10 rounded text-xs font-mono border border-foreground/20",children:c[1]},l++)),o=o.slice(c.index+c[0].length);continue}s.push(r.jsx("span",{children:pu(o,t,n)},l++));break}return s}function pu(e,t,n){const s=[];let o=e,l=0;for(;o.length>0;){const c=[{regex:/(\d+)([^]+)/,component:"citation-openai"},{regex:/\[(fonte|source):\s*([^\]]+)\]/i,component:"citation-file"},{regex:/\[doc(\d+)\]/i,component:"citation-num"},{regex:/\[(\d+)\](?!\()/,component:"citation-num"},{regex:/\*\*\[([^\]]+)\]\(([^)]+)\)\*\*/,component:"strong-link"},{regex:/__\[([^\]]+)\]\(([^)]+)\)__/,component:"strong-link"},{regex:/\*\[([^\]]+)\]\(([^)]+)\)\*/,component:"em-link"},{regex:/_\[([^\]]+)\]\(([^)]+)\)_/,component:"em-link"},{regex:/\[([^\]]+)\]\(([^)]+)\)/,component:"link"},{regex:/\*\*(.+?)\*\*/,component:"strong"},{regex:/__(.+?)__/,component:"strong"},{regex:/\*(.+?)\*/,component:"em"},{regex:/_(.+?)_/,component:"em"}];let d=null;for(const f of c){const h=o.match(f.regex);h&&h.index!==void 0&&(!d||h.index<d.index)&&(d={match:h,pattern:f,index:h.index})}if(d){const{match:f,pattern:h}=d;if(f.index>0&&s.push(o.slice(0,f.index)),h.component==="strong")s.push(r.jsx("strong",{className:"font-semibold",children:f[1]},l++));else if(h.component==="em")s.push(r.jsx("em",{className:"italic",children:f[1]},l++));else if(h.component==="strong-link"){const p=f[1],g=f[2],x=pu(p,t,n);s.push(r.jsx("strong",{className:"font-semibold",children:r.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:x})},l++))}else if(h.component==="em-link"){const p=f[1],g=f[2],x=pu(p,t,n);s.push(r.jsx("em",{className:"italic",children:r.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:x})},l++))}else if(h.component==="link"){const p=f[1],g=f[2],x=pu(p,t,n);s.push(r.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:x},l++))}else if(h.component==="citation-num"||h.component==="citation-file"||h.component==="citation-openai"){const p=f[0];let g=t?.get(p);if(!g&&t&&h.component==="citation-num"){const b=f[1];g=t.get(`[${b}]`)||t.get(`[doc${b}]`)||t.get(b)}if(!g&&n&&h.component==="citation-num"){const b=f[1];g=n.find(j=>j.type==="file_citation"&&j.text&&(j.text===p||j.text.includes(`[${b}]`)))}if(!g&&n&&n.length>0){if(n.length===1)g=n[0];else if(h.component==="citation-num"){const b=parseInt(f[1],10);b>0&&b<=n.length&&(g=n[b-1])}}let x;if(h.component==="citation-num"){const b=f[1];x=r.jsx("span",{className:"inline-flex items-center justify-center min-w-[1.25rem] h-5 px-1 mx-0.5 text-xs font-medium rounded bg-primary/10 text-primary border border-primary/20",children:b})}else if(h.component==="citation-file"){const b=f[2].trim();x=r.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 mx-0.5 text-xs font-medium rounded bg-primary/10 text-primary border border-primary/20",children:[r.jsx(Vn,{className:"w-3 h-3"}),b]})}else{const b=f[1];x=r.jsx("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 mx-0.5 text-xs font-medium rounded bg-primary/10 text-primary border border-primary/20",children:b})}g?(console.log(`[MarkdownRenderer]  Citao '${p}' encontrada:`,{filename:g.filename||g.file_citation?.filename,quote:(g.quote||g.file_citation?.quote)?.substring(0,30)}),s.push(r.jsx(Pte,{annotation:g,children:x},l++))):(console.log(`[MarkdownRenderer]  Citao '${p}' NO encontrada. Keys disponveis:`,Array.from(t?.keys()||[])),s.push(r.jsx("span",{title:"Referncia no encontrada",children:x},l++)))}o=o.slice(f.index+f[0].length)}else{o.length>0&&s.push(o);break}}return s}function Fte({citation:e,index:t}){const[n,s]=v.useState(!1);return r.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-muted-foreground/20 hover:bg-muted/50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold flex items-center justify-center",children:t}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium text-sm truncate",children:e.filename}),e.page&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Pgina ",e.page]}),e.score&&r.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[Math.round(e.score*100),"% relevncia"]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[r.jsx(d8,{className:"h-3 w-3 inline mr-1"}),r.jsx("span",{className:"italic",children:e.content.length>150?`${e.content.substring(0,150)}...`:e.content})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(me,{variant:"ghost",size:"sm",onClick:()=>s(!n),className:"text-xs h-7",children:n?r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"h-3 w-3 mr-1"}),"Menos"]}):r.jsxs(r.Fragment,{children:[r.jsx(kr,{className:"h-3 w-3 mr-1"}),"Ver mais"]})}),e.url&&r.jsx(me,{variant:"ghost",size:"sm",asChild:!0,className:"text-xs h-7",children:r.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(xu,{className:"h-3 w-3 mr-1"}),"Abrir"]})})]}),n&&r.jsxs("div",{className:"mt-3 p-3 bg-background rounded border",children:[r.jsx("blockquote",{className:"text-sm leading-relaxed border-l-2 border-primary/30 pl-3 italic",children:e.content}),e.metadata&&Object.keys(e.metadata).length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:r.jsx("strong",{children:"Metadados:"})}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Object.entries(e.metadata).map(([o,l])=>r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[o,":"]})," ",String(l)]},o))})]})]})]})]})})}function Vte({citations:e,className:t}){const[n,s]=v.useState(!1);return!e||e.length===0?null:r.jsxs("div",{className:`mt-4 border-t pt-4 ${t||""}`,children:[r.jsxs(me,{variant:"ghost",onClick:()=>s(!n),className:"flex items-center gap-2 text-sm font-medium p-0 h-auto hover:bg-transparent",children:[r.jsx(ch,{className:"h-4 w-4 text-primary"}),r.jsxs("span",{children:["Fontes consultadas (",e.length,")"]}),n?r.jsx(zn,{className:"h-4 w-4 ml-auto"}):r.jsx(kr,{className:"h-4 w-4 ml-auto"})]}),n&&r.jsx("div",{className:"mt-3 space-y-3",children:e.map((o,l)=>r.jsx(Fte,{citation:o,index:l+1},o.id))})]})}function Hte({content:e,className:t,isStreaming:n}){if(e.type!=="text"&&e.type!=="input_text"&&e.type!=="output_text")return null;const s=e.text,o="annotations"in e&&Array.isArray(e.annotations)?e.annotations:[];(o.length>0||e.type==="output_text")&&console.log("[TextContentRenderer]  Renderizando contedo:",{type:e.type,textLength:s.length,hasAnnotations:o.length>0,annotationsCount:o.length,annotationsPreview:o.slice(0,2).map(d=>({type:d.type,text:d.text,filename:d.filename}))});const l=new Map;o.filter(d=>d.type==="file_citation").forEach(d=>{const f=d.file_id||d.file_citation?.file_id||d.metadata?.chunk_id||`unknown-${d.start_index}`,h=l.get(f);(!h||(d.score??0)>(h.score??0))&&l.set(f,d)});const c=Array.from(l.values()).map((d,f)=>({id:d.file_id||d.file_citation?.file_id||`citation-${f}`,filename:d.filename||d.file_citation?.filename||"Documento",content:d.quote||d.file_citation?.quote||"Contedo no disponvel",score:d.score??d.file_citation?.score,metadata:d.metadata}));return r.jsxs("div",{className:`break-words ${t||""}`,children:[r.jsx(Ute,{content:s,annotations:o}),n&&s.length>0&&r.jsx("span",{className:"ml-1 inline-block h-2 w-2 animate-pulse rounded-full bg-current"}),c.length>0&&!n&&r.jsx(Vte,{citations:c})]})}function Bte({content:e,className:t}){const[n,s]=v.useState(!1),[o,l]=v.useState(!1);if(e.type!=="input_image"&&e.type!=="output_image")return null;const c=e.image_url;return n?r.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Vn,{className:"h-4 w-4"}),r.jsx("span",{children:"Image could not be loaded"})]})}):r.jsxs("div",{className:`my-2 ${t||""}`,children:[r.jsx("img",{src:c,alt:"Uploaded image",className:`rounded-lg border max-w-full transition-all cursor-pointer ${o?"max-h-none":"max-h-64"}`,onClick:()=>l(!o),onError:()=>s(!0)}),o&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to collapse"})]})}function qte({content:e,className:t}){if(e.type!=="input_file"&&e.type!=="output_file")return null;const n=e.file_url||e.file_data,s=e.filename||"file",o=s?.toLowerCase().endsWith(".pdf")||n?.includes("application/pdf"),l=s?.toLowerCase().match(/\.(mp3|wav|m4a|ogg|flac|aac)$/);return o&&n?r.jsxs("div",{className:`my-2 ${t||""}`,children:[r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsx("iframe",{src:n,className:"w-full h-96",title:s})}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:s}),n&&r.jsxs("a",{href:n,download:s,className:"ml-auto text-xs text-primary hover:underline flex items-center gap-1",children:[r.jsx(Fo,{className:"h-3 w-3"}),"Download"]})]})]}):l&&n?r.jsxs("div",{className:`my-2 p-3 border rounded-lg ${t||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(KS,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium",children:s})]}),r.jsxs("audio",{controls:!0,className:"w-full",children:[r.jsx("source",{src:n}),"Your browser does not support audio playback."]})]}):r.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:s})]}),n&&r.jsxs("a",{href:n,download:s,className:"text-xs text-primary hover:underline flex items-center gap-1",children:[r.jsx(Fo,{className:"h-3 w-3"}),"Download"]})]})})}function Zte({content:e,className:t}){const[n,s]=v.useState(!1);if(e.type!=="output_data")return null;const o=e.data,l=e.mime_type,c=e.description;let d=o;try{const f=JSON.parse(o);d=JSON.stringify(f,null,2)}catch{}return r.jsxs("div",{className:`my-2 p-3 border rounded-lg bg-muted ${t||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s(!n),children:[r.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium",children:c||"Data Output"}),r.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:l}),n?r.jsx(zn,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),n&&r.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-64 bg-background p-2 rounded border font-mono",children:d})]})}function Yte({content:e,className:t}){if(e.type!=="function_approval_request")return null;const[n,s]=v.useState(!1),{status:o,function_call:l}=e,d={pending:{icon:WS,color:"amber",label:"Awaiting Approval",bgClass:"bg-amber-50 dark:bg-amber-950/20",borderClass:"border-amber-200 dark:border-amber-800",iconClass:"text-amber-600 dark:text-amber-400",textClass:"text-amber-800 dark:text-amber-300"},approved:{icon:Ml,color:"green",label:"Approved",bgClass:"bg-green-50 dark:bg-green-950/20",borderClass:"border-green-200 dark:border-green-800",iconClass:"text-green-600 dark:text-green-400",textClass:"text-green-800 dark:text-green-300"},rejected:{icon:Bo,color:"red",label:"Rejected",bgClass:"bg-red-50 dark:bg-red-950/20",borderClass:"border-red-200 dark:border-red-800",iconClass:"text-red-600 dark:text-red-400",textClass:"text-red-800 dark:text-red-300"}}[o],f=d.icon;let h;try{h=typeof l.arguments=="string"?JSON.parse(l.arguments):l.arguments}catch{h=l.arguments}return r.jsxs("div",{className:`my-2 p-3 border rounded ${d.bgClass} ${d.borderClass} ${t||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s(!n),children:[r.jsx(f,{className:`h-4 w-4 ${d.iconClass}`}),r.jsxs("span",{className:`text-sm font-medium ${d.textClass}`,children:[d.label,": ",l.name]}),n?r.jsx(zn,{className:`h-4 w-4 ${d.iconClass} ml-auto`}):r.jsx(kr,{className:`h-4 w-4 ${d.iconClass} ml-auto`})]}),n&&r.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[r.jsx("div",{className:`${d.textClass} mb-1`,children:"Arguments:"}),r.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(h,null,2)})]})]})}function Wte({content:e,className:t,isStreaming:n}){switch(e.type){case"text":case"input_text":case"output_text":return r.jsx(Hte,{content:e,className:t,isStreaming:n});case"input_image":case"output_image":return r.jsx(Bte,{content:e,className:t});case"input_file":case"output_file":return r.jsx(qte,{content:e,className:t});case"output_data":return r.jsx(Zte,{content:e,className:t});case"function_approval_request":return r.jsx(Yte,{content:e,className:t});default:return null}}function Gte({name:e,arguments:t,className:n}){const[s,o]=v.useState(!1);let l;try{l=typeof t=="string"?JSON.parse(t):t}catch{l=t}return r.jsxs("div",{className:`my-2 p-3 border rounded bg-blue-50 dark:bg-blue-950/20 ${n||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>o(!s),children:[r.jsx(dh,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),r.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Function Call: ",e]}),s?r.jsx(zn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"}):r.jsx(kr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"})]}),s&&r.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[r.jsx("div",{className:"text-blue-600 dark:text-blue-400 mb-1",children:"Arguments:"}),r.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l,null,2)})]})]})}function Xte({output:e,call_id:t,className:n}){const[s,o]=v.useState(!1);let l;try{l=typeof e=="string"?JSON.parse(e):e}catch{l=e}return r.jsxs("div",{className:`my-2 p-3 border rounded bg-green-50 dark:bg-green-950/20 ${n||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>o(!s),children:[r.jsx(dh,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Function Result"}),s?r.jsx(zn,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"}):r.jsx(kr,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"})]}),s&&r.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[r.jsx("div",{className:"text-green-600 dark:text-green-400 mb-1",children:"Output:"}),r.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(l,null,2)}),r.jsxs("div",{className:"text-gray-500 text-[10px] mt-2",children:["Call ID: ",t]})]})]})}function dS({item:e,className:t}){if(e.type==="message"){const n=e.status==="in_progress",s=e.content.length>0;return r.jsxs("div",{className:t,children:[e.content.map((o,l)=>r.jsx(Wte,{content:o,className:l>0?"mt-2":"",isStreaming:n},l)),n&&!s&&r.jsx("div",{className:"flex items-center space-x-1",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.3s]"}),r.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.15s]"}),r.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"})]})})]})}return e.type==="function_call"?r.jsx(Gte,{name:e.name,arguments:e.arguments,className:t}):e.type==="function_call_output"?r.jsx(Xte,{output:e.output,call_id:e.call_id,className:t}):null}function Oo({title:e,icon:t,children:n,className:s=""}){return r.jsxs("div",{className:`border rounded-lg p-4 bg-card ${s}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,r.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})}function Kte({agent:e,open:t,onOpenChange:n}){const s=e.source==="directory"?r.jsx(Ov,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?r.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(XS,{className:"h-4 w-4 text-muted-foreground"}),o=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return r.jsx(ms,{open:t,onOpenChange:n,children:r.jsxs(hs,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs(ps,{className:"px-6 pt-6 flex-shrink-0",children:[r.jsx(gs,{children:"Agent Details"}),r.jsx($l,{onClose:()=>n(!1)})]}),r.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(bt,{className:"h-6 w-6 text-primary"}),r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&r.jsx("p",{className:"text-muted-foreground",children:e.description})]}),r.jsx("div",{className:"h-px bg-border mb-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(e.model_id||e.chat_client_type)&&r.jsx(Oo,{title:"Model & Client",icon:r.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),children:r.jsxs("div",{className:"space-y-1",children:[e.model_id&&r.jsx("div",{className:"font-mono text-foreground",children:e.model_id}),e.chat_client_type&&r.jsxs("div",{className:"text-xs",children:["(",e.chat_client_type,")"]})]})}),r.jsx(Oo,{title:"Source",icon:s,children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-foreground",children:o}),e.module_path&&r.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),r.jsx(Oo,{title:"Environment",icon:e.has_env?r.jsx(Tl,{className:"h-4 w-4 text-orange-500"}):r.jsx(uh,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:r.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),e.instructions&&r.jsx(Oo,{title:"Instructions",icon:r.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),className:"mb-4",children:r.jsx("div",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:e.instructions})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.tools&&e.tools.length>0&&r.jsx(Oo,{title:`Tools (${e.tools.length})`,icon:r.jsx(j0,{className:"h-4 w-4 text-muted-foreground"}),children:r.jsx("ul",{className:"space-y-1",children:e.tools.map((l,c)=>r.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},c))})}),e.middleware&&e.middleware.length>0&&r.jsx(Oo,{title:`Middleware (${e.middleware.length})`,icon:r.jsx(j0,{className:"h-4 w-4 text-muted-foreground"}),children:r.jsx("ul",{className:"space-y-1",children:e.middleware.map((l,c)=>r.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},c))})}),e.context_providers&&e.context_providers.length>0&&r.jsx(Oo,{title:`Context Providers (${e.context_providers.length})`,icon:r.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}),className:!e.middleware||e.middleware.length===0?"md:col-start-2":"",children:r.jsx("ul",{className:"space-y-1",children:e.context_providers.map((l,c)=>r.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",l]},c))})})]})]})]})})}function Qte({item:e}){const[t,n]=v.useState(!1),[s,o]=v.useState(!1),l=()=>e.type==="message"?e.content.filter(d=>d.type==="text").map(d=>d.text).join(`
`):"",c=async()=>{const d=l();if(d)try{await navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)}catch(f){console.error("Failed to copy:",f)}};if(e.type==="message"){const d=e.role==="user",f=e.status==="incomplete",h=d?Lv:f?Sr:bt,p=l();return r.jsxs("div",{className:`flex gap-3 ${d?"flex-row-reverse":""}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[r.jsx("div",{className:`flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border ${d?"bg-primary text-primary-foreground":f?"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800":"bg-muted"}`,children:r.jsx(h,{className:"h-4 w-4"})}),r.jsxs("div",{className:`flex flex-col space-y-1 ${d?"items-end":"items-start"} max-w-[80%]`,children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`rounded px-3 py-2 text-sm ${d?"bg-primary text-primary-foreground":f?"bg-orange-50 dark:bg-orange-950/50 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800":"bg-muted"}`,children:[f&&r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx(Sr,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm",children:"Unable to process request"})]}),r.jsx("div",{className:f?"text-xs leading-relaxed break-all":"",children:r.jsx(dS,{item:e})})]}),p&&t&&r.jsx("button",{onClick:c,className:`absolute top-1 right-1
                           p-1.5 rounded-md border shadow-sm
                           bg-background hover:bg-accent
                           text-muted-foreground hover:text-foreground
                           transition-all duration-200 ease-in-out
                           opacity-0 group-hover:opacity-100`,title:s?"Copied!":"Copy message",children:s?r.jsx(N6,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}):r.jsx(so,{className:"h-3.5 w-3.5"})})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[r.jsx("span",{children:e.created_at?new Date(e.created_at*1e3).toLocaleTimeString():new Date().toLocaleTimeString()}),!d&&e.usage&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",e.usage.input_tokens]}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",e.usage.output_tokens]}),r.jsxs("span",{children:["(",e.usage.total_tokens," tokens)"]})]})]})]})]})]})}return r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border bg-muted",children:r.jsx(bt,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex flex-col space-y-1 items-start max-w-[80%]",children:r.jsx("div",{className:"rounded px-3 py-2 text-sm bg-muted",children:r.jsx(dS,{item:e})})})]})}function N5({selectedAgent:e,onDebugEvent:t}){const n=be(V=>V.currentConversation),s=be(V=>V.availableConversations),o=be(V=>V.chatItems),l=be(V=>V.isStreaming),c=be(V=>V.isSubmitting),d=be(V=>V.loadingConversations),f=be(V=>V.inputValue),h=be(V=>V.attachments),p=be(V=>V.uiMode),g=be(V=>V.conversationUsage),x=be(V=>V.pendingApprovals),b=be(V=>V.oaiMode),j=be(V=>V.setCurrentConversation),w=be(V=>V.setAvailableConversations),_=be(V=>V.setChatItems),S=be(V=>V.setIsStreaming),E=be(V=>V.setIsSubmitting),C=be(V=>V.setLoadingConversations),k=be(V=>V.setInputValue),T=be(V=>V.setAttachments),M=be(V=>V.updateConversationUsage),O=be(V=>V.setPendingApprovals),[I,U]=v.useState(!1),[Z,X]=v.useState(0),[Y,q]=v.useState(null),[R,$]=v.useState(!1),[A,L]=v.useState(null),[F,B]=v.useState(!1),z=v.useRef(null),H=v.useRef(null),J=v.useRef(null),K=v.useRef(null),ie=v.useRef(!1),ge=v.useRef(""),ye=v.useRef([]);v.useEffect(()=>{if(!H.current)return;const V=z.current?.querySelector("[data-radix-scroll-area-viewport]");let oe=!1;if(V){const{scrollTop:ne,scrollHeight:xe,clientHeight:ve}=V,ke=xe-ne-ve<100;oe=ie.current||ke}else oe=!0;oe&&H.current.scrollIntoView({behavior:l?"instant":"smooth"}),ie.current&&!l&&(ie.current=!1)},[o,l]),v.useEffect(()=>{!l&&!c&&J.current?.focus()},[l,c]),v.useEffect(()=>{const V=async(ne,xe,ve)=>{const ke=sl(xe.id);if(!ke||!ke.responseId){S(!1);return}try{const De={model:ve.id,input:[],stream:!0,conversation:xe.id},He=rt.streamAgentExecutionOpenAIDirect(ve.id,De,xe.id,ke.responseId);for await(const Ie of He){if(t(Ie),Ie.type==="response.completed"){const Ot=Ie,et=Ot.response?.usage;et&&(K.current={input_tokens:et.input_tokens,output_tokens:et.output_tokens,total_tokens:et.total_tokens});const Ye=Ot.response?.output;if(Ye&&Ye.length>0){const ut=Ye[0];if(ut.content&&ut.content.length>0){const We=ut.content.find(vt=>vt.type==="output_text");We?.annotations&&We.annotations.length>0&&(console.log("[AgentView-Resume]  Annotations recebidas:",We.annotations.length),ye.current=We.annotations)}}continue}if(Ie.type==="response.failed"){const et=Ie.response?.error,Ye=et?typeof et=="object"&&"message"in et?et.message:JSON.stringify(et):"Request failed",ut=be.getState().chatItems;_(ut.map(We=>We.id===ne.id&&We.type==="message"?{...We,content:[{type:"text",text:ge.current||Ye}],status:"incomplete"}:We)),S(!1);return}if(Ie.type==="response.function_approval.requested"){const Ot=Ie;O([...be.getState().pendingApprovals,{request_id:Ot.request_id,function_call:Ot.function_call}]);continue}if(Ie.type==="response.function_approval.responded"){const Ot=Ie;O(be.getState().pendingApprovals.filter(et=>et.request_id!==Ot.request_id));continue}if(Ie.type==="error"){const et=Ie.message||"An error occurred",Ye=be.getState().chatItems;_(Ye.map(ut=>ut.id===ne.id&&ut.type==="message"?{...ut,content:[{type:"text",text:ge.current||et}],status:"incomplete"}:ut)),S(!1);return}if(Ie.type==="response.output_text.delta"&&"delta"in Ie&&Ie.delta){ge.current+=Ie.delta;const Ot=be.getState().chatItems;_(Ot.map(et=>et.id===ne.id&&et.type==="message"?{...et,content:[{type:"text",text:ge.current}],status:"in_progress"}:et))}}const mt=K.current,St=ye.current,ct=St.length>0;ct&&console.log("[AgentView-Resume]  Aplicando annotations na atualizao final:",St.length);const At=be.getState().chatItems;_(At.map(Ie=>Ie.id===ne.id&&Ie.type==="message"?{...Ie,content:ct?[{type:"output_text",text:ge.current,annotations:St}]:Ie.content,status:"completed",usage:mt||void 0}:Ie)),S(!1),ye.current=[],mt&&M(mt.total_tokens),K.current=null}catch(De){const He=be.getState().chatItems;_(He.map(mt=>mt.id===ne.id&&mt.type==="message"?{...mt,content:[{type:"text",text:`Error resuming stream: ${De instanceof Error?De.message:"Unknown error"}`}],status:"incomplete"}:mt)),S(!1)}},oe=async()=>{if(e){C(!0);try{try{const{data:ke}=await rt.listConversations(e.id);if(w(ke),ke.length>0){const De=ke[0];j(De);try{let He=[],mt=!0,St;for(;mt;){const At=await rt.listConversationItems(De.id,{order:"asc",after:St});He=He.concat(At.data),mt=At.has_more,mt&&At.data.length>0&&(St=At.data[At.data.length-1].id)}_(He),S(!1);const ct=sl(De.id);if(ct&&!ct.completed){ge.current=ct.accumulatedText||"";const At={id:ct.lastMessageId||`assistant-${Date.now()}`,type:"message",role:"assistant",content:ct.accumulatedText?[{type:"text",text:ct.accumulatedText}]:[],status:"in_progress"};_([...He,At]),S(!0),setTimeout(()=>{V(At,De,e)},100)}setTimeout(()=>{H.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${De.id}, starting fresh`),_([]),S(!1)}return}}catch{}const ne=`devui_convs_${e.id}`,xe=localStorage.getItem(ne);if(xe)try{const ke=JSON.parse(xe);if(ke.length>0)try{await rt.listConversationItems(ke[0].id),w(ke),j(ke[0]),_([]),S(!1);return}catch{console.debug(`Cached conversation ${ke[0].id} no longer exists, clearing cache`),localStorage.removeItem(ne)}}catch{localStorage.removeItem(ne)}const ve=await rt.createConversation({agent_id:e.id});j(ve),w([ve]),_([]),S(!1),L(null),localStorage.setItem(ne,JSON.stringify([ve]))}catch(ne){w([]),_([]),S(!1);const xe=ne instanceof Error?ne.message:"Failed to create conversation";L({message:xe,type:"conversation_creation_error"})}finally{C(!1)}}};_([]),S(!1),j(void 0),ge.current="",oe()},[e,t,_,S,C,w,j,O,M]);const ae=async V=>{const oe=[];for(const ne of V){const xe=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ve=Pe(ne);let ke;ve==="image"&&(ke=await at(ne)),oe.push({id:xe,file:ne,preview:ke,type:ve})}T([...be.getState().attachments,...oe])},de=V=>{T(be.getState().attachments.filter(oe=>oe.id!==V))},te=V=>{V.preventDefault(),V.stopPropagation(),X(oe=>oe+1),V.dataTransfer.items&&V.dataTransfer.items.length>0&&U(!0)},pe=V=>{V.preventDefault(),V.stopPropagation();const oe=Z-1;X(oe),oe===0&&U(!1)},Se=V=>{V.preventDefault(),V.stopPropagation()},Q=async V=>{if(V.preventDefault(),V.stopPropagation(),U(!1),X(0),c||l)return;const oe=Array.from(V.dataTransfer.files);oe.length>0&&await ae(oe)},Ne=async V=>{const oe=Array.from(V.clipboardData.items),ne=[];let xe=!1;const ve=8e3;for(const ke of oe)if(ke.type.startsWith("image/")){V.preventDefault();const De=ke.getAsFile();if(De){const He=Date.now();ne.push(new File([De],`screenshot-${He}.png`,{type:De.type}))}}else ke.type==="text/plain"&&!xe&&(xe=!0,V.preventDefault(),await new Promise(De=>{ke.getAsString(He=>{const mt=(He.match(/\n/g)||[]).length;if(He.length>ve||mt>50||/^\s*[{[][\s\S]*[}\]]\s*$/.test(He)||/^<\?xml|^<html|^<!DOCTYPE/i.test(He)){const ct=Re(He),At=Date.now(),Ie=new Blob([He],{type:"text/plain"});ne.push(new File([Ie],`pasted-text-${At}${ct}`,{type:"text/plain"}))}else{const ct=J.current;if(ct){const At=ct.selectionStart,Ie=ct.selectionEnd,Ot=ct.value,et=Ot.slice(0,At)+He+Ot.slice(Ie);k(et),setTimeout(()=>{ct.selectionStart=ct.selectionEnd=At+He.length,ct.focus()},0)}}De()})}));if(ne.length>0){await ae(ne);const ke=ne.length===1?ne[0].name.includes("screenshot")?"Screenshot added as attachment":"Large text converted to file":`${ne.length} files added`;q(ke),setTimeout(()=>q(null),3e3)}},Re=V=>{const oe=V.trim(),ne=oe.split(`
`);if(/^{[\s\S]*}$|^\[[\s\S]*\]$/.test(oe))return".json";if(/^<\?xml|^<html|^<!DOCTYPE/i.test(oe))return".html";if(/^```/.test(oe))return".md";if(/\t/.test(V)&&ne.length>1)return".tsv";if(ne.length>2){const xe=ne.filter(ke=>ke.includes(",")),ve=ne.filter(ke=>ke.includes(";"));if(xe.length>ne.length*.5&&xe.reduce((De,He)=>De+(He.match(/,/g)||[]).length,0)/xe.length>=2||ve.length>ne.length*.5&&ve.reduce((De,He)=>De+(He.match(/;/g)||[]).length,0)/ve.length>=2)return".csv"}return".txt"},Pe=V=>V.type.startsWith("image/")?"image":V.type==="application/pdf"?"pdf":V.type.startsWith("audio/")?"audio":"other",at=V=>new Promise((oe,ne)=>{const xe=new FileReader;xe.onload=()=>oe(xe.result),xe.onerror=ne,xe.readAsDataURL(V)}),xt=v.useCallback(async()=>{if(e)try{const V=await rt.createConversation({agent_id:e.id});j(V),w([V,...be.getState().availableConversations]),_([]),S(!1),L(null),be.setState({conversationUsage:{total_tokens:0,message_count:0}}),ge.current="";const oe=`devui_convs_${e.id}`,ne=[V,...s];localStorage.setItem(oe,JSON.stringify(ne))}catch(V){const oe=V instanceof Error?V.message:"Failed to create conversation";L({message:oe,type:"conversation_creation_error"})}},[e,j,w,_,S]),Bn=v.useCallback(async(V,oe)=>{if(oe&&(oe.preventDefault(),oe.stopPropagation()),!!confirm("Delete this conversation? This cannot be undone."))try{if(await rt.deleteConversation(V)){const xe=s.filter(ve=>ve.id!==V);if(w(xe),n?.id===V)if(xe.length>0){const ve=xe[0];j(ve),_([]),S(!1)}else j(void 0),_([]),S(!1),be.setState({conversationUsage:{total_tokens:0,message_count:0}}),ge.current="";t("clear")}}catch{alert("Failed to delete conversation. Please try again.")}},[s,n,t,w,j,_,S]),wn=v.useCallback(async()=>{if(F||!e)return;B(!0);const V=be.getState().addToast,oe=be.getState().updateAgent;try{await rt.reloadEntity(e.id);const ne=await rt.getAgentInfo(e.id);oe(ne),V({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(ne){const xe=ne instanceof Error?ne.message:"Failed to reload entity";V({message:`Failed to reload: ${xe}`,type:"error",duration:6e3})}finally{B(!1)}},[F,e]),W=v.useCallback(async V=>{const oe=s.find(ne=>ne.id===V);if(oe){j(oe),t("clear");try{let ne=[],xe=!0,ve;for(;xe;){const He=await rt.listConversationItems(V,{order:"asc",after:ve});ne=ne.concat(He.data),xe=He.has_more,xe&&He.data.length>0&&(ve=He.data[He.data.length-1].id)}const ke=ne;_(ke),S(!1),be.setState({conversationUsage:{total_tokens:0,message_count:ke.length}});const De=sl(V);if(De?.accumulatedText){ge.current=De.accumulatedText;const He={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"output_text",text:De.accumulatedText}],status:"in_progress"};_([...ke,He]),S(!0)}setTimeout(()=>{H.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${V}, starting with empty chat`),_([]),S(!1),be.setState({conversationUsage:{total_tokens:0,message_count:0}})}ge.current=""}},[s,t,j,_,S]),se=async(V,oe)=>{const ne=x.find(mt=>mt.request_id===V);if(!ne)return;const xe=Math.floor(Date.now()/1e3),ve={id:`user-approval-${Date.now()}`,type:"message",role:"user",content:[{type:"function_approval_request",request_id:V,status:oe?"approved":"rejected",function_call:ne.function_call}],status:"completed",created_at:xe},ke=be.getState().chatItems;_([...ke,ve]);const He={input:[{type:"message",role:"user",content:[{type:"function_approval_response",request_id:V,approved:oe,function_call:ne.function_call}]}],conversation_id:n?.id};return O(be.getState().pendingApprovals.filter(mt=>mt.request_id!==V)),He},he=v.useCallback(async V=>{if(!e)return;const oe=V.input.some(ke=>ke.type==="message"&&Array.isArray(ke.content)&&ke.content.some(De=>De.type==="function_approval_response")),ne=[];for(const ke of V.input)if(ke.type==="message"&&Array.isArray(ke.content)){for(const De of ke.content)if(De.type==="input_text")ne.push({type:"text",text:De.text});else if(De.type==="input_image")ne.push({type:"input_image",image_url:De.image_url||"",detail:"auto"});else if(De.type==="input_file"){const He=De;ne.push({type:"input_file",file_data:He.file_data,filename:He.filename})}}const xe=Math.floor(Date.now()/1e3);if(!oe&&ne.length>0){const ke={id:`user-${Date.now()}`,type:"message",role:"user",content:ne,status:"completed",created_at:xe};_([...be.getState().chatItems,ke])}S(!0);const ve={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[],status:"in_progress",created_at:xe};_([...be.getState().chatItems,ve]);try{let ke=n;if(!ke)try{ke=await rt.createConversation({agent_id:e.id}),j(ke),w([ke,...be.getState().availableConversations]),L(null)}catch(Ie){const Ot=Ie instanceof Error?Ie.message:"Failed to create conversation";L({message:Ot,type:"conversation_creation_error"}),E(!1),S(!1);return}ke?.id&&rt.clearStreamingState(ke.id);const De={input:V.input,conversation_id:ke?.id};ge.current="",ye.current=[];const He=rt.streamAgentExecutionOpenAI(e.id,De);for await(const Ie of He){t(Ie);const Ot=Ie.sequence_number??"N/A";if(console.log(`[AgentView]  Evento recebido: type="${Ie.type}" seq=${Ot}`),Ie.type==="response.completed"){console.log(`

==========  RESPONSE.COMPLETED RECEBIDO ==========`);const et=Ie,Ye=et.response?.usage,ut=JSON.stringify(Ie,null,2);console.log("[AgentView]  response.completed RAW (primeiros 2000 chars):",ut.substring(0,2e3)),console.log("[AgentView]  response.completed ESTRUTURA:",{hasResponse:!!et.response,hasUsage:!!Ye,hasOutput:!!et.response?.output,outputLength:et.response?.output?.length,outputTypes:et.response?.output?.map(vt=>vt.type)}),Ye&&(K.current={input_tokens:Ye.input_tokens,output_tokens:Ye.output_tokens,total_tokens:Ye.total_tokens});const We=et.response?.output;if(We&&We.length>0){console.log("[AgentView]  Output encontrado:",We.length,"mensagens");for(let vt=0;vt<We.length;vt++){const wt=We[vt];if(console.log(`[AgentView]  Output[${vt}]:`,{type:wt.type,role:wt.role,status:wt.status,contentLength:wt.content?.length,contentTypes:wt.content?.map(an=>an.type)}),wt.content&&wt.content.length>0)for(let an=0;an<wt.content.length;an++){const Ht=wt.content[an];if(console.log(`[AgentView]  Output[${vt}].content[${an}]:`,{type:Ht.type,hasAnnotations:"annotations"in Ht&&Array.isArray(Ht.annotations),annotationsCount:"annotations"in Ht?Ht.annotations?.length:0}),Ht.type==="output_text"){const Bt=Ht;Bt.annotations&&Bt.annotations.length>0&&(console.log(`[AgentView]  ANNOTATIONS ENCONTRADAS em output[${vt}].content[${an}]:`,Bt.annotations.length,Bt.annotations.map(hn=>({type:hn.type,text:hn.text,filename:hn.filename,file_id:hn.file_id?.substring(0,20)}))),ye.current=Bt.annotations,console.log("[AgentView]  pendingAnnotationsRef ATUALIZADO com",Bt.annotations.length,"annotations"))}}}}else console.log("[AgentView]  Sem output no response.completed");console.log("[AgentView]  Estado final de pendingAnnotationsRef:",ye.current.length,"annotations"),console.log(`========== FIM RESPONSE.COMPLETED ==========

`);continue}if(Ie.type==="response.failed"){const Ye=Ie.response?.error;let ut="Request failed";Ye&&(typeof Ye=="object"&&"message"in Ye?(ut=Ye.message,"code"in Ye&&Ye.code&&(ut+=` (Code: ${Ye.code})`)):typeof Ye=="string"&&(ut=Ye));const We=be.getState().chatItems;_(We.map(vt=>vt.id===ve.id&&vt.type==="message"?{...vt,content:[{type:"text",text:ge.current||ut}],status:"incomplete"}:vt)),S(!1);return}if(Ie.type==="response.function_approval.requested"){const et=Ie;O([...be.getState().pendingApprovals,{request_id:et.request_id,function_call:et.function_call}]);const Ye=be.getState().chatItems;_(Ye.map(ut=>ut.id===ve.id&&ut.type==="message"?{...ut,content:[...ut.content,{type:"function_approval_request",request_id:et.request_id,status:"pending",function_call:et.function_call}],status:"in_progress"}:ut));continue}if(Ie.type==="response.function_result.complete"){const et=Ie,Ye={id:`result-${Date.now()}`,type:"function_call_output",call_id:et.call_id,output:et.output,status:et.status==="completed"?"completed":"incomplete",created_at:Math.floor(Date.now()/1e3)},ut=be.getState().chatItems;_([...ut,Ye]);continue}if(Ie.type==="error"){const Ye=Ie.message||"An error occurred",ut=be.getState().chatItems;_(ut.map(We=>We.id===ve.id&&We.type==="message"?{...We,content:[{type:"text",text:Ye}],status:"incomplete"}:We)),S(!1);return}if(Ie.type==="response.output_item.added"){const Ye=Ie.item,ut=be.getState().chatItems;_(ut.map(We=>{if(We.id===ve.id&&We.type==="message"){const vt=We.content;let wt=null;if(Ye.type==="output_image"?wt={type:"output_image",image_url:Ye.image_url,alt_text:Ye.alt_text,mime_type:Ye.mime_type}:Ye.type==="output_file"?wt={type:"output_file",filename:Ye.filename,file_url:Ye.file_url,file_data:Ye.file_data,mime_type:Ye.mime_type}:Ye.type==="output_data"&&(wt={type:"output_data",data:Ye.data,mime_type:Ye.mime_type,description:Ye.description}),wt)return{...We,content:[...vt,wt],status:"in_progress"}}return We}));continue}if(Ie.type==="response.output_text.delta"&&"delta"in Ie&&Ie.delta){ge.current+=Ie.delta;const et=be.getState().chatItems;_(et.map(Ye=>{if(Ye.id===ve.id&&Ye.type==="message"){const ut=Ye.content.filter(We=>We.type!=="text");return{...Ye,content:[...ut,{type:"text",text:ge.current}],status:"in_progress"}}return Ye}))}}const mt=K.current;console.log(`

==========  STREAM ENDED - APLICANDO ATUALIZAO FINAL ==========`);const St=ye.current,ct=St.length>0;console.log("[AgentView]  Estado no fim do stream:",{pendingAnnotationsCount:St.length,hasAnnotations:ct,accumulatedTextLength:ge.current.length,accumulatedTextPreview:ge.current.substring(0,100)}),ct?(console.log("[AgentView]  APLICANDO annotations na atualizao final:",St.length),console.log("[AgentView]  Annotations a aplicar:",St.map(Ie=>({type:Ie.type,text:Ie.text,filename:Ie.filename})))):console.warn("[AgentView]  NENHUMA annotation para aplicar! O texto contm [n]?",ge.current.match(/\[\d+\]/g));const At=be.getState().chatItems;_(At.map(Ie=>Ie.id===ve.id&&Ie.type==="message"?{...Ie,content:ct?[{type:"output_text",text:ge.current,annotations:St}]:Ie.content,status:"completed",usage:mt||void 0}:Ie)),S(!1),ye.current=[],mt&&M(mt.total_tokens),K.current=null}catch(ke){const De=be.getState().chatItems;_(De.map(He=>He.id===ve.id&&He.type==="message"?{...He,content:[{type:"text",text:`Error: ${ke instanceof Error?ke.message:"Failed to get response"}`}],status:"incomplete"}:He)),S(!1)}},[e,n,t,_,S,j,w,O,M]),Me=async V=>{if(V.preventDefault(),!f.trim()&&h.length===0||c||!e)return;ie.current=!0,E(!0);const oe=f.trim();k("");try{if(h.length>0||oe){const ne=[];oe&&ne.push({text:oe,type:"input_text"});for(const ve of h){const ke=await at(ve.file);if(ve.file.type.startsWith("image/"))ne.push({detail:"auto",type:"input_image",image_url:ke});else if(ve.file.type==="text/plain"&&(ve.file.name.includes("pasted-text-")||ve.file.name.endsWith(".txt")||ve.file.name.endsWith(".csv")||ve.file.name.endsWith(".json")||ve.file.name.endsWith(".html")||ve.file.name.endsWith(".md")||ve.file.name.endsWith(".tsv"))){const De=await ve.file.text();ne.push({text:De,type:"input_text"})}else{const De=ke.split(",")[1];ne.push({type:"input_file",file_data:De,file_url:ke,filename:ve.file.name})}}await he({input:[{type:"message",role:"user",content:ne}],conversation_id:n?.id})}else await he({input:[{type:"message",role:"user",content:[{text:oe,type:"input_text"}]}],conversation_id:n?.id});T([])}finally{E(!1)}},Ae=e&&!c&&!l&&(f.trim()||h.length>0);return r.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] flex-col",children:[r.jsxs("div",{className:"border-b pb-2  p-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("h2",{className:"font-semibold text-sm truncate",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bt,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:b.enabled?`Chat with ${b.model}`:`Chat with ${e.name||e.id}`})]})}),!b.enabled&&p==="developer"&&r.jsxs(r.Fragment,{children:[r.jsx(me,{variant:"ghost",size:"sm",onClick:()=>$(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View agent details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(me,{variant:"ghost",size:"sm",onClick:wn,disabled:F||e.metadata?.source==="in_memory",className:"h-6 w-6 p-0 flex-shrink-0",title:e.metadata?.source==="in_memory"?"In-memory entities cannot be reloaded":F?"Reloading...":"Reload entity code (hot reload)",children:r.jsx(io,{className:`h-4 w-4 ${F?"animate-spin":""}`})})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[r.jsxs(Wt,{value:n?.id||"",onValueChange:W,disabled:d||c,children:[r.jsx(Xt,{className:"w-full sm:w-64",children:r.jsx(Gt,{placeholder:d?"Loading...":s.length===0?"No conversations":n?`Conversation ${n.id.slice(-8)}`:"Select conversation",children:n&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("span",{children:["Conversation ",n.id.slice(-8)]}),g.total_tokens>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsxs("span",{className:"text-muted-foreground",children:[g.total_tokens>=1e3?`${(g.total_tokens/1e3).toFixed(1)}k`:g.total_tokens," ","tokens"]})]})]})})}),r.jsx(Kt,{children:s.map(V=>r.jsx(ot,{value:V.id,children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("span",{children:["Conversation ",V.id.slice(-8)]}),V.created_at&&r.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(V.created_at*1e3).toLocaleDateString()})]})},V.id))})]}),r.jsx(me,{variant:"outline",size:"icon",onClick:()=>n&&Bn(n.id),disabled:!n||c,title:n?`Delete Conversation ${n.id.slice(-8)}`:"No conversation selected",children:r.jsx(Jn,{className:"h-4 w-4"})}),r.jsxs(me,{variant:"outline",size:"lg",onClick:xt,disabled:!e||c,className:"whitespace-nowrap ",children:[r.jsx(_t,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden md:inline",children:" New Conversation"})]})]})]}),b.enabled?r.jsx("p",{className:"text-sm text-muted-foreground",children:"Using OpenAI model directly. Local agent tools and instructions are not applied."}):e.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),A&&r.jsxs("div",{className:"mx-4 mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-md flex items-start gap-2",children:[r.jsx(Sr,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-destructive",children:"Failed to Create Conversation"}),r.jsx("div",{className:"text-xs text-destructive/90 mt-1 break-words",children:A.message}),A.code&&r.jsxs("div",{className:"text-xs text-destructive/70 mt-1",children:["Error Code: ",A.code]})]}),r.jsx("button",{onClick:()=>L(null),className:"text-destructive hover:text-destructive/80 flex-shrink-0",title:"Dismiss error",children:r.jsx(Bo,{className:"h-4 w-4"})})]}),r.jsx(Fn,{className:"flex-1 p-4 h-0",ref:z,children:r.jsxs("div",{className:"space-y-4",children:[o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[r.jsxs("div",{className:"text-muted-foreground text-sm",children:["Start a conversation with"," ",e.name||e.id]}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Type a message below to begin"})]}):o.map(V=>r.jsx(Qte,{item:V},V.id)),r.jsx("div",{ref:H})]})}),x.length>0&&r.jsx("div",{className:"border-t bg-amber-50 dark:bg-amber-950/20 p-4 flex-shrink-0",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Sr,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:"Approval Required"}),r.jsx("div",{className:"space-y-2",children:x.map(V=>r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 border border-amber-200 dark:border-amber-900",children:[r.jsxs("div",{className:"font-mono text-xs mb-3 break-all",children:[r.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:V.function_call.name}),r.jsx("span",{className:"text-gray-500",children:"("}),r.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:JSON.stringify(V.function_call.arguments)}),r.jsx("span",{className:"text-gray-500",children:")"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(me,{size:"sm",onClick:async()=>{const oe=await se(V.request_id,!0);oe&&await he(oe)},variant:"default",className:"flex-1 sm:flex-none",children:[r.jsx(Ml,{className:"h-4 w-4 mr-1"}),"Approve"]}),r.jsxs(me,{size:"sm",onClick:async()=>{const oe=await se(V.request_id,!1);oe&&await he(oe)},variant:"outline",className:"flex-1 sm:flex-none",children:[r.jsx(Bo,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},V.request_id))})]})]})}),r.jsx("div",{className:"border-t flex-shrink-0",children:r.jsxs("div",{className:`p-4 relative transition-all duration-300 ease-in-out ${I?"bg-blue-50 dark:bg-blue-950/20":""}`,onDragEnter:te,onDragLeave:pe,onDragOver:Se,onDrop:Q,children:[I&&r.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg bg-blue-50/80 dark:bg-blue-950/40 backdrop-blur-sm flex items-center justify-center transition-all duration-200 ease-in-out z-10",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Drop files here"}),r.jsx("div",{className:"text-blue-500 dark:text-blue-500 text-xs",children:"Images, PDFs, and other files"})]})}),h.length>0&&r.jsx("div",{className:"mb-3",children:r.jsx(Ite,{attachments:h,onRemoveAttachment:de})}),Y&&r.jsxs("div",{className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-20
                          bg-blue-500 text-white px-4 py-2 rounded-full text-sm
                          animate-in slide-in-from-bottom-2 fade-in duration-200
                          flex items-center gap-2 shadow-lg`,children:[Y.includes("screenshot")?r.jsx(o8,{className:"h-3 w-3"}):r.jsx(Vn,{className:"h-3 w-3"}),Y]}),r.jsxs("form",{onSubmit:Me,className:"flex gap-2 items-end",children:[r.jsx(un,{ref:J,value:f,onChange:V=>k(V.target.value),onPaste:Ne,onKeyDown:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),Me(V))},placeholder:`Message ${e.name||e.id}... (Shift+Enter for new line)`,disabled:c||l,className:"flex-1 min-h-[40px] max-h-[200px] resize-none",style:{fieldSizing:"content"}}),r.jsx(Dte,{onFilesSelected:ae,disabled:c||l}),r.jsx(me,{type:"submit",size:"icon",disabled:!Ae,className:"shrink-0 h-10",children:c?r.jsx(ly,{size:"sm"}):r.jsx(b8,{className:"h-4 w-4"})})]})]})}),r.jsx(Kte,{agent:e,open:R,onOpenChange:$})]})}const ro=[{id:"foundry-weather-agent",name:"Azure AI Weather Agent",description:"Weather agent using Azure AI Agent (Foundry) with Azure CLI authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/foundry_agent/agent.py",tags:["azure-ai","foundry","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure AI Agent integration","Azure CLI authentication","Mock weather tools"],requiredEnvVars:[{name:"AZURE_AI_PROJECT_ENDPOINT",description:"Azure AI Foundry project endpoint URL",required:!0,example:"https://your-project.api.azureml.ms"},{name:"FOUNDRY_MODEL_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure AI Foundry",required:!0,example:"gpt-4o"}]},{id:"weather-agent-azure",name:"Azure OpenAI Weather Agent",description:"Weather agent using Azure OpenAI with API key authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/weather_agent_azure/agent.py",tags:["azure","openai","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure OpenAI integration","API key authentication","Function calling","Mock weather tools"],requiredEnvVars:[{name:"AZURE_OPENAI_API_KEY",description:"Azure OpenAI API key",required:!0},{name:"AZURE_OPENAI_CHAT_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure OpenAI",required:!0,example:"gpt-4o"},{name:"AZURE_OPENAI_ENDPOINT",description:"Azure OpenAI endpoint URL",required:!0,example:"https://your-resource.openai.azure.com"}]},{id:"spam-workflow",name:"Spam Detection Workflow",description:"5-step workflow demonstrating email spam detection with branching logic",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/spam_workflow/workflow.py",tags:["workflow","branching","multi-step"],author:"Microsoft",difficulty:"beginner",features:["Sequential execution","Conditional branching","Mock spam detection"]},{id:"fanout-workflow",name:"Complex Fan-In/Fan-Out Workflow",description:"Advanced data processing workflow with parallel validation, transformation, and quality assurance stages",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/fanout_workflow/workflow.py",tags:["workflow","fan-out","fan-in","parallel"],author:"Microsoft",difficulty:"advanced",features:["Fan-out pattern","Parallel execution","Complex state management","Multi-stage processing"]}];ro.filter(e=>e.type==="agent"),ro.filter(e=>e.type==="workflow"),ro.filter(e=>e.difficulty==="beginner"),ro.filter(e=>e.difficulty==="intermediate"),ro.filter(e=>e.difficulty==="advanced");const Jte=e=>{switch(e){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};function _5({children:e,copyable:t=!1}){const[n,s]=v.useState(!1),o=()=>{navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)};return r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto font-mono",children:r.jsx("code",{children:e})}),t&&r.jsx(me,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:o,children:n?r.jsx(Ml,{className:"h-3 w-3"}):r.jsx(so,{className:"h-3 w-3"})})]})}function Jf({number:e,title:t,description:n,code:s,action:o,copyable:l=!1}){return r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:e})}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:t}),n&&r.jsx("p",{className:"text-sm text-muted-foreground",children:n}),s&&r.jsx(_5,{copyable:l,children:s}),o&&r.jsx("div",{children:o})]})]})}function ene({sample:e,open:t,onOpenChange:n}){const s=e.requiredEnvVars&&e.requiredEnvVars.length>0,o=s?0:-1;return r.jsx(ms,{open:t,onOpenChange:n,children:r.jsxs(hs,{className:"max-w-3xl",children:[r.jsxs(ps,{className:"px-6 pt-6 pb-2",children:[r.jsxs(gs,{children:["Setup: ",e.name]}),r.jsxs(Mh,{children:["Follow these steps to run this sample ",e.type," locally"]})]}),r.jsx("div",{className:"px-6 pb-6",children:r.jsx(Fn,{className:"h-[500px]",children:r.jsxs("div",{className:"space-y-6 pr-4",children:[r.jsx(Jf,{number:1,title:"Download the sample file",action:r.jsx(me,{asChild:!0,size:"sm",children:r.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Download ",e.id,".py"]})})}),r.jsx(Jf,{number:2,title:"Create a project folder",description:"Create a dedicated folder for this sample and move the downloaded file there:",code:`mkdir -p ~/my-agents/${e.id}
mv ~/Downloads/${e.id}.py ~/my-agents/${e.id}/`,copyable:!0}),s&&r.jsx(Jf,{number:3,title:"Set up environment variables",description:"Create a .env file in the project folder with these required variables:",code:e.requiredEnvVars.map(l=>`${l.name}=${l.example||"your-value-here"}
# ${l.description}`).join(`

`),copyable:!0}),r.jsx(Jf,{number:4+o,title:"Run with MAIA",description:"Navigate to the folder and start MAIA:",code:`cd ~/my-agents/${e.id}
MAIA .`,copyable:!0}),r.jsxs(Gy,{children:[r.jsx(zO,{className:"h-4 w-4"}),r.jsx(K3,{children:"Alternative: Run Programmatically"}),r.jsxs(Xy,{className:"mt-2",children:[r.jsxs("p",{className:"mb-2",children:["You can also run the ",e.type," directly in Python:"]}),r.jsx(_5,{copyable:!0,children:`from ${e.id} import ${e.type}
import asyncio

async def main():
    response = await ${e.type}.run("Hello!")
    print(response)

asyncio.run(main())`})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(me,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(xu,{className:"h-4 w-4 mr-2"}),"View Source"]})}),r.jsx(me,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("a",{href:"https://github.com/microsoft/agent-framework#readme",target:"_blank",rel:"noopener noreferrer",children:[r.jsx(ch,{className:"h-4 w-4 mr-2"}),"Documentation"]})})]})]})})})]})})}function tne({sample:e}){const[t,n]=v.useState(!1),s=e.type==="workflow"?Rs:bt;return r.jsxs(r.Fragment,{children:[r.jsxs(Ge,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col overflow-hidden w-full",children:[r.jsxs(Pt,{className:"pb-3 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(s,{className:"h-5 w-5"}),r.jsx(Be,{variant:"secondary",className:"text-xs",children:e.type})]}),r.jsx(Be,{variant:"outline",className:$e("text-xs border",Jte(e.difficulty)),children:e.difficulty})]}),r.jsx(Dt,{className:"text-lg leading-tight",children:e.name}),r.jsx(Vr,{className:"text-sm line-clamp-3",children:e.description})]}),r.jsx(Xe,{className:"pt-0 flex-1 min-w-0 overflow-hidden",children:r.jsxs("div",{className:"space-y-3 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(o=>r.jsx(Be,{variant:"outline",className:"text-xs",children:o},o)),e.tags.length>3&&r.jsxs(Be,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),e.requiredEnvVars&&e.requiredEnvVars.length>0&&r.jsxs("details",{className:"group min-w-0 max-w-full overflow-hidden",children:[r.jsxs("summary",{className:"cursor-pointer list-none p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(MO,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 flex-shrink-0"}),r.jsxs("span",{className:"text-xs font-medium text-amber-900 dark:text-amber-100 truncate",children:["Requires ",e.requiredEnvVars.length," env var",e.requiredEnvVars.length>1?"s":""]})]}),r.jsx(zn,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 flex-shrink-0 group-open:rotate-180 transition-transform"})]}),r.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md space-y-2 min-w-0 max-w-full overflow-hidden",children:e.requiredEnvVars.map(o=>r.jsxs("div",{className:"text-xs min-w-0 max-w-full overflow-hidden",children:[r.jsx("div",{className:"font-mono font-medium text-amber-900 dark:text-amber-100 break-words",children:o.name}),r.jsx("div",{className:"text-amber-700 dark:text-amber-300 mt-0.5 break-words",children:o.description}),o.example&&r.jsx("div",{className:"font-mono text-amber-600 dark:text-amber-400 mt-0.5 break-all",children:o.example})]},o.name))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Key Features:"}),r.jsx("ul",{className:"text-xs space-y-1",children:e.features.slice(0,3).map(o=>r.jsxs("li",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50"}),r.jsx("span",{children:o})]},o))})]})]})}),r.jsxs(Z8,{className:"pt-3 flex-col gap-3",children:[r.jsx("div",{className:"w-full flex items-center justify-between text-xs text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Lv,{className:"h-3 w-3"}),r.jsx("span",{children:e.author})]})}),r.jsxs("div",{className:"w-full flex gap-2",children:[r.jsx(me,{asChild:!0,className:"flex-1",size:"sm",children:r.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Download"]})}),r.jsxs(me,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>n(!0),children:[r.jsx(ch,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]})]})]}),r.jsx(ene,{sample:e,open:t,onOpenChange:n})]})}function f0({samples:e}){return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(t=>r.jsx("div",{className:"min-w-0",children:r.jsx(tne,{sample:t})},t.id))})}function vv({onClose:e,variant:t="inline",hasExistingEntities:n=!1}){return t==="inline"?r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsx("div",{className:"mb-8 p-4 bg-muted/50 border border-border rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(L8,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold mb-1",children:"No agents or workflows configured yet!"}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["You can configure agents or workflows by running"," ",r.jsx("code",{className:"px-1.5 py-0.5 bg-background rounded text-xs",children:"MAIA"})," ","in a directory containing them."]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse the sample agents and workflows below. Download them, review the code, and run them locally to get started quickly."})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sample Gallery"}),r.jsx(f0,{samples:ro})]}),r.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",r.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):t==="route"?r.jsx("div",{className:"h-full overflow-auto",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[r.jsxs("div",{className:"mb-8",children:[n&&r.jsx("div",{className:"mb-4",children:r.jsxs(me,{variant:"ghost",onClick:e,className:"gap-2",children:[r.jsx(f6,{className:"h-4 w-4"}),"Back"]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sample Gallery"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse sample agents and workflows to learn the Agent Framework. Download these curated examples and run them locally. Examples range from beginner to advanced."})]})]}),r.jsx(f0,{samples:ro}),r.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",r.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):r.jsx(f0,{samples:ro})}function nne(){const e=be(d=>d.agents),t=be(d=>d.workflows),n=be(d=>d.selectedAgent),s=be(d=>d.oaiMode),o=be(d=>d.setShowDebugPanel),l=be(d=>d.selectEntity);v.useEffect(()=>{o(!1)},[o]),v.useEffect(()=>{if(s.enabled&&n?.type==="workflow"){const d=e[0];d&&l(d)}},[s.enabled,n,e,l]);const c=v.useCallback(d=>{},[]);return e.length===0&&t.length===0?r.jsx("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col",children:r.jsx(vv,{variant:"inline"})}):n?r.jsx("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col",children:r.jsx(N5,{selectedAgent:n,onDebugEvent:c})}):r.jsx("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col p-4",children:r.jsxs(Ge,{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[r.jsx(ni,{className:"h-12 w-12 mb-4 opacity-50"}),r.jsx("h2",{className:"text-lg font-medium mb-2",children:"Nenhum agente selecionado"}),r.jsx("p",{className:"text-sm text-center max-w-md",children:"Selecione um agente ou workflow no header acima para iniciar uma conversa."})]})})}function fS({message:e="Loading...",description:t,size:n="md",className:s,fullPage:o=!1}){const l=r.jsxs("div",{className:$e("flex flex-col items-center justify-center gap-3",o?"min-h-[50vh]":"py-8",s),children:[r.jsx(ly,{size:n,className:"text-muted-foreground"}),r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("p",{className:$e("font-medium text-muted-foreground",n==="sm"&&"text-sm",n==="lg"&&"text-lg"),children:e}),t&&r.jsx("p",{className:"text-sm text-muted-foreground/80",children:t})]})]});return o?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:l}):l}function rne(e){return["name","title","id","key","label","type","status","tag","category","code","username","password"].includes(e.toLowerCase())}function Ja({name:e,schema:t,value:n,onChange:s,isRequired:o=!1}){const{type:l,description:c,enum:d,default:f}=t,h=t.format==="textarea"||c&&c.length>100||l==="string"&&!d&&!rne(e),p=h||c&&c.length>150,g=h||c&&c.length>80||l==="array",x=(()=>{switch(l){case"string":return d?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsxs(Wt,{value:typeof n=="string"&&n?n:typeof f=="string"?f:d[0],onValueChange:j=>s(j),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:`Select ${e}`})}),r.jsx(Kt,{children:d.map(j=>r.jsx(ot,{value:j,children:j},j))})]}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]}):h||c&&c.length>100?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:typeof n=="string"?n:"",onChange:j=>s(j.target.value),placeholder:typeof f=="string"?f:`Enter ${e}`,rows:h?4:2,className:"min-w-[300px] w-full"}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(nt,{id:e,type:"text",value:typeof n=="string"?n:"",onChange:j=>s(j.target.value),placeholder:typeof f=="string"?f:`Enter ${e}`}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]});case"number":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(nt,{id:e,type:"number",value:typeof n=="number"?n:"",onChange:j=>{const w=parseFloat(j.target.value);s(isNaN(w)?"":w)},placeholder:typeof f=="number"?f.toString():`Enter ${e}`}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]});case"boolean":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ur,{id:e,checked:!!n,onCheckedChange:j=>s(j)}),r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]});case"array":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:Array.isArray(n)?n.join(", "):typeof n=="string"?n:"",onChange:j=>{const w=j.target.value.split(",").map(_=>_.trim()).filter(_=>_.length>0);s(w)},placeholder:"Enter items separated by commas",rows:2}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]});case"object":default:return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:typeof n=="object"&&n!==null?JSON.stringify(n,null,2):typeof n=="string"?n:"",onChange:j=>{try{const w=JSON.parse(j.target.value);s(w)}catch{s(j.target.value)}},placeholder:'{"key": "value"}',rows:3}),c&&r.jsx("p",{className:"text-sm text-muted-foreground",children:c})]})}})(),b=()=>p?"md:col-span-2 lg:col-span-3 xl:col-span-4":g?"xl:col-span-2":"";return r.jsx("div",{className:b(),children:x})}function sne({inputSchema:e,inputTypeName:t,onSubmit:n,isSubmitting:s=!1,className:o}){const[l,c]=v.useState(!1),[d,f]=v.useState(!1),h=o?.includes("embedded"),[p,g]=v.useState({}),[x,b]=v.useState(!1),j=e.properties||{},w=Object.keys(j),_=e.required||[],S=e.type==="string"&&!e.enum,E=w.filter(A=>!_.includes(A)),C=_.includes("role")&&E.some(A=>["text","message","content"].includes(A))&&j.role?.type==="string",k=w.filter(A=>_.includes(A)&&!(C&&A==="role")),T=E,M=C?[...T].sort((A,L)=>{const F=B=>["text","message","content"].includes(B)?1:0;return F(L)-F(A)}):T,I=Math.max(0,(C?1:6)-k.length),U=M.slice(0,I),Z=M.slice(I),X=Z.length>0,Y=k.length>0,q=S?p.value!==void 0&&p.value!=="":_.length>0?_.every(A=>C&&A==="role"&&p.role==="user"?!0:p[A]!==void 0&&p[A]!==""):Object.keys(p).length>0;v.useEffect(()=>{if(e.type==="string")g({value:e.default||""});else if(e.type==="object"&&e.properties){const A={};Object.entries(e.properties).forEach(([L,F])=>{F.default!==void 0?A[L]=F.default:F.enum&&F.enum.length>0&&(A[L]=F.enum[0])}),C&&!A.role&&(A.role="user"),g(A)}},[e,C]);const R=A=>{if(A.preventDefault(),b(!0),e.type==="string")n({input:p.value||""});else if(e.type==="object"){const L=e.properties||{},F=Object.keys(L);if(F.length===1){const B=F[0];n({[B]:p[B]||""})}else{const B={};Object.keys(p).forEach(z=>{const H=p[z];(_.includes(z)||H!==void 0&&H!==""&&H!==null)&&(B[z]=H)}),n(B)}}else n(p);h||c(!1),b(!1)},$=(A,L)=>{g(F=>({...F,[A]:L}))};return h?r.jsxs("form",{onSubmit:R,className:o,children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[S&&r.jsx(Ja,{name:"Input",schema:e,value:p.value,onChange:A=>$("value",A),isRequired:!1}),!S&&r.jsxs(r.Fragment,{children:[k.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!0},A)),Y&&T.length>0&&r.jsx("div",{className:"sm:col-span-2 border-t border-border my-2"}),U.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!1},A)),X&&r.jsx("div",{className:"sm:col-span-2",children:r.jsx(me,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(!d),className:"w-full justify-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx(_m,{className:"h-4 w-4"}),"Hide ",Z.length," optional field",Z.length!==1?"s":""]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"h-4 w-4"}),"Show ",Z.length," optional field",Z.length!==1?"s":""]})})}),d&&Z.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!1},A))]})]}),r.jsx("div",{className:"flex gap-2 mt-4 justify-end",children:r.jsxs(me,{type:"submit",disabled:x||!q,size:"default",children:[r.jsx(rm,{className:"h-4 w-4"}),x?"Running...":"Run Workflow"]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:$e("flex flex-col",o),children:[r.jsxs("div",{className:"border-b border-border px-4 py-3 bg-muted",children:[r.jsx(Dt,{className:"text-sm mb-3",children:"Run Workflow"}),r.jsxs(me,{onClick:()=>c(!0),disabled:s,className:"w-full",size:"default",children:[r.jsx(rm,{className:"h-4 w-4 mr-2"}),s?"Running...":"Run Workflow"]})]}),r.jsxs("div",{className:"px-4 py-3",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Input Type:"})," ",r.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:t}),e.type==="object"&&e.properties&&r.jsxs("span",{className:"ml-2",children:["(",Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":"",")"]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Click "Run Workflow" to configure inputs and execute'})]})]}),r.jsx(ms,{open:l,onOpenChange:c,children:r.jsxs(hs,{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[r.jsxs(ps,{children:[r.jsx(gs,{children:"Run Workflow"}),r.jsx($l,{onClose:()=>c(!1)})]}),r.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-medium",children:"Input Type:"}),r.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:t}),e.type==="object"&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.length," field",w.length!==1?"s":""]})]})})}),r.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:r.jsx("form",{id:"workflow-modal-form",onSubmit:R,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 max-w-none",children:[S&&r.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:[r.jsx(Ja,{name:"Input",schema:e,value:p.value,onChange:A=>$("value",A),isRequired:!1}),e.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]}),!S&&r.jsxs(r.Fragment,{children:[k.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!0},A)),Y&&T.length>0&&r.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:r.jsx("div",{className:"border-t border-border"})}),U.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!1},A)),X&&r.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:r.jsx(me,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(!d),className:"w-full justify-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx(_m,{className:"h-4 w-4"}),"Hide ",Z.length," optional field",Z.length!==1?"s":""]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"h-4 w-4"}),"Show ",Z.length," optional field",Z.length!==1?"s":""]})})}),d&&Z.map(A=>r.jsx(Ja,{name:A,schema:j[A],value:p[A],onChange:L=>$(A,L),isRequired:!1},A))]})]})})}),r.jsx("div",{className:"px-8 py-4 border-t flex-shrink-0",children:r.jsxs(Ju,{children:[r.jsx(me,{variant:"outline",onClick:()=>c(!1),disabled:x,children:"Cancel"}),r.jsxs(me,{type:"submit",form:"workflow-modal-form",disabled:x||!q,children:[r.jsx(rm,{className:"h-4 w-4 mr-2"}),x?"Running...":"Run Workflow"]})]})})]})})]})}function ane(e){return["name","title","id","key","label","type","status","tag","category","code","username","password","email"].includes(e.toLowerCase())}function S5(e,t){return t.format==="textarea"||!!t.description&&t.description.length>100||t.type==="string"&&!t.enum&&!ane(e)}function one(e,t){const n=S5(e,t),s=!!t.description&&t.description.length>150;return n||s?"md:col-span-2 lg:col-span-3 xl:col-span-4":t.type==="array"||t.description&&t.description.length>80?"xl:col-span-2":""}function ine(e,t){if(e.type!=="object"||!e.properties)return!1;const n=e.properties,s=Object.keys(n).filter(o=>!t.includes(o));return t.includes("role")&&s.some(o=>["text","message","content"].includes(o))&&n.role?.type==="string"}function m0({name:e,schema:t,value:n,onChange:s,isRequired:o=!1,isReadOnly:l=!1}){const{type:c,description:d,enum:f,default:h}=t,p=S5(e,t),g=()=>{if(l)return r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{htmlFor:e,className:"text-muted-foreground",children:e}),r.jsx("div",{className:"text-sm p-2 bg-muted rounded border",children:typeof n=="object"?JSON.stringify(n,null,2):String(n)}),d&&r.jsx("p",{className:"text-xs text-muted-foreground",children:d})]});switch(c){case"string":return f?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsxs(Wt,{value:typeof n=="string"&&n?n:typeof h=="string"?h:f[0],onValueChange:x=>s(x),children:[r.jsx(Xt,{children:r.jsx(Gt,{placeholder:`Select ${e}`})}),r.jsx(Kt,{children:f.map(x=>r.jsx(ot,{value:x,children:x},x))})]}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):p?r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:typeof n=="string"?n:"",onChange:x=>s(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`,rows:4,className:"min-w-[300px] w-full"}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(nt,{id:e,type:"text",value:typeof n=="string"?n:"",onChange:x=>s(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"integer":case"number":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(nt,{id:e,type:"number",step:c==="integer"?"1":"any",value:typeof n=="number"?n:"",onChange:x=>{const b=c==="integer"?parseInt(x.target.value):parseFloat(x.target.value);s(isNaN(b)?"":b)},placeholder:typeof h=="number"?h.toString():`Enter ${e}`}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"boolean":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ur,{id:e,checked:!!n,onCheckedChange:x=>s(x)}),r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"array":return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:Array.isArray(n)?n.join(", "):typeof n=="string"?n:"",onChange:x=>{const b=x.target.value.split(",").map(j=>j.trim()).filter(j=>j.length>0);s(b)},placeholder:"Enter items separated by commas",rows:2}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"object":default:return r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Te,{htmlFor:e,children:[e,o&&r.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r.jsx(un,{id:e,value:typeof n=="object"&&n!==null?JSON.stringify(n,null,2):typeof n=="string"?n:"",onChange:x=>{try{const b=JSON.parse(x.target.value);s(b)}catch{s(x.target.value)}},placeholder:'{"key": "value"}',rows:3,className:"font-mono text-xs"}),d&&r.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})}};return r.jsx("div",{className:one(e,t),children:g()})}function lne({schema:e,values:t,onChange:n,disabled:s=!1,readOnlyFields:o=[],hideFields:l=[],showCollapsedByDefault:c=!1}){const[d,f]=v.useState(c),h=e.properties||{},p=Object.keys(h).filter(O=>!l.includes(O)),g=(e.required||[]).filter(O=>!l.includes(O)),x=ine(e,g),b=p.filter(O=>g.includes(O)&&!(x&&O==="role")),j=p.filter(O=>!g.includes(O)),w=x?[...j].sort((O,I)=>{const U=Z=>["text","message","content"].includes(Z)?1:0;return U(I)-U(O)}):j,S=Math.max(0,(x?1:6)-b.length),E=w.slice(0,S),C=w.slice(S),k=C.length>0,T=b.length>0,M=(O,I)=>{n({...t,[O]:I})};return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:[b.map(O=>r.jsx(m0,{name:O,schema:h[O],value:t[O],onChange:I=>M(O,I),isRequired:!0,isReadOnly:s||o.includes(O)},O)),T&&j.length>0&&r.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:r.jsx("div",{className:"border-t border-border"})}),E.map(O=>r.jsx(m0,{name:O,schema:h[O],value:t[O],onChange:I=>M(O,I),isRequired:!1,isReadOnly:s||o.includes(O)},O)),k&&r.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:r.jsx(me,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(!d),className:"w-full justify-center gap-2",disabled:s,children:d?r.jsxs(r.Fragment,{children:[r.jsx(_m,{className:"h-4 w-4"}),"Hide ",C.length," optional field",C.length!==1?"s":""]}):r.jsxs(r.Fragment,{children:[r.jsx(zn,{className:"h-4 w-4"}),"Show ",C.length," optional field",C.length!==1?"s":""]})})}),d&&C.map(O=>r.jsx(m0,{name:O,schema:h[O],value:t[O],onChange:I=>M(O,I),isRequired:!1,isReadOnly:s||o.includes(O)},O))]})}function cne(e,t){return(e.required||[]).every(s=>{const o=t[s];return o!==void 0&&o!==""&&o!==null})}function une({open:e,onOpenChange:t,requests:n,responses:s,onResponseChange:o,onSubmit:l,isSubmitting:c}){const d=()=>n.every(f=>{const h=s[f.request_id]||{};return cne(f.request_schema,h)});return r.jsx(ms,{open:e,onOpenChange:t,children:r.jsxs(hs,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(ps,{className:"px-6 pt-6 pb-4",children:[r.jsxs(gs,{className:"flex items-center gap-2",children:[r.jsx(XO,{className:"w-5 h-5"}),"Workflow Requires Input (",n.length," request",n.length>1?"s":"",")"]}),r.jsx(Mh,{children:"The workflow is paused and needs your input to continue."})]}),r.jsx("div",{className:"space-y-6",children:n.map((f,h)=>r.jsxs(Ge,{children:[r.jsx(Pt,{children:r.jsxs(Dt,{className:"text-sm flex items-center gap-2",children:["Request ",h+1,r.jsx(Be,{variant:"outline",className:"ml-2 font-mono text-xs",children:f.request_id.slice(0,8)})]})}),r.jsxs(Xe,{children:[Object.keys(f.request_data).length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-muted rounded-md max-h-48 overflow-y-auto",children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Request Context:"}),r.jsx("div",{className:"space-y-1",children:Object.entries(f.request_data).filter(([p])=>!["request_id","source_executor_id"].includes(p)).map(([p,g])=>r.jsxs("div",{className:"text-xs",children:[r.jsxs("span",{className:"font-medium",children:[p,":"]})," ",r.jsx("span",{className:"text-muted-foreground break-all",children:typeof g=="object"?JSON.stringify(g):String(g)})]},p))})]}),f.request_schema?.description&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-md",children:[r.jsx("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Expected Response:"}),r.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:f.request_schema.description})]}),r.jsx(lne,{schema:f.request_schema,values:s[f.request_id]||{},onChange:p=>o(f.request_id,p),disabled:c})]})]},f.request_id))}),r.jsx(Ju,{children:r.jsxs("div",{className:"flex gap-2 w-full justify-end",children:[r.jsx(me,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),r.jsx(me,{onClick:l,disabled:c||!d(),children:c?r.jsxs(r.Fragment,{children:[r.jsx(cr,{className:"w-4 h-4 animate-spin mr-2"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rm,{className:"w-4 h-4 mr-2"}),"Submit & Continue"]})})]})})]})})}function dne(e,t,n="LR"){if(e.length===0)return e;if(e.length===1)return e.map(j=>({...j,position:{x:0,y:0}}));const s=new Map,o=new Map;e.forEach(j=>{s.set(j.id,[]),o.set(j.id,[])}),t.forEach(j=>{s.get(j.source)?.push(j.target),o.get(j.target)?.push(j.source)});const l=e.filter(j=>(o.get(j.id)||[]).length===0);l.length===0&&l.push(e[0]);const c=220,d=120,f=n==="LR"?350:280,h=n==="TB"?250:180,p=new Map,g=new Map,x=[],b=new Set;for(l.forEach(j=>{x.push({nodeId:j.id,level:0})});x.length>0;){const{nodeId:j,level:w}=x.shift();if(b.has(j))continue;b.add(j),g.has(w)||g.set(w,[]),g.get(w).push(j),(s.get(j)||[]).forEach(S=>{b.has(S)||x.push({nodeId:S,level:w+1})})}return e.forEach(j=>{if(!b.has(j.id)){const _=Math.max(...Array.from(g.keys()),-1)+1;g.has(_)||g.set(_,[]),g.get(_).push(j.id)}}),g.forEach((j,w)=>{const _=j.length;j.forEach((S,E)=>{let C,k;n==="LR"?(C=w*f,k=-((_-1)*h)/2+E*h):(k=w*h,C=-((_-1)*f)/2+E*f),p.set(S,{x:C,y:k,level:w})})}),e.map(j=>{const w=p.get(j.id)||{x:0,y:0};return{...j,position:{x:w.x-c/2,y:w.y-d/2}}})}function fne(e){return typeof e=="object"&&e!==null&&"id"in e&&"edge_groups"in e&&"executors"in e&&"start_executor_id"in e&&"max_iterations"in e&&typeof e.id=="string"&&Array.isArray(e.edge_groups)&&typeof e.executors=="object"&&typeof e.start_executor_id=="string"&&typeof e.max_iterations=="number"}function C5(e){return fne(e)?e:null}function wm(e,t=50,n="..."){return e.length<=t?e:e.substring(0,t)+n}function hp(e){const t=e.workflow;return t&&typeof t=="object"&&!Array.isArray(t)?t:e}function yv(e,t,n){if(!e)return console.warn("convertWorkflowDumpToNodes: workflowDump is undefined"),[];const s=C5(e);let o,l;if(s)o=Object.values(s.executors).map(d=>({id:d.id,type:d.type,name:d.name||d.id,description:d.description,config:d.config})),l=s.start_executor_id;else{const d=e,f=hp(d);o=E5(f),l=d?.start_executor_id??f?.start_executor_id??f?.start_step}return!o||!Array.isArray(o)||o.length===0?(console.warn("No executors found in workflow dump. Available keys:",Object.keys(e)),[]):o.map(d=>{const f=d,h=f.node_type||d.type;return{id:d.id,type:"executor",position:{x:0,y:0},data:{executorId:d.id,executorType:h,name:d.name||d.id,state:"pending",isStartNode:d.id===l,layoutDirection:n||"LR",onNodeClick:t,agent_id:f.agent||f.config?.agent_id,input_template:f.input_template||f.config?.input_template,tool_id:f.tool_id||f.config?.tool_id,expression:f.expression||f.config?.expression,config:d.config}}})}function bv(e){if(!e)return console.warn("convertWorkflowDumpToEdges: workflowDump is undefined"),[];const t=C5(e);let n;if(t)n=[],t.edge_groups.forEach(o=>{o.edges.forEach(l=>{n.push({source:l.source_id,target:l.target_id,condition:l.condition_name})})});else{const l=hp(e);n=k5(l)}return!n||!Array.isArray(n)||n.length===0?(console.warn("No connections found in workflow dump. Available keys:",Object.keys(e)),[]):n.map(o=>({id:`${o.source}-${o.target}`,source:o.source,target:o.target,sourceHandle:"source",targetHandle:"target",type:"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}))}function E5(e){const t=hp(e);if(t.executors&&typeof t.executors=="object"&&!Array.isArray(t.executors)){const o=t.executors;return Object.entries(o).map(([l,c])=>({id:l,type:c.type_||c.type||"executor",name:c.name||l,description:c.description,config:c.config}))}const n=["nodes","steps","executors","agents"];for(const o of n)if(t[o]&&Array.isArray(t[o]))return t[o];if(t.config&&typeof t.config=="object")return E5(t.config);const s=[];return Object.entries(t).forEach(([o,l])=>{if(typeof l=="object"&&l!==null&&("type"in l||"type_"in l)){const c=l;s.push({id:o,type:c.type_||c.type||"executor",name:c.name||o,description:c.description,config:c.config})}}),s}function k5(e){const t=hp(e);if(t.edge_groups&&Array.isArray(t.edge_groups)){const s=[];return t.edge_groups.forEach(o=>{if(typeof o=="object"&&o!==null&&"edges"in o){const l=o.edges;Array.isArray(l)&&l.forEach(c=>{if(typeof c=="object"&&c!==null&&"source_id"in c&&"target_id"in c){const d=c;s.push({source:d.source_id,target:d.target_id,condition:d.condition_name||void 0})}})}}),s}const n=["connections","edges","transitions","links"];for(const s of n)if(t[s]&&Array.isArray(t[s]))return t[s];return t.config&&typeof t.config=="object"?k5(t.config):[]}function wv(e,t,n="LR"){return dne(e,t,n)}function mne(e,t){const n={};let s=!1;const o={};return e.forEach(l=>{if(l.type==="response.output_item.added"||l.type==="response.output_item.done"){const c=l.item;if(c&&c.type==="executor_action"&&c.executor_id){const d=c.executor_id,f=c.id;if(l.type==="response.output_item.added"&&(o[d]=f),!(o[d]===f)&&l.type==="response.output_item.done")return;let p="pending",g;l.type==="response.output_item.added"?p="running":l.type==="response.output_item.done"&&(c.status==="completed"?p="completed":c.status==="failed"?(p="failed",g=c.error?typeof c.error=="string"?c.error:JSON.stringify(c.error):"Execution failed"):c.status==="cancelled"&&(p="cancelled")),n[d]={nodeId:d,state:p,data:c.result,error:g,timestamp:new Date().toISOString()}}}else if(l.type==="response.created"||l.type==="response.in_progress")s=!0;else if(l.type==="response.workflow_event.completed"&&"data"in l&&l.data){const d=l.data,f=d.executor_id,h=d.event_type,p=d.data;let g="pending",x;h==="ExecutorInvokedEvent"?g="running":h==="ExecutorCompletedEvent"?g="completed":h?.includes("Error")||h?.includes("Failed")?(g="failed",x=typeof p=="string"?p:"Execution failed"):h?.includes("Cancel")?g="cancelled":h==="WorkflowCompletedEvent"||h==="WorkflowOutputEvent"?g="completed":h==="WorkflowStartedEvent"&&(s=!0),f&&(n[f]={nodeId:f,state:g,data:p,error:x,timestamp:new Date().toISOString()})}}),s&&t&&!n[t]&&(e.some(c=>{if(c.type==="response.output_item.done"){const d=c.item;return d&&d.type==="executor_action"&&d.executor_id===t}if(c.type==="response.workflow_event.completed"&&"data"in c&&c.data){const d=c.data;return d.executor_id===t&&(d.event_type==="ExecutorCompletedEvent"||d.event_type==="ExecutorFailedEvent"||d.event_type?.includes("Error")||d.event_type?.includes("Failed"))}return!1})||(n[t]={nodeId:t,state:"running",data:void 0,error:void 0,timestamp:new Date().toISOString()})),n}function hne(e,t){return e.map(n=>{const s=t[n.id];return s?{...n,data:{...n.data,state:s.state,outputData:s.data,error:s.error,layoutDirection:n.data.layoutDirection}}:n})}function pne(e){const t={};return e.forEach(s=>{if(s.type==="response.output_item.added"||s.type==="response.output_item.done"){const o=s.item;if(o&&o.type==="executor_action"&&o.executor_id){const l=o.executor_id;t[l]={lastEvent:s.type==="response.output_item.added"?"ExecutorInvokedEvent":"ExecutorCompletedEvent",timestamp:new Date().toISOString()}}}else if(s.type==="response.workflow_event.completed"&&"data"in s&&s.data){const l=s.data,c=l.executor_id,d=l.event_type;c&&(d==="ExecutorInvokedEvent"||d==="ExecutorCompletedEvent")&&(t[c]={lastEvent:d,timestamp:new Date().toISOString()})}}),Object.entries(t).filter(([,s])=>s.lastEvent==="ExecutorInvokedEvent").map(([s])=>s)}function gne(e,t){const n=pne(t),s={};return t.forEach(o=>{if(o.type==="response.workflow_event.completed"&&"data"in o&&o.data){const c=o.data,d=c.executor_id,f=c.event_type;d&&f&&(s[d]||(s[d]={completed:!1,invoked:!1}),f==="ExecutorInvokedEvent"?s[d].invoked=!0:f==="ExecutorCompletedEvent"&&(s[d].completed=!0))}}),e.map(o=>{const l=s[o.source],c=s[o.target],d=n.includes(o.target);let f={...o.style},h=!1;return l?.completed&&d?(f={stroke:"#643FB2",strokeWidth:3,strokeDasharray:"5,5"},h=!0):l?.completed&&c?.completed?f={stroke:"#10b981",strokeWidth:2}:l?.completed&&c?.invoked?f={stroke:"#f59e0b",strokeWidth:2}:f={stroke:"#6b7280",strokeWidth:2},{...o,style:f,animated:h}})}function h0(e){const t=new Map,n=new Set;return e.forEach(s=>{const o=`${s.source}-${s.target}`,l=`${s.target}-${s.source}`;if(t.has(l)){n.add(l),n.add(o);const c=t.get(l);t.set(l,{...c,markerStart:{type:"arrow",width:20,height:20},markerEnd:{type:"arrow",width:20,height:20},data:{...c.data,isBidirectional:!0}})}else n.has(o)||t.set(o,s)}),Array.from(t.values())}const xne=e=>{switch(e){case"running":return{borderColor:"border-[#643FB2] dark:border-[#8B5CF6]",glow:"shadow-lg shadow-[#643FB2]/20",badgeColor:"bg-[#643FB2] dark:bg-[#8B5CF6]"};case"completed":return{borderColor:"border-green-500 dark:border-green-400",glow:"shadow-lg shadow-green-500/20",badgeColor:"bg-green-500 dark:bg-green-400"};case"failed":return{borderColor:"border-red-500 dark:border-red-400",glow:"shadow-lg shadow-red-500/20",badgeColor:"bg-red-500 dark:bg-red-400"};case"cancelled":return{borderColor:"border-orange-500 dark:border-orange-400",glow:"shadow-lg shadow-orange-500/20",badgeColor:"bg-orange-500 dark:bg-orange-400"};case"pending":default:return{borderColor:"border-gray-300 dark:border-gray-600",glow:"",badgeColor:"bg-gray-400 dark:bg-gray-500"}}},A5=v.memo(({data:e,selected:t})=>{const n=e,s=xne(n.state),o=n.inputData||n.outputData||n.error,l=n.state==="running",c=n.executorType==="human",d=n.layoutDirection==="TB",f=d?qe.Top:qe.Left,h=d?qe.Bottom:qe.Right,p=()=>{const g=[];if(n.error&&typeof n.error=="string"){const x=wm(n.error,150);g.push(r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Error:"}),r.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800 break-words",children:x})]},"error"))}if(n.outputData)try{const x=typeof n.outputData=="string"?n.outputData:JSON.stringify(n.outputData,null,2);g.push(r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),r.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800 max-h-20 overflow-auto",children:r.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"output"))}catch{g.push(r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800",children:"[Unable to display output data]"})]},"output"))}if(n.inputData)try{const x=typeof n.inputData=="string"?n.inputData:JSON.stringify(n.inputData,null,2);g.push(r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),r.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800 max-h-20 overflow-auto",children:r.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"input"))}catch{g.push(r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),r.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:"[Unable to display input data]"})]},"input"))}return g.length>0?g:null};return r.jsxs("div",{className:$e("group relative w-64 bg-card dark:bg-card rounded border-2 transition-all duration-200",s.borderColor,t?"ring-2 ring-blue-500 ring-offset-2":"",l?s.glow:"shadow-sm"),children:[r.jsx(uo,{type:"target",position:f,id:"target",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:n.state==="running"?"#643FB2":n.state==="completed"?"#10b981":n.state==="failed"?"#ef4444":n.state==="cancelled"?"#f97316":"#4b5563"}}),r.jsx(uo,{type:"source",position:h,id:"source",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:n.state==="running"?"#643FB2":n.state==="completed"?"#10b981":n.state==="failed"?"#ef4444":n.state==="cancelled"?"#f97316":"#4b5563"}}),r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-900/90 dark:bg-gray-800/90 flex items-center justify-center",children:n.isStartNode?r.jsx(SO,{className:"w-5 h-5 text-[#643FB2] dark:text-[#8B5CF6]"}):c?r.jsx(Lv,{className:"w-5 h-5 text-blue-500 dark:text-blue-400"}):r.jsx(Rs,{className:"w-5 h-5 text-gray-300 dark:text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:n.name||n.executorId}),l&&r.jsx(cr,{className:"w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] animate-spin flex-shrink-0"})]}),n.executorType&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:n.executorType})]})]}),o&&r.jsx("div",{className:"mt-3",children:p()}),l&&r.jsx("div",{className:"absolute inset-0 rounded border-2 border-[#643FB2]/30 dark:border-[#8B5CF6]/30 animate-pulse pointer-events-none"})]})]})});A5.displayName="ExecutorNode";function vne({node:e,onUpdate:t,onClose:n}){const[s,o]=v.useState({});if(v.useEffect(()=>{e&&o({...e.data})},[e]),!e)return null;const l=(d,f)=>{const h={...s,[d]:f};o(h),t(e.id,h)},c=e.data?.executorType||"agent";return r.jsxs("div",{className:"h-full border-l bg-background w-80 flex flex-col shadow-xl",children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[r.jsx("h3",{className:"font-semibold",children:"Properties"}),r.jsx(me,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:r.jsx(Bo,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Label"}),r.jsx(nt,{value:s.label||"",onChange:d=>l("label",d.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Type"}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize border p-2 rounded bg-muted/5",children:c})]}),(c==="condition"||c==="router")&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Expression (Python)"}),r.jsx(un,{placeholder:"e.g., len(input) > 0",value:s.expression||"",onChange:d=>l("expression",d.target.value),className:"font-mono text-xs"}),r.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Available variables: ",r.jsx("code",{children:"input"}),", ",r.jsx("code",{children:"value"})]})]}),c==="tool"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Tool ID"}),r.jsx(nt,{value:s.tool_id||"",readOnly:!0,className:"bg-muted"})]}),(c==="agent"||c==="human")&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Input Template"}),r.jsx(un,{placeholder:"e.g., {{user_input}}",value:s.input_template||"",onChange:d=>l("input_template",d.target.value)})]}),c==="agent"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Te,{children:"Agent ID"}),r.jsx(nt,{placeholder:"e.g., agent_researcher",value:s.agent_id||"",onChange:d=>l("agent_id",d.target.value)})]})]})]})}const yne={executor:A5};function bne({workflowDump:e,onNodeSelect:t,viewOptions:n,onToggleViewOption:s,layoutDirection:o,onLayoutDirectionChange:l}){const{fitView:c,setViewport:d,setNodes:f}=Pl(),h=()=>{d({x:0,y:0,zoom:1})},p=()=>{c({padding:.2})},g=()=>{if(!e)return;const x=yv(e,t,o),b=bv(e),j=wv(x,b,o);f(j)};return r.jsx("div",{className:"absolute top-4 right-4 z-10",children:r.jsxs(zl,{children:[r.jsx(Il,{asChild:!0,children:r.jsxs(me,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white/90 backdrop-blur-sm border-gray-200 shadow-sm hover:bg-white dark:bg-gray-800/90 dark:border-gray-600 dark:hover:bg-gray-800",children:[r.jsx(Dv,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"View options"})]})}),r.jsxs(Ll,{align:"end",className:"w-56",children:[r.jsxs(Zt,{className:"flex items-center justify-between",onClick:()=>s?.("showMinimap"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ZO,{className:"mr-2 h-4 w-4"}),"Show Minimap"]}),r.jsx(Ur,{checked:n.showMinimap,onChange:()=>{}})]}),r.jsxs(Zt,{className:"flex items-center justify-between",onClick:()=>s?.("showGrid"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(gO,{className:"mr-2 h-4 w-4"}),"Show Grid"]}),r.jsx(Ur,{checked:n.showGrid,onChange:()=>{}})]}),r.jsxs(Zt,{className:"flex items-center justify-between",onClick:()=>s?.("animateRun"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(hh,{className:"mr-2 h-4 w-4"}),"Animate Run"]}),r.jsx(Ur,{checked:n.animateRun,onChange:()=>{}})]}),r.jsxs(Zt,{className:"flex items-center justify-between",onClick:()=>s?.("consolidateBidirectionalEdges"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(u6,{className:"mr-2 h-4 w-4"}),"Merge Bidirectional Edges"]}),r.jsx(Ur,{checked:n.consolidateBidirectionalEdges,onChange:()=>{}})]}),r.jsx(ao,{}),r.jsxs(Zt,{className:"flex items-center justify-between",onClick:()=>{const x=o==="LR"?"TB":"LR";if(l?.(x),e){const b=yv(e,t,x),j=bv(e),w=wv(b,j,x);f(w)}},children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(l6,{className:"mr-2 h-4 w-4"}),"Vertical Layout"]}),r.jsx(Ur,{checked:o==="TB",onChange:()=>{}})]}),r.jsx(ao,{}),r.jsxs(Zt,{onClick:h,children:[r.jsx(zv,{className:"mr-2 h-4 w-4"}),"Reset Zoom"]}),r.jsxs(Zt,{onClick:p,children:[r.jsx(WO,{className:"mr-2 h-4 w-4"}),"Fit to Screen"]}),r.jsxs(Zt,{onClick:g,children:[r.jsx(k8,{className:"mr-2 h-4 w-4"}),"Auto-arrange"]})]})]})})}function wne({nodes:e,nodeUpdates:t,isStreaming:n,animateRun:s}){const{fitView:o}=Pl();return v.useEffect(()=>{if(s)if(n){const l=e.filter(c=>c.data.state==="running");if(l.length>0){const c=l[0];o({nodes:[c],duration:800,padding:.3,minZoom:.8,maxZoom:1.5})}}else e.length>0&&o({duration:1e3,padding:.2})},[t,n,s,e]),null}const jne=v.memo(({timelineVisible:e})=>{const{fitView:t}=Pl();return v.useEffect(()=>{const n=setTimeout(()=>{t({padding:.2,duration:300})},350);return()=>clearTimeout(n)},[e]),null});function Nne({workflowDump:e,events:t=[],isStreaming:n=!1,onNodeSelect:s,className:o,viewOptions:l={showMinimap:!0,showGrid:!0,animateRun:!0,consolidateBidirectionalEdges:!0},onToggleViewOption:c,layoutDirection:d="LR",onLayoutDirectionChange:f,timelineVisible:h=!1,onWorkflowChange:p}){const[g,x,b]=GB([]),[j,w,_]=XB([]),[S,E]=v.useState(null),[C,k]=v.useState(null);v.useEffect(()=>{p&&p(g,j)},[g,j,p]);const{initialNodes:T,initialEdges:M}=v.useMemo(()=>{if(!e)return{initialNodes:[],initialEdges:[]};const R=yv(e,s,d),$=bv(e),A=l.consolidateBidirectionalEdges?h0($):$;return{initialNodes:R.length>0?wv(R,A,d):R,initialEdges:A}},[e,s,d,l.consolidateBidirectionalEdges]),O=v.useMemo(()=>mne(t,e?.start_executor_id),[t,e?.start_executor_id]);v.useMemo(()=>{Object.keys(O).length>0?x(R=>hne(R,O)):t.length===0&&x(R=>R.map($=>({...$,data:{...$.data,state:"pending",outputData:void 0,error:void 0}})))},[O,x,t.length]),v.useMemo(()=>{t.length>0?w(R=>{const $=gne(R,t);return l.consolidateBidirectionalEdges?h0($):$}):w(R=>{const $=R.map(A=>({...A,animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}));return l.consolidateBidirectionalEdges?h0($):$})},[t,w,l.consolidateBidirectionalEdges]),v.useEffect(()=>{T.length>0&&(x(T),w(M))},[e,l.consolidateBidirectionalEdges]);const I=v.useCallback((R,$)=>{k($.id),s&&s($.data.executorId,$.data)},[s]),U=v.useCallback(()=>{k(null),s&&s(null,null)},[s]),Z=(R,$)=>{x(A=>A.map(L=>L.id===R?{...L,data:{...L.data,...$}}:L))},X=v.useCallback(R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},[]),Y=v.useCallback(R=>{R.preventDefault();const $=R.dataTransfer.getData("application/reactflow"),A=R.dataTransfer.getData("application/toolId"),L=R.dataTransfer.getData("application/reactflow-data");if(typeof $>"u"||!$)return;let F=`${$} node`,B={};if(L)try{const K=JSON.parse(L);K.label&&(F=K.label),B=K}catch(K){console.error("Failed to parse drop data",K)}const z=S.screenToFlowPosition({x:R.clientX,y:R.clientY}),H=`node_${Date.now()}`,J={id:H,type:"executor",position:z,data:{executorId:H,name:F,executorType:$,tool_id:A,state:"pending",...B}};x(K=>K.concat(J))},[S,x]),q=v.useMemo(()=>g.find(R=>R.id===C)||null,[g,C]);return r.jsxs("div",{className:`relative w-full h-full ${o}`,children:[r.jsxs(WB,{nodes:g,edges:j,onNodesChange:b,onEdgesChange:_,onNodeClick:I,onPaneClick:U,onInit:E,onDrop:Y,onDragOver:X,nodeTypes:yne,fitView:!0,attributionPosition:"bottom-right",minZoom:.1,maxZoom:2,children:[r.jsx(tq,{variant:xa.Dots,gap:12,size:1,className:l.showGrid?"":"hidden"}),r.jsx(lq,{}),l.showMinimap&&r.jsx(wq,{}),r.jsx(bne,{workflowDump:e,onNodeSelect:s,viewOptions:l,onToggleViewOption:c,layoutDirection:d,onLayoutDirectionChange:f}),r.jsx(wne,{nodes:g,nodeUpdates:O,isStreaming:n,animateRun:l.animateRun}),r.jsx(jne,{timelineVisible:h})]}),q&&r.jsx("div",{className:"absolute top-0 right-0 bottom-0 z-10",children:r.jsx(vne,{node:q,onUpdate:Z,onClose:()=>k(null)})})]})}function em({title:e,icon:t,children:n,className:s=""}){return r.jsxs("div",{className:`border rounded-lg p-4 bg-card ${s}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t,r.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})}function _ne({workflow:e,open:t,onOpenChange:n}){const s=e.source==="directory"?r.jsx(Ov,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?r.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(XS,{className:"h-4 w-4 text-muted-foreground"}),o=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return r.jsx(ms,{open:t,onOpenChange:n,children:r.jsxs(hs,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs(ps,{className:"px-6 pt-6 flex-shrink-0",children:[r.jsx(gs,{children:"Workflow Details"}),r.jsx($l,{onClose:()=>n(!1)})]}),r.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Rs,{className:"h-6 w-6 text-primary"}),r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&r.jsx("p",{className:"text-muted-foreground",children:e.description})]}),r.jsx("div",{className:"h-px bg-border mb-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(em,{title:"Start Executor",icon:r.jsx(D6,{className:"h-4 w-4 text-muted-foreground"}),children:r.jsx("div",{className:"font-mono text-foreground",children:e.start_executor_id})}),r.jsx(em,{title:"Source",icon:s,children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-foreground",children:o}),e.module_path&&r.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),r.jsx(em,{title:"Environment",icon:e.has_env?r.jsx(Tl,{className:"h-4 w-4 text-orange-500"}):r.jsx(uh,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:r.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),r.jsx(em,{title:`Executors (${e.executors.length})`,icon:r.jsx(j0,{className:"h-4 w-4 text-muted-foreground"}),children:e.executors.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.executors.map((l,c)=>r.jsx("div",{className:"font-mono text-xs text-foreground bg-muted px-2 py-1 rounded truncate",title:l,children:l},c))}):r.jsx("div",{className:"text-muted-foreground",children:"No executors configured"})})]})]})})}function Sne(e){switch(e){case"running":return r.jsx(cr,{className:"w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] animate-spin"});case"completed":return r.jsx(uh,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return r.jsx(Tl,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"cancelled":return r.jsx(Sr,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"});default:return r.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400 dark:border-gray-500"})}}function Cne(e){switch(e){case"running":return"bg-[#643FB2]/10 text-[#643FB2] dark:bg-[#8B5CF6]/10 dark:text-[#8B5CF6] border-[#643FB2]/20 dark:border-[#8B5CF6]/20";case"completed":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20";case"failed":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"cancelled":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20"}}function Ene({run:e,isExpanded:t,onToggle:n,onClick:s,isSelected:o}){const l=new Date(e.timestamp).toLocaleTimeString(),d=e.output.trim().length>0||e.error,f=v.useRef(null);return v.useEffect(()=>{t&&e.state==="running"&&f.current&&(f.current.scrollTop=f.current.scrollHeight)},[e.output,t,e.state]),r.jsxs("div",{className:`border rounded-lg transition-all ${o?"border-blue-500 dark:border-blue-400 bg-blue-500/5 dark:bg-blue-500/10":"border-border hover:border-muted-foreground/30"}`,children:[r.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>{s(),d&&n()},children:[r.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-3 text-muted-foreground",children:d&&r.jsx(r.Fragment,{children:t?r.jsx(zn,{className:"w-3 h-3"}):r.jsx(kr,{className:"w-3 h-3"})})}),r.jsx("div",{children:Sne(e.state)}),r.jsx("span",{className:"font-medium text-sm truncate overflow-hidden",children:e.executorName}),e.runNumber>1?r.jsxs(Be,{variant:"outline",className:"text-xs whitespace-nowrap",children:["Run #",e.runNumber]}):r.jsx("div",{})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-5",children:[r.jsx("span",{className:"font-mono",children:l}),r.jsx(Be,{variant:"outline",className:`text-xs border ${Cne(e.state)}`,children:e.state})]})]}),t&&d&&r.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:e.error?r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error:"}),r.jsx("pre",{className:"text-xs bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-2 overflow-y-auto overflow-x-hidden max-h-40 whitespace-pre-wrap break-all",children:e.error})]}):r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Output:"}),r.jsx("pre",{ref:f,className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:e.output})]})})]})}function kne({events:e,itemOutputs:t,currentExecutorId:n,isStreaming:s,onExecutorClick:o,selectedExecutorId:l,workflowResult:c}){const[d,f]=v.useState(new Set),[h,p]=v.useState(0),[g,x]=v.useState(!1),b=v.useRef(null),j=v.useRef(null);v.useEffect(()=>{if(s){const E=setInterval(()=>{p(C=>C+1)},100);return()=>clearInterval(E)}},[s]);const{executorRuns:w,executorRunCount:_}=v.useMemo(()=>{const E=[],C=new Map;return e.forEach(k=>{const T="_uiTimestamp"in k&&typeof k._uiTimestamp=="number"?k._uiTimestamp*1e3:Date.now();if(k.type==="response.output_item.added"){const M=k.item;if(M&&M.type==="executor_action"&&M.executor_id&&M.id){const O=M.executor_id,I=M.id,U=(C.get(O)||0)+1;C.set(O,U),E.push({executorId:O,executorName:wm(O,35),itemId:I,state:"running",output:t[I]||"",timestamp:T,runNumber:U})}else if(M&&M.type==="message"&&M.metadata?.agent_id&&M.metadata?.source==="magentic"&&M.id){const O=M.metadata.agent_id,I=M.id,U=(C.get(O)||0)+1;C.set(O,U),E.push({executorId:O,executorName:wm(O,35),itemId:I,state:"running",output:t[I]||"",timestamp:T,runNumber:U})}}if(k.type==="response.output_item.done"){const M=k.item;if(M&&M.type==="executor_action"&&M.executor_id&&M.id){const O=M.id,I=E.find(U=>U.itemId===O);I&&(I.state=M.status==="completed"?"completed":M.status==="failed"?"failed":"completed",I.output=t[O]||"",M.status==="failed"&&M.error&&(I.error=M.error))}else if(M&&M.type==="message"&&M.metadata?.agent_id&&M.metadata?.source==="magentic"&&M.id){const O=M.id,I=E.find(U=>U.itemId===O);I&&(I.state=M.status==="completed"?"completed":"failed",I.output=t[O]||"")}}if(k.type==="response.workflow_event.completed"&&"data"in k&&k.data){const M=k.data,O=M.executor_id;if(!O)return;const I=M.event_type;if(I==="ExecutorInvokedEvent"){const U=(C.get(O)||0)+1;C.set(O,U);const Z=`fallback_${O}_${T}`;E.push({executorId:O,executorName:wm(O,35),itemId:Z,state:"running",output:t[Z]||"",timestamp:T,runNumber:U})}else if(I==="ExecutorCompletedEvent"){let U;for(let Z=E.length-1;Z>=0;Z--)if(E[Z].executorId===O&&E[Z].state==="running"){U=E[Z];break}U&&(U.state="completed",U.output=t[U.itemId]||"")}else if(I?.includes("Error")||I?.includes("Failed")){let U;for(let Z=E.length-1;Z>=0;Z--)if(E[Z].executorId===O&&E[Z].state==="running"){U=E[Z];break}U&&(U.state="failed",U.error=typeof M.data=="string"?M.data:"Execution failed")}}}),E.forEach(k=>{k.state==="running"&&t[k.itemId]&&(k.output=t[k.itemId])}),{executorRuns:E,executorRunCount:C}},[e,t,h]);v.useEffect(()=>{n&&f(E=>{const C=new Set(E);return C.add(`${n}-${_.get(n)||1}`),C})},[n,_]),v.useEffect(()=>{if(w.length>0&&s){const E=w[w.length-1],C=`${E.executorId}-${E.runNumber}`;C!==b.current&&(b.current=C,j.current&&j.current.scrollIntoView({behavior:"smooth",block:"end"}))}},[w,s]),v.useEffect(()=>{c&&!s&&j.current&&setTimeout(()=>{j.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[c,s]);const S=()=>{const E=w.map(C=>{const T=`[${new Date(C.timestamp).toLocaleTimeString()}] ${C.executorName} (${C.state})`,M=C.error||C.output||"(no output)";return`${T}
${M}
`}).join(`
`);navigator.clipboard.writeText(E),x(!0),setTimeout(()=>x(!1),2e3)};return r.jsxs("div",{className:"h-full flex flex-col border-l bg-muted/30",children:[r.jsxs("div",{className:"p-3 border-b bg-background flex items-center justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:"Execution Timeline"}),r.jsx(Be,{variant:"outline",className:"text-xs",children:w.length}),s&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-[#643FB2] dark:bg-[#8B5CF6]"}),r.jsx("span",{children:"Running"})]})]}),w.length>0&&r.jsx(me,{variant:"ghost",size:"sm",onClick:S,className:`h-7 px-2 text-xs ${g?"text-green-600 dark:text-green-400":""}`,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Ml,{className:"w-3 h-3 mr-1"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(so,{className:"w-3 h-3 mr-1"}),"Copy All"]})})]}),r.jsx(Fn,{className:"flex-1",children:r.jsxs("div",{className:"p-3 space-y-2",children:[w.length===0?r.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No executor runs yet. Start the workflow to see execution timeline."}):w.map((E,C)=>{const k=`${E.executorId}-${E.runNumber}`;return r.jsx(Ene,{run:E,isExpanded:d.has(k),onToggle:()=>{f(T=>{const M=new Set(T);return M.has(k)?M.delete(k):M.add(k),M})},onClick:()=>o?.(E.executorId),isSelected:l===E.executorId},`${k}-${C}`)}),c&&c.trim().length>0&&!s&&r.jsxs("div",{className:"border rounded-lg border-green-500/40 bg-green-500/5 dark:bg-green-500/10",children:[r.jsx("div",{className:"p-3 bg-green-500/10 border-b border-green-500/20",children:r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(uh,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),r.jsx("span",{className:"font-medium text-sm",children:"Workflow Complete"})]})}),r.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Final Output:"}),r.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:c})]})})]}),r.jsx("div",{ref:j})]})})]})}function Ane({inputSchema:e,onRun:t,isSubmitting:n,workflowState:s}){const[o,l]=v.useState(!1);v.useEffect(()=>{const x=b=>{b.key==="Escape"&&o&&l(!1)};if(o)return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[o]);const c=v.useMemo(()=>{if(!e)return{needsInput:!1,hasDefaults:!1,fieldCount:0};if(e.type==="string")return{needsInput:!e.default,hasDefaults:!!e.default,fieldCount:1,canRunDirectly:!!e.default};if(e.type==="object"&&e.properties){const x=e.properties,b=Object.entries(x),j=b.filter(([,w])=>w.default!==void 0||w.enum&&w.enum.length>0);return{needsInput:b.length>0,hasDefaults:j.length>0,fieldCount:b.length,canRunDirectly:j.length===b.length}}return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0}},[e]),d=()=>{if(c.canRunDirectly){const x={};e.type==="string"&&e.default?x.input=e.default:e.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([b,j])=>{j.default!==void 0?x[b]=j.default:j.enum&&j.enum.length>0&&(x[b]=j.enum[0])}),t(x)}else l(!0)},f=()=>s==="running"?"Running...":s==="completed"?"Run Again":s==="error"?"Retry":c.fieldCount===0||c.canRunDirectly?"Run Workflow":"Configure & Run",h=()=>s==="running"?r.jsx(cr,{className:"w-4 h-4 animate-spin"}):s==="error"?r.jsx(zv,{className:"w-4 h-4"}):c.needsInput&&!c.canRunDirectly?r.jsx(Cm,{className:"w-4 h-4"}):r.jsx(mh,{className:"w-4 h-4"}),p=s==="running",g=s==="error"?"destructive":"primary";return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex",children:[r.jsxs(me,{onClick:d,disabled:p,variant:g==="destructive"?"destructive":"default",size:"default",className:c.needsInput?"rounded-r-none":"",children:[h(),f()]}),c.needsInput&&r.jsxs(me,{onClick:()=>l(!0),disabled:p,variant:g==="destructive"?"destructive":"default",size:"default",className:"rounded-l-none border-l-0 px-3",title:"Configure workflow inputs - customize parameters before running",children:[r.jsx(Cm,{className:"w-4 h-4"}),r.jsx("span",{className:"ml-1.5",children:"Inputs"})]})]})}),r.jsx(ms,{open:o,onOpenChange:l,children:r.jsxs(hs,{className:"w-full min-w-[400px] max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[r.jsxs(ps,{className:"px-8 pt-6",children:[r.jsx(gs,{children:"Configure Workflow Inputs"}),r.jsx($l,{onClose:()=>l(!1)})]}),r.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-medium",children:"Input Type:"}),r.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:c.fieldCount===0?"No Input":e.type==="string"?"String":"Object"}),e.type==="object"&&e.properties&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:[Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":""]})]})})}),r.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:r.jsx(sne,{inputSchema:e,inputTypeName:"Input",onSubmit:x=>{t(x),l(!1)},isSubmitting:n,className:"embedded"})})]})})]})}function Mne({selectedWorkflow:e,onDebugEvent:t}){const[n,s]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(null),[f,h]=v.useState([]),[p,g]=v.useState(!1),[x,b]=v.useState(null),[j,w]=v.useState(!1),[_,S]=v.useState(!1),[E,C]=v.useState(!1),[k,T]=v.useState(!1),[M,O]=v.useState(""),[I,U]=v.useState([]),[Z,X]=v.useState({}),[Y,q]=v.useState(!1),R=v.useRef({}),$=v.useRef(null),A=v.useRef(null),L=be(V=>V.currentSession),F=be(V=>V.availableSessions),B=be(V=>V.loadingSessions),z=be(V=>V.setCurrentSession),H=be(V=>V.setAvailableSessions),J=be(V=>V.setLoadingSessions),K=be(V=>V.addSession),ie=be(V=>V.removeSession),ge=be(V=>V.addToast),ye=be(V=>V.runtime),[ae,de]=v.useState(null),[te,pe]=v.useState(()=>{const V=localStorage.getItem("workflowViewOptions"),oe={showMinimap:!1,showGrid:!0,animateRun:!1,consolidateBidirectionalEdges:!0};if(V){const ne=JSON.parse(V);return{...oe,...ne}}return oe}),[Se,Q]=v.useState(()=>localStorage.getItem("workflowLayoutDirection")||"LR");v.useEffect(()=>{localStorage.setItem("workflowViewOptions",JSON.stringify(te))},[te]),v.useEffect(()=>{localStorage.setItem("workflowLayoutDirection",Se)},[Se]);const Ne=V=>{pe(oe=>({...oe,[V]:!oe[V]}))},Re=async()=>{if(_||!e)return;S(!0);const{addToast:V,updateWorkflow:oe}=await L0(()=>Promise.resolve().then(()=>O0),void 0,import.meta.url).then(ne=>({addToast:ne.useDevUIStore.getState().addToast,updateWorkflow:ne.useDevUIStore.getState().updateWorkflow}));try{await rt.reloadEntity(e.id);const ne=await rt.getWorkflowInfo(e.id);oe(ne),s(ne),V({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(ne){const xe=ne instanceof Error?ne.message:"Failed to reload entity";V({message:`Failed to reload: ${xe}`,type:"error",duration:6e3})}finally{S(!1)}};v.useEffect(()=>{const V=async()=>{if(e.type==="workflow"){l(!0),d(null);try{const oe=await rt.getWorkflowInfo(e.id);s(oe),d(null)}catch(oe){s(null);const ne=oe instanceof Error?oe.message:String(oe);d(ne),console.error("Error loading workflow info:",oe)}finally{l(!1)}}};h([]),g(!1),b(null),C(!1),O(""),d(null),R.current={},$.current=null,A.current=null,V()},[e.id,e.type]),v.useEffect(()=>{(async()=>{if(n){J(!0);try{const oe=await rt.listWorkflowSessions(n.id);if(oe.data.length===0){const ne=await rt.createWorkflowSession(n.id,{name:`Conversation ${new Date().toLocaleString()}`});H([ne]),z(ne)}else if(H(oe.data),!L){const ne=oe.data[0];z(ne),await Pe(ne)}}catch(oe){console.error("Failed to load sessions:",oe),ye!=="dotnet"&&ge({message:"Failed to load sessions",type:"error"})}finally{J(!1)}}})()},[n?.id,ye]);const Pe=v.useCallback(async V=>{!V||!n||de(null)},[n]),at=v.useCallback(async V=>{const oe=F.find(ne=>ne.conversation_id===V);oe&&(z(oe),await Pe(oe))},[F,z,Pe]),xt=v.useCallback(async()=>{if(n)try{const V=await rt.createWorkflowSession(n.id,{name:`Conversation ${new Date().toLocaleString()}`});K(V),z(V),await Pe(V),ge({message:"New session created",type:"success"})}catch(V){console.error("Failed to create session:",V),ge({message:"Failed to create session",type:"error"})}},[n,K,z,Pe,ge]),Bn=v.useCallback(async()=>{if(!(!L||!n)&&confirm("Delete this session? All checkpoints will be lost."))try{await rt.deleteWorkflowSession(n.id,L.conversation_id),ie(L.conversation_id),ge({message:"Session deleted",type:"success"})}catch(V){console.error("Failed to delete session:",V),ge({message:"Failed to delete session",type:"error"})}},[L,n,ie,ge]),wn=V=>{b(V)},W=v.useMemo(()=>f.filter(V=>V.type==="response.output_item.added"||V.type==="response.output_item.done"||V.type==="response.created"||V.type==="response.in_progress"||V.type==="response.completed"||V.type==="response.failed"||V.type==="response.workflow_event.completed"||V.type==="response.workflow_event.complete"),[f]);v.useEffect(()=>{W.length>0&&!E&&C(!0)},[W.length,E]);const se=v.useMemo(()=>{const V=[];return W.forEach(oe=>{if(oe.type==="response.output_item.added"||oe.type==="response.output_item.done"){const ne=oe.item;ne&&ne.type==="executor_action"&&ne.executor_id&&V.push({executorId:ne.executor_id,message:oe.type==="response.output_item.added"?"Executor started":ne.status==="completed"?"Executor completed":ne.status==="failed"?"Executor failed":"Executor processing",timestamp:new Date().toISOString(),status:ne.status==="completed"?"completed":ne.status==="failed"?"error":"running"})}else if(oe.type==="response.workflow_event.complete"&&"data"in oe&&oe.data&&typeof oe.data=="object"){const ne=oe.data;ne.executor_id!=null&&V.push({executorId:String(ne.executor_id),message:String(ne.event_type||"Processing"),timestamp:String(ne.timestamp||new Date().toISOString()),status:String(ne.event_type||"").includes("Completed")?"completed":String(ne.event_type||"").includes("Error")?"error":"running"})}}),V},[W]),he=v.useMemo(()=>p?se.filter(oe=>oe.status==="running").slice(-2).map(oe=>oe.executorId):[],[se,p]),Me=v.useCallback(async V=>{if(!(!e||e.type!=="workflow")){g(!0),h([]),O(""),R.current={},$.current=null,A.current=null,t("clear");try{const oe={input_data:V,conversation_id:L?.conversation_id||void 0,checkpoint_id:ae||void 0};rt.clearStreamingState(e.id);const ne=rt.streamWorkflowExecutionOpenAI(e.id,oe);for await(const xe of ne){if((xe.type==="response.output_item.added"||xe.type==="response.output_item.done"||xe.type==="response.created"||xe.type==="response.in_progress"||xe.type==="response.completed"||xe.type==="response.failed"||xe.type==="response.workflow_event.completed"||xe.type==="response.workflow_event.complete")&&h(ve=>{const ke=Math.floor(Date.now()/1e3),De=ve.length>0&&ve[ve.length-1]._uiTimestamp||0,He=Math.max(ke,De+1);return[...ve,{...xe,_uiTimestamp:He}]}),t(xe),xe.type==="response.output_item.added"){const ve=xe.item;if(ve&&ve.type==="executor_action"&&ve.executor_id&&ve.id&&($.current=ve.id,R.current[ve.id]||(R.current[ve.id]="")),ve&&ve.type==="message"&&ve.metadata?.source==="magentic"&&ve.id&&($.current=ve.id,R.current[ve.id]||(R.current[ve.id]="")),ve&&ve.type==="message"&&!ve.metadata?.source&&ve.content){for(const ke of ve.content)if(ke.type==="output_text"&&ke.text){O(De=>De&&De.length>0?De+`

`+ke.text:ke.text);try{const De=JSON.parse(ke.text);typeof De=="object"&&De!==null&&(A.current=De)}catch{}}}}if(xe.type,xe.type,xe.type==="response.workflow_event.completed"&&"data"in xe&&xe.data){const ve=xe.data;if(ve.event_type==="ExecutorInvokedEvent"&&ve.executor_id){const ke=`fallback_${ve.executor_id}_${Date.now()}`;$.current=ke,R.current[ke]||(R.current[ke]="")}(ve.event_type==="WorkflowCompletedEvent"||ve.event_type==="WorkflowOutputEvent")&&ve.data&&(typeof ve.data=="object"&&(A.current=ve.data),$.current=null)}if(xe.type==="response.output_text.delta"&&"delta"in xe&&xe.delta){const ve=$.current;ve&&(R.current[ve]||(R.current[ve]=""),R.current[ve]+=xe.delta)}if(xe.type==="response.request_info.requested"){const ve=xe;U(He=>[...He,{request_id:ve.request_id,request_data:ve.request_data,request_schema:ve.request_schema}]);const ke=ve.request_schema,De={};ke.properties&&Object.entries(ke.properties).forEach(([He,mt])=>{const St=mt;St.enum&&St.enum.length>0?De[He]=St.enum[0]:St.default!==void 0&&(De[He]=St.default)}),X(He=>({...He,[ve.request_id]:De})),I.length===0&&q(!0)}if(xe.type==="error")break}I.length>0&&!Y&&q(!0),g(!1)}catch(oe){console.error("Workflow execution error:",oe),g(!1)}}},[e,t,n,L,ae]),Ae=v.useCallback(async()=>{if(!(!e||e.type!=="workflow")){q(!1),g(!0);try{const V={input_data:[{type:"message",content:[{type:"workflow_hil_response",responses:Z}]}],conversation_id:L?.conversation_id||void 0,checkpoint_id:ae||void 0},oe=rt.streamWorkflowExecutionOpenAI(e.id,V);for await(const ne of oe){if((ne.type==="response.output_item.added"||ne.type==="response.output_item.done"||ne.type==="response.created"||ne.type==="response.in_progress"||ne.type==="response.completed"||ne.type==="response.failed"||ne.type==="response.workflow_event.completed")&&h(xe=>{const ve=Math.floor(Date.now()/1e3),ke=xe.length>0&&xe[xe.length-1]._uiTimestamp||0,De=Math.max(ve,ke+1);return[...xe,{...ne,_uiTimestamp:De}]}),t(ne),ne.type==="response.output_item.added"){const xe=ne.item;if(xe&&xe.type==="executor_action"&&xe.executor_id&&xe.id&&($.current=xe.id,R.current[xe.id]||(R.current[xe.id]="")),xe&&xe.type==="message"&&xe.content){for(const ve of xe.content)if(ve.type==="output_text"&&ve.text){O(ke=>ke&&ke.length>0?ke+`

`+ve.text:ve.text);try{const ke=JSON.parse(ve.text);typeof ke=="object"&&ke!==null&&(A.current=ke)}catch{}}}}if(ne.type==="response.output_text.delta"&&"delta"in ne&&ne.delta){const xe=$.current;xe&&(R.current[xe]||(R.current[xe]=""),R.current[xe]+=ne.delta)}ne.type,ne.type}U([]),X({}),g(!1)}catch(V){console.error("HIL submission error:",V),g(!1)}}},[e,Z,t,L,ae]);return o?r.jsx(fS,{message:"Loading workflow...",description:"Fetching workflow structure and configuration"}):c?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center max-w-md p-6",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Workflow"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:c}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"This may not be a valid workflow entity. Check the file contains a workflow export."})]})}):!n?.workflow_dump&&!se.length?r.jsx(fS,{message:"Initializing workflow...",description:"Setting up workflow execution environment"}):r.jsxs("div",{className:"workflow-view flex flex-col h-full",children:[r.jsxs("div",{className:"border-b pb-2 p-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx("h2",{className:"font-semibold text-sm truncate",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e.name||e.id})]})}),r.jsx(me,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View workflow details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(me,{variant:"ghost",size:"sm",onClick:Re,disabled:_||e.metadata?.source==="in_memory",className:"h-6 w-6 p-0 flex-shrink-0",title:e.metadata?.source==="in_memory"?"In-memory entities cannot be reloaded":_?"Reloading...":"Reload entity code (hot reload)",children:r.jsx(io,{className:`h-4 w-4 ${_?"animate-spin":""}`})})]}),n&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[r.jsxs(Wt,{value:L?.conversation_id||"",onValueChange:at,disabled:B,children:[r.jsx(Xt,{className:"w-full sm:w-64",children:r.jsx(Gt,{placeholder:B?"Loading...":F.length===0?"No conversations":"Select conversation",children:L&&r.jsx("div",{className:"flex items-center gap-2 text-xs",children:r.jsx("span",{children:L.metadata.name||`Conversation ${L.conversation_id.slice(-8)}`})})})}),r.jsx(Kt,{children:F.map(V=>r.jsx(ot,{value:V.conversation_id,children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("span",{children:V.metadata.name||`Conversation ${V.conversation_id.slice(-8)}`}),V.created_at&&r.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(V.created_at*1e3).toLocaleTimeString()})]})},V.conversation_id))})]}),r.jsx(me,{variant:"ghost",size:"sm",onClick:Bn,disabled:!L||B,className:"h-9 w-9 p-0",title:"Delete current session",children:r.jsx(Jn,{className:"h-4 w-4 "})}),r.jsx(me,{variant:"ghost",size:"sm",onClick:xt,disabled:B,className:"h-9 px-3",title:"New session",children:r.jsx(_t,{className:"h-4 w-4"})}),r.jsx(Ane,{inputSchema:n.input_schema,onRun:Me,isSubmitting:p,workflowState:p?"running":se.length>0?"completed":"ready",executorHistory:se})]})]}),e.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),r.jsxs("div",{className:"flex-1 min-h-0 flex gap-0",children:[r.jsx("div",{className:"flex-1 min-w-0 transition-all duration-300 relative",children:n?.workflow_dump&&r.jsx(Nne,{workflowDump:n.workflow_dump,events:W,isStreaming:p,onNodeSelect:wn,className:"h-full",viewOptions:te,onToggleViewOption:Ne,layoutDirection:Se,onLayoutDirectionChange:Q,timelineVisible:E})}),E&&r.jsx("div",{className:"flex-shrink-0 overflow-hidden transition-all duration-300 ease-out border-l",style:{width:k?"2.5rem":"24rem"},children:k?r.jsxs("div",{className:"h-full w-10 bg-background flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>T(!1),title:"Expand timeline",children:[r.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:r.jsx(YS,{className:"h-4 w-4 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[r.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Execution Timeline"}),W.length>0&&r.jsx("div",{className:`bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center ${p?"animate-pulse":""}`,style:{fontSize:"10px"},children:W.length})]})]}):r.jsxs("div",{className:"w-96 h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Execution Timeline"}),W.length>0&&r.jsx("div",{className:`bg-primary text-primary-foreground rounded-full px-2 h-5 flex items-center justify-center ${p?"animate-pulse":""}`,style:{fontSize:"11px",minWidth:"20px"},children:W.length})]}),r.jsx(me,{variant:"ghost",size:"sm",onClick:()=>T(!0),className:"h-8 w-8 p-0",title:"Minimize timeline",children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:r.jsx(kne,{events:W,itemOutputs:R.current,currentExecutorId:he[he.length-1]||null,isStreaming:p,onExecutorClick:wn,selectedExecutorId:x,workflowResult:M})})]})})]}),r.jsx(_ne,{workflow:e,open:j,onOpenChange:w}),r.jsx(une,{open:Y,onOpenChange:q,requests:I,responses:Z,onResponseChange:(V,oe)=>{X(ne=>({...ne,[V]:oe}))},onSubmit:Ae,isSubmitting:p})]})}function Tne(){const e=be(R=>R.agents),t=be(R=>R.workflows),n=be(R=>R.selectedAgent),s=be(R=>R.azureDeploymentEnabled),o=be(R=>R.oaiMode),l=be(R=>R.uiMode),c=be(R=>R.showDebugPanel),d=be(R=>R.debugPanelMinimized),f=be(R=>R.debugPanelWidth),h=be(R=>R.debugEvents),p=be(R=>R.isResizing),g=be(R=>R.setShowDebugPanel),x=be(R=>R.setDebugPanelMinimized),b=be(R=>R.setDebugPanelWidth),j=be(R=>R.addDebugEvent),w=be(R=>R.clearDebugEvents),_=be(R=>R.setIsResizing),S=be(R=>R.selectEntity),E=be(R=>R.showAboutModal),C=be(R=>R.showGallery),k=be(R=>R.showDeployModal),T=be(R=>R.showEntityNotFoundToast),M=be(R=>R.setShowAboutModal),O=be(R=>R.setShowGallery),I=be(R=>R.setShowDeployModal),U=be(R=>R.setShowEntityNotFoundToast),Z=be(R=>R.toasts),X=be(R=>R.removeToast);v.useEffect(()=>{if(o.enabled&&n?.type==="workflow"){const R=e[0];R&&S(R)}},[o.enabled,n,e,S]);const Y=v.useCallback(R=>{R.preventDefault(),_(!0);const $=R.clientX,A=f,L=B=>{const z=$-B.clientX,H=Math.max(200,Math.min(window.innerWidth*.5,A+z));b(H)},F=()=>{_(!1),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",F)},[f,_,b]),q=v.useCallback(R=>{R==="clear"?w():j(R)},[j,w]);return r.jsxs("div",{className:"h-[calc(100vh-3.5rem)] flex flex-col bg-background max-h-[calc(100vh-3.5rem)]",children:[r.jsx("div",{className:"flex flex-1 overflow-hidden",children:C?r.jsx("div",{className:"flex-1 w-full",children:r.jsx(vv,{variant:"route",onClose:()=>O(!1),hasExistingEntities:e.length>0||t.length>0})}):e.length===0&&t.length===0?r.jsx(vv,{variant:"inline"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 min-w-0",children:n?n.type==="agent"?r.jsx(N5,{selectedAgent:n,onDebugEvent:q}):r.jsx(Mne,{selectedWorkflow:n,onDebugEvent:q}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select an agent or workflow to get started."})}),l==="developer"&&c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`w-1 cursor-col-resize flex-shrink-0 relative group transition-colors duration-200 ease-in-out ${p?"bg-primary/40":"bg-border hover:bg-primary/20"}`,onMouseDown:Y,children:r.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 flex items-center justify-center",children:r.jsx("div",{className:`h-12 w-1 rounded-full transition-all duration-200 ease-in-out ${p?"bg-primary shadow-lg shadow-primary/25":"bg-primary/30 group-hover:bg-primary group-hover:shadow-md group-hover:shadow-primary/20"}`})})}),r.jsx("div",{className:"flex-shrink-0 flex flex-col h-full",style:{width:d?"2.5rem":`${f}px`},children:d?r.jsxs("div",{className:"h-full w-10 bg-background border-l flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>x(!1),title:"Expand debug panel",children:[r.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:r.jsx(YS,{className:"h-4 w-4 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[r.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Debug Panel"}),h.length>0&&r.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:h.length})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(n$,{events:h,isStreaming:!1,onMinimize:()=>x(!0)}),r.jsx("div",{className:"border-t bg-muted/30 px-3 py-2.5 flex-shrink-0",children:r.jsxs(me,{onClick:()=>I(!0),className:"w-full",variant:"outline",size:"sm",children:[r.jsx(N0,{className:"h-3 w-3 mr-2 flex-shrink-0"}),r.jsx("span",{className:"truncate text-xs",children:s&&n?.deployment_supported?"Deploy to Azure":"Deployment Guide"})]})})]})})]}):l==="developer"?r.jsx("div",{className:"flex-shrink-0",children:r.jsx(me,{variant:"ghost",size:"sm",onClick:()=>g(!0),className:"h-full w-10 rounded-none border-l",title:"Show debug panel",children:r.jsx(s8,{className:"h-4 w-4"})})}):null]})}),r.jsx(I0,{open:E,onOpenChange:M}),r.jsx(v$,{open:k,onClose:()=>I(!1),agentName:n?.name,entity:n}),T&&r.jsx($v,{message:"Entity not found. Showing first available entity instead.",type:"info",onClose:()=>U(!1)}),r.jsx(J8,{toasts:Z,onRemove:X})]})}const Rne=[{id:"1",name:"Jonathan Pereira",email:"jonathan@example.com",role:"Admin",status:"Active",lastActive:"Just now"},{id:"2",name:"Alice Smith",email:"alice@example.com",role:"Creator",status:"Active",lastActive:"2 hours ago"},{id:"3",name:"Bob Johnson",email:"bob@example.com",role:"User",status:"Inactive",lastActive:"2 days ago"}];function Dne(){return r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Users"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage platform access and roles."})]}),r.jsxs(me,{children:[r.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),r.jsx("div",{className:"border rounded-md",children:r.jsxs(ep,{children:[r.jsx(tp,{children:r.jsxs(pa,{children:[r.jsx(kn,{children:"Name"}),r.jsx(kn,{children:"Email"}),r.jsx(kn,{children:"Role"}),r.jsx(kn,{children:"Status"}),r.jsx(kn,{children:"Last Active"}),r.jsx(kn,{className:"w-[50px]"})]})}),r.jsx(np,{children:Rne.map(e=>r.jsxs(pa,{children:[r.jsx(mn,{className:"font-medium",children:e.name}),r.jsx(mn,{children:e.email}),r.jsx(mn,{children:r.jsx(Be,{variant:e.role==="Admin"?"default":"secondary",children:e.role})}),r.jsx(mn,{children:r.jsx(Be,{variant:e.status==="Active"?"outline":"destructive",children:e.status})}),r.jsx(mn,{className:"text-muted-foreground",children:e.lastActive}),r.jsx(mn,{children:r.jsxs(zl,{children:[r.jsx(Il,{asChild:!0,children:r.jsxs(me,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Open menu"}),r.jsx(W6,{className:"h-4 w-4"})]})}),r.jsxs(Ll,{align:"end",children:[r.jsx(cm,{children:"Actions"}),r.jsx(Zt,{children:"Edit user"}),r.jsx(Zt,{children:"Reset password"}),r.jsx(ao,{}),r.jsx(Zt,{className:"text-red-600",children:"Deactivate"})]})]})})]},e.id))})]})})]})}function One(){return r.jsx(oD,{children:r.jsxs(IR,{children:[r.jsx(Gn,{path:"/",element:r.jsx(q8,{})}),r.jsx(Gn,{path:"/login",element:r.jsx(Y8,{})}),r.jsxs(Gn,{path:"/platform",element:r.jsx(y$,{}),children:[r.jsx(Gn,{index:!0,element:r.jsx(kx,{to:"/platform/dashboard",replace:!0})}),r.jsx(Gn,{path:"dashboard",element:r.jsx(b$,{})}),r.jsx(Gn,{path:"agents",element:r.jsx(AG,{})}),r.jsx(Gn,{path:"workflows",element:r.jsx(MG,{})}),r.jsx(Gn,{path:"knowledge",element:r.jsx(Rte,{})}),r.jsx(Gn,{path:"studio",element:r.jsx(XW,{})}),r.jsx(Gn,{path:"playground",element:r.jsx(Tne,{})}),r.jsx(Gn,{path:"chat",element:r.jsx(nne,{})}),r.jsx(Gn,{path:"users",element:r.jsx(Dne,{})}),r.jsx(Gn,{path:"debug",element:r.jsx(kx,{to:"/platform/playground",replace:!0})})]}),r.jsx(Gn,{path:"*",element:r.jsx(kx,{to:"/",replace:!0})})]})})}function zne({children:e,attribute:t="class",defaultTheme:n="dark",enableSystem:s=!0,disableTransitionOnChange:o=!0,...l}){return r.jsx(m7,{attribute:t,defaultTheme:n,enableSystem:s,disableTransitionOnChange:o,...l,children:e})}m$();VT.createRoot(document.getElementById("root")).render(r.jsx(v.StrictMode,{children:r.jsx(zne,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:r.jsx(One,{})})}));
