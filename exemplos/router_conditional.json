{
  "version": "1.0",
  "name": "lab-router-tools",
  "resources": {
    "models": {
      "gpt-4o-mini": {
        "type": "azure-openai",
        "deployment": "gpt-4o-mini"
      }
    },
    "tools": [
      {
        "id": "verificar_status",
        "path": "mock_tools.basic:verificar_status_sistema",
        "description": "Verifica se o sistema está ONLINE ou OFFLINE"
      }
    ]
  },
  "agents": [
    {
      "id": "agente_decisor",
      "role": "Decisor",
      "model": "gpt-4o-mini",
      "instructions": "Você é um monitor de sistema. Use a ferramenta 'verificar_status' para checar o sistema solicitado. Se a ferramenta retornar 'ONLINE', responda APENAS 'passo_online'. Se retornar 'OFFLINE', responda APENAS 'passo_offline'.",
      "tools": ["verificar_status"]
    },
    {
      "id": "agente_online",
      "role": "Operador",
      "model": "gpt-4o-mini",
      "instructions": "O sistema está online. Gere um relatório curto de uptime.",
      "tools": []
    },
    {
      "id": "agente_offline",
      "role": "Suporte",
      "model": "gpt-4o-mini",
      "instructions": "O sistema está offline! Gere um alerta de prioridade máxima.",
      "tools": []
    }
  ],
  "workflow": {
    "type": "router",
    "start_step": "passo_decisao",
    "steps": [
      {
        "id": "passo_decisao",
        "agent": "agente_decisor",
        "input_template": "Verifique o sistema: {{user_input}}"
      },
      {
        "id": "passo_online",
        "agent": "agente_online",
        "input_template": "Sistema Online. Prossiga."
      },
      {
        "id": "passo_offline",
        "agent": "agente_offline",
        "input_template": "Sistema Offline. Aja."
      }
    ]
  }
}
